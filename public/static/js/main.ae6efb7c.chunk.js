(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{425:function(e,t,a){e.exports=a(698)},430:function(e,t,a){},558:function(e,t){},560:function(e,t){},570:function(e,t,a){},698:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),s=a.n(o),i=(a(430),a(262));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(21),c=a(116),u=a(2),p="CATALOG_RETRIEVAL_REQUEST_SEND",d="DATASET_CATALOG_RETRIEVAL_REQUEST_SEND",m={inProgress:"inProgress",failed:"failed",succeeded:"succeeded",expired:"expired"},h="LOG_OUT",f="LOGIN_REQUEST_SEND",b="REGISTRATION_REQUEST_SEND",g="VALIDATION_REQUEST_SEND",E="KEY_RETRIEVAL_REQUEST_SEND",x="KEY_CREATION_REQUEST_SEND",O="REFRESH_LOGIN",v={catalogRequestState:null,loginDialogIsOpen:!1,registrationActiveStep:0,userLoginState:null,userLoginError:null,userValidationState:null,userValidationError:null,userRegistrationState:null,apiKeyRetrievalState:null,apiKeyCreationState:null},S=a(19),y=a(66),C="QUERY REQUEST SEND",j="STORED_PROCEDURE_REQUEST_SEND",w="ABLE_STATS_REQUEST_SEND",T="CRUISE_TRAJECTORY_REQUEST_SEND",D="CRUISE_LIST_REQUEST_SEND",k="CSV_DOWNLOAD_REQUEST_SEND",R="DOWNLOAD_TEXT_AS_CSV",L=a(389),_=a(184),N=a.n(_),M={catalogRequestState:null,catalog:null,datasetRequestState:null,datasets:null,loginDialogIsOpen:!1,registrationActiveStep:0,snackbarIsOpen:!1,snackbarMessage:null,loadingMessage:"",showHelp:!1,user:JSON.parse(N.a.get("UserInfo")||null),apiKeys:null,apiKeyRetrievalState:null,apiKeyCreationState:null,clearLoginDialog:!1,userLoginState:null,userValidationState:null,userRegistrationState:null,maps:[],charts:[],getCruiseTrajectoryRequestState:null,cruiseTrajectory:null,sampleData:null,queryRequestState:null,storedProcedureRequestState:null,getTableStatsRequestState:null,cruiseList:[],getCruiseListRequestState:null,showChartsOnce:null},I=Object(L.a)(M,function(e,t){switch(t.type){case"CATALOG_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)({},e,{catalogRequestState:m.succeeded,catalog:t.payload.catalog});case"CATALOG_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)({},e,{catalogRequestState:m.failed});case"CATALOG_RETRIEVAL_REQUEST_PROCESSING":return Object(u.a)({},e,{catalogRequestState:m.inProgress});case"DATASET_CATALOG_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)({},e,{datasetsRequestState:m.succeeded,datasets:t.payload.datasets});case"DATASET_CATALOG_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)({},e,{datasetsRequestState:m.failed});case"DATASET_CATALOG_RETRIEVAL_REQUEST_PROCESSING":return Object(u.a)({},e,{datasetsRequestState:m.inProgress});default:return e}},function(e,t){switch(t.type){case"LOGIN_REQUEST_PROCESSING":return Object(u.a)({},e,{userLoginState:m.inProgress});case"LOGIN_REQUEST_SUCCESS":return Object(u.a)({},e,{userLoginState:m.succeeded,userLoginError:null});case"LOGIN_REQUEST_FAILURE":return Object(u.a)({},e,{userLoginState:m.failed});case"LOGIN_REQUEST_CLEAR_ERROR":return Object(u.a)({},e,{userLoginError:null});case"STORE_INFO":return Object(u.a)({},e,{user:t.payload.user});case"DESTROY_INFO":return Object(u.a)({},e,{user:null,apiKeys:null,clearLoginDialog:!0});case"LOGIN_DIALOG_WAS_CLEARED":return Object(u.a)({},e,{clearLoginDialog:!1});case"VALIDATION_REQUEST_PROCESSING":return Object(u.a)({},e,{userValidationState:m.inProgress});case"VALIDATION_REQUEST_FAILURE":return Object(u.a)({},e,{userValidationState:m.failed});case"VALIDATION_REQUEST_SUCCESS":return Object(u.a)({},e,{userValidationState:null});case"REGISTRATION_REQUEST_PROCESSING":return Object(u.a)({},e,{userRegistrationState:m.inProgress});case"REGISTRATION_REQUEST_FAILURE":return Object(u.a)({},e,{userRegistrationState:m.failed});case"REGISTRATION_REQUEST_SUCCESS":return Object(u.a)({},e,{userRegistrationState:m.succeeded});case"KEY_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)({},e,{apiKeys:t.payload.keys});case"KEY_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)({},e,{apiKeyRetrievalState:m.failed});case"KEY_CREATION_REQUEST_PROCESSING":return Object(u.a)({},e,{apiKeyCreationState:m.inProgress});case"KEY_CREATION_REQUEST_FAILURE":return Object(u.a)({},e,{apiKeyCreationState:m.failed});case"KEY_CREATION_REQUEST_SUCCESS":return Object(u.a)({},e,{apiKeyCreationState:m.succeeded});default:return e}},function(e,t){switch(t.type){case"INTERFACE_SHOW_LOGIN_DIALOG":return Object(u.a)({},e,{loginDialogIsOpen:!0});case"INTERFACE_HIDE_LOGIN_DIALOG":return Object(u.a)({},e,{loginDialogIsOpen:!1,userLoginError:null});case"REGISTRATION_NEXT_ACTIVE_STEP":return Object(u.a)({},e,{registrationActiveStep:e.registrationActiveStep+1});case"REGISTRATION_PREVIOUS_ACTIVE_STEP":return Object(u.a)({},e,{registrationActiveStep:e.registrationActiveStep-1});case"RESTORE_INTERFACE_DEFAULTS":return Object(u.a)({},e,v);case"SNACKBAR_OPEN":return Object(u.a)({},e,{snackbarIsOpen:!0,snackbarMessage:t.payload.message});case"SNACKBAR_CLOSE":return Object(u.a)({},e,{snackbarIsOpen:!1});case"SET_LOADING_MESSAGE":return Object(u.a)({},e,{loadingMessage:t.payload.message});case"TOGGLE_SHOW_HELP":return Object(u.a)({},e,{showHelp:!e.showHelp});default:return e}},function(e,t){switch(t.type){case"QUERY REQUEST PROCESSING":return Object(u.a)({},e,{queryRequestState:m.inProgress});case"QUERY REQUEST FAILURE":return Object(u.a)({},e,{queryRequestState:m.failed});case"QUERY REQUEST SUCCESS":return Object(u.a)({},e,{queryRequestState:m.succeeded});case"STORED_PROCEDURE_REQUEST_PROCESSING":return Object(u.a)({},e,{storedProcedureRequestState:m.inProgress});case"STORED_PROCEDURE_REQUEST_FAILURE":return Object(u.a)({},e,{storedProcedureRequestState:m.failed});case"STORED_PROCEDURE_REQUEST_SUCCESS":return Object(u.a)({},e,{storedProcedureRequestState:m.succeeded});case"ADD_LAYER":return Object(u.a)({},e,{layers:[].concat(Object(y.a)(e.layers),[t.payload.newLayer])});case"STORE_SAMPLE_DATA":return Object(u.a)({},e,{sampleData:t.payload.sampleData});case"ADD_MAP":return Object(u.a)({},e,{maps:[].concat(Object(y.a)(e.maps),[t.payload.mapInfo])});case"ADD_CHART":return Object(u.a)({},e,{charts:[].concat(Object(y.a)(e.charts),[t.payload.chartInfo])});case"CLEAR_CHARTS":return Object(u.a)({},e,{charts:[]});case"CLEAR_MAPS":return Object(u.a)({},e,{maps:[]});case"CRUISE_TRAJECTORY_REQUEST_PROCESSING":return Object(u.a)({},e,{getCruiseTrajectoryRequestState:m.inProgress});case"CRUISE_TRAJECTORY_REQUEST_SUCCESS":return Object(u.a)({},e,{cruiseTrajectory:t.payload.trajectory,getCruiseTrajectoryRequestState:m.succeeded});case"CRUISE_TRAJECTORY_CLEAR":return Object(u.a)({},e,{cruiseTrajectory:null});case"CRUISE_TRAJECTORY_REQUEST_FAILURE":return Object(u.a)({},e,{getCruiseTrajectoryRequestState:m.failed});case"CRUISE_LIST_REQUEST_PROCESSING":return Object(u.a)({},e,{getCruiseListRequestState:m.inProgress});case"CRUISE_LIST_REQUEST_SUCCESS":return Object(u.a)({},e,{getCruiseListRequestState:m.succeeded,cruiseList:t.payload.cruiseList});case"TRIGGER_SHOW_CHARTS":return Object(u.a)({},e,{showChartsOnce:!0});case"COMPLETED_SHOW_CHARTS":return Object(u.a)({},e,{showChartsOnce:!1});case"TABLE_STATS_REQUEST_SUCCESS":return Object(u.a)({},e,{datasets:Object(u.a)({},e.datasets,Object(S.a)({},t.payload.datasetLongName,Object(u.a)({},e.datasets[t.payload.datasetLongName],{tableStats:t.payload.tableStats})))});default:return e}}),F=a(408),A=a(13),P=a.n(A),z=a(9),U=function(){return{type:"LOGIN_REQUEST_PROCESSING"}},V=function(e){return{type:"LOGIN_REQUEST_FAILURE"}},B=function(){return{type:"LOGIN_REQUEST_SUCCESS"}},G=function(e){return{type:"STORE_INFO",payload:{user:e}}},q=function(){return{type:h}},H=function(){return{type:"DESTROY_INFO"}},W=function(){return{type:"VALIDATION_REQUEST_PROCESSING"}},Q=function(){return{type:"VALIDATION_REQUEST_FAILURE"}},$=function(){return{type:"VALIDATION_REQUEST_SUCCESS"}},K=function(){return{type:"REGISTRATION_REQUEST_PROCESSING"}},Y=function(){return{type:"REGISTRATION_REQUEST_FAILURE"}},J=function(){return{type:"REGISTRATION_REQUEST_SUCCESS"}},Z=function(){return{type:E}},X=function(e){return{type:"KEY_RETRIEVAL_REQUEST_SUCCESS",payload:{keys:e}}},ee=function(){return{type:"KEY_RETRIEVAL_REQUEST_FAILURE"}},te=function(){return{type:"KEY_CREATION_REQUEST_PROCESSING"}},ae=function(){return{type:"KEY_CREATION_REQUEST_SUCCESS"}},ne=function(){return{type:O}},re=function(){return{type:p}},oe=function(){return{type:"CATALOG_RETRIEVAL_REQUEST_PROCESSING"}},se=function(e){return{type:"CATALOG_RETRIEVAL_REQUEST_SUCCESS",payload:{catalog:e}}},ie=function(){return{type:"CATALOG_RETRIEVAL_REQUEST_FAILURE"}},le=function(){return{type:d}},ce=function(){return{type:"DATASET_CATALOG_RETRIEVAL_REQUEST_PROCESSING"}},ue=function(e){return{type:"DATASET_CATALOG_RETRIEVAL_REQUEST_SUCCESS",payload:{datasets:e}}},pe=function(){return{type:"INTERFACE_SHOW_LOGIN_DIALOG"}},de=function(){return{type:"INTERFACE_HIDE_LOGIN_DIALOG"}},me=function(){return{type:"REGISTRATION_NEXT_ACTIVE_STEP"}},he=function(){return{type:"RESTORE_INTERFACE_DEFAULTS"}},fe=function(e){return{type:"SNACKBAR_OPEN",payload:{message:e}}},be=function(e){return{type:"SET_LOADING_MESSAGE",payload:{message:e}}},ge=function(e){return{type:"QUERY REQUEST SUCCESS",payload:{data:e}}},Ee=function(){return{type:"QUERY REQUEST PROCESSING"}},xe=function(e){return{type:"STORED_PROCEDURE_REQUEST_SUCCESS",payload:{data:e}}},Oe=function(){return{type:"STORED_PROCEDURE_REQUEST_FAILURE"}},ve=function(){return{type:"STORED_PROCEDURE_REQUEST_PROCESSING"}},Se=function(e){return{type:"STORE_SAMPLE_DATA",payload:{sampleData:e}}},ye=function(e){return{type:"ADD_CHART",payload:{chartInfo:e}}},Ce=function(){return{type:"TABLE_STATS_REQUEST_PROCESSING"}},je=function(e,t){return{type:"TABLE_STATS_REQUEST_SUCCESS",payload:{tableStats:e,datasetLongName:t}}},we=function(e){return{type:T,payload:{id:e}}},Te=function(e){return{type:"CRUISE_TRAJECTORY_REQUEST_SUCCESS",payload:{trajectory:e}}},De=function(){return{type:"CRUISE_TRAJECTORY_REQUEST_PROCESSING"}},ke=function(e){return{type:D}},Re=function(e){return{type:"CRUISE_LIST_REQUEST_SUCCESS",payload:{cruiseList:e}}},Le=function(){return{type:"CRUISE_LIST_REQUEST_FAILURE"}},_e=function(){return{type:"CRUISE_LIST_REQUEST_PROCESSING"}},Ne=function(){return{type:"TRIGGER_SHOW_CHARTS"}},Me=function(e,t){return{type:k,payload:{query:e,fileName:t}}},Ie=function(){return{type:"CSV_DOWNLOAD_REQUEST_PROCESSING"}},Fe=function(e,t){return{type:R,payload:{text:e,datasetName:t}}},Ae=a(73),Pe=a(153),ze=a.n(Pe),Ue="https://simonscmap.dev",Ve=a(22),Be=a(25),Ge=a(790),qe=a(743),He={irregular:"Irregular",halfDegree:"1/2\xb0 X 1/2\xb0",quarterDegree:"1/4\xb0 X 1/4\xb0",twentyFifthDegree:"1/25\xb0 X 1/25\xb0",fourKm:"4km X 4km",twelfthDegree:"1/12\xb0 X 1/12\xb0",seventyKm:"70km X 70km",oneDegree:"1\xb0 X 1\xb0"},We=function(e){var t;return(t={},Object(S.a)(t,He.halfDegree,.5),Object(S.a)(t,He.quarterDegree,.25),Object(S.a)(t,He.twentyFifthDegree,.04),Object(S.a)(t,He.fourKm,.041672),Object(S.a)(t,He.twelfthDegree,.083333),Object(S.a)(t,He.oneDegree,1),Object(S.a)(t,He.seventyKm,.25),t)[e]},Qe=function(e){for(var t=[],a=0;a<e.length;a++)for(var n=0;n<e[a].length;n++)t.push(e[a][n]);return t},$e=function(e,t,a){for(var n=[],r=0;r<a;r++)n.push([]);for(var o=0;o<e.length;o++)n[Math.floor(o/t)%a].push(e[o]);return n},Ke=function(e,t,a,n){for(var r=[],o=t*(n-1),s=0;s+o<e.length;s+=a){for(var i=[],l=0;l<e[s].length;l++){for(var c=0,u=0,p=s;p<s+t*n;p+=t)isNaN(e[p][l])||(c+=e[p][l],u++);i.push(u<1?null:c/u)}r.push(i)}return r},Ye=function(e,t,a,n){for(var r=[],o=t*(n-1),s=0;s+o<e.length;s+=a){for(var i=[],l=s;l<=s+o;l+=t)i=[].concat(Object(y.a)(i),Object(y.a)(e[l]));r.push(i)}return r},Je={sectionMap:"Section Map",contourSectionMap:"Contour Section Map",timeSeries:"Time Series",histogram:"Histogram",depthProfile:"Depth Profile",heatmap:"Heatmap",contourMap:"Contour Map",sparse:"Sparse"},Ze={threeMinutes:"Three Minutes",sixHourly:"Six Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",annual:"Annual",irregular:"Irregular",monthlyClimatology:"Monthly Climatology",threeDay:"Three Days",eightDayRunning:"Eight Day Running",eightDays:"Eight Days "},Xe=function(){function e(t){var a=this;Object(Ve.a)(this,e),this.generateCsv=function(){var e=Array.from(a.dates),t=Array.from(a.depths);if(a.hasDepth)for(var n=["time,lat,lon,depth,".concat(a.parameters.fields)],r=0;r<a.variableValues.length;r++)n.push("".concat(e[Math.floor(r/(a.variableValues.length/e.length))],",").concat(a.lats[r],",").concat(a.lons[r]>180?a.lons[r]-360:a.lons[r],",").concat(t[Math.floor(r/(a.variableValues.length/(e.length*t.length)))%t.length],",").concat(isNaN(a.variableValues[r])?"":a.variableValues[r]));else{n=["time,lat,lon,".concat(a.parameters.fields)];for(var o=0;o<a.variableValues.length;o++)n.push("".concat(e[Math.floor(o/(a.variableValues.length/e.length))],",").concat(a.lats[o],",").concat(a.lons[o]>180?a.lons[o]-360:a.lons[o],",").concat(isNaN(a.variableValues[o])?"":a.variableValues[o]))}return n.join("\n")},this.parameters=t.parameters,this.metadata=t.metadata,this.hasDepth=null,this.hasHours=null,this.isMonthly=null,this.depths=new Set,this.dates=new Set,this.variableValues=[],this.zMin=null,this.zMax=null,this.extent=[null,null],this.indexAdjust=null,this.payload=t,this.lats=[],this.lons=[],this.lonMin=null,this.lonMax=null,this.latMin=null,this.latMax=null,this.distinctLatCount=null,this.distinctLonCount=null}return Object(Be.a)(e,[{key:"add",value:function(e){var t=parseFloat(e[1]),a=parseFloat(e[2]),n=a<this.parameters.lon1?a+360:a;null===this.hasDepth&&(this.hasHour="tblWind_NRT"===this.metadata.Table_Name,this.isMonthly=this.metadata.Temporal_Resolution===Ze.monthlyClimatology,this.hasDepth=5===e.length&&!this.hasHour,this.indexAdjust=this.hasDepth||this.hasHour?1:0,this.lonMin=n,this.lonMax=n,this.latMin=t,this.latMax=t);var r,o=parseFloat(e[3+this.indexAdjust]);this.hasDepth&&this.depths.add(e[3]),this.hasHour?((r=new Date(e[0])).setUTCHours(e[3]),r=r.toISOString()):r=e[0],this.dates.add(r),this.lats.push(t),this.lons.push(n),n<this.lonMin&&(this.lonMin=n),n>this.lonMax&&(this.lonMax=n),t<this.latMin&&(this.latMin=t),t>this.latMax&&(this.latMax=t),this.variableValues.push(o)}},{key:"finalize",value:function(){0===this.depths.size&&this.depths.add("Surface"),this.lonCount=this.lons.length/this.dates.size/this.depths.size,this.latCount=this.lats.length/this.dates.size/this.depths.size;var e=Object(Ge.a)(this.variableValues,.05),t=Object(Ge.a)(this.variableValues,.95);this.zMin=void 0===e?null:parseFloat(e.toPrecision(4)),this.zMax=void 0===t?null:parseFloat(t.toPrecision(4)),this.extent=Object(qe.a)(this.variableValues);var a=We(this.metadata.Spatial_Resolution);this.distinctLatCount=Math.round((this.latMax-this.latMin)/a)+1,this.distinctLonCount=Math.round((this.lonMax-this.lonMin)/a)+1}},{key:"generatePlotData",value:function(e,t,a){var n,r=this,o=this.distinctLonCount*this.distinctLatCount,s=o*this.depths.size;return n=(n=$e(this.variableValues,s,this.dates.size)).map(function(e){return $e(e,o,r.depths.size)}),n=Qe(n),e===Je.contourMap||e===Je.heatmap?t&&a||(n=t?Ke(n,1,this.depths.size,this.depths.size):a?Ke(n,this.depths.size,1,this.dates.size):Ke(n,1,n.length,n.length)):e===Je.histogram&&(t&&a||(n=t?Ye(n,1,this.depths.size,this.depths.size):a?Ye(n,this.depths.size,1,this.dates.size):[this.variableValues])),n}}]),e}(),et={sectionMap:"uspSectionMap",timeSeries:"uspTimeSeries",spaceTime:"uspSpaceTime",depthProfile:"uspDepthProfile"},tt=function(){function e(t){Object(Ve.a)(this,e),this.parameters=t.parameters,this.metadata=t.metadata,this.variableValues=[],this.stds=[],this.dates=[],this.lat=null,this.lon=null,this.depth=null,this.depthIndexAdjust=null}return Object(Be.a)(e,[{key:"add",value:function(e){null===this.lat&&(this.depthIndexAdjust=6===e.length?1:0,this.lat=e[1],this.lon=e[2],this.depth=6===e.length&&e[3]),this.variableValues.push(e[3+this.depthIndexAdjust]),this.stds.push(e[4+this.depthIndexAdjust]),this.dates.push(e[0])}},{key:"finalize",value:function(){!1===this.depth&&(this.depth="Surface")}},{key:"generatePlotData",value:function(){return this.variableValues}},{key:"generateCsv",value:function(){for(var e="time,".concat(this.parameters.fields,",").concat(this.parameters.fields,"_std"),t=0;t<this.variableValues.length;t++)e+="\n".concat(this.dates[t],",").concat(isNaN(this.variableValues[t])?"":this.variableValues[t],",").concat(isNaN(this.stds[t])?"":this.stds[t]);return e}}]),e}(),at=function(){function e(t){Object(Ve.a)(this,e),this.parameters=t.parameters,this.metadata=t.metadata,this.variableValues=[],this.stds=[],this.lat=null,this.lon=null,this.depths=[]}return Object(Be.a)(e,[{key:"add",value:function(e){null===this.lat&&(this.lat=parseFloat(e[0]),this.lon=parseFloat(e[1])),this.variableValues.push(parseFloat(e[2])),this.stds.push(parseFloat(e[3])),this.depths.push(parseFloat(e[4]))}},{key:"finalize",value:function(){}},{key:"generatePlotData",value:function(){return this.variableValues}},{key:"generateCsv",value:function(){for(var e="depth,".concat(this.parameters.fields,",").concat(this.parameters.fields,"_std"),t=0;t<this.variableValues.length;t++)e+="\n".concat(this.depths[t],",").concat(isNaN(this.variableValues[t])?"":this.variableValues[t],",").concat(isNaN(this.stds[t])?"":this.stds[t]);return e}}]),e}(),nt=[null,"January","February","March","April","May","June","July","August","September","October","November","December"],rt=function(){function e(t){var a=this;Object(Ve.a)(this,e),this.generateCsv=function(){for(var e=Array.from(a.dates),t=Array.from(a.depths),n=Array.from(a.lons),r=Array.from(a.lats),o=t.length,s=o*n.length,i=["time,lat,lon,depth,".concat(a.parameters.fields)],l=0;l<a.variableValues.length;l++)i.push("".concat(e[Math.floor(l/(a.variableValues.length/e.length))],",").concat(r[Math.floor(l/s)%r.length],",").concat(n[Math.floor(l/o)%n.length],",").concat(t[l%t.length],",").concat(isNaN(a.variableValues[l])?"":a.variableValues[l]));return i.join("\n")},this.parameters=t.parameters,this.metadata=t.metadata,this.subType=t.subType,this.dates=new Set,this.depths=new Set,this.lats=new Set,this.lons=new Set,this.lonMin=null,this.lonMax=null,this.variableValues=[],this.zMin=null,this.zMax=null,this.extent=[null,null],this.orientation=null}return Object(Be.a)(e,[{key:"add",value:function(e){var t=e[0],a=parseFloat(e[1]),n=parseFloat(e[2]),r=n<this.parameters.lon1?n+360:n,o=parseFloat(e[3]),s=parseFloat(e[4]);0===this.variableValues.length&&(this.isMonthly=this.metadata.Temporal_Resolution===Ze.monthlyClimatology),this.depths.add(o),this.dates.add(this.isMonthly?nt[t]:t),this.lats.add(a),this.lons.add(r),this.variableValues.push(s)}},{key:"finalize",value:function(){var e=Object(Ge.a)(this.variableValues,.05),t=Object(Ge.a)(this.variableValues,.95);this.zMin=void 0===e?null:parseFloat(e.toPrecision(4)),this.zMax=void 0===t?null:parseFloat(t.toPrecision(4)),this.extent=Object(qe.a)(this.variableValues),this.orientation=this.lons.size>this.lats.size?"zonal":"meridional";var a=Array.from(this.lons);this.lonMax=Math.max.apply(Math,Object(y.a)(a)),this.lonMin=Math.min.apply(Math,Object(y.a)(a))}},{key:"generatePlotData",value:function(e,t,a){var n,r=this.lats.size,o=this.lons.size,s=this.depths.size,i=s*o,l=i*r,c=$e(this.variableValues,l,this.dates.size);return"zonal"===e?(c=c.map(function(e){return $e(e,i,r)}),c=Qe(c),n=r):(c=c.map(function(e){return $e(e,s,o)}),c=Qe(c),n=o),t&&a||(c=t?Ke(c,1,n,n):a?Ke(c,n,1,this.dates.size):Ke(c,1,c.length,c.length)),c}}]),e}(),ot=function(){function e(t){Object(Ve.a)(this,e),this.parameters=t.parameters,this.metadata=t.metadata,this.hasDepth=null,this.variableIndex=t.metadata.Depth_Min?4:3,this.depths=[],this.times=[],this.variableValues=[],this.lats=[],this.lons=[],this.zMin=null,this.zMax=null,this.extent=[null,null],this.latMin=null,this.latMax=null,this.lonMin=null,this.lonMax=null}return Object(Be.a)(e,[{key:"add",value:function(e){var t=parseFloat(e[1]),a=parseFloat(e[2]);null===this.hasDepth&&(this.hasDepth=Boolean(this.metadata.Depth_Min),this.latMin=t,this.latMax=t,this.lonMin=a,this.lonMax=a),e[this.variableIndex]&&(this.times.push(e[0]),this.lats.push(t),this.lons.push(a),this.hasDepth&&this.depths.push(parseFloat(e[3])),this.variableValues.push(parseFloat(e[this.variableIndex])),t<this.latMin&&(this.latMin=t),t>this.latMax&&(this.latMax=t),a<this.lonMin&&(this.lonMin=a),a>this.lonMax&&(this.lonMax=a))}},{key:"finalize",value:function(){var e=Object(Ge.a)(this.variableValues,.05),t=Object(Ge.a)(this.variableValues,.95);this.zMin=void 0===e?null:e.toPrecision(4),this.zMax=void 0===t?null:t.toPrecision(4),this.extent=Object(qe.a)(this.variableValues);var a=Math.abs(this.latMax-this.latMin),n=Math.abs(this.lonMax-this.lonMin),r=Math.sqrt(a*a+n*n);console.log("Distance: ",r);var o=4-Math.floor(r/12);this.zoom=o<0?0:o;var s=(this.lonMax+this.lonMin)/2,i=(this.latMax+this.latMin)/2;this.center={lon:s,lat:i},console.log(this)}},{key:"generatePlotData",value:function(e,t,a){return this.variableValues}},{key:"generateCsv",value:function(){if(this.hasDepth)for(var e=["time,lat,lon,depth,".concat(this.parameters.fields)],t=0;t<this.variableValues.length;t++)e.push("".concat(this.times[t],",").concat(this.lats[t],",").concat(this.lons[t],",").concat(this.depths[t],",").concat(isNaN(this.variableValues[t])?"":this.variableValues[t]));else{e=["time,lat,lon,".concat(this.parameters.fields)];for(var a=0;a<this.variableValues.length;a++)e.push("".concat(this.times[a],",").concat(this.lats[a],",").concat(this.lons[a],",").concat(isNaN(this.variableValues[a])?"":this.variableValues[a]))}return e.join("\n")}}]),e}(),st={credentials:"include"},it=Object(u.a)({},st,{method:"POST",headers:{"Content-Type":"application/json"}}),lt=function(e){return Object.keys(e).reduce(function(t,a,n){return"".concat(t).concat(0===n?"":"&&").concat(a,"=").concat(e[a])},"")},ct={user:{},dataRetrieval:{},catalog:{},visualization:{}};ct.user.login=function(e){return fetch(Ue+"/user/signin",Object(u.a)({},it,{body:JSON.stringify(e)}))},ct.user.logout=function(){return fetch(Ue+"/user/signout",st)},ct.user.register=function(e){return fetch(Ue+"/user/signup",Object(u.a)({},it,{body:JSON.stringify(e)}))},ct.user.validate=function(e){return fetch(Ue+"/user/validate",Object(u.a)({},it,{body:JSON.stringify(e)}))},ct.catalog.retrieve=Object(Ae.a)(P.a.mark(function e(){var t,a,n,r,o,s,i,l;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new TextDecoder,a=[],(n=ze()({columns:!0})).on("readable",function(){for(var e;e=n.read();)a.push(e)}),e.next=6,fetch(Ue+"/api/catalog",st);case 6:if((r=e.sent).ok){e.next=9;break}return e.abrupt("return",!1);case 9:o=r.body,s=o.getReader(),i=!1;case 12:if(i){e.next=20;break}return e.next=15,s.read();case 15:(l=e.sent).done?i=!0:n.write(t.decode(l.value)),e.next=12;break;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e)})),ct.catalog.datasets=Object(Ae.a)(P.a.mark(function e(){var t,a,n,r,o,s,i,l;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new TextDecoder,a={},(n=ze()({columns:!0})).on("readable",function(){for(var e;e=n.read();)a[e.Dataset_Long_Name]=e}),e.next=6,fetch(Ue+"/api/catalog/datasets",st);case 6:if((r=e.sent).ok){e.next=9;break}return e.abrupt("return",!1);case 9:o=r.body,s=o.getReader(),i=!1;case 12:if(i){e.next=20;break}return e.next=15,s.read();case 15:(l=e.sent).done?i=!0:n.write(t.decode(l.value)),e.next=12;break;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e)})),ct.user.keyRetrieval=Object(Ae.a)(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ue+"/user/retrieveapikeys",st);case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)})),ct.user.keyCreation=function(){var e=Object(Ae.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ue+"/user/generateapikey?description=".concat(t.trim()),st);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ct.visualization.storedProcedureRequest=function(){var e=Object(Ae.a)(P.a.mark(function e(t){var a,n,r,o,s,i,l,c;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=new TextDecoder,e.t0=t.parameters.spName,e.next=e.t0===et.spaceTime?4:e.t0===et.timeSeries?6:e.t0===et.depthProfile?8:e.t0===et.sectionMap?10:12;break;case 4:return n="Sparse"===t.subType?new ot(t):new Xe(t),e.abrupt("break",13);case 6:return n=new tt(t),e.abrupt("break",13);case 8:return n=new at(t),e.abrupt("break",13);case 10:return n=new rt(t),e.abrupt("break",13);case 12:console.log("Unknown sproc name");case 13:return e.next=15,fetch(Ue+"/api/data/sp?"+lt(t.parameters),st);case 15:if((r=e.sent).ok){e.next=18;break}return e.abrupt("return",{failed:!0,status:r.status});case 18:(o=ze()({from:2})).on("readable",function(){for(var e;e=o.read();)n.add(e)}),o.on("error",function(e){console.log(e)}),s=r.body,i=s.getReader(),l=!1;case 24:if(l){e.next=32;break}return e.next=27,i.read();case 27:(c=e.sent).done?l=!0:o.write(a.decode(c.value)),e.next=24;break;case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ct.visualization.getTableStats=function(){var e=Object(Ae.a)(P.a.mark(function e(t){var a;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ue+"/dataretrieval/tablestats?table="+t,st);case 2:if((a=e.sent).ok){e.next=5;break}return e.abrupt("return",{failed:!0,status:a.status});case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ct.visualization.cruiseTrajectoryRequest=function(){var e=Object(Ae.a)(P.a.mark(function e(t){var a,n,r,o,s,i,l,c;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,a=new TextDecoder,n={lats:[],lons:[]},e.next=5,fetch(Ue+"/api/data/cruisetrajectory?"+"id=".concat(t.id),st);case 5:if((r=e.sent).ok){e.next=8;break}return e.abrupt("return",{failed:!0,status:r.status});case 8:(o=ze()({from:2})).on("readable",function(){for(var e;e=o.read();)n.lats.push(parseFloat(e[1])),n.lons.push(parseFloat(e[2]))}),s=r.body,i=s.getReader(),l=!1;case 13:if(l){e.next=21;break}return e.next=16,i.read();case 16:(c=e.sent).done?l=!0:o.write(a.decode(c.value)),e.next=13;break;case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ct.visualization.cruiseList=Object(Ae.a)(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ue+"/api/data/cruiselist",st);case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})),ct.visualization.csvDownload=function(){var e=Object(Ae.a)(P.a.mark(function e(t){var a;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ue+"/api/data/query?query=".concat(t.query),st);case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.text();case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",{failed:!0,status:a.status});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var ut=ct,pt=P.a.mark(qt),dt=P.a.mark(Ht),mt=P.a.mark(Wt),ht=P.a.mark(Qt),ft=P.a.mark($t),bt=P.a.mark(Kt),gt=P.a.mark(Yt),Et=P.a.mark(Jt),xt=P.a.mark(Zt),Ot=P.a.mark(Xt),vt=P.a.mark(ea),St=P.a.mark(ta),yt=P.a.mark(aa),Ct=P.a.mark(na),jt=P.a.mark(ra),wt=P.a.mark(oa),Tt=P.a.mark(sa),Dt=P.a.mark(ia),kt=P.a.mark(la),Rt=P.a.mark(ca),Lt=P.a.mark(ua),_t=P.a.mark(pa),Nt=P.a.mark(da),Mt=P.a.mark(ma),It=P.a.mark(ha),Ft=P.a.mark(fa),At=P.a.mark(ba),Pt=P.a.mark(ga),zt=P.a.mark(Ea),Ut=P.a.mark(xa),Vt=P.a.mark(Oa),Bt=P.a.mark(va),Gt=P.a.mark(Sa);function qt(e){var t;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(z.d)(U());case 2:return a.next=4,Object(z.b)(ut.user.login,e.payload);case 4:if(!a.sent.ok){a.next=17;break}return t=JSON.parse(N.a.get("UserInfo")),a.next=9,Object(z.d)(B());case 9:return a.next=11,Object(z.d)(de());case 11:return a.next=13,Object(z.d)(G(t));case 13:return a.next=15,Object(z.d)(fe("Login was successful!"));case 15:a.next=21;break;case 17:return a.next=19,Object(z.d)(V());case 19:return a.next=21,Object(z.d)(fe("Login failed."));case 21:case"end":return a.stop()}},pt)}function Ht(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.b)(ut.user.logout);case 2:return e.next=4,Object(z.d)(H());case 4:return e.next=6,Object(z.d)(fe("You have logged out."));case 6:case"end":return e.stop()}},dt)}function Wt(e){return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(z.d)(K());case 2:return t.next=4,Object(z.b)(ut.user.register,e.payload);case 4:if(!t.sent.ok){t.next=16;break}return t.next=8,Object(z.d)(me());case 8:return t.next=10,Object(z.d)(J());case 10:return t.next=12,Object(z.d)(fe("Registration was successful. Please log in."));case 12:return t.next=14,Object(z.d)(pe());case 14:t.next=20;break;case 16:return t.next=18,Object(z.d)(Y());case 18:return t.next=20,Object(z.d)(fe("Registration failed."));case 20:case"end":return t.stop()}},mt)}function Qt(e){var t;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(z.d)(W());case 2:return a.next=4,Object(z.b)(ut.user.validate,e.payload);case 4:return t=a.sent,a.next=7,t.json();case 7:if(!a.sent){a.next=15;break}return a.next=11,Object(z.d)($());case 11:return a.next=13,Object(z.d)(me());case 13:a.next=17;break;case 15:return a.next=17,Object(z.d)(Q());case 17:case"end":return a.stop()}},ht)}function $t(){var e;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(z.d)(oe());case 2:return t.next=4,Object(z.b)(ut.catalog.retrieve);case 4:if(e=t.sent){t.next=10;break}return t.next=8,Object(z.d)(ie());case 8:t.next=12;break;case 10:return t.next=12,Object(z.d)(se(e));case 12:case"end":return t.stop()}},ft)}function Kt(){var e;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(z.d)(ce());case 2:return t.next=4,Object(z.b)(ut.catalog.datasets);case 4:if(e=t.sent){t.next=10;break}return t.next=8,Object(z.d)(ie());case 8:t.next=12;break;case 10:return t.next=12,Object(z.d)(ue(e));case 12:case"end":return t.stop()}},bt)}function Yt(e){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.b)(ut.user.keyRetrieval);case 2:if(t=e.sent){e.next=10;break}return e.next=6,Object(z.d)(ee());case 6:return e.next=8,Object(z.d)(fe("API Key Retrieval Failed"));case 8:e.next=12;break;case 10:return e.next=12,Object(z.d)(X(t.keys));case 12:case"end":return e.stop()}},gt)}function Jt(e){return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(z.d)(te());case 2:return t.next=4,Object(z.b)(ut.user.keyCreation,e.payload.description);case 4:if(t.sent.ok){t.next=10;break}return t.next=8,Object(z.d)(fe("We were unable to create a new API key."));case 8:t.next=16;break;case 10:return t.next=12,Object(z.d)(fe("A new API key was created"));case 12:return t.next=14,Object(z.d)(ae());case 14:return t.next=16,Object(z.d)(Z());case 16:case"end":return t.stop()}},Et)}function Zt(e){var t;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(z.d)(Ee());case 2:return a.next=4,Object(z.b)(ut.visualization.queryRequest,e.payload.query);case 4:return t=a.sent,a.next=7,Object(z.d)(Se(t));case 7:return a.next=9,Object(z.d)(ge());case 9:case"end":return a.stop()}},xt)}function Xt(e){var t;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(z.d)(ve());case 2:return a.next=4,Object(z.d)(be("Fetching Data"));case 4:return a.next=6,Object(z.b)(ut.visualization.storedProcedureRequest,e.payload);case 6:return t=a.sent,a.next=9,Object(z.c)(50);case 9:return a.next=11,Object(z.d)(be("Processing Data"));case 11:return a.next=13,Object(z.c)(70);case 13:if(!t.failed){a.next=27;break}return a.next=16,Object(z.d)(be(""));case 16:return a.next=18,Object(z.d)(Oe());case 18:if(401!=t.status){a.next=23;break}return a.next=21,Object(z.d)(ne());case 21:a.next=25;break;case 23:return a.next=25,Object(z.d)(fe("An error occurred. Please try again."));case 25:a.next=43;break;case 27:if(!(t.variableValues.length>0)){a.next=39;break}return t.finalize(),a.next=31,Object(z.d)(be(""));case 31:return a.next=33,Object(z.d)(xe());case 33:return a.next=35,Object(z.d)(Ne());case 35:return a.next=37,Object(z.d)(ye({subType:e.payload.subType,data:t}));case 37:a.next=43;break;case 39:return a.next=41,Object(z.d)(be(""));case 41:return a.next=43,Object(z.d)(fe("No data found for ".concat(e.payload.parameters.fields," in the requested ranges. Try selecting a different date or depth range.")));case 43:case"end":return a.stop()}},Ot)}function ea(e){var t;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(z.d)(De());case 2:return a.next=4,Object(z.d)(be("Fetching Cruise Data"));case 4:return a.next=6,Object(z.b)(ut.visualization.cruiseTrajectoryRequest,e.payload);case 6:return t=a.sent,a.next=9,Object(z.d)(be(""));case 9:if(!t.failed){a.next=19;break}if(401!=t.status){a.next=15;break}return a.next=13,Object(z.d)(ne());case 13:a.next=17;break;case 15:return a.next=17,Object(z.d)(fe("Unable to Fetch Cruise Data"));case 17:a.next=23;break;case 19:return a.next=21,Object(z.d)(Te(t));case 21:return a.next=23,Object(z.d)(be(""));case 23:case"end":return a.stop()}},vt)}function ta(){var e;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(z.d)(_e());case 2:return t.next=4,Object(z.b)(ut.visualization.cruiseList);case 4:if(e=t.sent){t.next=10;break}return t.next=8,Object(z.d)(Le());case 8:t.next=12;break;case 10:return t.next=12,Object(z.d)(Re(e));case 12:case"end":return t.stop()}},St)}function aa(e){var t;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(z.d)(Ce());case 2:return a.next=4,Object(z.d)(be("Fetching Dataset Information"));case 4:return a.next=6,Object(z.b)(ut.visualization.getTableStats,e.payload.tableName);case 6:return t=a.sent,a.next=9,Object(z.d)(be(""));case 9:if(!t.failed){a.next=19;break}if(401!=t.status){a.next=15;break}return a.next=13,Object(z.d)(ne());case 13:a.next=17;break;case 15:return a.next=17,Object(z.d)(fe("Unable to Fetch Dataset Information"));case 17:a.next=21;break;case 19:return a.next=21,Object(z.d)(je(t,e.payload.datasetLongName));case 21:case"end":return a.stop()}},yt)}function na(e){var t;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(z.d)(Ie());case 2:return a.next=4,Object(z.d)(be("Fetching Data"));case 4:return a.next=6,Object(z.b)(ut.visualization.csvDownload,e.payload);case 6:return t=a.sent,a.next=9,Object(z.d)(be(""));case 9:if(!t.failed){a.next=19;break}if(401!=t.status){a.next=15;break}return a.next=13,Object(z.d)(ne());case 13:a.next=17;break;case 15:return a.next=17,Object(z.d)(fe("An error occurred. Please try again."));case 17:a.next=21;break;case 19:return a.next=21,Object(z.d)(Fe(t,e.payload.fileName));case 21:case"end":return a.stop()}},Ct)}function ra(e){var t,a,n,r;return P.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(z.d)(be("Processing Data"));case 2:return t=e.payload.text,a=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(a),(r=document.createElement("a")).setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","".concat(e.payload.datasetName,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r),o.next=14,Object(z.d)(be(""));case 14:case"end":return o.stop()}},jt)}function oa(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.b)(ut.user.logout);case 2:return e.next=4,Object(z.d)(H());case 4:return e.next=6,Object(z.d)(pe());case 6:return e.next=8,Object(z.d)(fe("Your session has expired. Please log in again."));case 8:case"end":return e.stop()}},wt)}function sa(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(f,qt);case 2:case"end":return e.stop()}},Tt)}function ia(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(h,Ht);case 2:case"end":return e.stop()}},Dt)}function la(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(b,Wt);case 2:case"end":return e.stop()}},kt)}function ca(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(g,Qt);case 2:case"end":return e.stop()}},Rt)}function ua(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(p,$t);case 2:case"end":return e.stop()}},Lt)}function pa(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(d,Kt);case 2:case"end":return e.stop()}},_t)}function da(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(E,Yt);case 2:case"end":return e.stop()}},Nt)}function ma(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(x,Jt);case 2:case"end":return e.stop()}},Mt)}function ha(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(C,Zt);case 2:case"end":return e.stop()}},It)}function fa(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(j,Xt);case 2:case"end":return e.stop()}},Ft)}function ba(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(T,ea);case 2:case"end":return e.stop()}},At)}function ga(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(D,ta);case 2:case"end":return e.stop()}},Pt)}function Ea(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(w,aa);case 2:case"end":return e.stop()}},zt)}function xa(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(k,na);case 2:case"end":return e.stop()}},Ut)}function Oa(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(R,ra);case 2:case"end":return e.stop()}},Vt)}function va(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.e)(O,oa);case 2:case"end":return e.stop()}},Bt)}function Sa(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)([sa(),la(),ca(),ia(),ua(),pa(),da(),ma(),ha(),fa(),ba(),ga(),Ea(),xa(),Oa(),va()]);case 2:case"end":return e.stop()}},Gt)}var ya=Object(F.a)(),Ca=Object(c.d)(I,Object(c.a)(ya));ya.run(Sa);var ja=Ca,wa=a(29),Ta=a(28),Da=a(30),ka=a(405),Ra=a(795),La=a(105),_a=a(404),Na=(a(570),{orange:"#FF8000",backgroundGray:"#424242",aqua:"#22A3B9",errorYellow:"#ffe336"}),Ma=a(71),Ia=a(95),Fa=a(8),Aa=a(269),Pa=a(757),za=a(748),Ua=a(752),Va=a(751),Ba=a(749),Ga=a(750),qa=a(754),Ha=a(270),Wa=a(747),Qa=a(753),$a=a(744),Ka=Object(Fa.a)(function(e){return{centered:{position:"fixed",top:"300px"}}})(function(e){var t=e.classes;return r.a.createElement($a.a,{size:e.size,className:t[e.customVariant]})}),Ya={keyRetrievalRequestSend:Z,keyCreationRequestSend:function(e){return{type:x,payload:{description:e}}}},Ja=function(e){function t(e){var a;return Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).componentDidMount=function(){a.props.apiKeys||a.props.keyRetrievalRequestSend()},a.handleClick=function(){a.props.keyCreationRequestSend(a.state.description)},a.handleChange=function(e){a.setState(Object(u.a)({},a.state,{description:e.target.value}))},a.state={description:""},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.wrapper},this.props.apiKeys?r.a.createElement(Aa.a,{className:e.root,elevation:6},r.a.createElement(Ha.a,{variant:"subtitle1",className:e.apiKeyTableHeader},"Your API Key"),r.a.createElement(Wa.a,null),r.a.createElement(za.a,{className:e.table},r.a.createElement(Ba.a,null,r.a.createElement(Ga.a,null,r.a.createElement(Va.a,{variant:"head",align:"center"},"Description"),r.a.createElement(Va.a,{variant:"head",align:"center"},"Key (hover mouse to view)"))),r.a.createElement(Ua.a,null,this.props.apiKeys.map(function(t,a){return r.a.createElement(Ga.a,{key:a},r.a.createElement(Va.a,{align:"center"},t.Description),r.a.createElement(Va.a,{align:"center",className:e.showChildOnHover},r.a.createElement("span",{className:e.keyTableCell},t.Api_Key)))}))),r.a.createElement(Ha.a,{variant:"caption",className:e.warningCaption},"This API key is a unique identifier, and should not be shared.")):"",r.a.createElement(Aa.a,{className:e.root,elevation:6},r.a.createElement(Ha.a,{variant:"body2"},"Generate a new API key"),r.a.createElement(Qa.a,{container:!0,alignItems:"center",justify:"center",spacing:4},r.a.createElement(Qa.a,{item:!0},r.a.createElement(qa.a,{margin:"normal",id:"description",type:"text",variant:"outlined",name:"filterText",value:this.state.description,onChange:this.handleChange,placeholder:"Key Description",className:e.descriptionField})),r.a.createElement(Qa.a,{item:!0},r.a.createElement(Pa.a,{variant:"contained",disabled:this.state.description.length<1,color:"primary",onClick:this.handleClick},"Generate API Key"))),this.props.apiKeyCreationState===m.inProgress?r.a.createElement(Ka,{size:18}):"",this.props.apiKeyCreationState===m.failed?r.a.createElement("span",null,"Key creation failed"):""))}}]),t}(n.Component),Za=Object(l.b)(function(e,t){return{apiKeys:e.apiKeys,apiKeyCreationState:e.apiKeyCreationState}},Ya)(Object(Fa.a)(function(e){return{root:{width:"800px",marginTop:e.spacing(3),margin:"auto",paddingTop:e.spacing(2)},table:{minWidth:700},apiKeyTableHeader:{marginBottom:e.spacing(2)},keyTableCell:{visibility:"hidden"},showChildOnHover:{"&:hover span":{visibility:"visible"}},warningCaption:{color:Na.orange,fontSize:"11px",marginTop:e.spacing(2),marginBottom:e.spacing(2)},wrapper:{marginTop:e.spacing(16)}}})(Ja)),Xa=a(758),en={showLoginDialog:pe},tn=Object(l.b)(null,en)(function(e){return Object(n.useEffect)(function(){e.showLoginDialog()}),r.a.createElement("p",null,"This feature requires a user account. Please ",r.a.createElement(Xa.a,{component:Ma.b,to:{pathname:"/apikeymanagement"},onClick:function(){return e.showLoginDialog()}}," log in")," or ",r.a.createElement(Xa.a,{component:Ma.b,to:{pathname:"/register"}}," register"),".")}),an={showLoginDialog:pe,logOut:q,restoreInterfaceDefaults:he,snackbarOpen:fe,toggleShowHelp:function(){return{type:"TOGGLE_SHOW_HELP"}}},nn=function(e){function t(e){var a;return Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.handleLogOut=function(){a.clearState(),a.props.logOut(),a.props.restoreInterfaceDefaults()},a.clearState=function(){a.setState({username:"",password:""})},a.handleNavigate=function(e){a.props.restoreInterfaceDefaults(),a.props.history.push(e)},a.handleOutsideNavigate=function(e){window.open(e,"_blank")},a.state={username:"",password:""},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.history,o=(t.showHelp,n.location.pathname);return r.a.createElement("div",{className:a.navWrapper},r.a.createElement(Ha.a,{variant:"caption",href:"/",component:"a",className:a.navLink},"Home"),r.a.createElement(Ha.a,{variant:"caption",to:"/catalog",component:Ma.b,className:a.navLink},"Catalog"),"/visualization"!==o&&r.a.createElement(Ha.a,{variant:"caption",to:"/apikeymanagement",component:Ma.b,className:a.navLink},"API Keys"),"/visualization"!==o&&r.a.createElement(Ha.a,{variant:"caption",to:"/visualization",component:Ma.b,className:a.navLink},"Visualization"),this.props.user&&r.a.createElement(Ha.a,{variant:"caption",onClick:function(){return e.handleLogOut()},className:"".concat(a.navLink," ").concat("/visualization"===o?"":a.rightNavLink)},"Log Out"),!this.props.user&&"/visualization"!==o&&r.a.createElement(Ha.a,{variant:"caption",onClick:function(){return e.props.showLoginDialog()},className:"".concat(a.navLink," ").concat(a.rightNavLink)},"Log In"),!this.props.user&&"/visualization"!==o&&r.a.createElement(Ha.a,{variant:"caption",to:"/register",component:Ma.b,className:a.navLink},"Register"))}}]),t}(n.Component),rn=Object(l.b)(function(e,t){return{user:e.user,showHelp:e.showHelp}},an)(Object(Ia.e)(Object(Fa.a)(function(e){return{appBar:{backgroundColor:"transparent",boxShadow:"none"},toolBar:{backgroundColor:"transparent",boxShadow:"none"},navWrapper:{position:"fixed",width:"100vw",top:"0px",backgroundColor:"transparent",zIndex:50,paddingTop:"10px",paddingLeft:"20px",textAlign:"left",boxSizing:"border-box"},navLink:{textDecoration:"none",marginRight:20,color:"white","&:hover":{textDecoration:"underline"},fontSize:"13px",fontWeight:100,display:"inline-block",cursor:"pointer"},rightNavLink:{float:"right"},rightLinkWrapper:{display:"inline-block",textAlign:"right"}}})(nn))),on={showLoginDialog:pe},sn=function(e){function t(){return Object(Ve.a)(this,t),Object(wa.a)(this,Object(Ta.a)(t).apply(this,arguments))}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"componentDidMount",value:function(){this.props.user||this.props.showLoginDialog()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(rn,null),this.props.user?r.a.createElement(Za,null):r.a.createElement(tn,null))}}]),t}(n.Component),ln=Object(l.b)(function(e,t){return{user:e.user}},on)(Object(Fa.a)(function(e){return{}})(sn)),cn=a(393),un=[["Long Name","Long_Name"],["Short Name","Variable"],["Dataset Name","Dataset_Name"],["Study Domain","Study_Domain"],["Process Level","Process_Level"],["SQL Table Name","Table_Name"],["Temporal Resolution","Temporal_Resolution"]],pn=[["Unit","Unit"],["Mean Value","Variable_Mean"],["Value Std","Variable_Std"],["Spatial Resolution","Spatial_Resolution"],["Start Latitude[\xb0]","Lat_Min"],["End Latitude[\xb0]","Lat_Max"],["Start Longitude[\xb0]","Lon_Min"],["End Longitude[\xb0]","Lon_Max"]],dn=Object(Fa.a)(function(e){return{title:{marginBottom:e.spacing(1)},wrapper:{padding:"10px",height:"100%"},infoCard:{padding:e.spacing(1),width:"100%",height:"100%"},gridClass:{height:"100%",maxHeight:"280px"},gridItem:{display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",maxHeight:"280px"},datasetDescriptionWrapper:{whiteSpace:"normal",height:"100%",overflow:"auto"},datasetDescription:{marginBottom:e.spacing(2),marginTop:e.spacing(1)},vizSampleImage:{maxWidth:"80%",maxHeight:"260px"},variableDetailTable:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%",tableLayout:"fixed",marginBottom:e.spacing(1)},variableDetailTableRow:{height:"24px",width:"100%"},variableDetailTableCell:{color:"#FFF6EC",borderBottomColor:"black",fontSize:"11px",maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"14px"},gridDetailTypography:{fontSize:"11px",whiteSpace:"normal",width:"100%",display:"block"},boldText:{fontWeight:"bold"},rightGridItem:{maxWidth:"100%",paddingTop:"10px",boxSizing:"border-box"},datasetDescriptionButton:{backgroundColor:"#FF8000",color:"white","&:hover":{backgroundColor:"#ab5600"},fontSize:"12px",maxWidth:"100%"},buttonTextWrapper:{textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(Qa.a,{container:!0,className:t.gridClass},r.a.createElement(Qa.a,{container:!0,item:!0,xs:10,spacing:2},r.a.createElement(Qa.a,{item:!0,xs:4,className:t.gridItem},r.a.createElement("img",{src:e.context.datasets[e.data.Dataset_Name].Icon_URL,alt:"Mission Icon",className:t.vizSampleImage})),r.a.createElement(Qa.a,{item:!0,xs:4,className:t.gridItem},r.a.createElement(za.a,{className:t.variableDetailTable,size:"small"},r.a.createElement(Ua.a,null,un.map(function(a,n){return r.a.createElement(Ga.a,{key:n,className:t.variableDetailTableRow},r.a.createElement(Va.a,{className:t.variableDetailTableCell},a[0]),r.a.createElement(Va.a,{className:t.variableDetailTableCell,title:e.data[a[1]]},e.data[a[1]]))}),r.a.createElement(Ga.a,{key:un.length+1,className:t.variableDetailTableRow},r.a.createElement(Va.a,{className:t.variableDetailTableCell},"Start Date"),r.a.createElement(Va.a,{className:t.variableDetailTableCell},e.data.Time_Min.slice(0,10))),r.a.createElement(Ga.a,{key:un.length+2,className:t.variableDetailTableRow},r.a.createElement(Va.a,{className:t.variableDetailTableCell},"End Date"),r.a.createElement(Va.a,{className:t.variableDetailTableCell},e.data.Time_Max.slice(0,10)))))),r.a.createElement(Qa.a,{item:!0,xs:4,className:t.gridItem},r.a.createElement(za.a,{className:t.variableDetailTable,size:"small"},r.a.createElement(Ua.a,null,pn.map(function(a,n){return r.a.createElement(Ga.a,{key:n,className:t.variableDetailTableRow},r.a.createElement(Va.a,{className:t.variableDetailTableCell},a[0]),r.a.createElement(Va.a,{className:t.variableDetailTableCell},e.data[a[1]]))}),r.a.createElement(Ga.a,{key:pn.length+1,className:t.variableDetailTableRow},r.a.createElement(Va.a,{className:t.variableDetailTableCell},"Maximum Depth[m]"),r.a.createElement(Va.a,{className:t.variableDetailTableCell},e.data.Depth_Max||"Surface Only")))))),r.a.createElement(Qa.a,{container:!0,direction:"column",item:!0,xs:2,alignContent:"center",alignItems:"center"},r.a.createElement(Qa.a,{item:!0,xs:4,className:t.rightGridItem},r.a.createElement(Ha.a,{variant:"caption",className:"".concat(t.gridDetailTypography," ").concat(t.boldText)},"Source:"),r.a.createElement(Ha.a,{variant:"caption",className:t.gridDetailTypography},e.data.Data_Source)),r.a.createElement(Qa.a,{item:!0,xs:4,className:t.rightGridItem},r.a.createElement(Ha.a,{variant:"caption",className:"".concat(t.gridDetailTypography," ").concat(t.boldText)},"Distributor:"),r.a.createElement(Ha.a,{variant:"caption",className:t.gridDetailTypography},e.data.Distributor)),r.a.createElement(Qa.a,{item:!0,xs:4,className:t.rightGridItem},r.a.createElement(Pa.a,{variant:"contained",className:t.datasetDescriptionButton,onClick:function(){return e.context.handleDescribeDataset(e.data.Dataset_Name)}},r.a.createElement("span",{className:t.buttonTextWrapper},"Dataset Details"))))))}),mn=a(759),hn=a(760),fn=a(761),bn=a(394),gn=a.n(bn),En=Object(Fa.a)(function(e){return{markdown:{"& img":{maxWidth:"100%",margin:"20px auto 20px auto",display:"block"},"& a":{color:e.palette.primary.main,textDecoration:"none"}}}})(function(e){var t=e.description,a=e.classes;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(mn.a,{open:Boolean(t),onClose:e.clearDescription,maxWidth:!1},r.a.createElement(hn.a,null,e.datasetName),r.a.createElement(fn.a,null,r.a.createElement(gn.a,{source:t,className:a.markdown}))):"")}),xn=a(395),On=a.n(xn),vn=a(793),Sn=Object(l.b)(function(e,t){return{showHelp:e.showHelp}},null)(Object(Fa.a)(function(e){return{tooltip:{color:e.palette.secondary.main,opacity:1}}})(function(e){var t=e.classes,a=e.showHelp;return a?r.a.createElement(vn.a,{placement:e.placement,open:a,title:e.title,className:t.tooltip,classes:{popper:t.tooltip}},e.children):r.a.createElement(r.a.Fragment,null,e.children)})),yn=[{headerName:"Long Name",field:"Long_Name",sortable:!0,filter:!0,tooltipField:"longName",cellRenderer:"agGroupCellRenderer",cellStyle:{textAlign:"left"}},{headerName:"Variable",field:"Variable",sortable:!0,filter:!0,hide:!0},{headerName:"Table Name",field:"Table_Name",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Dataset Name",field:"Dataset_Name",sortable:!0,filter:!0,enableRowGroup:!0,tooltipField:"datasetName"},{headerName:"Make",field:"Make",sortable:!0,filter:!0,enableRowGroup:!0},{headerName:"Sensor",field:"Sensor",sortable:!0,filter:!0,enableRowGroup:!0},{headerName:"Study Domain",field:"Study_Domain",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Process Level",field:"Process_Level",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Spatial Resolution",field:"Spatial_Resolution",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Temporal Resolution",field:"Temporal_Resolution",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Unit",field:"Unit",sortable:!0,filter:!0,hide:!0},{headerName:"Key Words",field:"Keywords",hide:!0}],Cn={resizable:!0},jn={cellStyle:{textAlign:"left"}},wn=function(e){function t(){var e,a;Object(Ve.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(wa.a)(this,(e=Object(Ta.a)(t)).call.apply(e,[this].concat(o)))).state={filterText:"",describedDataset:""},a.handleDescribeDataset=function(e){a.setState(Object(u.a)({},a.state,{describedDataset:e}))},a.handleChange=function(e){a.setState(Object(u.a)({},a.state,{filterText:e.target.value})),a.gridApi.setQuickFilter(e.target.value)},a.onGridReady=function(e){a.gridApi=e.api,a.columnApi=e.columnApi,a.gridApi.sizeColumnsToFit()},a.onGridSizeChanged=function(e){a.gridApi.sizeColumnsToFit()},a.handleColumnRowGroupChanged=function(e){e.columns.forEach(function(e){e.columnApi.setColumnVisible(e.colId,!1)})},a.handleDownloadCatalog=function(){var e=On()(a.props.catalog,{header:!0}),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","CMAP_Catalog.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},a.render=function(){var e=a.props,t=e.classes,n=e.datasets,o=a.state.describedDataset,s=n&&n[o]?n[o].Description:"";return r.a.createElement(Aa.a,{elevation:12,className:t.gridPaper},r.a.createElement(En,{description:s,clearDescription:function(){return a.handleDescribeDataset("")},datasetName:o}),r.a.createElement(Qa.a,{container:!0},r.a.createElement(Qa.a,{item:!0,xs:3}),r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(Sn,Object(S.a)({placement:!0,title:"Enter one or more search terms."},"placement","top"),r.a.createElement(qa.a,{className:t.gridSearch,autoFocus:!0,margin:"normal",id:"name",type:"text",variant:"outlined",name:"filterText",value:a.state.filterText,onChange:a.handleChange,label:"Search Variables",InputLabelProps:{shrink:!0}}))),r.a.createElement(Qa.a,{item:!0,xs:2},r.a.createElement(vn.a,{placement:"top",title:"Download the full catalog in CSV format"},r.a.createElement(Pa.a,{className:t.downloadButton,variant:"contained",color:"primary",onClick:a.handleDownloadCatalog},"Download"))),r.a.createElement(Qa.a,{item:!0,xs:1})),r.a.createElement("div",{className:t.gridWrapper+" ag-theme-material"},r.a.createElement(cn.AgGridReact,{columnDefs:yn,defaultColDef:Cn,rowData:a.props.catalog,onGridReady:a.onGridReady,onGridSizeChanged:a.onGridSizeChanged,suppressDragLeaveHidesColumns:!0,enableCellTextSelection:!0,suppressContextMenu:!0,context:{datasets:n,handleDescribeDataset:a.handleDescribeDataset},getRowStyle:function(e){if(e.node.detail)return{background:"transparent"}},rowGroupPanelShow:"always",groupMultiAutoColumn:!0,onColumnRowGroupChanged:a.handleColumnRowGroupChanged,autoGroupColumnDef:jn,enableBrowserTooltips:!0,masterDetail:!0,frameworkComponents:{myDetailCellRenderer:dn},detailCellRenderer:"myDetailCellRenderer",detailRowHeight:280,detailGridOptions:{enableCellTextSelection:!0}})))},a}return Object(Da.a)(t,e),t}(n.Component),Tn=Object(Fa.a)(function(e){return{gridWrapper:{height:"70vh",width:"92%",margin:"0 auto"},gridSearch:{margin:"0 auto 30px auto"},gridPaper:{margin:"70px 2vw 30px 2vw",padding:"20px"},downloadButton:{margin:"6px 0 0 0",textTransform:"none",color:"black",backgroundColor:"#FF8000","&:hover":{backgroundColor:"#ab5600"}}}})(wn),Dn={retrievalRequestSend:re,datasetRetrievalRequestSend:le},kn=function(e){function t(){var e,a;Object(Ve.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(wa.a)(this,(e=Object(Ta.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){a.props.catalog||a.props.retrievalRequestSend(),a.props.datasets||a.props.datasetRetrievalRequestSend()},a.determineContent=function(){return a.props.catalog&&a.props.datasets?r.a.createElement(Tn,{catalog:a.props.catalog,datasets:a.props.datasets}):a.props.catalogRequestState===m.inProgress?r.a.createElement(Ka,{size:24}):void 0},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.determineContent();return r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component),Rn=Object(l.b)(function(e,t){return{catalogRequestState:e.catalogRequestState,catalog:e.catalog,datasets:e.datasets}},Dn)(Object(Fa.a)(function(e){return{}})(kn)),Ln=a(792),_n=a(763),Nn=a(789),Mn=a(762),In=Object(Fa.a)(function(e){return{registrationCard:{marginTop:e.spacing(1),marginBottom:e.spacing(1),height:"200px"},textField:{margin:e.spacing(1),width:"80%"}}})(function(e){var t=e.classes,a=Object.keys(e.inputFieldState);return r.a.createElement(Mn.a,{className:t.registrationCard},r.a.createElement(Qa.a,{container:!0,spacing:1},a.map(function(n,o){return r.a.createElement(Qa.a,{key:o,item:!0,xs:a.length>2?6:12},r.a.createElement(qa.a,{key:o,name:e.inputFieldInfo[n].name,label:e.inputFieldInfo[n].label,value:e.inputFieldState[n].value,className:t.textField,onChange:e.onChange,type:e.inputFieldInfo[n].type,error:!e.inputFieldState[n].valid,helperText:e.inputFieldState[n].valid?" ":e.inputFieldInfo[n].requirement}))})))}),Fn={registrationNextActiveStep:me,registrationPreviousActiveStep:function(){return{type:"REGISTRATION_PREVIOUS_ACTIVE_STEP"}},userRegistrationRequestSend:function(e){return{type:b,payload:e}},userValidationRequestSend:function(e,t){return{type:g,payload:{username:e,email:t}}}},An=function(){return[{firstName:{label:"First Name*",name:"firstName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},lastName:{label:"Last Name*",name:"lastName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},username:{label:"Username*",name:"username",type:"text",requirement:"Must be 6 to 20 alphanumeric characters.",optional:!1},email:{label:"Email Address*",name:"email",type:"email",requirement:"Must be a valid email address.",optional:!1}},{institute:{label:"Institute",name:"institute",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},department:{label:"Department",name:"department",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},country:{label:"Country",name:"country",type:"text",requirement:"Maximum length is 150 characters.",optional:!0}},{password:{label:"Password*",name:"password",type:"password",requirement:"Must be 8 to 32 characters with 1 number and 1 special character.",optional:!1},confirmPassword:{label:"Confirm Password*",name:"confirmPassword",type:"password",requirement:"Passwords must match.",optional:!1}}]},Pn=function(e){function t(e){var a;Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).validateField=function(e,t){var n=t.trim(),r=/$^/;switch(e){case"firstName":case"lastName":r=/^[A-Za-z ]{2,40}$/;break;case"username":r=/^[A-Za-z0-9 ]{6,20}$/;break;case"email":r=/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)\.([a-zA-Z]{2,5})$/;break;case"institute":case"department":case"country":r=/^.{0,150}$/;break;case"password":r=/^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/,a.setState(function(e){var t=Object(y.a)(e.cards);return t[2].confirmPassword.valid=Boolean(t[2].confirmPassword.value===n),{cards:t}});break;case"confirmPassword":return a.state.cards[2].password.value===n}return r.test(n)},a.processStateToActionPayload=function(){var e={};return a.state.cards.forEach(function(t){Object.keys(t).forEach(function(a){e[a]=t[a].value})}),console.log("action payload"),console.log(e),e},a.currentCardIsValid=function(){var e=a.state.cards[a.props.registrationActiveStep];for(var t in e)if(!e[t].optional&&(!e[t].value||!e[t].valid))return!1;return!0},a.handleNext=function(){switch(a.props.registrationActiveStep){case 0:var e=a.state.cards[0].username.value,t=a.state.cards[0].email.value;a.props.userValidationRequestSend(e,t);break;case 1:a.props.registrationNextActiveStep();break;case 2:a.props.userRegistrationRequestSend(a.processStateToActionPayload());break;default:a.props.registrationNextActiveStep()}},a.handleBack=function(){a.props.registrationPreviousActiveStep()},a.handleChange=function(e){var t=e.target.value,n=e.target.name,r=a.validateField(n,t);a.setState(function(e){var o=Object(y.a)(e.cards);return o[a.props.registrationActiveStep][n]=Object(u.a)({},o[a.props.registrationActiveStep][n],{value:t,valid:r}),{cards:o}})};var n=[];return An().forEach(function(e){var t={};Object.keys(e).forEach(function(a){t[a]={value:"",valid:!0,optional:e[a].optional}}),n.push(t)}),a.state={cards:n},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=["Your Information","Optional Organization Info","Security"],a=this.props.registrationActiveStep,n=An();return r.a.createElement(r.a.Fragment,null,r.a.createElement(rn,null),r.a.createElement("div",{className:e.root},r.a.createElement(Ln.a,{activeStep:a},t.map(function(e,t){return r.a.createElement(_n.a,{key:e},r.a.createElement(Nn.a,null,e))})),r.a.createElement("div",null,a===t.length?r.a.createElement("div",null,r.a.createElement(Ha.a,{className:e.instructions},"Registration Completed!")):r.a.createElement("div",null,r.a.createElement(In,{inputFieldState:Object(u.a)({},this.state.cards[this.props.registrationActiveStep]),inputFieldInfo:Object(u.a)({},n[this.props.registrationActiveStep]),onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement(Pa.a,{disabled:0===a,onClick:this.handleBack,className:e.button},"Back"),r.a.createElement(Pa.a,{variant:"contained",color:"primary",onClick:this.handleNext,className:e.button,disabled:!this.currentCardIsValid()||this.props.userValidationState===m.inProgress},a===t.length-1?"Finish":"Next"),this.props.userValidationState===m.inProgress&&r.a.createElement($a.a,{size:24,className:e.buttonProgress}),this.props.userValidationState===m.failed&&r.a.createElement("p",null,"That username or email is already in use. Please enter a different username or email address."),this.props.userRegistrationState===m.failed&&r.a.createElement("p",null,"Registration failed. Please try again."))))))}}]),t}(n.Component),zn=Object(l.b)(function(e,t){return{registrationActiveStep:e.registrationActiveStep,userValidationState:e.userValidationState,userRegistrationState:e.userRegistrationState}},Fn)(Object(Fa.a)(function(e){return{root:{width:"60%",margin:"5% auto"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},registrationCard:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},textField:{margin:e.spacing(1),width:200},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(Pn)),Un=function(e){function t(){return Object(Ve.a)(this,t),Object(wa.a)(this,Object(Ta.a)(t).apply(this,arguments))}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){return r.a.createElement(zn,null)}}]),t}(n.Component),Vn=a(32),Bn=a(43),Gn=a(135),qn=a(90),Hn=a(191),Wn=a(766),Qn=a(770),$n=a(707),Kn=a(702),Yn=a(708),Jn=a(704),Zn=a(709),Xn=a(765),er=a(767),tr={depth:{depthOneIsLower:"Cannot be larger than end",depthOneOutOfBounds:"Must be smaller than $",depthTwoOutOfBounds:"Must be larger than $",negative:"Cannot be negative"},date:{dateOneIsLater:"Cannot be after end",dateOneOutOfBounds:"Must be before $",dateTwoOutOfBounds:"Must be after $"},lat:{latOneIsHigher:"Cannot be larger than end.",latOneOutOfBounds:"Must be less than $",latTwoOutOfBounds:"Must be greater than $"},lon:{lonOneIsHigher:"Cannot be larger than end.",lonOneOutOfBounds:"Must be less than $",lonTwoOutOfBounds:"Must be greater than $"},type:{dataIsIrregular:"$ is not available for sparse data",dateRangeRequired:"$ requires a range of dates",depthRangeRequired:"$ requires a range of depths",surfaceOnlyDataset:"$ contains only surface data",irregularOnly:"Sparse map is only available for sparse data",dataSizeTooLarge:"Data set is too large for this visualization type."},generic:{invalid:"Invalid input",dataSizeWarning:"Wait time and application performance may be poor due to size of data.",dataSizePrevent:"Data set is too large. Please reduce date range or area size.",variableMissing:"Please select a variable",vizTypeMissing:"Please select a visualization type"}},ar=a(764),nr=Object(Fa.a)(function(e){return{}})(function(e){var t=e.data;return t?r.a.createElement(mn.a,{open:e.open,onClose:e.onClose},r.a.createElement(hn.a,null,t.Long_Name),r.a.createElement(fn.a,null,t.Comment&&r.a.createElement(ar.a,null,t.Comment),r.a.createElement(za.a,{size:"small"},r.a.createElement(Ua.a,null,r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Dataset"),r.a.createElement(Va.a,{title:t.Dataset_Name},t.Dataset_Name.length>25?t.Dataset_Name.slice(0,23)+"...":t.Dataset_Name)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Table Name"),r.a.createElement(Va.a,{title:t.Table_Name},t.Table_Name>25?t.Table_Name.slice(0,23)+"...":t.Table_Name)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Source"),r.a.createElement(Va.a,{title:t.Data_Source},t.Data_Source>25?t.Data_Source.slice(0,23)+"...":t.Data_Source)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Distributor"),r.a.createElement(Va.a,{title:t.Distributor},t.Distributor.length>25?t.Distributor.slice(0,23)+"...":t.Distributor)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Sensor"),r.a.createElement(Va.a,null,t.Sensor)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Spatial Resolution"),r.a.createElement(Va.a,null,t.Spatial_Resolution)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Temporal Resolution"),r.a.createElement(Va.a,null,t.Temporal_Resolution)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Temporal Coverage Begin"),r.a.createElement(Va.a,null,t.Time_Min?t.Time_Min.slice(0,10):"Irregular")),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Temporal Coverage End"),r.a.createElement(Va.a,null,t.Time_Max?t.Time_Max.slice(0,10):"Irregular")),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Lat Coverage Begin"),r.a.createElement(Va.a,null,"".concat(t.Lat_Min,"\xb0"))),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Lat Coverage End"),r.a.createElement(Va.a,null,"".concat(t.Lat_Max,"\xb0"))),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Lon Coverage Begin"),r.a.createElement(Va.a,null,"".concat(t.Lon_Min,"\xb0"))),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Lon Coverage End"),r.a.createElement(Va.a,null,"".concat(t.Lon_Max,"\xb0"))),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Depth Coverage Begin"),r.a.createElement(Va.a,null,t.Depth_Min?"".concat(t.Depth_Min,"(m)"):"Surface Only")),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Depth Coverage End"),r.a.createElement(Va.a,null,t.Depth_Max?"".concat(t.Depth_Max,"(m)"):"Surface Only")),t.Variable_Min&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Minimum Value(",t.Unit,")"),r.a.createElement(Va.a,null,t.Variable_Min)),t.Variable_Max&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Maximum Value(",t.Unit,")"),r.a.createElement(Va.a,null,t.Variable_Max)),t.Variable_Mean&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Mean Value(",t.Unit,")"),r.a.createElement(Va.a,null,t.Variable_Mean)),t.Variable_Std&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Standard Deviation(",t.Unit,")"),r.a.createElement(Va.a,null,t.Variable_Std)))))):""}),rr=function(e){var t;return(t={},Object(S.a)(t,Ze.threeMinutes,1),Object(S.a)(t,Ze.sixHourly,1),Object(S.a)(t,Ze.daily,1),Object(S.a)(t,Ze.weekly,7),Object(S.a)(t,Ze.monthly,30),Object(S.a)(t,Ze.annual,365),Object(S.a)(t,Ze.irregular,null),Object(S.a)(t,Ze.monthlyClimatology,30),Object(S.a)(t,Ze.threeDay,3),Object(S.a)(t,Ze.eightDayRunning,8),Object(S.a)(t,Ze.eightDays,8),t)[e]},or={cruiseTrajectoryRequestSend:we},sr=r.a.createRef(),ir=function(e){function t(){var e,a;Object(Ve.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(wa.a)(this,(e=Object(Ta.a)(t)).call.apply(e,[this].concat(r)))).componentDidUpdate=function(e,t){if(a.props.children&&a.props.children.length){var n=a.props.children.findIndex(function(e){return e.props&&e.props.isFocused});sr.current.scrollToItem(n)}},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,a=e.children,n=e.maxHeight,o=(0,e.getValue)(),s=Object(Vn.a)(o,1)[0],i=35*t.indexOf(s);return r.a.createElement(Hn.a,{style:{backgroundColor:Na.backgroundGray},height:(0===t.length?35:n>35*t.length?35*t.length:n)||35,itemCount:a.length,itemSize:35,initialScrollOffset:i||0,ref:sr},function(e){var t=e.index,n=e.style;return r.a.createElement("div",{style:n},a[t])})}}]),t}(n.Component),lr=function(e){return r.a.createElement(Bn.z.DropdownIndicator,e,r.a.createElement(Xn.a,null))},cr=function(e){return r.a.createElement(Bn.z.SingleValue,Object.assign({},e,{className:e.className+" fa-icon-cmap"}))},ur=function(e){return r.a.createElement(Bn.z.Option,Object.assign({},e,{className:e.className+" fa-icon-cmap"}))},pr=function(e){function t(e){var a;Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).componentDidUpdate=function(e){e.catalog&&e.catalog.length||!a.props.catalog||!a.props.catalog.length||(a.state.search.addDocuments(a.props.catalog),a.setState({search:a.state.search}))},a.handleTableStatsDialogClose=function(){a.setState(Object(u.a)({},a.state,{tableStatsDialogIsOpen:!1}))},a.handleTableStatsDialogOpen=function(){a.setState(Object(u.a)({},a.state,{tableStatsDialogIsOpen:!0}))},a.handleVisualizationSpeedDialClose=function(){a.setState({visualizationSpeedDialOpen:!1})},a.handleVisualizationSpeedDialOpen=function(){a.setState({visualizationSpeedDialOpen:!0})},a.handleVisualizationSpeedDialClick=function(){a.setState({visualizationSpeedDialOpen:!a.state.visualizationSpeedDialOpen})},a.getSelectOptionsFromCatalogItems=function(e){return e.map(function(e){return{value:e.Variable,label:e.Variable===e.Long_Name?e.Variable.length>48?e.Variable.slice(0,45)+"...":e.Variable:(e.Variable.length>23?e.Variable.slice(0,23):e.Variable)+" : "+(e.Long_Name.length>38?e.Long_Name.slice(0,35)+"...":e.Long_Name),data:e}})||[]},a.onAutoSuggestChange=function(e,t){"input-change"===t.action&&a.setState(Object(u.a)({},a.state,{searchField:e})),"set-value"!==t.action&&"menu-close"!==t.action||a.setState(Object(u.a)({},a.state,{searchField:""}))},a.estimateDataSize=function(){var e=a.props,t=e.dt1,n=e.dt2,r=e.lat1,o=e.lat2,s=e.lon1,i=e.lon2,l=e.fields,c=e.selectedVizType;if(!l)return 0;if(l.data.Spatial_Resolution===He.irregular)return 0;if(c===Je.timeSeries||c===Je.depthProfile)return 0;var u=Date.parse(t),p=Date.parse(n),d=We(l.data.Spatial_Resolution),m=(p-u)/864e5;return(i-s)/d*((o-r)/d)*(Math.floor(m/rr(l.data.Temporal_Resolution))||1)},a.checkStartDepth=function(){return a.props.surfaceOnly?"":/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.depth1)?parseFloat(a.props.depth1)<0?tr.depth.negative:parseFloat(a.props.depth1)>parseFloat(a.props.depth2)?tr.depth.depthOneIsLower:parseFloat(a.props.depth1)>parseFloat(a.props.fields.data.Depth_Max)?tr.depth.depthOneOutOfBounds.replace("$",parseFloat(a.props.fields.data.Depth_Max).toFixed(2)):"":tr.generic.invalid},a.checkEndDepth=function(){return a.props.surfaceOnly?"":/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.depth2)?parseFloat(a.props.depth2)<0?tr.depth.negative:parseFloat(a.props.depth1)>parseFloat(a.props.depth2)?tr.depth.depthOneIsLower:parseFloat(a.props.depth2)<parseFloat(a.props.fields.data.Depth_Min)?tr.depth.depthTwoOutOfBounds.replace("$",parseFloat(a.props.fields.data.Depth_Min).toFixed(2)):"":tr.generic.invalid},a.checkStartDate=function(){return a.props.dt1<a.props.dt2?tr.date.dateOneIsLater:a.props.dt1>a.props.fields.data.Time_Max?tr.date.dateOneOutOfBounds.replace("$",a.props.fields.data.Time_Max):""},a.checkEndDate=function(){return a.props.dt1<a.props.dt2?tr.date.dateOneIsLater:a.props.dt2<a.props.fields.data.Time_Min?tr.date.dateTwoOutOfBounds.replace("$",a.props.fields.data.Time_Min):""},a.checkStartLat=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lat1)?parseFloat(a.props.lat1)<-90||parseFloat(a.props.lat1)>90?tr.generic.invalid:parseFloat(a.props.lat1)>parseFloat(a.props.lat2)?tr.lat.latOneIsHigher:parseFloat(a.props.lat1)>parseFloat(a.props.fields.data.Lat_Max)?tr.lat.latOneOutOfBounds.replace("$",a.props.fields.data.Lat_Max):"":tr.generic.invalid},a.checkEndLat=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lat2)?parseFloat(a.props.lat2)<-90||parseFloat(a.props.lat2)>90?tr.generic.invalid:parseFloat(a.props.lat1)>parseFloat(a.props.lat2)?tr.lat.latOneIsHigher:parseFloat(a.props.lat2)<parseFloat(a.props.fields.data.Lat_Min)?tr.lat.latTwoOutOfBounds.replace("$",a.props.fields.data.Lat_Max):"":tr.generic.invalid},a.checkStartLon=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lon1)?parseFloat(a.props.lon1)<-180||parseFloat(a.props.lon1)>180?tr.generic.invalid:parseFloat(a.props.lon1)>parseFloat(a.props.lon2)?tr.lon.lonOneIsHigher:parseFloat(a.props.lon1)>parseFloat(a.props.fields.data.Lon_Max)?tr.lon.lonOneOutOfBounds.replace("$",a.props.fields.data.Lon_Max):"":tr.generic.invalid},a.checkEndLon=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lon2)?parseFloat(a.props.lon2)<-180||parseFloat(a.props.lon2)>180?tr.generic.invalid:parseFloat(a.props.lon1)>parseFloat(a.props.lon2)?tr.lon.lonOneIsHigher:parseFloat(a.props.lon2)<parseFloat(a.props.fields.data.Lon_Min)?tr.lon.lonTwoOutOfBounds.replace("$",a.props.fields.data.Lon_Max):"":tr.generic.invalid},a.checkHeatmap=function(){return a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Heatmap"):""},a.checkContour=function(){return a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Contour"):""},a.checkSection=function(){return a.props.surfaceOnly?tr.type.surfaceOnlyDataset.replace("$",a.props.fields.value):a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Section Map"):a.props.depth1===a.props.depth2?tr.type.depthRangeRequired.replace("$","Section Map"):""},a.checkHistogram=function(){return a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Histogram"):""},a.checkTimeSeries=function(){return a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Time Series"):a.props.dt1===a.props.dt2?tr.type.dateRangeRequired.replace("$","Time Series"):""},a.checkDepthProfile=function(){return a.props.surfaceOnly?tr.type.surfaceOnlyDataset.replace("$",a.props.fields.value):a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Depth Profile"):a.props.depth1===a.props.depth2?tr.type.depthRangeRequired.replace("$","Depth Profile"):""},a.checkSparseMap=function(){return a.props.irregularSpatialResolution?"":tr.type.irregularOnly},a.checkGeneralWarn=function(){return a.estimateDataSize()>12e5?tr.generic.dataSizeWarning:""},a.checkGeneralPrevent=function(){return a.estimateDataSize()>5e7?tr.generic.dataSizePrevent:""};var n=new qn.Search("Variable");return n.searchIndex=new qn.UnorderedSearchIndex,n.addIndex("Variable"),n.addIndex("Make"),n.addIndex("Sensor"),n.addIndex("Data_Source"),n.addIndex("Process_Level"),n.addIndex("Long_Name"),n.addIndex("Keywords"),e.catalog&&n.addDocuments(e.catalog),a.state={visualizationSpeedDialOpen:!1,tableStatsDialogIsOpen:!1,search:n,searchField:""},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.searchField,o=this.props,s=o.classes,i=o.fields,l=o.depth1,c=o.depth2,p=o.dt1,d=o.dt2,h=o.lat1,f=o.lat2,b=o.lon1,g=o.lon2,E=o.selectedVizType,x=o.catalog,O=o.catalogRequestState,v=o.surfaceOnly,S=n&&x?this.getSelectOptionsFromCatalogItems(a.search(n)):x?this.getSelectOptionsFromCatalogItems(x):[],y=i?[this.checkStartDepth(),this.checkEndDepth(),this.checkStartDate(),this.checkEndDate(),this.checkStartLat(),this.checkEndLat(),this.checkStartLon(),this.checkEndLon(),this.checkHeatmap(),this.checkContour(),this.checkSection(),this.checkHistogram(),this.checkTimeSeries(),this.checkDepthProfile(),this.checkSparseMap(),this.checkGeneralWarn(),this.checkGeneralPrevent()]:Array(17).fill(""),C=Object(Vn.a)(y,17),j=C[0],w=C[1],T=(C[2],C[3],C[4]),D=C[5],k=C[6],R=C[7],L=C[8],_=C[9],N=C[10],M=C[11],I=C[12],F=C[13],A=C[14],P=C[15],z=C[16],U=[j,w,T,D,k,R,z].some(function(e){return e.length});return r.a.createElement("div",{className:this.props.showUI?"":s.displayNone,id:"drf"},r.a.createElement(nr,{open:this.state.tableStatsDialogIsOpen,onClose:this.handleTableStatsDialogClose,data:i&&i.data}),r.a.createElement(Aa.a,{className:s.dataRetrievalFormPaper},r.a.createElement(Qa.a,{container:!0,spacing:2},r.a.createElement(Qa.a,{item:!0,xs:11,className:s.shortenHeight},r.a.createElement(Gn.a,{isLoading:O===m.inProgress,components:{IndicatorSeparator:"",DropdownIndicator:lr,Option:ur,MenuList:ir,SingleValue:cr},isClearable:!0,onInputChange:this.onAutoSuggestChange,filterOption:null,className:s.variableSelect,autoFocus:!0,escapeClearsValue:!0,name:"fields",label:"Variables",options:S,onChange:this.props.updateFields,value:i,placeholder:"Variable Search",styles:{menu:function(e){return Object(u.a)({},e,{zIndex:9999})},input:function(e){return Object(u.a)({},e,{color:"white",fontFamily:'"Lato", sans-serif'})},control:function(e){return Object(u.a)({},e,{backgroundColor:"#424242",border:"1px solid #333333","&:hover":{borderColor:"white"},"&:focus-within":{borderColor:Na.orange}})},placeholder:function(e){return Object(u.a)({},e,{fontFamily:'"Lato", sans-serif',color:Na.orange,fontSize:"14px"})},noOptionsMessage:function(e){return Object(u.a)({},e,{fontFamily:'"Lato", sans-serif',color:Na.orange,backgroundColor:Na.backgroundGray})},option:function(e,t){var a=t.data,n=t.isFocused;return Object(u.a)({},e,{backgroundColor:n?"#383838":"#424242",color:"Satellite"===a.data.Sensor?"#1acf02":"Blend"===a.data.Sensor?"#fce803":"#009fd4","&:hover":{backgroundColor:"#383838"},":active":{backgroundColor:"#383838"},"&:after":{content:"Satellite"===a.data.Sensor?"'\f7bf'":"Blend"===a.data.Sensor?"'\f109'":"'\f21a'",float:"left"}})},singleValue:function(e,t){return Object(u.a)({},e,{fontFamily:"Satellite"===t.data.data.Sensor?"Font Awesome 5 Free":'"Lato", sans-serif',color:"Satellite"===t.data.data.Sensor?"#1acf02":"Blend"===t.data.data.Sensor?"#fce803":"#009fd4",paddingRight:"20px","&:after":{content:"Satellite"===t.data.data.Sensor?"'\f7bf'":"Blend"===t.data.data.Sensor?"'\f109'":"'\f21a'",fontSize:"18px",position:"relative",left:"8px",top:"3px"}})}},theme:function(e){return Object(u.a)({},e,{colors:Object(u.a)({},e.colors,{primary25:"#e0e0e0",primary:"#212121"})})}})),r.a.createElement(Qa.a,{item:!0,xs:1},r.a.createElement(Wn.a,{disabled:!i,onClick:this.handleTableStatsDialogOpen},r.a.createElement(er.a,null))),r.a.createElement(Qa.a,{item:!0,xs:3,className:s.datePickerGridSection},r.a.createElement(La.a,{placeholder:"yyyy-MM-dd",id:"startDate",label:"Start Date",name:"dt1",format:"yyyy-MM-dd",minDate:i?i.data.Time_Min:"",maxDate:i?i.data.Time_Max:"",autoOk:!0,value:p,onChange:this.props.handleStartDateChange,inputVariant:"outlined",variant:"inline",InputLabelProps:{shrink:!0}})),r.a.createElement(Qa.a,{item:!0,xs:3,className:s.datePickerGridSection},r.a.createElement(La.a,{placeholder:"yyyy-MM-dd",id:"endDate",label:"End Date",name:"dt2",format:"yyyy-MM-dd",minDate:i?i.data.Time_Min:"",maxDate:i?i.data.Time_Max:"",autoOk:!0,value:d,onChange:this.props.handleEndDateChange,inputVariant:"outlined",variant:"inline",InputLabelProps:{shrink:!0}})),r.a.createElement(Qa.a,{item:!0,xs:3},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(j),disabled:!i||v},r.a.createElement(Yn.a,{htmlFor:"depth1-input"},"Start Depth(m)"),r.a.createElement(Zn.a,{id:"depth1-input",value:l,onChange:this.props.handleChange,"aria-describedby":"depth1-error",labelWidth:105,name:"depth1"}),r.a.createElement(Jn.a,{id:"depth1-error"},j))),r.a.createElement(Qa.a,{item:!0,xs:3},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(w),disabled:!i||v},r.a.createElement(Yn.a,{shrink:!0,htmlFor:"depth2-input"},"End Depth(m)"),r.a.createElement(Zn.a,{id:"depth2-input",value:c,onChange:this.props.handleChange,"aria-describedby":"depth2-error",labelWidth:95,name:"depth2"}),r.a.createElement(Jn.a,{id:"depth2-error"},w))),r.a.createElement(Qa.a,{item:!0,xs:3},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(T)},r.a.createElement(Yn.a,{shrink:!0,htmlFor:"lat1-input"},"Start Lat(\xb0)"),r.a.createElement(Zn.a,{id:"lat1-input",value:h,onChange:this.props.handleLatLonChange,"aria-describedby":"lat1-error",labelWidth:80,name:"lat1"}),r.a.createElement(Jn.a,{id:"lat1-error"},T))),r.a.createElement(Qa.a,{item:!0,xs:3},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(D)},r.a.createElement(Yn.a,{shrink:!0,htmlFor:"lat2-input"},"End Lat(\xb0)"),r.a.createElement(Zn.a,{id:"lat2-input",value:f,onChange:this.props.handleLatLonChange,"aria-describedby":"lat2-error",labelWidth:75,name:"lat2"}),r.a.createElement(Jn.a,{id:"lat2-error"},D))),r.a.createElement(Qa.a,{item:!0,xs:3},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(k)},r.a.createElement(Yn.a,{shrink:!0,htmlFor:"lon1-input"},"Start Lon(\xb0)"),r.a.createElement(Zn.a,{id:"lon1-input",value:b,onChange:this.props.handleLatLonChange,"aria-describedby":"lon1-error",labelWidth:80,name:"lon1"}),r.a.createElement(Jn.a,{id:"lon1-error"},k))),r.a.createElement(Qa.a,{item:!0,xs:3},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(R)},r.a.createElement(Yn.a,{shrink:!0,htmlFor:"lon2-input"},"End Lon(\xb0)"),r.a.createElement(Zn.a,{id:"lon2-input",value:g,onChange:this.props.handleLatLonChange,"aria-describedby":"lon2-error",labelWidth:75,name:"lon2"}),r.a.createElement(Jn.a,{id:"lon2-error"},R))),r.a.createElement(Qa.a,{item:!0,xs:2},r.a.createElement(Kn.a,{variant:"outlined",className:s.vizTypeSelectFormControl},r.a.createElement(Yn.a,{shrink:!0,htmlFor:"vizSelector"},"Type"),r.a.createElement($n.a,{labelWidth:35,value:E,variant:"outlined",onChange:this.props.handleChange,inputProps:{name:"selectedVizType",id:"vizSelector",variant:"outlined"}},r.a.createElement(Qn.a,{disabled:Boolean(L),value:Je.heatmap,title:L},"Heatmap"),r.a.createElement(Qn.a,{disabled:Boolean(_),value:Je.contourMap},"Contour"),r.a.createElement(Qn.a,{disabled:Boolean(N),value:Je.sectionMap},"Section Map"),r.a.createElement(Qn.a,{disabled:Boolean(M),value:Je.histogram},"Histogram"),r.a.createElement(Qn.a,{disabled:Boolean(I),value:Je.timeSeries},"Time Series"),r.a.createElement(Qn.a,{disabled:Boolean(F),value:Je.depthProfile},"Depth Profile"),r.a.createElement(Qn.a,{disabled:Boolean(A),value:Je.sparse},"Sparse Map")))),r.a.createElement(Qa.a,{item:!0,xs:2},r.a.createElement(Pa.a,{variant:"contained",color:"secondary",onClick:function(){return e.props.onVisualize()},disabled:!E||U||!i},"Visualize")),r.a.createElement(Qa.a,{item:!0,xs:3},r.a.createElement(Ha.a,{variant:"caption",color:"error",className:s.generalMessage},z||P)))))}}]),t}(n.Component),dr=Object(l.b)(function(e,t){return{data:e.data,storedProcedureRequestState:e.storedProcedureRequestState,catalog:e.catalog,catalogRequestState:e.catalogRequestState,cruiseTrajectory:e.cruiseTrajectory}},or)(Object(Fa.a)(function(e){return{dataRetrievalFormPaper:{width:"1000px",height:"260px",padding:e.spacing(2.5),position:"fixed",top:"10px",left:"50%",marginLeft:"-600px",zIndex:2,paddingTop:e.spacing(1.5)},dataRetrievalFormField:{padding:"0px ".concat(e.spacing(1))},retrieveDataButton:{margin:"10px auto"},variableSelect:{margin:"0 30px 20px 30px"},visualizationSpeedDial:{position:"relative",top:"5px",left:"30px"},visualizeButton:{borderRadius:"10%",width:"100px",height:"40px",margin:"auto 0",backgroundColor:e.palette},visualizeButtonText:{dominantBaseline:"middle",textAnchor:"middle"},displayNone:{display:"none"},datePickerGridSection:{paddingLeft:"40px !important",paddingRight:"40px !important"},shortenHeight:{height:"60px"},vizSelect:{minWidth:120},gridItem:{height:"48px"},generalMessage:{textAlign:"left"},vizTypeSelectFormControl:{width:150}}})(pr)),mr=a(706),hr=a(771),fr=a(794),br=a(777),gr=a(772),Er=a(773),xr=a(774),Or=a(775),vr=a(776),Sr=a(778),yr=a(779),Cr=a(780),jr=a(781),wr=function(e){var t=new Date(e),a=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDate(),o=new Date;return o.setFullYear(a,n,r),o},Tr=[5,15,25,35,45,55,65,75.005,85.025,95.095,105.31,115.87,127.15,139.74,154.47,172.4,194.735,222.71,257.47,299.93,350.68,409.93,477.47,552.71,634.735,722.4,814.47,909.74,1007.155,1105.905,1205.535,1306.205,1409.15,1517.095,1634.175,1765.135,1914.15,2084.035,2276.225,2491.25,2729.25,2990.25,3274.25,3581.25,3911.25,4264.25,4640.25,5039.25,5461.25,5906.25],Dr=[.494024991989,1.54137504101,2.64566898346,3.81949496269,5.07822418213,6.44061422348,7.92956018448,9.5729970932,11.404999733,13.4671401978,15.8100700378,18.4955596924,21.5988197327,25.2114105225,29.4447307587,34.4341506958,40.3440513611,47.3736915588,55.764289856,65.8072662354,77.8538513184,92.3260726929,109.729301453,130.666000366,155.850692749,186.125595093,222.475204468,266.040313721,318.127410889,380.213012695,453.937713623,541.088928223,643.566772461,763.333129883,902.339294434,1062.43994141,1245.29101562,1452.25097656,1684.28405762,1941.89294434,2225.07788086,2533.3359375,2865.70288086,3220.82006836,3597.03198242,3992.48388672,4405.22412109,4833.29101562,5274.78417969,5727.91699219],kr=new Set(["tblPisces_NRT","tblPisces_NRT_Calendar"]),Rr=new Set(["tblDarwin_Chl_Climatology","tblDarwin_Ecosystem","tblDarwin_Nutrient","tblDarwin_Nutrient_Climatology","tblDarwin_Ocean_Color","tblDarwin_Phytoplankton","tblDarwin_Plankton_Climatology"]),Lr={count:function(e,t,a){var n=e.data.Table_Name,r=0;if(kr.has(n))for(var o=0;o<Dr.length&&!(Dr[o]>a);o++)Dr[o]>t&&r++;else if(Rr.has(n))for(var s=0;s<Tr.length&&!(Tr[s]>a);s++)Tr[s]>t&&r++;return r},piscesTable:kr,darwinTable:Rr,piscesDepths:Dr,darwinDepths:Tr},_r={backgroundColor:"transparent"},Nr={cruiseTrajectoryRequestSend:we,clearCharts:function(){return{type:"CLEAR_CHARTS"}},csvDownloadRequestSend:Me,snackbarOpen:fe},Mr=function(e){if(isNaN(new Date(e)).valueOf())return"yyyy-MM-dd";var t=e.getMonth()+1,a=e.getDate();return[e.getFullYear(),t<10?"0"+t:t,a<10?"0"+a:a].join("-")},Ir=37,Fr=r.a.createRef(),Ar=r.a.createRef(),Pr=function(e){function t(e){var a;return Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).componentDidUpdate=function(e,t){if(Fr.current&&Fr.current.resetAfterIndex(0),a.props.children&&a.props.children.length){var n=0,r=!1;a.props.children.forEach(function(e){if(!r){for(var t=Ir,a=!1,o=0;o<e.props.children.length;o++){if(e.props.children[o].props.isFocused){r=!0,a=!0;break}t+=37.6}n+=a?t:37.6}}),r&&Fr.current.scrollTo(n>150?n-150:0)}},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,a=e.children,n=(e.maxHeight,e.getValue);if(!a||!a.length)return"";var o=n(),s=Object(Vn.a)(o,1)[0],i=35*t.indexOf(s),l=a.map(function(e){return e.props.children.some(function(e){return e.props.isFocused})?37.6*e.props.children.length+Ir:Ir}),c=l.reduce(function(e,t){return e+t},0),p=c/a.length;return r.a.createElement(Hn.b,{height:c<400?c:400,estimatedItemSize:p,itemCount:a.length,itemSize:function(e){return l[e]},initialScrollOffset:i||0,ref:Fr},function(e){var t=e.index,n=e.style;return r.a.createElement("div",{style:Object(u.a)({},n)},a[t])})}}]),t}(n.Component),zr=function(e){function t(){return Object(Ve.a)(this,t),Object(wa.a)(this,Object(Ta.a)(t).apply(this,arguments))}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props.children.some(function(e){return e.props.isFocused}),t=this.props.children[0].props.data.data.Sensor;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ur,Object.assign({},this.props.headingProps,{headingLabel:this.props.data.label,firstChild:this.props.children[0].props.data,hasFocus:e,sensor:t,tableName:this.props.children[0].props.data.data.Table_Name,selectProps:this.props.selectProps})),r.a.createElement("div",{hidden:!e},this.props.children.map(function(e){return e})))}}]),t}(n.Component),Ur=Object(Fa.a)(function(e){return{customHeading:{backgroundColor:"rgba(0,0,0,.5)",height:Ir,"&:hover":{backgroundColor:"rgba(122,67,0,.5)"},boxShadow:"0px 1px 1px 1px #242424"},icon:{marginRight:"10px",width:"30px"},typography:{width:"650px"}}})(function(e){var t,a=e.classes,n=e.sensor,o=e.selectProps;return t="Satellite"===n?"fa-satellite":"Blend"===n?"fa-laptop":"fa-ship",r.a.createElement(r.a.Fragment,null,r.a.createElement(mr.a,{button:!0,alignItems:"center",onClick:function(){return Ar.current.select.setState({focusedOption:e.hasFocus?null:e.firstChild})},className:a.customHeading},r.a.createElement(hr.a,{fontSize:"small",color:"inherit",className:"fas ".concat(t," ").concat(a.icon)}),r.a.createElement(Ha.a,{className:a.typography},e.headingLabel.length>70?e.headingLabel.slice(0,67)+"...":e.headingLabel),r.a.createElement(vn.a,{title:"Download Data",placement:"right"},r.a.createElement(Wn.a,{color:"inherit",onClick:function(t){o.handleSetDownloadTarget({dataset:e.headingLabel}),o.onAutoSuggestChange(e.headingLabel,{action:"input-change"}),t.stopPropagation()}},r.a.createElement(gr.a,null))),o.datasets[e.headingLabel]&&r.a.createElement(vn.a,{title:"Dataset Info",placement:"right"},r.a.createElement(Wn.a,{color:"inherit",onClick:function(t){window.open(o.datasets[e.headingLabel].Doc_URL),t.stopPropagation()}},r.a.createElement(Er.a,null)))))}),Vr=function(e){return r.a.createElement(Bn.z.DropdownIndicator,e,r.a.createElement(xr.a,null))},Br=function(e){return r.a.createElement(Bn.z.Option,Object.assign({},e,{innerProps:Object(u.a)({},e.innerProps,{onMouseMove:function(e){return e.preventDefault()},onMouseOver:function(e){return e.preventDefault()}})}))},Gr=function(e){return""},qr=function(e,t){return e.label},Hr=function(e){function t(e){var a;Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).componentDidUpdate=function(e){e.catalog&&e.catalog.length||!a.props.catalog||!a.props.catalog.length||(a.state.search.addDocuments(a.props.catalog),a.setState({search:a.state.search}))},a.handleOpenControlPanel=function(){a.setState(Object(u.a)({},a.state,{showControlPanel:!0}))},a.handleCloseControlPanel=function(){a.setState(Object(u.a)({},a.state,{showControlPanel:!1}))},a.handleTableStatsDialogClose=function(){a.setState(Object(u.a)({},a.state,{tableStatsDialogIsOpen:!1}))},a.handleTableStatsDialogOpen=function(e){e.stopPropagation(),a.setState(Object(u.a)({},a.state,{tableStatsDialogIsOpen:!0}))},a.getSelectOptionsFromCatalogItems=function(e){var t={};return e.forEach(function(e){t[e.Dataset_Name]||(t[e.Dataset_Name]={label:e.Dataset_Name,options:[]}),t[e.Dataset_Name].options.push({value:e.Variable,label:e.Long_Name.length<80?e.Long_Name:e.Long_Name.slice(0,78)+"...",data:e})}),Object.values(t).sort(function(e,t){return e.label<t.label?-1:1})},a.estimateCsvSize=function(e){var t=0;return a.props.catalog.forEach(function(a,n){a.Dataset_Name===e&&(t+=parseInt(a.Variable_Count)||0)}),t},a.handleDownloadCsvClick=function(e,t){var n="select%20*%20from%20".concat(e);a.estimateCsvSize(t)<3e6?a.props.csvDownloadRequestSend(n,t):a.props.snackbarOpen("Data set too large")},a.handleResetSPParams=function(){a.props.resetSPParams(),a.setState(Object(u.a)({},a.state,{searchField:""}))},a.onAutoSuggestChange=function(e,t){"input-change"===t.action&&(a.setState(Object(u.a)({},a.state,{searchField:e})),Ar.current.select.setState({focusedOption:null})),"set-value"===t.action&&a.setState(Object(u.a)({},a.state,{searchField:""}))},a.estimateDataSize=function(){var e=a.props,t=e.dt1,n=e.dt2,r=e.lat1,o=e.lat2,s=e.lon1,i=e.lon2,l=e.fields,c=e.depth1,u=e.depth2,p=e.selectedVizType;if(!l)return 0;if(l.data.Spatial_Resolution===He.irregular)return 0;if(p===Je.timeSeries||p===Je.depthProfile)return 0;var d=Date.parse(t),m=(Date.parse(n)-d)/864e5,h=We(l.data.Spatial_Resolution),f=Math.floor(m/rr(l.data.Temporal_Resolution))||1;return(i-s)/h*((o-r)/h)*(Lr.count(l,c,u)||1)*f},a.checkStartDepth=function(){return a.props.surfaceOnly?"":/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.depth1)?parseFloat(a.props.depth1)<0?tr.depth.negative:parseFloat(a.props.depth1)>parseFloat(a.props.depth2)?tr.depth.depthOneIsLower:parseFloat(a.props.depth1)>parseFloat(a.props.fields.data.Depth_Max)?tr.depth.depthOneOutOfBounds.replace("$",parseFloat(a.props.fields.data.Depth_Max).toFixed(2)):"":tr.generic.invalid},a.checkEndDepth=function(){return a.props.surfaceOnly?"":/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.depth2)?parseFloat(a.props.depth2)<0?tr.depth.negative:parseFloat(a.props.depth1)>parseFloat(a.props.depth2)?tr.depth.depthOneIsLower:parseFloat(a.props.depth2)<parseFloat(a.props.fields.data.Depth_Min)?tr.depth.depthTwoOutOfBounds.replace("$",parseFloat(a.props.fields.data.Depth_Min).toFixed(2)):"":tr.generic.invalid},a.checkStartDateValid=function(){if(isNaN(new Date(a.props.dt1)).valueOf()||!a.props.dt1)return"Start date is invalid"},a.checkEndDateValid=function(){if(isNaN(new Date(a.props.dt2)).valueOf()||!a.props.dt1)return"End date is invalid"},a.checkStartDate=function(){return a.props.dt1>a.props.dt2?tr.date.dateOneIsLater:a.props.dt1>a.props.fields.data.Time_Max?tr.date.dateOneOutOfBounds.replace("$",a.props.fields.data.Time_Max):""},a.checkEndDate=function(){return a.props.dt2<a.props.fields.data.Time_Min?tr.date.dateTwoOutOfBounds.replace("$",a.props.fields.data.Time_Min):""},a.checkStartLat=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lat1)?parseFloat(a.props.lat1)<-90||parseFloat(a.props.lat1)>90?tr.generic.invalid:parseFloat(a.props.lat1)>parseFloat(a.props.lat2)?tr.lat.latOneIsHigher:parseFloat(a.props.lat1)>parseFloat(a.props.fields.data.Lat_Max)?tr.lat.latOneOutOfBounds.replace("$",a.props.fields.data.Lat_Max):"":tr.generic.invalid},a.checkEndLat=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lat2)?parseFloat(a.props.lat2)<-90||parseFloat(a.props.lat2)>90?tr.generic.invalid:parseFloat(a.props.lat2)<parseFloat(a.props.fields.data.Lat_Min)?tr.lat.latTwoOutOfBounds.replace("$",a.props.fields.data.Lat_Min):"":tr.generic.invalid},a.checkStartLon=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lon1)?parseFloat(a.props.lon1)<-180||parseFloat(a.props.lon1)>180?tr.generic.invalid:parseFloat(a.props.lon1)>parseFloat(a.props.fields.data.Lon_Max)?tr.lon.lonOneOutOfBounds.replace("$",a.props.fields.data.Lon_Max):"":tr.generic.invalid},a.checkEndLon=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(a.props.lon2)?parseFloat(a.props.lon2)<-180||parseFloat(a.props.lon2)>180?tr.generic.invalid:parseFloat(a.props.lon2)<parseFloat(a.props.fields.data.Lon_Min)?tr.lon.lonTwoOutOfBounds.replace("$",a.props.fields.data.Lon_Max):"":tr.generic.invalid},a.checkHeatmap=function(){return a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Heatmap"):""},a.checkContour=function(){return a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Contour"):""},a.checkSection=function(){return a.props.surfaceOnly?tr.type.surfaceOnlyDataset.replace("$",a.props.fields.value):a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Section Map"):a.props.depth1===a.props.depth2?tr.type.depthRangeRequired.replace("$","Section Map"):""},a.checkHistogram=function(){return""},a.checkTimeSeries=function(){return a.props.irregularSpatialResolution?tr.type.dataIsIrregular.replace("$","Time Series"):a.props.dt1===a.props.dt2?tr.type.dateRangeRequired.replace("$","Time Series"):""},a.checkDepthProfile=function(){return a.props.surfaceOnly?tr.type.surfaceOnlyDataset.replace("$",a.props.fields.value):a.props.depth1===a.props.depth2?tr.type.depthRangeRequired.replace("$","Depth Profile"):""},a.checkSparseMap=function(){return a.props.irregularSpatialResolution?"":tr.type.irregularOnly},a.checkGeneralWarn=function(e){return a.props.selectedVizType&&e>12e5?tr.generic.dataSizeWarning:""},a.checkGeneralPrevent=function(e){return a.props.selectedVizType!==Je.histogram&&a.props.selectedVizType!==Je.heatmap&&e>12e5?tr.generic.dataSizePrevent:e>6e6?tr.generic.dataSizePrevent:a.props.fields?a.props.selectedVizType?"":tr.generic.vizTypeMissing:tr.generic.variableMissing},a.handleShowChartsAndResize=function(){setTimeout(function(){return window.dispatchEvent(new Event("resize"))},30),a.props.handleShowCharts()};var n=new qn.Search("ID");return n.indexStrategy=new qn.AllSubstringsIndexStrategy,n.searchIndex=new qn.UnorderedSearchIndex,n.addIndex("Variable"),n.addIndex("Make"),n.addIndex("Sensor"),n.addIndex("Data_Source"),n.addIndex("Process_Level"),n.addIndex("Long_Name"),n.addIndex("Keywords"),n.addIndex("Table_Name"),n.addIndex("Dataset_Name"),n.addIndex("Study_Domain"),n.addIndex("Spatial_Resolution"),n.addIndex("Temporal_Resolution"),e.catalog&&n.addDocuments(e.catalog),a.state={tableStatsDialogIsOpen:!1,search:n,searchField:"",showControlPanel:!0},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e,t,a=this,n=this.state,o=n.search,s=n.searchField,i=n.showControlPanel,l=this.props,c=l.classes,p=l.fields,d=l.depth1,h=l.depth2,f=l.dt1,b=l.dt2,g=l.lat1,E=l.lat2,x=l.lon1,O=l.lon2,v=l.selectedVizType,S=l.catalog,y=l.catalogRequestState,C=(l.surfaceOnly,l.showCharts),j=l.handleShowGlobe,w=l.handleChange,T=l.handleLatLonChange,D=l.datasets,k=s&&S?this.getSelectOptionsFromCatalogItems(o.search(s)):S?this.getSelectOptionsFromCatalogItems(S):[],R=this.estimateDataSize(),L=p&&wr(p.data.Time_Min).setHours(0,0,0,0),_=p&&wr(p.data.Time_Max).setHours(0,0,0,0),N=f.setHours(0,0,0,0),M=b.setHours(0,0,0,0),I=p?L:"",F=p&&M<L?"End cannot be before dataset start date":"";e=p&&_<M?N>(t=_)?"Start cannot be after dataset end date":"":N>(t=M)?"Start cannot be after end":"";var A=p?[this.checkStartDepth(),this.checkEndDepth(),this.checkStartLat(),this.checkEndLat(),this.checkStartLon(),this.checkEndLon(),this.checkHeatmap(),this.checkContour(),this.checkSection(),this.checkHistogram(),this.checkTimeSeries(),this.checkDepthProfile(),this.checkSparseMap(),this.checkGeneralWarn(R),this.checkGeneralPrevent(R),this.checkStartDateValid(),this.checkEndDateValid()]:Array(16).fill(""),P=Object(Vn.a)(A,17),z=P[0],U=P[1],V=P[2],B=P[3],G=P[4],q=P[5],H=P[6],W=P[7],Q=P[8],$=P[9],K=P[10],Y=P[11],J=P[12],Z=P[13],X=[z,U,V,B,G,q,P[14],F,e,P[15],P[16]],ee=0;(X[0]||X[1])&&ee++,(X[2]||X[3])&&ee++,(X[4]||X[5])&&ee++,(X[7]||X[9])&&ee++,(X[8]||X[10])&&ee++;var te=ee>0?"drawerPaperError"+ee:"",ae=function(){for(var e=0;e<X.length;e++)if(X[e])return X[e];return!1}(),ne=ae||(Z||"");return r.a.createElement("div",null,r.a.createElement(nr,{open:this.state.tableStatsDialogIsOpen,onClose:this.handleTableStatsDialogClose,data:p&&p.data}),i?r.a.createElement(Wn.a,{className:c.closePanelChevron,"aria-label":"toggle-panel",color:"primary",onClick:this.handleCloseControlPanel},r.a.createElement(Or.a,null)):r.a.createElement(Wn.a,{className:c.openPanelChevron,"aria-label":"toggle-panel",color:"primary",onClick:this.handleOpenControlPanel},r.a.createElement(vr.a,null)),r.a.createElement(fr.a,{className:c.drawer,variant:"persistent",open:i,classes:{paper:"".concat(c.drawerPaper," ").concat(c[te])},anchor:"left"},r.a.createElement(br.a,null,r.a.createElement(vn.a,{title:"Show Globe",placement:"top"},r.a.createElement(Wn.a,{className:"".concat(c.groupedButtons," ").concat(!C&&c.depressed),onClick:j,color:"inherit"},r.a.createElement(Sr.a,null))),r.a.createElement(vn.a,{title:"Show Charts",placement:"top"},r.a.createElement(Wn.a,{className:"".concat(c.groupedButtons," ").concat(C&&c.depressed),onClick:this.handleShowChartsAndResize,color:"inherit"},r.a.createElement(yr.a,null)))),r.a.createElement(Qa.a,{container:!0},r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(vn.a,{title:"Clear Charts",placement:"bottom"},r.a.createElement(Wn.a,{color:"inherit",onClick:this.props.clearCharts,className:c.clearChartsButton},r.a.createElement(Cr.a,null)))),r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(vn.a,{title:"Reset Parameters",placement:"right"},r.a.createElement(Wn.a,{color:"inherit",onClick:this.handleResetSPParams,className:c.resetSPParamsButton},r.a.createElement(jr.a,null))))),r.a.createElement("form",null,r.a.createElement(Qa.a,{container:!0},r.a.createElement(Qa.a,{item:!0,xs:10},r.a.createElement(Sn,{placement:"top",title:"Enter one or more search terms."},r.a.createElement(Gn.a,{formatOptionLabel:qr,handleSetDownloadTarget:this.props.handleSetDownloadTarget,handleTableStatsDialogOpen:this.handleTableStatsDialogOpen,isLoading:y===m.inProgress,onAutoSuggestChange:this.onAutoSuggestChange,datasets:D,components:{IndicatorSeparator:"",DropdownIndicator:Vr,GroupHeading:Gr,Group:zr,Option:Br,MenuList:Pr},handleDownloadCsvClick:this.handleDownloadCsvClick,escapeClearsValue:!0,ref:Ar,onInputChange:this.onAutoSuggestChange,filterOption:null,className:c.variableSelect,isClearable:!0,inputValue:this.state.searchField,name:"fields",label:"Variables",options:k,onChange:this.props.updateFields,value:p,placeholder:"Variable Search",styles:{menu:function(e){return Object(u.a)({},e,{zIndex:1300,top:"-8px",left:320,width:"980px",borderRadius:"4px",boxShadow:"2px 2px 2px 2px #242424",overflow:"hidden",backgroundColor:"rgba(0,0,0,.5)",backdropFilter:"blur(5px)"})},valueContainer:function(e){return Object(u.a)({},e,{padding:"0 0 0 6px",fontWeight:100})},input:function(e){return Object(u.a)({},e,{color:"white",fontFamily:'"Lato", sans-serif'})},control:function(e){return Object(u.a)({},e,{backgroundColor:"#424242",border:"none",borderBottom:"1px solid #333333",borderRadius:0,"&:hover":{borderColor:"white"},"&:focus-within":{borderColor:Na.orange},height:"56px"})},placeholder:function(e){return Object(u.a)({},e,{fontFamily:'"Lato", sans-serif',color:Na.orange,fontSize:"14px",fontWeight:300})},noOptionsMessage:function(e){return Object(u.a)({},e,{fontFamily:'"Lato", sans-serif',color:Na.orange,backgroundColor:Na.backgroundGray})},option:function(e,t){t.data;var a=t.isFocused;return Object(u.a)({},e,{fontWeight:400,fontSize:"16px",backgroundColor:"transparent",color:a?Na.orange:"white","&:hover":{backgroundColor:"rgba(122,67,0,.5)"}})},singleValue:function(e,t){return Object(u.a)({},e,{color:"white",fontWeight:400})}},theme:function(e){return Object(u.a)({},e,{colors:Object(u.a)({},e.colors)})}}))),r.a.createElement(Qa.a,{item:!0,xs:2,className:c.tableStatsButton},r.a.createElement(Wn.a,{size:"small",onClick:this.handleTableStatsDialogOpen,disabled:!p},r.a.createElement(er.a,null))),r.a.createElement(Qa.a,{item:!0,xs:12},r.a.createElement(La.a,{className:c.datePicker,placeholder:Mr(f),id:"startDate",label:"Start Date",name:"dt1",format:"yyyy-MM-dd",maxDate:t,minDate:null,maxDateMessage:e,autoOk:!0,value:f,onChange:this.props.handleStartDateChange,inputVariant:"filled",variant:"inline",KeyboardButtonProps:{className:c.datePickerInputAdornment}})),r.a.createElement(Qa.a,{item:!0,xs:12},r.a.createElement(La.a,{className:c.datePicker,placeholder:Mr(b),id:"endDate",label:"End Date",name:"dt2",format:"yyyy-MM-dd",minDate:I,maxDate:null,minDateMessage:F,autoOk:!0,value:b,onChange:this.props.handleEndDateChange,inputVariant:"filled",variant:"inline",KeyboardButtonProps:{className:c.datePickerInputAdornment}})),r.a.createElement(Qa.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(qa.a,{id:"lat1-input",error:Boolean(V),label:"Start Lat(\xb0)",className:c.textField,value:g,onChange:T,FormHelperTextProps:{className:c.helperText},helperText:V,name:"lat1",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Qa.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(qa.a,{id:"lat2-input",error:Boolean(B),label:"End Lat(\xb0)",className:c.textField,value:E,onChange:T,FormHelperTextProps:{className:c.helperText},helperText:B,name:"lat2",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Qa.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(qa.a,{id:"lon1-input",error:Boolean(G),label:"Start Lon(\xb0)",className:c.textField,value:x,onChange:T,FormHelperTextProps:{className:c.helperText},helperText:G,name:"lon1",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Qa.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(qa.a,{id:"lon2-input",error:Boolean(q),label:"End Lon(\xb0)",className:c.textField,value:O,onChange:T,FormHelperTextProps:{className:c.helperText},helperText:q,name:"lon2",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Qa.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(qa.a,{id:"depth1-input",error:Boolean(z),label:"Start Depth(m)",className:c.textField,value:d,onChange:w,FormHelperTextProps:{className:c.helperText},helperText:z,name:"depth1",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Qa.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(qa.a,{id:"depth2-input",error:Boolean(U),label:"End Depth(m)",className:c.textField,value:h,onChange:w,FormHelperTextProps:{className:c.helperText},helperText:U,name:"depth2",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Qa.a,{item:!0,xs:12},r.a.createElement(Kn.a,{variant:"filled",className:c.vizTypeSelectFormControl,disabled:!p},r.a.createElement(Yn.a,{shrink:!0,htmlFor:"vizSelector"},"Type"),r.a.createElement($n.a,{className:c.vizTypeSelectFormControl,style:_r,value:v,variant:"filled",onChange:this.props.handleChange,inputProps:{name:"selectedVizType",id:"vizSelector",variant:"filled"}},!H&&r.a.createElement(Qn.a,{value:Je.heatmap,title:H},"Heatmap"),!W&&r.a.createElement(Qn.a,{value:Je.contourMap},"Contour Heatmap"),!Q&&r.a.createElement(Qn.a,{value:Je.sectionMap},"Section Map"),!Q&&r.a.createElement(Qn.a,{value:Je.contourSectionMap},"Contour Section Map"),!$&&r.a.createElement(Qn.a,{value:Je.histogram},"Histogram"),!K&&r.a.createElement(Qn.a,{value:Je.timeSeries},"Time Series"),!Y&&r.a.createElement(Qn.a,{value:Je.depthProfile},"Depth Profile"),!J&&r.a.createElement(Qn.a,{value:Je.sparse},"Sparse Map")))),r.a.createElement(vn.a,{placement:"right",title:ne,className:c.vizButtonTooltip},r.a.createElement(Qa.a,{item:!0,xs:12},r.a.createElement(Pa.a,{className:c.visualizeButton,variant:"contained",onClick:function(){return a.props.onVisualize()},disabled:Boolean(ae)||!p||!v,fullWidth:!0},"Visualize")))))))}}]),t}(r.a.Component),Wr=Object(l.b)(function(e,t){return{data:e.data,storedProcedureRequestState:e.storedProcedureRequestState,catalog:e.catalog,catalogRequestState:e.catalogRequestState,cruiseTrajectory:e.cruiseTrajectory,showHelp:e.showHelp,datasets:e.datasets}},Nr)(Object(Fa.a)(function(e){return{drawer:{width:320,top:32,bottom:"auto",overflow:"visible"},drawerPaper:{width:320,height:"540px",top:"calc(50% - 270px)",borderRadius:"0 4px 4px 0",boxShadow:"2px 2px  2px 2px #242424",border:"none",overflow:"visible",backgroundColor:"#424242"},drawerPaperError1:{height:"".concat(563,"px")},drawerPaperError2:{height:"".concat(586,"px")},drawerPaperError3:{height:"".concat(609,"px")},drawerPaperError4:{height:"".concat(632,"px")},drawerPaperError5:{height:"".concat(655,"px")},openPanelChevron:{position:"fixed",left:"5px",top:"calc(50% - 8px)",zIndex:1100},closePanelChevron:{position:"fixed",left:325,top:"calc(50% - 8px)",zIndex:1100},groupedButtons:{width:"50%",border:"1px solid #313131",borderRadius:0,backgroundColor:"#3c3c3c"},controlPanelForm:{marginTop:e.spacing(1)},tableStatsButton:{borderRadius:0,paddingTop:"11px",backgroundColor:"#424242"},formGridItem:{borderLeft:"1px solid #313131",backgroundColor:"#424242"},vizTypeSelectFormControl:{width:"100%","&:disabled":{backgroundColor:"transparent"}},depressed:{boxShadow:"inset 1px 1px 5px #1c1c1c"},padLeft:{padding:"6px 0 2px 7px"},visualizeButton:{height:"56px",borderRadius:0,backgroundColor:"#424242",color:e.palette.primary.main,fontVariant:"normal","&:disabled":{backgroundColor:"transparent"},"&:hover":{backgroundColor:"#874400"}},helperText:{color:"yellow"},vizButtonTooltip:{color:"yellow"},datePickerInputAdornment:{padding:0},clearChartsButton:{borderRadius:0,backgroundColor:"#3c3c3c",width:"100%",borderRight:"1px solid #313131"},resetSPParamsButton:{borderRadius:0,backgroundColor:"#3c3c3c",width:"100%"},datePicker:{width:"100%"}}})(Hr)),Qr=a(768),$r={tableStatsRequestSend:function(e,t){return{type:w,payload:{tableName:e,datasetLongName:t}}},csvDownloadRequestSend:Me},Kr=function(e){function t(){var e,a;Object(Ve.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(wa.a)(this,(e=Object(Ta.a)(t)).call.apply(e,[this].concat(r)))).componentDidUpdate=function(){var e=a.props,t=e.downloadTarget,n=e.datasets,r=e.catalog,o=e.tableStatsRequestSend;t&&n&&!n[t.dataset].tableStats&&o(r.find(function(e){return e.Dataset_Name===t.dataset}).Table_Name,t.dataset)},a.handleFullDatasetDownload=function(e){var t="select%20*%20from%20".concat(e),n=a.props.downloadTarget.variable||a.props.downloadTarget.dataset;a.props.csvDownloadRequestSend(t,n)},a.handleSubsetDownload=function(e,t,n,r,o,s,i,l,c){var u="select * from ".concat(e," where time between '").concat(t,"' and '").concat(n,"' and ")+"lat between ".concat(r," and ").concat(o," and ")+"lon between ".concat(s," and ").concat(i);console.log(u);var p=a.props.downloadTarget.variable||a.props.downloadTarget.dataset;a.props.csvDownloadRequestSend(u,p)},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.datasets,o=t.downloadTarget,s=t.lat1,i=t.lat2,l=t.lon1,c=t.lon2,u=t.dt1,p=t.dt2,d=t.depth1,m=t.depth2,h=t.catalog;if(!o||!n||!h)return"";var f=n[o.dataset].tableStats;if(!f)return"";var b=h.find(function(e){return e.Dataset_Name===o.dataset}),g=b.Lat_Min,E=b.Lat_Max,x=b.Lon_Min,O=b.Lon_Max,v=b.Time_Min,S=b.Time_Max,y=b.Depth_Min,C=b.Depth_Max,j=parseFloat(g),w=parseFloat(E),T=parseFloat(x),D=parseFloat(O),k=Date.parse(v),R=Date.parse(S),L=s<j?j:s>w?w:s,_=i<j?j:i>w?w:i,N=l<T?T:l>D?D:l,M=c<T?T:c>D?D:c,I=u<k?k:u>R?R:u,F=p<k?k:p>R?R:p;if(C)var A=parseFloat(y),P=parseFloat(C),z=d<A?A:d>P?P:d,U=m<A?A:m>P?P:m;var V,B=b.Table_Name,G=f.lat.count,q=(n[o.dataset].Variables&&n[o.dataset].Variables.split(",").length)+(f.depth?1:0)+3,H=G*q,W=H<4e7;if(b.Temporal_Resolution===Ze.monthlyClimatology){V=(new Date(F).getMonth()-new Date(I).getMonth()+1)/12}else{var Q=(R-k)/864e5||1,$=(F-I)/864e5||1;V=Q>$?$/Q:1}var K=w-j||1,Y=_-L||1,J=K>Y?Y/K:1,Z=D-T||1,X=M>N?M-N||1:M+360-N||1,ee=Z>X?X/Z:1,te=1;if(b.Depth_Max)if(console.log("Found Depth_Max"),Lr.piscesTable.has(b.Table_Name))console.log("Found Pisces"),te=Lr.count({data:b},z,U)/Lr.piscesDepths.length||1;else if(Lr.darwinTable.has(b.Table_Name)){console.log("Found darwin"),te=Lr.count({data:b},z,U)/Lr.darwinDepths.length||1}else{var ae=P-A||1,ne=U-z||1;te=ne>ae?1:ne/ae}var re=Math.floor(H*V*J*ee*te),oe=re<=2e7,se=new Date(I).toISOString().slice(0,10),ie=new Date(F).toISOString().slice(0,10),le=b.Temporal_Resolution===Ze.monthlyClimatology?"Monthly":new Date(k).toISOString().slice(0,10),ce=b.Temporal_Resolution===Ze.monthlyClimatology?"Monthly":new Date(R).toISOString().slice(0,10);return console.log("Total data points: ",H),console.log("Total rows: ",G),console.log("Total columns: ",q),console.log("Subset data points: ",re),console.log("Date Ratio: ",V),console.log("Lat Ratio: ",J),console.log("Lon ratio: ",ee),console.log("Depth Ratio: ",te),r.a.createElement(r.a.Fragment,null,r.a.createElement(mn.a,{open:Boolean(o),onClose:function(){return e.props.handleSetDownloadTarget(null)},maxWidth:!1},r.a.createElement(hn.a,null,"Downloading ",o.variable&&"".concat(o.variable," from ")," ",o.dataset),r.a.createElement(fn.a,null,W?"The full dataset is available for download.":"The full dataset is too large for download."),r.a.createElement(fn.a,null,r.a.createElement(Ha.a,null,"The described subset contains approximately ",re," data points:",!oe&&"This is over the limit of 20,000,000 data points. Please reduce lat, lon, time, or depth range to enable download."),r.a.createElement(za.a,{size:"small"},r.a.createElement(Ba.a,null,r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Parameter"),r.a.createElement(Va.a,null,"Subset Start"),r.a.createElement(Va.a,null,"Subset End"),r.a.createElement(Va.a,null,"Dataset Min"),r.a.createElement(Va.a,null,"Dataset Max"))),r.a.createElement(Ua.a,null,r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Time"),r.a.createElement(Va.a,null,se),r.a.createElement(Va.a,null,ie),r.a.createElement(Va.a,null,le),r.a.createElement(Va.a,null,ce)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Latitude[","\xb0","]"),r.a.createElement(Va.a,null,L),r.a.createElement(Va.a,null,_),r.a.createElement(Va.a,null,j),r.a.createElement(Va.a,null,w)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Longitude[","\xb0","]"),r.a.createElement(Va.a,null,N),r.a.createElement(Va.a,null,M),r.a.createElement(Va.a,null,T),r.a.createElement(Va.a,null,D)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,null,"Depth[m]"),r.a.createElement(Va.a,null,isNaN(z)?"NA":z),r.a.createElement(Va.a,null,isNaN(U)?"NA":U),r.a.createElement(Va.a,null,isNaN(A)?"NA":A),r.a.createElement(Va.a,null,isNaN(P)?"NA":P)))),r.a.createElement(Ha.a,{className:a.tableFooter},"*Subset start and end values may automatically adjust to fit dataset boundaries.")),r.a.createElement(Qr.a,null,r.a.createElement(Pa.a,{onClick:function(){return e.props.handleSetDownloadTarget(null)}},"Cancel"),oe&&r.a.createElement(Pa.a,{onClick:function(){return e.handleSubsetDownload(B,se,ie,L,_,N,M,z,U)}},"Download Subset"),W&&r.a.createElement(Pa.a,{onClick:function(){return e.handleFullDatasetDownload(B)}},"Download Full Dataset"))))}}]),t}(n.Component),Yr=Object(l.b)(function(e,t){return{datasets:e.datasets,catalog:e.catalog}},$r)(Object(Fa.a)(function(e){return{tableFooter:{fontSize:"11px",margin:"5px 0px 0px 10px"},table:{marginTop:"9px"}}})(Kr)),Jr=a(401),Zr=a(51),Xr=a.n(Zr),eo=function(e){var t,a=e.lonMax-e.lonMin;t=a<2?(a/6).toFixed(2):Math.floor(a/6);var n=Array.from(Array(5),function(a,n){return Math.ceil(e.lonMin+(n+1)*t)}),r=n.map(function(e){return e>180?e-360:e});return{tickmode:"array",tickvals:n,ticktext:r}},to=function(e,t,a){return a?nt[parseInt(e)]:t?e.slice(0,10)+" "+e.slice(11,16):e.slice(0,10)},ao={layout:{font:{color:"#ffffff"},paper_bgcolor:Na.backgroundGray},config:{displaylogo:!1},annotations:function(e,t){return[{text:"Source: ".concat(e.length<30?e:e.slice(0,30)," -- Provided by Simons CMAP"),font:{color:"white",size:10},xref:"paper",yref:"paper",yshift:t?0-t+160:-290,showarrow:!1}]}},no=a(407),ro=a(755),oo=a(782),so=a(783),io=a(784),lo=a(785),co=a(786),uo=["Default","Greys","YlGnBu","Greens","YlOrRd","Bluered","RdBu","Reds","Blues","Picnic","Rainbow","Portland","Jet","Hot","Blackbody","Earth","Electric","Viridis","Cividis"];var po=Object(Fa.a)(function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},popover:{width:"470px",height:"120px",paddingTop:e.spacing(3),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)},iconButton:{boxShadow:"0px 1px 1px 1px #242424"},colorForm:{width:"100%"},lastIcon:{borderTopRightRadius:"10%",borderBottomRightRadius:"10%"},buttonGroup:{display:"block",margin:"0px auto 8px auto",maxWidth:"700px"},depressed:{boxShadow:"inset 1px 1px 5px #262626"},colorscaleMenu:{maxHeight:"400px"}}})(function(e){var t=e.classes,a=e.onToggleSplitByDate,o=e.splitByDate,s=(e.onToggleSplitByDepth,e.splitByDepth,e.onToggleSplitBySpace),i=e.splitBySpace,l=(e.switchOrientation,e.orientation),c=e.downloadCsv,u=e.handleZValueConfirm,p=e.zValues,d=e.markerOptions,m=e.handleMarkerOptionsConfirm,h=Object(n.useState)(null),f=Object(Vn.a)(h,2),b=f[0],g=f[1],E=r.a.useState(null),x=Object(Vn.a)(E,2),O=x[0],v=x[1],S=r.a.useState(p&&p[0]),y=Object(Vn.a)(S,2),C=y[0],j=y[1],w=r.a.useState(p&&p[1]),T=Object(Vn.a)(w,2),D=T[0],k=T[1],R=Boolean(O),L=R?"zscale-popover":void 0,_=function(){v(null)},N=[C>D?"Min must be higher than max":/^[-+]?[0-9]*\.?[0-9]+$/.test(C)?void 0:"Invalid value",C>D?"Min must be higher than max":/^[-+]?[0-9]*\.?[0-9]+$/.test(D)?void 0:"Invalid value"],M=N[0],I=N[1],F=r.a.useState(null),A=Object(Vn.a)(F,2),P=A[0],z=A[1],U=r.a.useState(d&&d.opacity),V=Object(Vn.a)(U,2),B=V[0],G=V[1],q=r.a.useState(d&&d.color),H=Object(Vn.a)(q,2),W=H[0],Q=H[1],$=r.a.useState(d&&d.size),K=Object(Vn.a)($,2),Y=K[0],J=K[1];if(d){var Z=function(e){var t=Object(n.useRef)();return Object(n.useEffect)(function(){t.current=e}),t.current}(d.opacity),X=function(e){var t=Object(n.useRef)();return Object(n.useEffect)(function(){t.current=e}),t.current}(d.color),ee=function(e){var t=Object(n.useRef)();return Object(n.useEffect)(function(){t.current=e}),t.current}(d.size);Object(n.useEffect)(function(){d.opacity!==Z&&G(d.opacity),d.color!==X&&Q(d.color),d.size!==ee&&J(d.size)})}var te=Boolean(P),ae=te?"marker-popover":void 0,ne=function(){z(null)},re=[function(){if(B<.1||B>1||!/^[-+]?[0-9]*\.?[0-9]+$/.test(B))return"Opacity should be 0.1 to 1"}(),function(){if(Y<1||Y>18||!/^[-+]?[0-9]*\.?[0-9]+$/.test(Y))return"Size should be 1 to 18"}()],oe=re[0],se=re[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(br.a,{className:t.buttonGroup},Boolean(a)&&r.a.createElement(vn.a,{placement:"top",title:"Split By Date"},r.a.createElement(Wn.a,{color:"inherit",className:"".concat(t.iconButton," ").concat(o&&t.depressed),onClick:a},r.a.createElement(oo.a,null))),Boolean(s)&&r.a.createElement(vn.a,{placement:"top",title:"zonal"===l?"Split by Latitude":"Split by Longitude"},r.a.createElement(Wn.a,{color:"inherit",className:"".concat(t.iconButton," ").concat(i&&t.depressed),onClick:s},r.a.createElement(so.a,null))),r.a.createElement(vn.a,{placement:"top",title:"Download CSV"},r.a.createElement(Wn.a,{color:"inherit",onClick:c,className:t.iconButton},r.a.createElement(gr.a,null))),Boolean(u)&&r.a.createElement(vn.a,{title:"Change Colorscale Range",placement:"top"},r.a.createElement(Wn.a,{color:"inherit",onClick:function(e){return v(e.currentTarget)},className:t.iconButton},r.a.createElement(io.a,null))),Boolean(e.handlePaletteChoice)&&r.a.createElement(vn.a,{title:"Change Palette",placement:"top"},r.a.createElement(Wn.a,{disabled:!Boolean(e.handlePaletteChoice),color:"inherit",onClick:function(e){g(e.currentTarget)},className:t.iconButton},r.a.createElement(lo.a,null))),Boolean(e.handleMarkerOptionsConfirm)&&r.a.createElement(vn.a,{title:"Marker Options",placement:"top"},r.a.createElement(Wn.a,{color:"inherit",onClick:function(e){return z(e.currentTarget)},className:"".concat(t.iconButton," ").concat(t.lastIcon)},r.a.createElement(co.a,null)))),r.a.createElement(no.a,{id:"simple-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:function(){return g(null)},className:t.colorscaleMenu},uo.map(function(t,a){return r.a.createElement(Qn.a,{onClick:function(){return function(t){g(null),e.handlePaletteChoice(t)}("Default"===t?"heatmap":t)},key:a},t)})),r.a.createElement(ro.a,{id:L,open:R,anchorEl:O,onClose:_,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",{className:t.popover},r.a.createElement(Qa.a,{container:!0,spacing:1},r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(M)},r.a.createElement(Yn.a,{htmlFor:"z-min-input"},"Min"),r.a.createElement(Zn.a,{id:"z-min-input",value:C,onChange:function(e){return j(e.target.value)},"aria-describedby":"local-zmin-error",labelWidth:36,name:"local-zmin"}),r.a.createElement(Jn.a,{id:"local-zmin-error"},M))),r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(I)},r.a.createElement(Yn.a,{htmlFor:"z-max-input"},"Max"),r.a.createElement(Zn.a,{id:"z-max-input",value:D,onChange:function(e){return k(e.target.value)},"aria-describedby":"local-zmax-error",labelWidth:36,name:"local-zmax"}),r.a.createElement(Jn.a,{id:"local-zmax-error"},I))),r.a.createElement(Qa.a,{item:!0,xs:7}),r.a.createElement(Qa.a,{item:!0,xs:2},r.a.createElement(Pa.a,{onClick:_},"Cancel")),r.a.createElement(Qa.a,{item:!0,xs:2},r.a.createElement(Pa.a,{color:"primary",onClick:function(){u([C,D]),_()},disabled:Boolean(M||I)},"Confirm")),r.a.createElement(Qa.a,{item:!0,xs:1})))),r.a.createElement(ro.a,{id:ae,open:te,anchorEl:P,onClose:ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",{className:t.popover},r.a.createElement(Qa.a,{container:!0,spacing:1},r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(Kn.a,{variant:"outlined",error:Boolean(oe)},r.a.createElement(Yn.a,{htmlFor:"local-marker-opacity"},"Opacity"),r.a.createElement(Zn.a,{id:"local-marker-opacity",value:B,onChange:function(e){return G(e.target.value)},"aria-describedby":"local-marker-opacity",labelWidth:44,name:"local-marker-opacity"}),r.a.createElement(Jn.a,{id:"local-marker-opacity-error"},oe))),r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(Kn.a,{variant:"outlined"},r.a.createElement(Yn.a,{htmlFor:"local-marker-size"},"Size"),r.a.createElement(Zn.a,{error:Boolean(se),id:"local-marker-size",value:Y,onChange:function(e){return J(e.target.value)},"aria-describedby":"local-marker-size",labelWidth:36,name:"local-marker-size"}),r.a.createElement(Jn.a,{id:"local-marker-size-error"},se))),r.a.createElement(Qa.a,{item:!0,xs:6},r.a.createElement(Kn.a,{variant:"outlined",className:t.colorForm},r.a.createElement(Yn.a,{htmlFor:"z-min-input"},"Color"),r.a.createElement(Zn.a,{type:"color",id:"marker-color",value:W,onChange:function(e){return Q(e.target.value)},"aria-describedby":"local-marker-color",labelWidth:44,name:"local-marker-color"}))),r.a.createElement(Qa.a,{item:!0,xs:1}),r.a.createElement(Qa.a,{item:!0,xs:2},r.a.createElement(Pa.a,{onClick:ne},"Cancel")),r.a.createElement(Qa.a,{item:!0,xs:2},r.a.createElement(Pa.a,{color:"primary",onClick:function(){m({opacity:B,color:W,size:Y}),ne()},disabled:Boolean(oe||se)},"Confirm")),r.a.createElement(Qa.a,{item:!0,xs:1})))))}),mo=a(34),ho={setLoadingMessage:be},fo=Object(l.b)(null,ho)(Object(Fa.a)(function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"},iconButtonWrapper:{display:"inline-block"}}})(function(e){e.classes;var t,a=e.chart,o=a.data,s=a.subType,i=o.dates,l=o.depths,c=o.extent,p=Object(n.useState)(!1),d=Object(Vn.a)(p,2),m=d[0],h=d[1],f=Object(n.useState)(!0),b=Object(Vn.a)(f,2),g=b[0],E=b[1],x=Object(n.useState)(s),O=Object(Vn.a)(x,2),v=O[0],S=(O[1],Object(n.useState)("heatmap")),y=Object(Vn.a)(S,2),C=y[0],j=y[1],w=Object(n.useState)([o.zMin,o.zMax]),T=Object(Vn.a)(w,2),D=T[0],k=T[1],R=Object(Vn.a)(D,2),L=R[0],_=R[1],N=o.generatePlotData(v,m,g);switch(v){case Je.contourMap:t=function(e,t,a,n,o,s,i){var l=Array.from(t.depths).map(function(e){return parseFloat(e)}),c=Array.from(t.dates),p=t.parameters.lon1>t.parameters.lon2?eo(t):{};return e.map(function(e,d){var m=t.parameters.fields,h=c.length<=1?to(c[0],t.hasHour,t.isMonthly):a?to(n?c[Math.floor(d/l.length)]:c[d],t.hasHour,t.isMonthly):t.hasHour?"Merged times":"Merged Dates",f=t.hasDepth?1===l.length?l[0]+"m depth":n?a?l[d%l.length].toFixed(2)+"m depth":l[d].toFixed(2)+"m depth":"Merged Depths":"Surface",b=e.map(function(e,a){var n=e>1&&e<1e3?".2f":".2e";return isNaN(e)?"Lat: ".concat(Object(mo.a)(".2f")(t.lats[a]),"\xb0")+"<br>"+"Lon: ".concat(t.lons[a]>180?Object(mo.a)(".2f")(t.lons[a]-360):Object(mo.a)(".2f")(t.lons[a]),"\xb0"):"Lat: ".concat(Object(mo.a)(".2f")(t.lats[a]),"\xb0")+"<br>"+"Lon: ".concat(t.lons[a]>180?Object(mo.a)(".2f")(t.lons[a]-360):Object(mo.a)(".2f")(t.lons[a]),"\xb0")+"<br>"+"".concat(t.parameters.fields,": ").concat(Object(mo.a)(n)(e)," [").concat(t.metadata.Unit,"]")});return r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{zauto:!1,zmin:s,zmax:i,x:t.lons,y:t.lats,z:e,connectgaps:!1,autocolorscale:!1,colorscale:o,hoverinfo:"text",hovertext:b,name:t.parameters.fields,type:"contour",contours:{coloring:o,showlabels:!0,labelfont:{family:"Raleway",size:12,color:"white"},labelformat:t.zMin>1&&t.zMin<1e3?".2f":".2e"},colorbar:{title:{text:"[".concat(t.metadata.Unit,"]")},exponentformat:"power"}}],config:Object(u.a)({},ao.config),key:d,layout:Object(u.a)({},ao.layout,{width:800,height:570,title:{text:"".concat(m," [").concat(t.metadata.Unit,"]  ").concat(f,"  ").concat(h)},xaxis:Object(u.a)({title:"Longitude",color:"#ffffff"},p),yaxis:{title:"Latitude",color:"#ffffff"},annotations:ao.annotations(t.metadata.Distributor)})})})}(N,o,m,g,C,L,_);break;case Je.heatmap:t=function(e,t,a,n,o,s,i){var l=Array.from(t.depths).map(function(e){return parseFloat(e)}),c=Array.from(t.dates),p=t.parameters.lon1>t.parameters.lon2?eo(t):{};return e.map(function(e,d){var m=t.parameters.fields,h=c.length<=1?to(c[0],t.hasHour,t.isMonthly):a?to(n?c[Math.floor(d/l.length)]:c[d],t.hasHour,t.isMonthly):t.hasHour?"Merged times":"Merged Dates",f=t.hasDepth?1===l.length?l[0]+"m depth":n?a?l[d%l.length].toFixed(2)+"m depth":l[d].toFixed(2)+"m depth":"Merged Depths":"Surface";return r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{zauto:!1,zmin:s,zmax:i,zsmooth:e.length<2e4?"fast":"false",x:t.lons,y:t.lats,z:e,connectgaps:!1,name:t.parameters.fields,type:"heatmapgl",colorscale:o,autocolorscale:!1,colorbar:{title:{text:"[".concat(t.metadata.Unit,"]")},exponentformat:"power"}}],key:d,config:Object(u.a)({},ao.config),layout:Object(u.a)({},ao.layout,{width:800,height:570,title:{text:"".concat(m," [").concat(t.metadata.Unit,"]  ").concat(f,"  ").concat(h),font:{size:16}},xaxis:Object(u.a)({title:"Longitude[\xb0]",color:"#ffffff",exponentformat:"power"},p),yaxis:{title:"Latitude[\xb0]",color:"#ffffff",exponentformat:"power"},annotations:ao.annotations(t.metadata.Distributor)})})})}(N,o,m,g,C,L,_);break;case Je.histogram:t=function(e,t,a,n,o){var s=Array.from(t.depths).map(function(e){return parseFloat(e)}),i=Array.from(t.dates);return e.map(function(e,o){var l=t.parameters.fields,c=i.length<=1?to(i[0],t.hasHour,t.isMonthly):a?to(n?i[Math.floor(o/s.length)]:i[o],t.hasHour,t.isMonthly):t.hasHour?"Merged times":"Merged Dates",p=t.hasDepth?1===s.length?s[0]+"m depth":n?a?s[o%s.length].toFixed(2)+"m depth":s[o].toFixed(2)+"m depth":"Merged Depths":"Surface";return r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{x:e,name:t.parameters.fields,type:"histogram"}],key:o,layout:Object(u.a)({width:800,height:570},ao.layout,{title:"".concat(l," [").concat(t.metadata.Unit,"]  ").concat(p,"  ").concat(c),xaxis:{title:"".concat(t.parameters.fields," [").concat(t.metadata.Unit,"]"),exponentformat:"power",color:"#ffffff"},yaxis:{color:"#ffffff",title:"Frequency"},annotations:ao.annotations(t.metadata.Distributor)}),config:Object(u.a)({},ao.config)})})}(N,o,m,g);break;default:t=""}return r.a.createElement(r.a.Fragment,null,r.a.createElement(po,{handlePaletteChoice:v!==Je.histogram&&function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),j(t)},100)},onToggleSplitByDepth:1===l.size?null:function(){e.setLoadingMessage("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),E(!g)},100)},onToggleSplitByDate:1===i.size?null:function(){e.setLoadingMessage("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),h(!m)},100)},splitByDepth:g,splitByDate:m,handleZValueConfirm:v!==Je.histogram&&function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),k(t)},100)},zValues:v!==Je.histogram&&D,extent:v!==Je.histogram&&c,downloadCsv:function(){e.setLoadingMessage("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")});var t=o.generateCsv(),a=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","".concat(o.parameters.fields,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)},100)}}),t)})),bo={setLoadingMessage:be},go=Object(l.b)(null,bo)(Object(Fa.a)(function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"}}})(function(e){e.classes;var t=e.chart.data,a=t.stds,n=t.variableValues,o=t.dates,s=t.parameters,i=t.metadata,l=r.a.useState({opacity:.2,color:"#ff1493",size:12}),c=Object(Vn.a)(l,2),p=c[0],d=c[1],m=n.map(function(e,t){return"Time: ".concat(o[t].slice(0,10),"<br>").concat(s.fields,": ").concat(Object(mo.a)(".2e")(e)," \xb1 ").concat(Object(mo.a)(".2e")(a[t])," [").concat(i.Unit,"]")});return r.a.createElement("div",null,r.a.createElement(po,{downloadCsv:function(){be("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return be("")});var e=t.generateCsv(),a=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","".concat(t.parameters.fields,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)},100)},handleMarkerOptionsConfirm:function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),d(t)},100)},markerOptions:p}),r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{mode:"lines+markers",x:o,y:n,error_y:{type:"data",array:a,opacity:.3,color:"#f2f2f2",visible:!0},name:s.fields,type:"scatter",line:{color:p.color},marker:{opacity:p.opacity,size:p.size,color:p.color},hoverinfo:"text",hovertext:m}],config:Object(u.a)({},ao.config),layout:Object(u.a)({},ao.layout,{plot_bgcolor:"transparent",width:800,height:570,title:"".concat(s.fields," [").concat(i.Unit,"]  ").concat(s.dt1," to ").concat(s.dt2),xaxis:{title:"Time",color:"#ffffff",exponentformat:"power"},yaxis:{title:s.fields,color:"#ffffff",exponentformat:"power"},annotations:ao.annotations(i.Distributor)})}))})),Eo={setLoadingMessage:be},xo=Object(l.b)(null,Eo)(Object(Fa.a)(function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"}}})(function(e){e.classes;var t=e.setLoadingMessage,a=e.chart.data,n=a.stds,o=a.variableValues,s=a.depths,i=a.parameters,l=a.metadata,c=r.a.useState({opacity:.2,color:"#ff1493",size:12}),p=Object(Vn.a)(c,2),d=p[0],m=p[1],h=o.map(function(e,t){return"Depth: ".concat(Object(mo.a)(".2f")(s[t])," [m] <br>").concat(i.fields,": ").concat(Object(mo.a)(".2e")(e)," \xb1 ").concat(Object(mo.a)(".2e")(n[t])," [").concat(l.Unit,"]")});return r.a.createElement("div",null,r.a.createElement(po,{downloadCsv:function(){t("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return t("")});var e=a.generateCsv(),n=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.setAttribute("hidden",""),o.setAttribute("href",r),o.setAttribute("download","".concat(a.parameters.fields,".csv")),document.body.appendChild(o),o.click(),document.body.removeChild(o)},100)},handleMarkerOptionsConfirm:function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),m(t)},100)},markerOptions:d}),r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{mode:"lines+markers",y:s,x:o,error_x:{type:"data",array:n,opacity:.3,color:"#f2f2f2",visible:!0},name:i.fields,type:"scatter",marker:{line:{color:d.color},opacity:d.opacity,size:d.size,color:d.color},hoverinfo:"text",hovertext:h}],config:Object(u.a)({},ao.config),layout:Object(u.a)({},ao.layout,{plot_bgcolor:"transparent",width:800,height:570,title:"".concat(i.fields," [").concat(l.Unit,"]  ").concat(i.depth1," to ").concat(i.depth2," meters"),yaxis:{title:"Depth[m]",color:"#ffffff",exponentformat:"power",autorange:"reversed"},xaxis:{title:"".concat(i.fields,"[").concat(l.Unit,"]"),color:"#ffffff",exponentformat:"power"},annotations:ao.annotations(l.Distributor)})}))})),Oo={setLoadingMessage:be},vo=Object(l.b)(null,Oo)(Object(Fa.a)(function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"}}})(function(e){var t=e.classes,a=e.chart.data,o=a.dates,s=a.extent,i=a.lats,l=a.lons,c=Object(n.useState)(!1),p=Object(Vn.a)(c,2),d=p[0],m=p[1],h=Object(n.useState)(!1),f=Object(Vn.a)(h,2),b=f[0],g=f[1],E=Object(n.useState)(a.orientation),x=Object(Vn.a)(E,2),O=x[0],v=x[1],y=Object(n.useState)("heatmap"),C=Object(Vn.a)(y,2),j=C[0],w=C[1],T=Object(n.useState)([a.zMin,a.zMax]),D=Object(Vn.a)(T,2),k=D[0],R=D[1],L=Object(Vn.a)(k,2),_=L[0],N=L[1],M="zonal"===O?i:l,I=function(e,t,a,n,o,s,i,l){var c=Array.from(t.dates),p=Array.from(t.depths),d=Array.from(t.lats),m=Array.from(t.lons),h="zonal"===o?d:m,f="zonal"===o?"Latitude":"Longitude",b="zonal"===o?"Longitude":"Latitude",g=t.parameters.lon1>t.parameters.lon2&&"zonal"===o?eo(t):{};return e.map(function(e,E){var x=e,O=[],v=[];if("zonal"===o)for(var S=0;S<e.length;S++)O.push(m[Math.floor(S/p.length)]);else for(var y=0;y<e.length;y++)O.push(d[Math.floor(y/p.length)]);for(var C=0;C<e.length;C++)v.push(p[C%p.length]);var j=t.parameters.fields,w=c.length<2?c[0].slice(0,10):a?n?c[Math.floor(E/h.length)].slice(0,10):c[E].slice(0,10):"Merged Dates",T=h.length<=1?"".concat("zonal"===o?"Lat":"Lon"," ").concat(h[0],"\xb0"):n?"".concat("zonal"===o?"Lat":"Lon"," ").concat(h[E%h.length],"\xb0"):"Merged ".concat(f,"s"),D=x.map(function(e,a){if("zonal"===o){var n=e>1&&e<1e3?".2f":".2e";return isNaN(e)?"Depth: ".concat(Object(mo.a)(".2f")(v[a])," [m]")+"<br>"+"Lon: ".concat(Object(mo.a)(".2f")(O[a]>180?O[a]-360:O[a]),"\xb0"):"Depth: ".concat(Object(mo.a)(".2f")(v[a])," [m]")+"<br>"+"Lon: ".concat(Object(mo.a)(".2f")(O[a]>180?O[a]-360:O[a]),"\xb0")+"<br>"+"".concat(t.parameters.fields,": ").concat(Object(mo.a)(n)(e)," [").concat(t.metadata.Unit,"]")}var r=e>1&&e<1e3?".2f":".2e";return isNaN(e)?"Depth: ".concat(Object(mo.a)(".2f")(v[a])," [m]")+"<br>"+"Lat: ".concat(Object(mo.a)(".2f")(O[a]),"\xb0"):"Depth: ".concat(Object(mo.a)(".2f")(v[a])," [m]")+"<br>"+"Lat: ".concat(Object(mo.a)(".2f")(O[a]),"\xb0")+"<br>"+"".concat(t.parameters.fields,": ").concat(Object(mo.a)(r)(e)," [").concat(t.metadata.Unit,"]")});return r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{zauto:!1,zmin:i,zmax:l,connectgaps:!1,autocolorscale:!1,colorscale:s,zsmooth:e.length<2e4?"best":"fast",x:O,y:v,z:x,name:t.parameters.fields,type:t.subType===Je.contourSectionMap?"contour":"heatmap",colorbar:{title:{text:"[".concat(t.metadata.Unit,"]")},exponentformat:"power"},contours:{coloring:s,showlabels:!0,labelfont:{family:"Raleway",size:12,color:"white"},labelformat:".2e"},hoverinfo:"text",hovertext:D}],key:E,layout:{font:{color:"#ffffff"},title:"".concat(j," [").concat(t.metadata.Unit,"] ").concat(T," ").concat(w),xaxis:Object(u.a)({title:"".concat(b,"[\xb0]"),color:"#ffffff",exponentformat:"power"},g),yaxis:{title:"Depth[m]",color:"#ffffff",exponentformat:"power",autorange:"reversed"},paper_bgcolor:Na.backgroundGray,annotations:[{text:"Source: ".concat(t.metadata.Distributor.length<30?t.metadata.Distributor:t.metadata.Distributor.slice(0,30)," -- Provided by Simons CMAP"),font:{color:"white",size:10},xref:"paper",yref:"paper",yshift:-202,showarrow:!1}]}})})}(a.generatePlotData(O,d,b),a,d,b,O,j,_,N),F=function(){be("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return be("")});var e=a.generateCsv(),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","".concat(a.parameters.fields,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)},100)};return r.a.createElement("div",null,r.a.createElement("div",{className:t.buttonBlock},r.a.createElement(po,Object(S.a)({orientation:O,switchOrientation:function(){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),v("zonal"===O?"meridional":"zonal")},100)},onToggleSplitBySpace:1===M.size?null:function(){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),g(!b)},100)},splitBySpace:b,onToggleSplitByDate:1===o.size?null:function(){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),m(!d)},100)},splitByDate:d,handlePaletteChoice:function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),w(t)},100)},downloadCsv:F,handleZValueConfirm:function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),R(t)},100)},zValues:k,extent:s},"downloadCsv",F))),I)})),So=a(788),yo=a(769),Co=function(e){var t,a=e.xValues,n=e.yValues,o=e.markerOptions,s=e.infoObject,i=e.xTitle,l=e.yTitle,c=e.type,p=s.parameters,d=s.metadata,m=(s.hasDepth,s.variableValues),h=s.times,f=s.lats,b=s.lons,g=s.depths,E="".concat(p.fields," [").concat(d.Unit,"]");switch(c){case"time":t=m.map(function(e,t){var a=e>1&&e<1e3?".2f":".2e",n=h[t].slice(0,20);return n=n.replace("T"," "),"Time: ".concat(n,"<br>").concat(p.fields,": ").concat(Object(mo.a)(a)(e)," [").concat(d.Unit,"]")});break;case"latitude":t=m.map(function(e,t){var a=e>1&&e<1e3?".2f":".2e";return"Lat: ".concat(f[t].toFixed(2),"<br>").concat(p.fields,": ").concat(Object(mo.a)(a)(e)," [").concat(d.Unit,"]")});break;case"longitude":t=m.map(function(e,t){var a=e>1&&e<1e3?".2f":".2e";return"Lon: ".concat(b[t].toFixed(2),"<br>").concat(p.fields,": ").concat(Object(mo.a)(a)(e)," [").concat(d.Unit,"]")});break;case"depth":t=m.map(function(e,t){var a=e>1&&e<1e3?".2f":".2e";return"Depth: ".concat(g[t].toFixed(2),"<br>").concat(p.fields,": ").concat(Object(mo.a)(a)(e)," [").concat(d.Unit,"]")});break;default:t=m.map(function(e,t){var a=e>1&&e<1e3?".2f":".2e",n=h[t].slice(0,20);return n=n.replace("T"," "),"Time: ".concat(n,"<br>").concat(p.fields,": ").concat(Object(mo.a)(a)(e)," [").concat(d.Unit,"]")})}return r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{x:a,y:n,mode:"markers",name:p.fields,type:m.length>1e3?"scattergl":"scatter",marker:{opacity:o.opacity,size:o.size,color:o.color},hoverinfo:"text",hovertext:t}],config:Object(u.a)({},ao.config),layout:Object(u.a)({},ao.layout,{plot_bgcolor:"transparent",width:800,height:570,title:E,xaxis:{title:i,color:"#ffffff",exponentformat:"power"},yaxis:{title:l,color:"#ffffff",exponentformat:"power",autorange:"depth"!==c||"reversed"},annotations:ao.annotations(d.Distributor)})})},jo={setLoadingMessage:be};function wo(e){return{id:"sparse-tab-".concat(e),"aria-controls":"sparse-tab-".concat(e)}}var To=function(e){var t=e.children,a=e.selectedTab,n=e.index,o=e.controlPanelProps;return console.log("A tab panel re-rendered"),console.log(o),r.a.createElement("div",{hidden:a!==n},r.a.createElement(po,o),t)},Do=Object(l.b)(null,jo)(Object(Fa.a)(function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"},tabs:{marginBottom:e.spacing(2)},tab:{boxShadow:"1px 1px 1px 1px #242424",fontSize:"15px",textTransform:"none"}}})(function(e){var t=e.classes,a=e.chart.data,o=Object(n.useState)("Heatmap"),s=Object(Vn.a)(o,2),i=s[0],l=s[1],c=Object(n.useState)([a.zMin,a.zMax]),p=Object(Vn.a)(c,2),d=p[0],m=p[1],h=Object(n.useState)({opacity:.7,color:"#ff1493",size:12}),f=Object(Vn.a)(h,2),b=f[0],g=f[1],E=Object(n.useState)(0),x=Object(Vn.a)(E,2),O=x[0],v=x[1],y=function(e,t,a){var n;return e.variableValues.map(function(t,a){var n=t>1&&t<1e3?".2f":".2e";return"Lat: ".concat(Object(mo.a)(".2f")(e.lats[a]),"\xb0")+"<br>"+"Lon: ".concat(Object(mo.a)(".2f")(e.lons[a]),"\xb0")+"<br>"+"".concat(e.parameters.fields,": ").concat(Object(mo.a)(n)(t)," [").concat(e.metadata.Unit,"]")}),r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[(n={zauto:!1,zmin:a[0],zmax:a[1],lon:e.lons,lat:e.lats,z:e.variableValues},Object(S.a)(n,"zmin",""),Object(S.a)(n,"autocolorscale",!1),Object(S.a)(n,"colorscale",t),Object(S.a)(n,"radius",6),Object(S.a)(n,"name",e.parameters.fields),Object(S.a)(n,"type","densitymapbox"),Object(S.a)(n,"colorbar",{title:{text:"[".concat(e.metadata.Unit,"]")},exponentformat:"power"}),n)],layout:Object(u.a)({},ao.layout,{width:800,height:570,title:"".concat(e.parameters.fields," [").concat(e.metadata.Unit,"]"),mapbox:{style:"white-bg",layers:[{sourcetype:"raster",source:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"],below:"traces"}],center:e.center,zoom:e.zoom},annotations:ao.annotations(e.metadata.Distributor)}),config:Object(u.a)({},ao.config,{mapboxAccessToken:"pk.eyJ1IjoiZGVuaG9sdHoiLCJhIjoiY2p1ZW9obTNhMDVxZjQzcDRvMmdlcDN2aiJ9.HvLaX2bcradeE5T-lpTc8w"})})}(a,i,d),C=function(){e.setLoadingMessage("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")});var t=a.generateCsv(),n=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.setAttribute("hidden",""),o.setAttribute("href",r),o.setAttribute("download","".concat(a.parameters.fields,".csv")),document.body.appendChild(o),o.click(),document.body.removeChild(o)},100)},j={map:{palette:i,handlePaletteChoice:function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),l(t)},100)},zValues:d,handleZValueConfirm:function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),m(t)},100)},downloadCsv:C},scatter:{downloadCsv:C,markerOptions:b,setMarkerOptions:g,handleMarkerOptionsConfirm:function(t){e.setLoadingMessage("Re-rendering"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")}),g(t)},100)}}};return r.a.createElement("div",null,r.a.createElement(So.a,{value:O,onChange:function(e,t){v(t)},"aria-label":"Sparse tabs",centered:!0,indicatorColor:"primary",className:t.tabs},r.a.createElement(yo.a,Object.assign({label:"Map"},wo(0),{className:t.tab,onClick:function(){setTimeout(function(){return window.dispatchEvent(new Event("resize"))},30)}})),r.a.createElement(yo.a,Object.assign({label:"By Time"},wo(1),{className:t.tab})),r.a.createElement(yo.a,Object.assign({label:"By Lat"},wo(2),{className:t.tab})),r.a.createElement(yo.a,Object.assign({label:"By Lon"},wo(3),{className:t.tab})),a.hasDepth&&r.a.createElement(yo.a,Object.assign({label:"By Depth"},wo(4),{className:t.tab}))),r.a.createElement(To,{selectedTab:O,index:0,controlPanelProps:j.map},y),r.a.createElement(To,{selectedTab:O,index:1,controlPanelProps:j.scatter},r.a.createElement(Co,{xValues:a.times,yValues:a.variableValues,markerOptions:b,infoObject:a,xTitle:"Time",yTitle:a.parameters.fields,type:"time"})),r.a.createElement(To,{selectedTab:O,index:2,controlPanelProps:j.scatter},r.a.createElement(Co,{xValues:a.lats,yValues:a.variableValues,markerOptions:b,infoObject:a,xTitle:"Latitude",yTitle:a.parameters.fields,type:"latitude"})),r.a.createElement(To,{selectedTab:O,index:3,controlPanelProps:j.scatter},r.a.createElement(Co,{xValues:a.lons,yValues:a.variableValues,markerOptions:b,infoObject:a,xTitle:"Longitude",yTitle:a.parameters.fields,type:"longitude"})),a.hasDepth&&r.a.createElement(To,{selectedTab:O,index:4,controlPanelProps:j.scatter},r.a.createElement(Co,{xValues:a.variableValues,yValues:a.depths,markerOptions:b,infoObject:a,xTitle:a.parameters.fields,yTitle:"Depth",type:"depth"})))})),ko={setLoadingMessage:be},Ro=Object(l.b)(null,ko)(Object(Fa.a)(function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"},iconButtonWrapper:{display:"inline-block"}}})(function(e){e.classes;var t=e.chart.data,a=t.metadata,n=t.parameters;t.dates,t.depths,t.extent;return r.a.createElement(r.a.Fragment,null,r.a.createElement(po,{downloadCsv:function(){e.setLoadingMessage("Processing Data"),setTimeout(function(){window.requestAnimationFrame(function(){return e.setLoadingMessage("")});var a=t.generateCsv(),n=new Blob([a],{type:"text/csv"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.setAttribute("hidden",""),o.setAttribute("href",r),o.setAttribute("download","".concat(t.parameters.fields,".csv")),document.body.appendChild(o),o.click(),document.body.removeChild(o)},100)}}),r.a.createElement(Xr.a,{style:{position:"relative",display:"inline-block"},data:[{x:t.variableValues,name:t.parameters.fields,type:"histogram"}],layout:Object(u.a)({width:800,height:570},ao.layout,{title:"".concat(n.fields," [").concat(a.Unit,"]"),xaxis:{title:"".concat(n.fields," [").concat(a.Unit,"]"),exponentformat:"power",color:"#ffffff"},yaxis:{color:"#ffffff",title:"Frequency"},annotations:ao.annotations(a.Distributor)}),config:Object(u.a)({},ao.config)}))})),Lo=function(e){function t(){return Object(Ve.a)(this,t),Object(wa.a)(this,Object(Ta.a)(t).apply(this,arguments))}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.charts;return r.a.createElement(r.a.Fragment,null,a.map(function(e,a){switch(e.data.parameters.spName){case et.spaceTime:return e.subType===Je.sparse?r.a.createElement(Aa.a,{elevation:12,className:t.chartPaper,key:a},r.a.createElement(Do,{chart:e})):e.data.metadata.Spatial_Resolution===He.irregular?r.a.createElement(Aa.a,{elevation:12,className:t.chartPaper,key:a},r.a.createElement(Ro,{chart:e})):r.a.createElement(Aa.a,{elevation:12,className:t.chartPaper,key:a},r.a.createElement(fo,{chart:e}));case et.timeSeries:return r.a.createElement(Aa.a,{elevation:12,className:t.chartPaper,key:a},r.a.createElement(go,{chart:e}));case et.depthProfile:return r.a.createElement(Aa.a,{elevation:12,className:t.chartPaper,key:a},r.a.createElement(xo,{chart:e}));case et.sectionMap:return r.a.createElement(Aa.a,{elevation:12,className:t.chartPaper,key:a},r.a.createElement(vo,{chart:e}));default:return""}}))}}]),t}(n.Component),_o=Object(l.b)(function(e,t){return{charts:e.charts}},{})(Object(Fa.a)(function(e){return{chartsContainer:{margin:"300px 0 0 100px"},chartPaper:{margin:"60px auto 0px auto",width:"1000px",paddingTop:"16px"},chartWrapper:{display:"inline-block",backgroundColor:Na.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"}}})(Lo)),No=a(406),Mo={cruiseListRequestSend:ke,cruiseTrajectoryRequestSend:we,cruiseTrajectoryClear:function(){return{type:"CRUISE_TRAJECTORY_CLEAR"}}},Io='"Avenir Next W00","Helvetica Neue",Helvetica,Arial,sans-serif',Fo=function(e){return r.a.createElement(Bn.z.SingleValue,Object.assign({},e,{className:e.className}))},Ao=function(e){return r.a.createElement(Bn.z.Option,Object.assign({},e,{innerProps:Object(u.a)({},e.innerProps,{onMouseMove:function(e){return e.preventDefault()},onMouseOver:function(e){return e.preventDefault()}})}))},Po=function(e,t){return e.Name<t.Name?-1:1},zo=function(e){function t(e){var a;Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).componentDidMount=function(){a.props.cruiseList&&a.props.cruiseList.length||a.props.cruiseListRequestSend()},a.getSelectOptionsFromCruiseList=function(e){return e.map(function(e){return{value:e.Name,label:e.Name,data:e}})||[]},a.handleCruiseSelect=function(e){if(e&&e.data){var t=e.data.ID;a.props.cruiseTrajectoryRequestSend(t)}else a.props.cruiseTrajectoryClear();a.setState(Object(u.a)({},a.state,{selectedCruise:e})),a.props.updateParametersFromCruiseBoundary(e)},a.componentDidUpdate=function(e){e.cruiseList&&e.cruiseList.length||!a.props.cruiseList||!a.props.cruiseList.length||(a.state.search.addDocuments(a.props.cruiseList),a.setState({search:a.state.search}))},a.onAutoSuggestChange=function(e,t){"input-change"===t.action&&a.setState(Object(u.a)({},a.state,{searchField:e})),"set-value"!==t.action&&"menu-close"!==t.action||a.setState(Object(u.a)({},a.state,{searchField:""}))};var n=new qn.Search("ID");n.searchIndex=new qn.UnorderedSearchIndex,n.addIndex("Nickname"),n.addIndex("Name"),n.addIndex("Chief_Name"),n.addIndex("Keywords");try{e.cruiseList&&e.cruiseList.length&&n.addDocuments(e.cruiseList)}catch(r){console.log(r),console.log(e.cruiseList)}return a.state={search:n,searchField:"",selectedCruise:null},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.state,t=e.search,a=e.searchField,n=e.selectedCruise,o=this.props,s=o.classes,i=o.cruiseList,l=a&&i?this.getSelectOptionsFromCruiseList(t.search(a).sort(Po)):i?this.getSelectOptionsFromCruiseList(i):[];return r.a.createElement("div",{id:"cruise-selector",className:s.outerDiv},r.a.createElement("div",{className:s.blurEffectDiv}),r.a.createElement(Gn.a,{isLoading:this.props.getCruiseListState===m.inProgress,components:{IndicatorSeparator:"",Option:Ao,SingleValue:Fo},isClearable:!0,onInputChange:this.onAutoSuggestChange,filterOption:null,className:s.cruiseSelect,escapeClearsValue:!0,label:"Cruise",options:l,onChange:this.handleCruiseSelect,value:this.state.selectedCruise,placeholder:"Search Cruises",styles:{menu:function(e){return Object(u.a)({},e,{zIndex:9999})},menuList:function(e){return Object(u.a)({},e,{backgroundColor:"#424242"})},input:function(e){return Object(u.a)({},e,{color:"inherit",fontFamily:Io})},control:function(e){return Object(u.a)({},e,{backgroundColor:"#424242",border:"none",boxShadow:"1px 1px 1px 1px #242424",color:"white",borderRadius:4,"&:hover":{border:"1px solid white"},"&:focus-within":{borderColor:Na.orange}})},placeholder:function(e){return Object(u.a)({},e,{fontFamily:Io,color:Na.orange,fontSize:"14px"})},noOptionsMessage:function(e){return Object(u.a)({},e,{fontFamily:Io,color:"white",backgroundColor:"#424242"})},option:function(e,t){return Object(u.a)({},e,{backgroundColor:"#424242",color:t.isFocused?Na.orange:"white","&:hover":{backgroundColor:"rgba(122,67,0,.5)"}})},singleValue:function(e,t){return Object(u.a)({},e,{fontFamily:Io,color:"inherit",paddingRight:"20px"})}},theme:function(e){return Object(u.a)({},e,{colors:Object(u.a)({},e.colors,{primary25:"#e0e0e0",primary:"#212121"})})}}),n&&r.a.createElement(za.a,{size:"small",className:s.cruiseInfo},r.a.createElement(Ua.a,null,r.a.createElement(Ga.a,null,r.a.createElement(Va.a,{className:s.cruiseInfoCell},"Cruise:"),r.a.createElement(Va.a,{className:s.cruiseInfoCell},n.data.Name)),r.a.createElement(Ga.a,null,r.a.createElement(Va.a,{className:s.cruiseInfoCell},"Nickname:"),r.a.createElement(Va.a,{className:s.cruiseInfoCell},n.data.Nickname)),n.data.Start_Time&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,{className:s.cruiseInfoCell},"Start Date:"),r.a.createElement(Va.a,{className:s.cruiseInfoCell},n.data.Start_Time.slice(0,10))),n.data.End_Time&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,{className:s.cruiseInfoCell},"End Date:"),r.a.createElement(Va.a,{className:s.cruiseInfoCell},n.data.End_Time.slice(0,10))),n.data.Chief_Name&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,{className:s.cruiseInfoCell},"Chief Scientist:"),r.a.createElement(Va.a,{className:s.cruiseInfoCell},n.data.Chief_Name)),n.data.Ship_Name&&r.a.createElement(Ga.a,null,r.a.createElement(Va.a,{className:s.cruiseInfoCell},"Ship:"),r.a.createElement(Va.a,{className:s.cruiseInfoCell},n.data.Ship_Name)))))}}]),t}(n.Component),Uo=Object(l.b)(function(e,t){return{cruiseList:e.cruiseList,getCruiseListState:e.getCruiseListState}},Mo)(Object(Fa.a)(function(e){return{outerDiv:{padding:"12px",maxWidth:"260px",backgroundColor:"transparent",color:"white",borderRadius:"4px",boxShadow:"2px",position:"relative",backdropFilter:"blur(2px)"},cruiseSelect:{width:"260px",borderRadius:"4px"},cruiseInfo:{color:"white",fontFamily:Io,margin:"12px auto 0 auto"},cruiseInfoCell:{color:"white",fontFamily:Io,borderStyle:"none"}}})(zo)),Vo=a(402),Bo=Object(Fa.a)(function(e){return{outerDiv:{backgroundColor:"transparent",borderRadius:"4px",marginRight:"20px"},drawButton:{border:"1px solid #333333",borderRadius:"4px",color:Na.orange,cursor:"pointer",padding:"6px",width:"160px",fontSize:"14px",backgroundColor:Na.backgroundGray,boxShadow:"1px 1px 1px 1px #242424",fontFamily:'"Avenir Next W00","Helvetica Neue",Helvetica,Arial,sans-serif',"&:hover":{borderColor:"white"}},helpText:{marginTop:0,color:"white",fontFamily:'"Avenir Next W00","Helvetica Neue",Helvetica,Arial,sans-serif'},cancelButton:{display:"none",color:"white"}}})(function(e){var t=e.classes,a=e.showHelp;return r.a.createElement("div",{className:t.outerDiv,id:"draw-region-div"},a&&r.a.createElement("p",{className:t.helpText},"Click once to draw ",r.a.createElement("br",null),"and again to finish"),r.a.createElement("button",{id:"draw-button",className:t.drawButton},"Select Region"),r.a.createElement("button",{id:"cancel-button",className:"".concat(t.drawButton," ").concat(t.cancelButton)},"Cancel"))}),Go={type:"polygon-3d",symbolLayers:[{type:"fill",material:{color:[255,128,0,.3]},outline:{color:[255,128,0,1],size:"2px"}}]},qo=function(e){function t(e){var a;return Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).shouldComponentUpdate=function(e,t){return!1},a.sketchModel=new e.esriModules.SketchViewModel({layer:e.regionLayer,view:e.view,polygonSymbol:Go,defaultUpdateOptions:{toggleToolOnClick:!1,tool:"transform"}}),a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.view,n=t.esriModules,r=t.regionLayer,o=t.setShowHelp,s=this.sketchModel,i=document.getElementById("draw-button"),l=document.getElementById("cancel-button"),c=Object(Vo.a)(75,function(t){"active"===t.state&&e.props.updateDomainFromGraphicExtent(n.Utils.webMercatorToGeographic(t.graphic.geometry.extent))});return s.on("create",function(t){t.graphic&&t.graphic.visible&&(t.graphic.visible=!1),"cancel"===t.state&&(o(!1),i.style.display="inline-block",l.style.display="none"),"complete"===t.state&&(o(!1),e.props.updateDomainFromGraphicExtent(n.Utils.webMercatorToGeographic(t.graphic.geometry.extent)),i.style.display="inline-block",l.style.display="none")}),s.on("create",c),s.on("update",function(t){if(t.toolEventInfo&&"move-stop"===t.toolEventInfo.type){if("cancel"===t.state)return;e.props.updateDomainFromGraphicExtent(t.graphics[0].geometry.extent),i.style.display="inline-block",l.style.display="none"}}),i.addEventListener("click",function(e){r.removeAll(),o(!0),s.create("rectangle",{mode:"click"}),i.style.display="none",l.style.display="inline-block"}),l.addEventListener("click",function(e){s.cancel(),o(!1),i.style.display="inline-block",l.style.display="none"}),a.ui.add("draw-region-div","bottom-right"),a.ui.add("cruise-selector","top-right"),a.ui.remove("zoom"),a.ui.remove("navigation-toggle"),a.ui.remove("compass"),a.ui.remove("attribution"),null}}]),t}(r.a.Component),Ho=r.a.memo(function(e){var t=e.cruiseTrajectory,a=e.trajectoryLayer,n=e.esriModules;if(t){var r=t.lons,o=t.lats;a.removeAll();var s=[[]],i=0,l=r[0],c=o[0],u=0;r.forEach(function(e,t){var a=o[t],n=Math.abs(a-c),p=Math.abs(e-l),d=p>180?360-p:p,m=Math.sqrt(n*n+d*d);u=m>u?m:u,s[i].push([e,a]),t<r.length-1&&(e>160&&e<180&&r[t+1]>-180&&r[t+1]<-160&&(s.push([]),i++),e>-180&&e<-160&&e[t+1]>160&&e[t+1]<180&&(s.push([]),i++))});var p={type:"line-3d",symbolLayers:[{type:"line",material:{color:[255,128,0,1]},cap:"round",join:"round",size:2}]};s.forEach(function(e){var t={type:"polyline",paths:e},r=new n.Graphic({geometry:t,symbol:p});a.add(r)});try{var d=[r[0],o[0]],m=7-Math.floor(u/10);e.view.goTo({target:d,zoom:m},{maxDuration:2500,speedFactor:.5})}catch(h){console.log(h)}}else a.removeAll(),e.view.goTo({target:[-140,30],zoom:3},{maxDuration:2500,speedFactor:.5});return""}),Wo=function(e){function t(e){var a;return Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).render=function(){var e=a.props,t=e.classes,n=e.esriModules,o=e.spParams,s=e.cruiseTrajectory,i=(e.globeUIRef,parseFloat(o.lat1)),l=parseFloat(o.lat2),c=parseFloat(o.lon1),p=parseFloat(o.lon2),d=p<c?p+360:p;a.regionLayer.removeAll();var m={type:"polygon",rings:[[c,i],[d,i],[d,l],[c,l],[c,i]]},h=new n.Graphic({geometry:m,symbol:Go});return a.regionLayer.add(h),r.a.createElement("div",{className:t.container},r.a.createElement(No.a,{mapProperties:{basemap:"satellite",layers:[a.regionLayer,a.trajectoryLayer]},viewProperties:{center:[-140,30],zoom:3}},r.a.createElement(Ho,{cruiseTrajectory:s,trajectoryLayer:a.trajectoryLayer,esriModules:n}),r.a.createElement(qo,{updateDomainFromGraphicExtent:a.props.updateDomainFromGraphicExtent,esriModules:n,measurementPositions:a.props.measurementPositions,regionLayer:a.regionLayer,setShowHelp:function(e){return a.setState(Object(u.a)({},a.state,{showHelp:e}))},ref:a.props.globeUIRef})),r.a.createElement(Bo,{showHelp:a.state.showHelp}),r.a.createElement(Uo,{updateParametersFromCruiseBoundary:a.props.updateParametersFromCruiseBoundary}))},a.state={showHelp:!1},a.regionLayer=new e.esriModules.GraphicsLayer,a.trajectoryLayer=new e.esriModules.GraphicsLayer,a}return Object(Da.a)(t,e),t}(n.Component),Qo=Object(Fa.a)(function(e){return{container:{margin:"0 auto 0 auto",width:"100vw",height:"100vh"}}})(Wo),$o=function(e){var t=e.depth1,a=e.depth2,n=e.dt1,r=e.dt2,o=e.fields,s=e.lat1,i=e.lat2,l=e.lon1,c=e.lon2,u=e.spName,p=e.tableName;return{depth1:parseFloat(t),depth2:parseFloat(a),dt1:n,dt2:r,fields:o,lat1:parseFloat(s),lat2:parseFloat(i),lon1:parseFloat(l),lon2:parseFloat(c),spName:u,tableName:p}},Ko=function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return t.toString()+"-"+(a<10?"0"+a.toString():a.toString())+"-"+(n<10?"0"+n.toString():n.toString())},Yo=function(e){var t;return(t={},Object(S.a)(t,Je.sectionMap,{sp:et.sectionMap,subType:Je.sectionMap}),Object(S.a)(t,Je.contourSectionMap,{sp:et.sectionMap,subType:Je.contourSectionMap}),Object(S.a)(t,Je.timeSeries,{sp:et.timeSeries,subType:Je.timeSeries}),Object(S.a)(t,Je.histogram,{sp:et.spaceTime,subType:Je.histogram}),Object(S.a)(t,Je.depthProfile,{sp:et.depthProfile,subType:Je.depthProfile}),Object(S.a)(t,Je.heatmap,{sp:et.spaceTime,subType:Je.heatmap}),Object(S.a)(t,Je.contourMap,{sp:et.spaceTime,subType:Je.contourMap}),Object(S.a)(t,Je.sparse,{sp:et.spaceTime,subType:Je.sparse}),t)[e]},Jo={showLoginDialog:pe,queryRequestSend:function(e){return{type:C,payload:{query:e}}},retrievalRequestSend:re,storedProcedureRequestSend:function(e){return{type:j,payload:Object(u.a)({},e)}},snackbarOpen:fe,cruiseListRequestSend:ke,completedShowCharts:function(){return{type:"COMPLETED_SHOW_CHARTS"}},datasetRetrievalRequestSend:le},Zo={tableName:"",fields:null,depth1:0,depth2:0,dt1:new Date,dt2:new Date,lat1:0,lat2:0,lon1:0,lon2:0,selectedVizType:""},Xo=function(e){function t(){var e,a;Object(Ve.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(wa.a)(this,(e=Object(Ta.a)(t)).call.apply(e,[this].concat(o)))).globeUIRef=r.a.createRef(),a.state={filteredData:[],opacity:1,showCharts:!1,showUI:!1,surfaceOnly:!1,irregularSpatialResolution:!1,downloadTarget:null,spParams:Zo},a.handleSetDownloadTarget=function(e){a.setState(Object(u.a)({},a.state,{downloadTarget:e}))},a.handleChange=function(e){a.setState(Object(u.a)({},a.state,{spParams:Object(u.a)({},a.state.spParams,Object(S.a)({},e.target.name,e.target.value))}))},a.handleLatLonChange=function(e){a.setState(Object(u.a)({},a.state,{spParams:Object(u.a)({},a.state.spParams,Object(S.a)({},e.target.name,e.target.value))}))},a.handleStartDateChange=function(e){if(e){var t=new Date;t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setState(Object(u.a)({},a.state,{spParams:Object(u.a)({},a.state.spParams,{dt1:t})}))}},a.handleEndDateChange=function(e){if(e){var t=new Date;t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setState(Object(u.a)({},a.state,{spParams:Object(u.a)({},a.state.spParams,{dt2:t})}))}},a.onVisualize=function(){var e=a.state.spParams,t=e.depth1,n=e.depth2,r=e.dt1,o=e.dt2,s=e.lat1,i=e.lat2,l=e.lon1,c=e.lon2,u=e.selectedVizType,p=Yo(u),d={parameters:$o({depth1:t,depth2:n,dt1:Ko(r),dt2:Ko(o),lat1:s,lat2:i,lon1:l,lon2:c,fields:a.state.spParams.fields&&a.state.spParams.fields.value,tableName:a.state.spParams.fields&&a.state.spParams.tableName,spName:p.sp}),subType:p.subType,metadata:a.state.spParams.fields&&a.state.spParams.fields.data};a.props.storedProcedureRequestSend(d)},a.updateFields=function(e){if(e){var t=!e.data.Depth_Min,n="Irregular"===e.data.Spatial_Resolution,r=e.data.Temporal_Resolution===Ze.monthlyClimatology?a.state.spParams.dt1:wr(e.data.Time_Min),o=e.data.Temporal_Resolution===Ze.monthlyClimatology?a.state.spParams.dt2:wr(n?e.data.Time_Max:e.data.Time_Min),s=n?e.data.Lat_Min:a.state.spParams.lat1,i=n?e.data.Lat_Max:a.state.spParams.lat2,l=n?e.data.Lon_Min:a.state.spParams.lon1,c=n?e.data.Lon_Max:a.state.spParams.lon2,p=n?e.data.Depth_Min||0:Lr.piscesTable.has(e.data.Table_Name)?0:Lr.darwinTable.has(e.data.Table_Name)?0:a.state.spParams.depth1,d=n?e.data.Depth_Max||0:Lr.piscesTable.has(e.data.Table_Name)?((Lr.piscesDepths[0]+Lr.piscesDepths[1])/2).toFixed(2):Lr.darwinTable.has(e.data.Table_Name)?Lr.darwinDepths[0]+Lr.darwinDepths[1]:a.state.spParams.depth2;n&&a.globeUIRef.current.props.view.goTo({target:[(parseFloat(l)+parseFloat(c))/2,(parseFloat(s)+parseFloat(i))/2],zoom:3},{maxDuration:2500,speedFactor:.5});var m=e.data.Table_Name;a.setState(Object(u.a)({},a.state,{surfaceOnly:t,irregularSpatialResolution:n,spParams:Object(u.a)({},a.state.spParams,{fields:e,dt1:r,dt2:o,lat1:s,lat2:i,lon1:l,lon2:c,depth1:p,depth2:d,tableName:m,selectedVizType:""})}))}else a.setState(Object(u.a)({},a.state,{spParams:Object(u.a)({},a.state.spParams,{fields:e,tableName:""})}))},a.updateParametersFromCruiseBoundary=function(e){e&&a.state.spParams.fields&&(a.props.snackbarOpen("Setting chart parameters to cruise boundaries."),a.setState(Object(u.a)({},a.state,{spParams:Object(u.a)({},a.state.spParams,{lat1:e.data.Lat_Min,lat2:e.data.Lat_Max,lon1:e.data.Lon_Min,lon2:e.data.Lon_Max,dt1:wr(e.data.Start_Time),dt2:wr(e.data.End_Time)})})))},a.handleShowCharts=function(){a.setState(Object(u.a)({},a.state,{showCharts:!0}))},a.handleShowGlobe=function(){a.setState(Object(u.a)({},a.state,{showCharts:!1}))},a.toggleShowUI=function(){a.setState(Object(u.a)({},a.state,{showUI:!a.state.showUI}))},a.updateDomainFromGraphicExtent=function(e){var t=e.xmin>-180?e.xmin:e.xmin+360,n=e.xmax<180?e.xmax:e.xmax-360,r={lat1:e.ymin.toFixed(3),lat2:e.ymax.toFixed(3),lon1:t.toFixed(3),lon2:n.toFixed(3)};a.setState(Object(u.a)({},a.state,{spParams:Object(u.a)({},a.state.spParams,r)}))},a.resetSPParams=function(){a.setState(Object(u.a)({},a.state,{spParams:Zo}))},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Ae.a)(P.a.mark(function e(){var t,a,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.catalog||this.props.retrievalRequestSend(),this.props.cruiseList||this.props.cruiseListRequestSend(),this.props.datasets||this.props.datasetRetrievalRequestSend(),t=["AreaMeasurement3D","Search","GraphicsLayer","SketchViewModel","Utils","Graphic"],e.next=6,Object(Jr.loadModules)(["esri/widgets/AreaMeasurement3D","esri/widgets/Search","esri/layers/GraphicsLayer","esri/widgets/Sketch/SketchViewModel","esri/geometry/support/webMercatorUtils","esri/Graphic"],{version:"next"});case 6:a=e.sent,n=t.reduce(function(e,t,n){return e[t]=a[n],e},{}),this.setState(Object(u.a)({},this.state,{esriModules:n}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.showChartsOnce&&(this.props.completedShowCharts(),this.setState(Object(u.a)({},this.state,{showCharts:!0})))}},{key:"render",value:function(){var e=this.props.classes;return this.props.user?r.a.createElement("div",null,r.a.createElement(rn,null),r.a.createElement(Yr,Object.assign({},this.state.spParams,{downloadTarget:this.state.downloadTarget,handleSetDownloadTarget:this.handleSetDownloadTarget})),r.a.createElement(dr,Object.assign({handleChange:this.handleChange,handleLatLonChange:this.handleLatLonChange,handleStartDateChange:this.handleStartDateChange,handleEndDateChange:this.handleEndDateChange,showUI:this.state.showUI,onVisualize:this.onVisualize,updateFields:this.updateFields},this.state.spParams,{surfaceOnly:this.state.surfaceOnly,irregularSpatialResolution:this.state.irregularSpatialResolution})),r.a.createElement(Wr,Object.assign({handleSetDownloadTarget:this.handleSetDownloadTarget,toggleChartView:this.toggleChartView,toggleShowUI:this.toggleShowUI,showCharts:this.state.showCharts,handleChange:this.handleChange,handleLatLonChange:this.handleLatLonChange,handleStartDateChange:this.handleStartDateChange,handleEndDateChange:this.handleEndDateChange,showUI:this.state.showUI,onVisualize:this.onVisualize,updateFields:this.updateFields},this.state.spParams,{surfaceOnly:this.state.surfaceOnly,irregularSpatialResolution:this.state.irregularSpatialResolution,showCharts:this.state.showCharts,handleShowCharts:this.handleShowCharts,handleShowGlobe:this.handleShowGlobe,resetSPParams:this.resetSPParams})),this.state.esriModules&&r.a.createElement("div",{className:"".concat(this.state.showCharts?e.displayNone:"")},r.a.createElement(Qo,{globeUIRef:this.globeUIRef,updateDomainFromGraphicExtent:this.updateDomainFromGraphicExtent,updateParametersFromCruiseBoundary:this.updateParametersFromCruiseBoundary,esriModules:this.state.esriModules,spParams:this.state.spParams,cruiseTrajectory:this.props.cruiseTrajectory})),r.a.createElement("div",{className:this.state.showCharts?e.showCharts:e.displayNone},r.a.createElement(_o,null))):r.a.createElement(tn,null)}}]),t}(n.Component),es=Object(l.b)(function(e,t){return{user:e.user,sampleData:e.sampleData,queryRequestState:e.queryRequestState,maps:e.maps,charts:e.charts,data:e.data,storedProcedureRequestState:e.storedProcedureRequestState,loadingMessage:e.loadingMessage,cruiseTrajectory:e.cruiseTrajectory,cruiseList:e.cruiseList,showChartsOnce:e.showChartsOnce,datasets:e.datasets}},Jo)(Object(Fa.a)(function(e){return{displayNone:{display:"none"},background:{backgroundColor:Na.backgroundGray},showCharts:{display:"inline-block"}}})(Xo)),ts={hideLoginDialog:de,showLoginDialog:pe,logOut:q,userLoginRequestSend:function(e,t){return{type:f,payload:{username:e,password:t}}},restoreInterfaceDefaults:he},as=function(e){function t(){var e,a;Object(Ve.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(wa.a)(this,(e=Object(Ta.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(e){a.props.userLoginRequestSend(a.props.username,a.props.password)},a.handleClose=function(){a.props.clearState(),a.props.hideLoginDialog(),a.props.restoreInterfaceDefaults()},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(mn.a,{open:this.props.loginDialogIsOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(hn.a,{id:"form-dialog-title"},"Login"),r.a.createElement(fn.a,null,r.a.createElement(ar.a,null,"Please enter your username and password, or ",r.a.createElement(Xa.a,{onClick:this.handleClose,component:Ma.b,to:{pathname:"/register"}},"Register.")),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(qa.a,{autoFocus:!0,margin:"normal",id:"username",label:"Username",type:"text",variant:"outlined",name:"username",value:this.props.username,onChange:this.props.handleChange,InputLabelProps:{shrink:!0}}),r.a.createElement(qa.a,{margin:"normal",id:"name",label:"Password",type:"password",variant:"outlined",name:"password",value:this.props.password,onChange:this.props.handleChange,InputLabelProps:{shrink:!0}}),r.a.createElement(Qr.a,null,r.a.createElement(Pa.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement("div",{className:e.wrapper},r.a.createElement(Pa.a,{color:"primary",type:"submit",onClick:this.handleLogin,disabled:!this.props.username||!this.props.password},"Log In"),this.props.userLoginState===m.inProgress&&r.a.createElement($a.a,{size:24,className:e.buttonProgress})))),this.props.userLoginState===m.failed?r.a.createElement(ar.a,null,"Login failed. Please try again."):""))}}]),t}(n.Component),ns=Object(l.b)(function(e,t){return{loginDialogIsOpen:e.loginDialogIsOpen,userLoginState:e.userLoginState,userLoginError:e.userLoginError}},ts)(Object(Fa.a)(function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(as)),rs=a(791),os={snackbarClose:function(){return{type:"SNACKBAR_CLOSE"}}},ss=Object(l.b)(function(e,t){return{snackbarIsOpen:e.snackbarIsOpen,snackbarMessage:e.snackbarMessage}},os)(Object(Fa.a)(function(e){return{centerText:{textAlign:"center"}}})(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rs.a,{className:t.centerText,autoHideDuration:4e3,message:e.snackbarMessage,onClose:e.snackbarClose,open:e.snackbarIsOpen,anchorOrigin:{horizontal:"center",vertical:"top"}}))})),is=a(403),ls=Object(Fa.a)(function(e){return{loader:{backgroundColor:"#000000",position:"fixed",top:0,right:0,bottom:0,left:0,opacity:.5,display:"flex",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh",zIndex:9998},loaderContent:{display:"flex",flexDirection:"column",alignItem:"center",justifyContent:"center",zIndex:9999,opacity:1},spinnerText:{zIndex:1e4,color:"#FF8000",marginTop:"25px",opacity:1},spinner:{opacity:1}}})(function(e){var t=e.classes,a=e.loadingMessage;return a&&a.length?r.a.createElement("div",{className:t.loader},r.a.createElement("div",{className:t.loaderContent},r.a.createElement(is,{className:t.spinner,color:"#FF8000",name:"ball-pulse-rise",fadeIn:"quarter"}),r.a.createElement(Ha.a,{variant:"h6",className:t.spinnerText},a))):""}),cs={loginDialogWasCleared:function(){return{type:"LOGIN_DIALOG_WAS_CLEARED"}}},us=function(e){function t(){var e,a;Object(Ve.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(wa.a)(this,(e=Object(Ta.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.handleLogOut=function(){a.clearState()},a.clearState=function(){a.setState({username:"",password:""}),a.props.loginDialogWasCleared()},a.componentDidUpdate=function(e){a.props.clearLoginDialog&&a.clearState()},a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ns,{clearState:this.clearState,username:this.state.username,password:this.state.password,handleChange:this.handleChange}),r.a.createElement(ss,null),r.a.createElement(ls,{loadingMessage:this.props.loadingMessage}))}}]),t}(n.Component),ps=Object(l.b)(function(e,t){return{clearLoginDialog:e.clearLoginDialog,loadingMessage:e.loadingMessage}},cs)(Object(Fa.a)(function(e){return{inlineBlock:{display:"inline-block"}}})(us)),ds=function(e){function t(){return Object(Ve.a)(this,t),Object(wa.a)(this,Object(Ta.a)(t).apply(this,arguments))}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.landingWrapper},r.a.createElement("img",{src:"/images/large_cmap_logo.png",height:"290",width:"600"}),r.a.createElement(Ha.a,{variant:"body2",component:"p",className:e.welcomeMessage},"Welcome to Simons CMAP. This application is currently under heavy development, and some features may be incomplete."))}}]),t}(n.Component),ms=Object(l.b)(function(e,t){return{user:e.user}},{})(Object(Fa.a)(function(e){return{landingWrapper:{margin:"15vh auto"},welcomeMessage:{color:"#ffffff",maxWidth:"500px",margin:"".concat(e.spacing(2),"px auto")}}})(ds)),hs=Object(ka.a)({typography:{useNextVariants:!0,fontFamily:['"Lato"',"sans-serif"].join(",")},palette:{primary:{contrastText:"#000000",main:Na.orange},error:{main:Na.errorYellow},secondary:{main:Na.aqua},background:{default:Na.backgroundGray,paper:Na.backgroundGray},text:{primary:"#ffffff",secondary:Na.orange}},overrides:{MuiIconButton:{root:{color:Na.orange,borderRadius:"10%"}},MuiListItemIcon:{root:{minWidth:"40px"}},MuiFormHelperText:{filled:{paddingLeft:"1px",paddingRight:"1px",fontSize:"13px"}},MuiListItem:{gutters:{paddingLeft:"6px",paddingRight:"10px"},root:{paddingTop:"4px",paddingBottom:"4px"}},MuiToolbar:{root:{backgroundColor:"transparent",color:Na.orange}},MuiOutlinedInput:{input:{padding:"12px 14px"},root:{"&$focused":{borderColor:Na.orange}}},MuiButtonGroup:{groupedOutlined:{"&:not(:first-child)":{marginLeft:0}}},MuiTableCell:{root:{borderBottomColor:"rgba(0, 0, 0, 0.9)"}},MuiFormControl:{marginNormal:{marginTop:"8px"}},MuiDialogContentText:{root:{color:"white"}},MuiDialogTitle:{root:{color:Na.orange}},MuiFilledInput:{input:{paddingLeft:"6px"},inputSelect:{paddingBottom:"6px"},adornedEnd:{paddingRight:"6px"},root:{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},"&:disabled":{backgroundColor:"transparent"}}}}}),fs=function(e){function t(e){var a;return Object(Ve.a)(this,t),(a=Object(wa.a)(this,Object(Ta.a)(t).call(this,e))).vizRef=r.a.createRef(),a}return Object(Da.a)(t,e),Object(Be.a)(t,[{key:"render",value:function(){return r.a.createElement(La.b,{utils:_a.a},r.a.createElement("div",{className:"App"},r.a.createElement(Ra.a,{theme:hs},r.a.createElement(Ma.a,null,r.a.createElement(ps,null),r.a.createElement(rn,null),r.a.createElement(Ia.c,null,r.a.createElement(Ia.a,{exact:!0,path:"/apikeymanagement",component:ln}),r.a.createElement(Ia.a,{exact:!0,path:"/",component:ms}),r.a.createElement(Ia.a,{exact:!0,path:"/catalog",component:Rn}),r.a.createElement(Ia.a,{exact:!0,path:"/register",component:Un}),r.a.createElement(Ia.a,{exact:!0,path:"/visualization",component:es}))))))}}]),t}(n.Component),bs=Object(l.b)(function(e,t){return{loadingMessage:e.loadingMessage}},null)(fs);i.LicenseManager.setLicenseKey("School_of_Oceanography_Simons_CMAP_1Devs_1Deployment_19_June_2020__MTU5MjUyMTIwMDAwMA==aec33f954c06d90afed06467402921bd");var gs=document.getElementById("root");s.a.render(r.a.createElement(l.a,{store:ja},r.a.createElement(bs,null)),gs),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[425,1,2]]]);
//# sourceMappingURL=main.ae6efb7c.chunk.js.map