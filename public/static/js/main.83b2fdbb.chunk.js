(this.webpackJsonpcmap_react=this.webpackJsonpcmap_react||[]).push([[0],{408:function(e,a){},450:function(e,a,t){e.exports=t(724)},455:function(e,a,t){},586:function(e,a){},588:function(e,a){},598:function(e,a,t){},717:function(e,a){},718:function(e,a){},724:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(30),s=t.n(o),i=(t(455),t(285));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=t(10),c=t(116),u=t(1),m={inProgress:"inProgress",failed:"failed",succeeded:"succeeded",expired:"expired"},p={catalogRequestState:null,loginDialogIsOpen:!1,registrationActiveStep:0,userLoginState:null,userLoginError:null,userValidationState:null,userValidationError:null,userRegistrationState:null,apiKeyRetrievalState:null,apiKeyCreationState:null},d=t(48),h=t(412),b=t(119),g=t.n(b),f={catalogRequestState:null,catalog:null,datasetRequestState:null,datasets:null,submissionOptions:null,keywords:[],searchOptions:{},searchResults:[],searchResultsLoadingState:m.succeeded,datasetFullPageData:{},datasetFullPageDataLoadingState:m.succeeded,cruiseFullPageData:{},datasetFullPageDataLoadingState:m.succeeded,cart:{},showCart:!1,loginDialogIsOpen:!1,changePasswordDialogIsOpen:!1,changeEmailDialogIsOpen:!1,registrationActiveStep:0,snackbarIsOpen:!1,snackbarMessage:null,loadingMessage:"",showHelp:!1,user:JSON.parse(g.a.get("UserInfo")||null),apiKeys:null,apiKeyRetrievalState:null,apiKeyCreationState:null,clearLoginDialog:!1,userLoginState:null,userValidationState:null,userRegistrationState:null,choosePasswordState:null,preferences:{},maps:[],charts:[],getCruiseTrajectoryRequestState:null,cruiseTrajectory:null,sampleData:null,queryRequestState:null,storedProcedureRequestState:null,getTableStatsRequestState:null,cruiseList:[],getCruiseListRequestState:null,showChartsOnce:null,chartID:0,vizPageDataTarget:null,vizSearchResults:{Observation:[],Model:[]},vizSearchResultsLoadingState:m.succeeded,memberVariables:[],memberVariablesLoadingState:m.succeeded,relatedData:[],relatedDataLoadingState:m.succeeded,autocompleteVariableNames:[],dataSubmissions:[],submissionComments:[],submissionCommentHistoryRetrievalState:m.succeeded,submissionFile:null,submissionUploadState:null},E=Object(h.a)(f,(function(e,a){switch(a.type){case"CATALOG_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{catalogRequestState:m.succeeded,catalog:a.payload.catalog});case"CATALOG_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{catalogRequestState:m.failed});case"CATALOG_RETRIEVAL_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{catalogRequestState:m.inProgress});case"DATASET_CATALOG_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{datasetsRequestState:m.succeeded,datasets:a.payload.datasets});case"DATASET_CATALOG_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{datasetsRequestState:m.failed});case"DATASET_CATALOG_RETRIEVAL_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{datasetsRequestState:m.inProgress});case"STORE_SUBMISSION_OPTIONS":return Object(u.a)(Object(u.a)({},e),{},{submissionOptions:a.payload.options});case"KEYWORDS_STORE":return Object(u.a)(Object(u.a)({},e),{},{keywords:a.payload.keywords});case"SEARCH_OPTIONS_STORE":return Object(u.a)(Object(u.a)({},e),{},{searchOptions:a.payload.searchOptions});case"SEARCH_RESULTS_STORE":return Object(u.a)(Object(u.a)({},e),{},{searchResults:a.payload.searchResults});case"SEARCH_RESULTS_SET_LOADING_STATE":return Object(u.a)(Object(u.a)({},e),{},{searchResultsLoadingState:a.payload.state});case"DATASET_FULL_PAGE_DATA_STORE":return Object(u.a)(Object(u.a)({},e),{},{datasetFullPageData:a.payload.datasetFullPageData});case"DATASET_FULL_PAGE_DATA_SET_LOADING_STATE":return Object(u.a)(Object(u.a)({},e),{},{datasetFullPageDataLoadingState:a.payload.state});case"CRUISE_FULL_PAGE_DATA_STORE":return Object(u.a)(Object(u.a)({},e),{},{cruiseFullPageData:a.payload.cruiseFullPageData});case"CRUISE_FULL_PAGE_DATA_SET_LOADING_STATE":return Object(u.a)(Object(u.a)({},e),{},{cruiseFullPageDataLoadingState:a.payload.state});case"CART_ADD_ITEM":return Object(u.a)(Object(u.a)({},e),{},{cart:Object(u.a)(Object(u.a)({},e.cart),{},{[a.payload.item.Long_Name]:a.payload.item})});case"CART_REMOVE_ITEM":return Object(u.a)(Object(u.a)({},e),{},{cart:function(){var t=Object(u.a)({},e.cart);return delete t[a.payload.item.Long_Name],t}()});case"CART_CLEAR":return Object(u.a)(Object(u.a)({},e),{},{cart:{}});case"CART_ADD_MULTIPLE":return Object(u.a)(Object(u.a)({},e),{},{cart:Object(u.a)(Object(u.a)({},e.cart),a.payload.items)});default:return e}}),(function(e,a){switch(a.type){case"LOGIN_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{userLoginState:m.inProgress});case"LOGIN_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{userLoginState:m.succeeded,userLoginError:null});case"LOGIN_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{userLoginState:m.failed});case"LOGIN_REQUEST_CLEAR_ERROR":return Object(u.a)(Object(u.a)({},e),{},{userLoginError:null});case"STORE_INFO":return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)({},a.payload.user)});case"DESTROY_INFO":return Object(u.a)(Object(u.a)({},e),{},{user:null,apiKeys:null,clearLoginDialog:!0});case"LOGIN_DIALOG_WAS_CLEARED":return Object(u.a)(Object(u.a)({},e),{},{clearLoginDialog:!1});case"VALIDATION_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{userValidationState:m.inProgress});case"VALIDATION_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{userValidationState:m.failed});case"VALIDATION_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{userValidationState:null});case"REGISTRATION_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{userRegistrationState:m.inProgress});case"REGISTRATION_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{userRegistrationState:m.failed});case"REGISTRATION_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{userRegistrationState:m.succeeded});case"KEY_RETRIEVAL_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{apiKeys:a.payload.keys});case"KEY_RETRIEVAL_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{apiKeyRetrievalState:m.failed});case"KEY_CREATION_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{apiKeyCreationState:m.inProgress});case"KEY_CREATION_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{apiKeyCreationState:m.failed});case"KEY_CREATION_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{apiKeyCreationState:m.succeeded});case"CHOOSE_PASSWORD_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{choosePasswordState:m.succeeded});case"CHOOSE_PASSWORD_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{choosePasswordState:m.failed});case"CHOOSE_PASSWORD_REQUEST_RESET":return Object(u.a)(Object(u.a)({},e),{},{choosePasswordState:null});default:return e}}),(function(e,a){switch(a.type){case"INTERFACE_SHOW_LOGIN_DIALOG":return Object(u.a)(Object(u.a)({},e),{},{loginDialogIsOpen:!0});case"INTERFACE_HIDE_LOGIN_DIALOG":return Object(u.a)(Object(u.a)({},e),{},{loginDialogIsOpen:!1,userLoginError:null});case"REGISTRATION_NEXT_ACTIVE_STEP":return Object(u.a)(Object(u.a)({},e),{},{registrationActiveStep:e.registrationActiveStep+1});case"REGISTRATION_PREVIOUS_ACTIVE_STEP":return Object(u.a)(Object(u.a)({},e),{},{registrationActiveStep:e.registrationActiveStep-1});case"RESTORE_INTERFACE_DEFAULTS":return Object(u.a)(Object(u.a)({},e),p);case"SNACKBAR_OPEN":return Object(u.a)(Object(u.a)({},e),{},{snackbarIsOpen:!0,snackbarMessage:a.payload.message});case"SNACKBAR_CLOSE":return Object(u.a)(Object(u.a)({},e),{},{snackbarIsOpen:!1});case"SET_LOADING_MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{loadingMessage:a.payload.message});case"TOGGLE_SHOW_HELP":return Object(u.a)(Object(u.a)({},e),{},{showHelp:!e.showHelp});case"SHOW_CHANGE_EMAIL_DIALOG":return Object(u.a)(Object(u.a)({},e),{},{changeEmailDialogIsOpen:!0});case"HIDE_CHANGE_EMAIL_DIALOG":return Object(u.a)(Object(u.a)({},e),{},{changeEmailDialogIsOpen:!1});case"SHOW_CHANGE_PASSWORD_DIALOG":return Object(u.a)(Object(u.a)({},e),{},{changePasswordDialogIsOpen:!0});case"HIDE_CHANGE_PASSWORD_DIALOG":return Object(u.a)(Object(u.a)({},e),{},{changePasswordDialogIsOpen:!1});case"SET_SHOW_CART":return Object(u.a)(Object(u.a)({},e),{},{showCart:a.payload.showCart});default:return e}}),(function(e,a){switch(a.type){case"QUERY REQUEST PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{queryRequestState:m.inProgress});case"QUERY REQUEST FAILURE":return Object(u.a)(Object(u.a)({},e),{},{queryRequestState:m.failed});case"QUERY REQUEST SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{queryRequestState:m.succeeded});case"STORED_PROCEDURE_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{storedProcedureRequestState:m.inProgress});case"STORED_PROCEDURE_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{storedProcedureRequestState:m.failed});case"STORED_PROCEDURE_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{storedProcedureRequestState:m.succeeded});case"ADD_LAYER":return Object(u.a)(Object(u.a)({},e),{},{layers:[].concat(Object(d.a)(e.layers),[a.payload.newLayer])});case"STORE_SAMPLE_DATA":return Object(u.a)(Object(u.a)({},e),{},{sampleData:a.payload.sampleData});case"ADD_MAP":return Object(u.a)(Object(u.a)({},e),{},{maps:[].concat(Object(d.a)(e.maps),[a.payload.mapInfo])});case"ADD_CHART":return Object(u.a)(Object(u.a)({},e),{},{charts:[Object(u.a)(Object(u.a)({},a.payload.chartInfo),{},{id:e.chartID})].concat(Object(d.a)(e.charts)),chartID:e.chartID+1});case"CLEAR_CHARTS":return Object(u.a)(Object(u.a)({},e),{},{charts:[]});case"CLEAR_MAPS":return Object(u.a)(Object(u.a)({},e),{},{maps:[]});case"DELETE_CHART":return Object(u.a)(Object(u.a)({},e),{},{charts:[].concat(Object(d.a)(e.charts.slice(0,a.payload.chartIndex)),Object(d.a)(e.charts.slice(a.payload.chartIndex+1)))});case"CRUISE_TRAJECTORY_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{getCruiseTrajectoryRequestState:m.inProgress});case"CRUISE_TRAJECTORY_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{cruiseTrajectory:a.payload.trajectory,getCruiseTrajectoryRequestState:m.succeeded});case"CRUISE_TRAJECTORY_CLEAR":return Object(u.a)(Object(u.a)({},e),{},{cruiseTrajectory:null});case"CRUISE_TRAJECTORY_REQUEST_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{getCruiseTrajectoryRequestState:m.failed});case"CRUISE_LIST_REQUEST_PROCESSING":return Object(u.a)(Object(u.a)({},e),{},{getCruiseListRequestState:m.inProgress});case"CRUISE_LIST_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{getCruiseListRequestState:m.succeeded,cruiseList:a.payload.cruiseList});case"TRIGGER_SHOW_CHARTS":return Object(u.a)(Object(u.a)({},e),{},{showChartsOnce:!0});case"COMPLETED_SHOW_CHARTS":return Object(u.a)(Object(u.a)({},e),{},{showChartsOnce:!1});case"TABLE_STATS_REQUEST_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{datasets:Object(u.a)(Object(u.a)({},e.datasets),{},{[a.payload.datasetLongName]:Object(u.a)(Object(u.a)({},e.datasets[a.payload.datasetLongName]),{},{tableStats:a.payload.tableStats})})});case"VIZ_PAGE_DATA_TARGET_SET":return Object(u.a)(Object(u.a)({},e),{},{vizPageDataTarget:a.payload.target});case"VIZ_SEARCH_RESULTS_STORE":return Object(u.a)(Object(u.a)({},e),{},{vizSearchResults:a.payload.searchResults});case"VIZ_SEARCH_RESULTS_SET_LOADING_STATE":return Object(u.a)(Object(u.a)({},e),{},{vizSearchResultsLoadingState:a.payload.state});case"MEMBER_VARIABLES_STORE":return Object(u.a)(Object(u.a)({},e),{},{memberVariables:a.payload.variables});case"MEMBER_VARIABLES_SET_LOADING_STATE":return Object(u.a)(Object(u.a)({},e),{},{memberVariablesLoadingState:a.payload.state});case"RELATED_DATA_STORE":return Object(u.a)(Object(u.a)({},e),{},{relatedData:a.payload.data});case"RELATED_DATA_SET_LOADING_STATE":return Object(u.a)(Object(u.a)({},e),{},{relatedDataLoadingState:a.payload.state});case"VARIABLE_NAME_AUTOCOMPLETE_STORE":return Object(u.a)(Object(u.a)({},e),{},{autocompleteVariableNames:a.payload.autocompleteVariableNames});default:return e}}),(function(e,a){switch(a.type){case"STORE_SUBMISSIONS":return Object(u.a)(Object(u.a)({},e),{},{dataSubmissions:a.payload.submissions});case"SET_SUBMISSION_COMMENT_HISTORY_RETRIEVAL_STATE":return Object(u.a)(Object(u.a)({},e),{},{submissionCommentHistoryRetrievalState:a.payload.state});case"STORE_SUBMISSION_COMMENTS":var t=Object(d.a)(e.submissionComments);return t[a.payload.submissionID]=a.payload.comments,Object(u.a)(Object(u.a)({},e),{},{submissionComments:t});case"STORE_SUBMISSION_FILE":return Object(u.a)(Object(u.a)({},e),{},{submissionFile:a.payload.file});case"SET_UPLOAD_STATE":return Object(u.a)(Object(u.a)({},e),{},{submissionUploadState:a.payload.state});default:return e}})),x=t(428),v=t(4),y=t.n(v),S=t(2),O=t(195),w=t.n(O),C=function(e){return{type:"STORE_INFO",payload:{user:e}}},_=function(e){return{type:"GOOGLE_LOGIN_REQUEST_SEND",payload:{userIDToken:e}}},k=function(){return{type:"LOG_OUT"}},T=function(){return{type:"KEY_RETRIEVAL_REQUEST_SEND"}},j=function(){return{type:"INITIALIZE_GOOGLE_AUTH"}},A=function(){return{type:"CATALOG_RETRIEVAL_REQUEST_SEND"}},N=function(e){return{type:"CATALOG_RETRIEVAL_REQUEST_SUCCESS",payload:{catalog:e}}},R=function(){return{type:"DATASET_CATALOG_RETRIEVAL_REQUEST_SEND"}},D=function(e){return{type:"DATASET_CATALOG_RETRIEVAL_REQUEST_SUCCESS",payload:{datasets:e}}},L=function(e){return{type:"STORE_SUBMISSION_OPTIONS",payload:{options:e}}},I=function(){return{type:"SEARCH_OPTIONS_FETCH"}},P=function(e){return{type:"SEARCH_RESULTS_STORE",payload:{searchResults:e}}},M=function(e){return{type:"SEARCH_RESULTS_SET_LOADING_STATE",payload:{state:e}}},F=function(e){return{type:"DATASET_FULL_PAGE_DATA_STORE",payload:{datasetFullPageData:e}}},z=function(e){return{type:"DATASET_FULL_PAGE_DATA_SET_LOADING_STATE",payload:{state:e}}},U=function(e){return{type:"CRUISE_FULL_PAGE_DATA_STORE",payload:{cruiseFullPageData:e}}},V=function(e){return{type:"CRUISE_FULL_PAGE_DATA_SET_LOADING_STATE",payload:{state:e}}},B=function(){return{type:"INTERFACE_SHOW_LOGIN_DIALOG"}},H=function(){return{type:"INTERFACE_HIDE_LOGIN_DIALOG"}},G=function(){return{type:"REGISTRATION_NEXT_ACTIVE_STEP"}},W=function(){return{type:"RESTORE_INTERFACE_DEFAULTS"}},q=function(e){return{type:"SNACKBAR_OPEN",payload:{message:e}}},Q=function(e){return{type:"SET_LOADING_MESSAGE",payload:{message:e}}},K=function(){return{type:"TOGGLE_SHOW_HELP"}},Y=function(){return{type:"HIDE_CHANGE_PASSWORD_DIALOG"}},Z=function(){return{type:"HIDE_CHANGE_EMAIL_DIALOG"}},$=function(e){return{type:"SET_SHOW_CART",payload:{showCart:e}}},J=function(){return{type:"CLEAR_CHARTS"}},X=function(e){return{type:"CRUISE_TRAJECTORY_REQUEST_SEND",payload:{id:e}}},ee=function(e){return{type:"CRUISE_LIST_REQUEST_SEND"}},ae=function(e){return{type:"CRUISE_LIST_REQUEST_SUCCESS",payload:{cruiseList:e}}},te=function(e,a,t){return{type:"CSV_DOWNLOAD_REQUEST_SEND",payload:{query:e,fileName:a,tableName:t}}},ne=function(e,a){return{type:"DOWNLOAD_TEXT_AS_CSV",payload:{text:e,fileName:a}}},re=function(e,a,t,n){return{type:"CSV_FROM_VIZ_REQUEST_SEND",payload:{vizObject:e,tableName:a,shortName:t,longName:n}}},oe=function(e){return{type:"VIZ_PAGE_DATA_TARGET_SET",payload:{target:e}}},se=function(e){return{type:"VIZ_SEARCH_RESULTS_STORE",payload:{searchResults:e}}},ie=function(e){return{type:"VIZ_SEARCH_RESULTS_SET_LOADING_STATE",payload:{state:e}}},le=function(e){return{type:"MEMBER_VARIABLES_STORE",payload:{variables:e}}},ce=function(e){return{type:"VARIABLE_NAME_AUTOCOMPLETE_STORE",payload:{autocompleteVariableNames:e}}},ue=function(){return{type:"RETRIEVE_SUBMISSIONS_BY_USER"}},me=function(e,a){return{type:"ADD_SUBMISSION_COMMENT",payload:{submissionID:e,comment:a}}},pe=function(e){return{type:"RETRIEVE_SUBMISSION_COMMENT_HISTORY",payload:{submissionID:e}}},de=function(e){return{type:"STORE_SUBMISSIONS",payload:{submissions:e}}},he=function(e){return{type:"STORE_SUBMISSION_COMMENTS",payload:e}},be=function(){return{type:"RETRIEVE_ALL_SUBMISSIONS"}},ge=function(e){return{type:"SET_SUBMISSION_COMMENT_HISTORY_RETRIEVAL_STATE",payload:{state:e}}},fe=function(e){return{type:"STORE_SUBMISSION_FILE",payload:{file:e}}},Ee=function(e){return{type:"CHECK_SUBMISSION_OPTIONS_AND_STORE_FILE",payload:{file:e}}},xe=function(e){return{type:"SET_UPLOAD_STATE",payload:{state:e}}},ve=function(e){return{type:"DOWNLOAD_MOST_RECENT_FILE",payload:{submissionID:e}}},ye=t(33),Se=t(160),Oe=t.n(Se),we="http://localhost:3000"===window.location.origin?"http://localhost:8080":window.location.origin,Ce=t(17),_e=t(24),ke=t(858),Te=t(779),je={irregular:"Irregular",halfDegree:"1/2\xb0 X 1/2\xb0",quarterDegree:"1/4\xb0 X 1/4\xb0",twentyFifthDegree:"1/25\xb0 X 1/25\xb0",fourKm:"4km X 4km",twelfthDegree:"1/12\xb0 X 1/12\xb0",seventyKm:"70km X 70km",oneDegree:"1\xb0 X 1\xb0",nineKm:"9km X 9km",twentyFiveKm:"25km X 25km"},Ae=function(e){return{[je.halfDegree]:.5,[je.quarterDegree]:.25,[je.twentyFifthDegree]:.04,[je.fourKm]:.041672,[je.twelfthDegree]:.083333,[je.oneDegree]:1,[je.seventyKm]:.25,[je.nineKm]:.083333,[je.twentyFiveKm]:.23148}[e]},Ne=function(e){for(var a=[],t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)a.push(e[t][n]);return a},Re=function(e,a,t){for(var n=[],r=0;r<t;r++)n.push([]);for(var o=0;o<e.length;o++){n[Math.floor(o/a)%t].push(e[o])}return n},De=function(e,a,t,n){for(var r=[],o=a*(n-1),s=0;s+o<e.length;s+=t){for(var i=[],l=0;l<e[s].length;l++){for(var c=0,u=0,m=s;m<s+a*n;m+=a)isNaN(e[m][l])||(c+=e[m][l],u++);i.push(u<1?null:c/u)}r.push(i)}return r},Le=function(e,a,t,n){for(var r=[],o=a*(n-1),s=0;s+o<e.length;s+=t){for(var i=[],l=s;l<=s+o;l+=a)i=[].concat(Object(d.a)(i),Object(d.a)(e[l]));r.push(i)}return r},Ie={sectionMap:"Section Map",contourSectionMap:"Contour Section Map",timeSeries:"Time Series",histogram:"Histogram",depthProfile:"Depth Profile",heatmap:"Heatmap",contourMap:"Contour Map",sparse:"Sparse"},Pe={threeMinutes:"Three Minutes",sixHourly:"Six Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",annual:"Annual",irregular:"Irregular",monthlyClimatology:"Monthly Climatology",threeDay:"Three Days",eightDayRunning:"Eight Day Running",eightDays:"Eight Days "},Me=function(){function e(a){var t=this;Object(Ce.a)(this,e),this.generateCsv=function(){var e,a=Array.from(t.dates),n=Array.from(t.depths);if(t.hasDepth){e=["time,lat,lon,depth,".concat(t.parameters.fields)];for(var r=0;r<t.variableValues.length;r++)e.push("".concat(a[Math.floor(r/(t.variableValues.length/a.length))],",").concat(t.lats[r],",").concat(t.lons[r]>180?t.lons[r]-360:t.lons[r],",").concat(n[Math.floor(r/(t.variableValues.length/(a.length*n.length)))%n.length],",").concat(isNaN(t.variableValues[r])?"":t.variableValues[r]))}else{e=["time,lat,lon,".concat(t.parameters.fields)];for(var o=0;o<t.variableValues.length;o++)e.push("".concat(a[Math.floor(o/(t.variableValues.length/a.length))],",").concat(t.lats[o],",").concat(t.lons[o]>180?t.lons[o]-360:t.lons[o],",").concat(isNaN(t.variableValues[o])?"":t.variableValues[o]))}return e.join("\n")},this.parameters=a.parameters,this.metadata=a.metadata,this.hasDepth=null,this.hasHours=null,this.isMonthly=null,this.depths=new Set,this.dates=new Set,this.variableValues=[],this.zMin=null,this.zMax=null,this.extent=[null,null],this.indexAdjust=null,this.payload=a,this.lats=[],this.lons=[],this.lonMin=null,this.lonMax=null,this.latMin=null,this.latMax=null,this.distinctLatCount=null,this.distinctLonCount=null}return Object(_e.a)(e,[{key:"add",value:function(e){var a=parseFloat(e[1]),t=parseFloat(e[2]),n=t<this.parameters.lon1?t+360:t;null===this.hasDepth&&(this.hasHour="tblWind_NRT"===this.metadata.Table_Name,this.isMonthly=this.metadata.Temporal_Resolution===Pe.monthlyClimatology,this.hasDepth=5===e.length&&!this.hasHour,this.indexAdjust=this.hasDepth||this.hasHour?1:0,this.lonMin=n,this.lonMax=n,this.latMin=a,this.latMax=a);var r,o=parseFloat(e[3+this.indexAdjust]);this.hasDepth&&this.depths.add(e[3]),this.hasHour?((r=new Date(e[0])).setUTCHours(e[3]),r=r.toISOString()):r=e[0],this.dates.add(r),this.lats.push(a),this.lons.push(n),n<this.lonMin&&(this.lonMin=n),n>this.lonMax&&(this.lonMax=n),a<this.latMin&&(this.latMin=a),a>this.latMax&&(this.latMax=a),this.variableValues.push(o)}},{key:"finalize",value:function(){0===this.depths.size&&this.depths.add("Surface"),this.lonCount=this.lons.length/this.dates.size/this.depths.size,this.latCount=this.lats.length/this.dates.size/this.depths.size;var e=Object(ke.a)(this.variableValues,.05),a=Object(ke.a)(this.variableValues,.95);this.zMin=void 0===e?null:parseFloat(e.toPrecision(4)),this.zMax=void 0===a?null:parseFloat(a.toPrecision(4)),this.extent=Object(Te.a)(this.variableValues);var t=Ae(this.metadata.Spatial_Resolution);this.distinctLatCount=Math.round((this.latMax-this.latMin)/t)+1,this.distinctLonCount=Math.round((this.lonMax-this.lonMin)/t)+1}},{key:"generatePlotData",value:function(e,a,t){var n,r=this,o=this.distinctLonCount*this.distinctLatCount,s=o*this.depths.size;return n=(n=Re(this.variableValues,s,this.dates.size)).map((function(e){return Re(e,o,r.depths.size)})),n=Ne(n),e===Ie.contourMap||e===Ie.heatmap?a&&t||(n=a?De(n,1,this.depths.size,this.depths.size):t?De(n,this.depths.size,1,this.dates.size):De(n,1,n.length,n.length)):e===Ie.histogram&&(a&&t||(n=a?Le(n,1,this.depths.size,this.depths.size):t?Le(n,this.depths.size,1,this.dates.size):[this.variableValues])),n}}]),e}(),Fe={sectionMap:"uspSectionMap",timeSeries:"uspTimeSeries",spaceTime:"uspSpaceTime",depthProfile:"uspDepthProfile"},ze=function(){function e(a){Object(Ce.a)(this,e),this.parameters=a.parameters,this.metadata=a.metadata,this.variableValues=[],this.stds=[],this.dates=[],this.lat=null,this.lon=null,this.depth=null,this.depthIndexAdjust=null}return Object(_e.a)(e,[{key:"add",value:function(e){null===this.lat&&(this.depthIndexAdjust=6===e.length?1:0,this.lat=e[1],this.lon=e[2],this.depth=6===e.length&&e[3],this.hasHour="tblWind_NRT"===this.metadata.Table_Name,this.isMonthly=this.metadata.Temporal_Resolution===Pe.monthlyClimatology),this.variableValues.push(e[3+this.depthIndexAdjust]),this.stds.push(e[4+this.depthIndexAdjust]),this.dates.push(e[0])}},{key:"finalize",value:function(){!1===this.depth&&(this.depth="Surface")}},{key:"generatePlotData",value:function(){return this.variableValues}},{key:"generateCsv",value:function(){for(var e="time,".concat(this.parameters.fields,",").concat(this.parameters.fields,"_std"),a=0;a<this.variableValues.length;a++)e+="\n".concat(this.dates[a],",").concat(isNaN(this.variableValues[a])?"":this.variableValues[a],",").concat(isNaN(this.stds[a])?"":this.stds[a]);return e}}]),e}(),Ue=function(){function e(a){Object(Ce.a)(this,e),this.parameters=a.parameters,this.metadata=a.metadata,this.variableValues=[],this.stds=[],this.lat=null,this.lon=null,this.depths=[]}return Object(_e.a)(e,[{key:"add",value:function(e){null===this.lat&&(this.lat=parseFloat(e[0]),this.lon=parseFloat(e[1]),this.isMonthly=this.metadata.Temporal_Resolution===Pe.monthlyClimatology),this.variableValues.push(parseFloat(e[2])),this.stds.push(parseFloat(e[3])),this.depths.push(parseFloat(e[4]))}},{key:"finalize",value:function(){}},{key:"generatePlotData",value:function(){return this.variableValues}},{key:"generateCsv",value:function(){for(var e="depth,".concat(this.parameters.fields,",").concat(this.parameters.fields,"_std"),a=0;a<this.variableValues.length;a++)e+="\n".concat(this.depths[a],",").concat(isNaN(this.variableValues[a])?"":this.variableValues[a],",").concat(isNaN(this.stds[a])?"":this.stds[a]);return e}}]),e}(),Ve=function(){function e(a){var t=this;Object(Ce.a)(this,e),this.generateCsv=function(){for(var e=Array.from(t.dates),a=Array.from(t.depths),n=Array.from(t.lons),r=Array.from(t.lats),o=a.length,s=o*n.length,i=["time,lat,lon,depth,".concat(t.parameters.fields)],l=0;l<t.variableValues.length;l++)i.push("".concat(e[Math.floor(l/(t.variableValues.length/e.length))],",").concat(r[Math.floor(l/s)%r.length],",").concat(n[Math.floor(l/o)%n.length],",").concat(a[l%a.length],",").concat(isNaN(t.variableValues[l])?"":t.variableValues[l]));return i.join("\n")},this.parameters=a.parameters,this.metadata=a.metadata,this.subType=a.subType,this.dates=new Set,this.depths=new Set,this.lats=new Set,this.lons=new Set,this.lonMin=null,this.lonMax=null,this.variableValues=[],this.zMin=null,this.zMax=null,this.extent=[null,null],this.orientation=null}return Object(_e.a)(e,[{key:"add",value:function(e){var a=e[0],t=parseFloat(e[1]),n=parseFloat(e[2]),r=n<this.parameters.lon1?n+360:n,o=parseFloat(e[3]),s=parseFloat(e[4]);0===this.variableValues.length&&(this.isMonthly=this.metadata.Temporal_Resolution===Pe.monthlyClimatology),this.depths.add(o),this.dates.add(a),this.lats.add(t),this.lons.add(r),this.variableValues.push(s)}},{key:"finalize",value:function(){var e=Object(ke.a)(this.variableValues,.05),a=Object(ke.a)(this.variableValues,.95);this.zMin=void 0===e?null:parseFloat(e.toPrecision(4)),this.zMax=void 0===a?null:parseFloat(a.toPrecision(4)),this.extent=Object(Te.a)(this.variableValues),this.orientation=this.lons.size>this.lats.size?"zonal":"meridional";var t=Array.from(this.lons);this.lonMax=Math.max.apply(Math,Object(d.a)(t)),this.lonMin=Math.min.apply(Math,Object(d.a)(t))}},{key:"generatePlotData",value:function(e,a,t){var n,r=this.lats.size,o=this.lons.size,s=this.depths.size,i=s*o,l=i*r,c=Re(this.variableValues,l,this.dates.size);return"zonal"===e?(c=c.map((function(e){return Re(e,i,r)})),c=Ne(c),n=r):(c=c.map((function(e){return Re(e,s,o)})),c=Ne(c),n=o),a&&t||(c=a?De(c,1,n,n):t?De(c,n,1,this.dates.size):De(c,1,c.length,c.length)),c}}]),e}(),Be=function(){function e(a){Object(Ce.a)(this,e),this.parameters=a.parameters,this.metadata=a.metadata,this.hasDepth=null,this.variableIndex=a.metadata.Depth_Min?4:3,this.depths=[],this.times=[],this.variableValues=[],this.lats=[],this.lons=[],this.zMin=null,this.zMax=null,this.extent=[null,null],this.latMin=null,this.latMax=null,this.lonMin=null,this.lonMax=null}return Object(_e.a)(e,[{key:"add",value:function(e){var a=parseFloat(e[1]),t=parseFloat(e[2]);null===this.hasDepth&&(this.hasDepth=Boolean(this.metadata.Depth_Min),this.latMin=a,this.latMax=a,this.lonMin=t,this.lonMax=t),e[this.variableIndex]&&(this.times.push(e[0]),this.lats.push(a),this.lons.push(t),this.hasDepth&&this.depths.push(parseFloat(e[3])),this.variableValues.push(parseFloat(e[this.variableIndex])),a<this.latMin&&(this.latMin=a),a>this.latMax&&(this.latMax=a),t<this.lonMin&&(this.lonMin=t),t>this.lonMax&&(this.lonMax=t))}},{key:"finalize",value:function(){var e=Object(ke.a)(this.variableValues,.05),a=Object(ke.a)(this.variableValues,.95);this.zMin=void 0===e?null:e.toPrecision(4),this.zMax=void 0===a?null:a.toPrecision(4),this.extent=Object(Te.a)(this.variableValues);var t=Math.abs(this.latMax-this.latMin),n=Math.abs(this.lonMax-this.lonMin),r=Math.sqrt(t*t+n*n),o=4-Math.floor(r/12);this.zoom=o<0?0:o;var s=(this.lonMax+this.lonMin)/2,i=(this.latMax+this.latMin)/2;this.center={lon:s,lat:i}}},{key:"generatePlotData",value:function(e,a,t){return this.variableValues}},{key:"generateCsv",value:function(){var e;if(this.hasDepth){e=["time,lat,lon,depth,".concat(this.parameters.fields)];for(var a=0;a<this.variableValues.length;a++)e.push("".concat(this.times[a],",").concat(this.lats[a],",").concat(this.lons[a],",").concat(this.depths[a],",").concat(isNaN(this.variableValues[a])?"":this.variableValues[a]))}else{e=["time,lat,lon,".concat(this.parameters.fields)];for(var t=0;t<this.variableValues.length;t++)e.push("".concat(this.times[t],",").concat(this.lats[t],",").concat(this.lons[t],",").concat(isNaN(this.variableValues[t])?"":this.variableValues[t]))}return e.join("\n")}}]),e}(),He=t(161),Ge=t.n(He),We={credentials:"include"},qe=Object(u.a)(Object(u.a)({},We),{},{method:"POST",headers:{"Content-Type":"application/json"}}),Qe=function(e){return Object.keys(e).reduce((function(a,t,n){return"".concat(a).concat(0===n?"":"&&").concat(t,"=").concat(e[t])}),"")},Ke={user:{},dataRetrieval:{},catalog:{},visualization:{},dataSubmission:{}};Ke.user.login=function(e){return fetch(we+"/user/signin",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(e)}))},Ke.user.logout=function(){return fetch(we+"/user/signout",We)},Ke.user.register=function(e){return fetch(we+"/user/signup",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(e)}))},Ke.user.validate=function(e){return fetch(we+"/user/validate",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(e)}))},Ke.user.googleLoginRequest=function(){var e=Object(ye.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/user/googleauth",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify({userIDToken:a})}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.contactUs=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/user/contactus",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.changePassword=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/user/changepassword",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.changeEmail=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/user/changeemail",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.catalog.retrieve=Object(ye.a)(y.a.mark((function e(){var a,t,n,r,o,s,i,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge.a.TextDecoder,t=[],(n=Oe()({columns:!0})).on("readable",(function(){for(var e;e=n.read();)t.push(e)})),e.next=6,fetch(we+"/api/catalog",We);case 6:if((r=e.sent).ok){e.next=9;break}return e.abrupt("return",!1);case 9:o=r.body,s=o.getReader(),i=!1;case 12:if(i){e.next=20;break}return e.next=15,s.read();case 15:(l=e.sent).done?i=!0:n.write(a.decode(l.value)),e.next=12;break;case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)}))),Ke.catalog.datasets=Object(ye.a)(y.a.mark((function e(){var a,t,n,r,o,s,i,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Ge.a.TextDecoder,t={},(n=Oe()({columns:!0})).on("readable",(function(){for(var e;e=n.read();)t[e.Dataset_Long_Name.trim()]=e})),e.next=6,fetch(we+"/api/catalog/datasets",We);case 6:if((r=e.sent).ok){e.next=9;break}return e.abrupt("return",!1);case 9:o=r.body,s=o.getReader(),i=!1;case 12:if(i){e.next=20;break}return e.next=15,s.read();case 15:(l=e.sent).done?i=!0:n.write(a.decode(l.value)),e.next=12;break;case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)}))),Ke.catalog.submissionOptions=Object(ye.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/submissionoptions");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ke.catalog.searchResults=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/searchcatalog"+a,We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.keyRetrieval=Object(ye.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/user/retrieveapikeys",We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ke.user.keyCreation=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/user/generateapikey?description=".concat(a.trim()),We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.updateUserInfo=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/user/updateinfo",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.catalog.fetchKeywords=Object(ye.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/keywords");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ke.catalog.datasetFullPageDataFetch=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/datasetfullpage?shortname=".concat(a),We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.catalog.cruiseFullPageDataFetch=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/cruisefullpage?name=".concat(a),We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.catalog.cruiseSearch=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/searchcruises"+a,We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.recoverPassword=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(we+"/api/user/forgotpassword",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify({email:a})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.choosePassword=function(){var e=Object(ye.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.password,n=a.token,e.next=3,fetch(we+"/api/user/choosepassword",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify({password:t,token:n})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.visualization.storedProcedureRequest=function(){var e=Object(ye.a)(y.a.mark((function e(a){var t,n,r,o,s,i,l,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Ge.a.TextDecoder,e.t0=a.parameters.spName,e.next=e.t0===Fe.spaceTime?4:e.t0===Fe.timeSeries?6:e.t0===Fe.depthProfile?8:e.t0===Fe.sectionMap?10:12;break;case 4:return n="Sparse"===a.subType?new Be(a):new Me(a),e.abrupt("break",13);case 6:return n=new ze(a),e.abrupt("break",13);case 8:return n=new Ue(a),e.abrupt("break",13);case 10:return n=new Ve(a),e.abrupt("break",13);case 12:console.log("Unknown sproc name");case 13:return e.next=15,fetch(we+"/api/data/sp?"+Qe(a.parameters),We);case 15:if((r=e.sent).ok){e.next=18;break}return e.abrupt("return",{failed:!0,status:r.status});case 18:(o=Oe()({from:2})).on("readable",(function(){for(var e;e=o.read();)n.add(e)})),o.on("error",(function(e){console.log(e)})),s=r.body,i=s.getReader(),l=!1;case 24:if(l){e.next=32;break}return e.next=27,i.read();case 27:(c=e.sent).done?l=!0:o.write(t.decode(c.value)),e.next=24;break;case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.visualization.getTableStats=function(){var e=Object(ye.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/dataretrieval/tablestats?table="+a,We);case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",{failed:!0,status:t.status});case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.visualization.cruiseTrajectoryRequest=function(){var e=Object(ye.a)(y.a.mark((function e(a){var t,n,r,o,s,i,l,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ge.a.TextDecoder,n={lats:[],lons:[]},e.next=4,fetch(we+"/api/data/cruisetrajectory?"+"id=".concat(a.id),We);case 4:if((r=e.sent).ok){e.next=7;break}return e.abrupt("return",{failed:!0,status:r.status});case 7:(o=Oe()({from:2})).on("readable",(function(){for(var e;e=o.read();)n.lats.push(parseFloat(e[1])),n.lons.push(parseFloat(e[2]))})),s=r.body,i=s.getReader(),l=!1;case 12:if(l){e.next=20;break}return e.next=15,i.read();case 15:(c=e.sent).done?l=!0:o.write(t.decode(c.value)),e.next=12;break;case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.visualization.cruiseList=Object(ye.a)(y.a.mark((function e(){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/data/cruiselist",We);case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),Ke.visualization.csvDownload=function(){var e=Object(ye.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,fetch(we+"/api/data/query?query=".concat(a),We);case 4:if(!(t=e.sent).ok){e.next=11;break}return e.next=8,t.text();case 8:return e.abrupt("return",e.sent);case 11:return e.abrupt("return",{failed:!0,status:t.status});case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.visualization.memberVariablesFetch=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/membervariables?datasetID=".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.visualization.autocompleteVariableNamesFetch=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/autocompletevariablesnames?searchTerms=".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.visualization.variableSearch=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/catalog/variablesearch".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.retrieveSubmissionByUser=Object(ye.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/datasubmission/submissionsbyuser",We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ke.dataSubmission.retrieveAllSubmissions=Object(ye.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/datasubmission/submissions",We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ke.dataSubmission.addSubmissionComment=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/datasubmission/addcomment",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.beginUploadSession=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/datasubmission/beginuploadsession",{method:"POST",credentials:"include",body:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.uploadPart=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/datasubmission/uploadfilepart",{method:"POST",credentials:"include",body:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.commitUpload=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/datasubmission/commitupload",{method:"POST",credentials:"include",body:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.setPhase=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/datasubmission/setphase",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.retrieveCommentHistory=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(we,"/api/datasubmission/commenthistory?submissionID=").concat(a.submissionID),We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.retrieveMostRecentFile=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(we,"/api/datasubmission/retrievemostrecentfile?submissionID=").concat(a),We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.dataSubmission.getFileFromLink=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.cartPersistAddItem=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/user/addcartitem",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.cartPersistRemoveItem=function(){var e=Object(ye.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(we+"/api/user/removecartitem",Object(u.a)(Object(u.a)({},qe),{},{body:JSON.stringify(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke.user.cartPersistClear=Object(ye.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(we,"/api/user/clearcart"),We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ke.user.getCart=Object(ye.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(we,"/api/user/getcart"),We);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));var Ye=Ke,Ze=function(e){var a=e.reduce((function(e,a){return e[a.Dataset_Name]||(e[a.Dataset_Name]={Dataset_Name:a.Dataset_Name,variables:[]}),e[a.Dataset_Name].variables.push(a),e}),{});return Object.values(a).sort((function(e,a){return e.Dataset_Name<a.Dataset_Name?-1:1}))},$e=function(e){return e.reduce((function(e,a){return e[a.variables[0].Make].push(a),e}),{Observation:[],Model:[]})},Je=y.a.mark(zt),Xe=y.a.mark(Ut),ea=y.a.mark(Vt),aa=y.a.mark(Bt),ta=y.a.mark(Ht),na=y.a.mark(Gt),ra=y.a.mark(Wt),oa=y.a.mark(qt),sa=y.a.mark(Qt),ia=y.a.mark(Kt),la=y.a.mark(Yt),ca=y.a.mark(Zt),ua=y.a.mark($t),ma=y.a.mark(Jt),pa=y.a.mark(Xt),da=y.a.mark(en),ha=y.a.mark(an),ba=y.a.mark(tn),ga=y.a.mark(nn),fa=y.a.mark(rn),Ea=y.a.mark(on),xa=y.a.mark(sn),va=y.a.mark(ln),ya=y.a.mark(cn),Sa=y.a.mark(un),Oa=y.a.mark(mn),wa=y.a.mark(pn),Ca=y.a.mark(dn),_a=y.a.mark(hn),ka=y.a.mark(bn),Ta=y.a.mark(gn),ja=y.a.mark(fn),Aa=y.a.mark(En),Na=y.a.mark(xn),Ra=y.a.mark(vn),Da=y.a.mark(yn),La=y.a.mark(Sn),Ia=y.a.mark(On),Pa=y.a.mark(wn),Ma=y.a.mark(Cn),Fa=y.a.mark(_n),za=y.a.mark(kn),Ua=y.a.mark(Tn),Va=y.a.mark(jn),Ba=y.a.mark(An),Ha=y.a.mark(Nn),Ga=y.a.mark(Rn),Wa=y.a.mark(Dn),qa=y.a.mark(Ln),Qa=y.a.mark(In),Ka=y.a.mark(Pn),Ya=y.a.mark(Mn),Za=y.a.mark(Fn),$a=y.a.mark(zn),Ja=y.a.mark(Un),Xa=y.a.mark(Vn),et=y.a.mark(Bn),at=y.a.mark(Hn),tt=y.a.mark(Gn),nt=y.a.mark(Wn),rt=y.a.mark(qn),ot=y.a.mark(Qn),st=y.a.mark(Kn),it=y.a.mark(Yn),lt=y.a.mark(Zn),ct=y.a.mark($n),ut=y.a.mark(Jn),mt=y.a.mark(Xn),pt=y.a.mark(er),dt=y.a.mark(ar),ht=y.a.mark(tr),bt=y.a.mark(nr),gt=y.a.mark(rr),ft=y.a.mark(or),Et=y.a.mark(sr),xt=y.a.mark(ir),vt=y.a.mark(lr),yt=y.a.mark(cr),St=y.a.mark(ur),Ot=y.a.mark(mr),wt=y.a.mark(pr),Ct=y.a.mark(dr),_t=y.a.mark(hr),kt=y.a.mark(br),Tt=y.a.mark(gr),jt=y.a.mark(fr),At=y.a.mark(Er),Nt=y.a.mark(xr),Rt=y.a.mark(vr),Dt=y.a.mark(yr),Lt=y.a.mark(Sr),It=y.a.mark(Or),Pt=y.a.mark(wr),Mt=y.a.mark(Cr),Ft=y.a.mark(_r);function zt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"LOGIN_REQUEST_PROCESSING"});case 2:return t.next=4,Object(S.b)(Ye.user.login,e.payload);case 4:if(!t.sent.ok){t.next=20;break}return t.next=8,Object(S.e)({type:"INTERFACE_HIDE_LOGIN_DIALOG"});case 8:return a=JSON.parse(g.a.get("UserInfo")),t.next=11,Object(S.e)({type:"LOGIN_REQUEST_SUCCESS"});case 11:return t.next=13,Object(S.e)(C(a));case 13:return t.next=15,Object(S.e)(q("Login was successful!"));case 15:return t.next=17,Object(S.e)({type:"CART_GET_AND_STORE"});case 17:"/login"===window.location.pathname&&(window.location.href="/catalog"),t.next=24;break;case 20:return t.next=22,Object(S.e)({type:"LOGIN_REQUEST_FAILURE"});case 22:return t.next=24,Object(S.e)(q("Login failed."));case 24:case"end":return t.stop()}}),Je)}function Ut(){var e;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,window.gapi.auth2.getAuthInstance();case 2:return e=a.sent,a.next=5,e.signOut();case 5:return a.next=7,Object(S.b)(Ye.user.logout);case 7:return a.next=9,Object(S.e)({type:"DESTROY_INFO"});case 9:return a.next=11,window.location.href="/";case 11:case"end":return a.stop()}}),Xe)}function Vt(e){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(S.e)({type:"REGISTRATION_REQUEST_PROCESSING"});case 2:return a.next=4,Object(S.b)(Ye.user.register,e.payload);case 4:if(!a.sent.ok){a.next=10;break}return a.next=8,Object(S.e)({type:"REGISTRATION_NEXT_ACTIVE_STEP"});case 8:a.next=14;break;case 10:return a.next=12,Object(S.e)({type:"REGISTRATION_REQUEST_FAILURE"});case 12:return a.next=14,Object(S.e)(q("Registration failed. Please try again later."));case 14:case"end":return a.stop()}}),ea)}function Bt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"VALIDATION_REQUEST_PROCESSING"});case 2:return t.next=4,Object(S.b)(Ye.user.validate,e.payload);case 4:return a=t.sent,t.next=7,a.json();case 7:if(!t.sent){t.next=15;break}return t.next=11,Object(S.e)({type:"VALIDATION_REQUEST_SUCCESS"});case 11:return t.next=13,Object(S.e)({type:"REGISTRATION_NEXT_ACTIVE_STEP"});case 13:t.next=17;break;case 15:return t.next=17,Object(S.e)({type:"VALIDATION_REQUEST_FAILURE"});case 17:case"end":return t.stop()}}),aa)}function Ht(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"GOOGLE_LOGIN_REQUEST_SEND_PROCESSING"});case 2:return t.next=4,Object(S.b)(Ye.user.googleLoginRequest,e.payload.userIDToken);case 4:if(!t.sent.ok){t.next=18;break}return t.next=8,Object(S.e)({type:"INTERFACE_HIDE_LOGIN_DIALOG"});case 8:return a=JSON.parse(g.a.get("UserInfo")),t.next=11,Object(S.e)({type:"LOGIN_REQUEST_SUCCESS"});case 11:return t.next=13,Object(S.e)(C(a));case 13:return t.next=15,Object(S.e)({type:"CART_GET_AND_STORE"});case 15:"/login"===window.location.pathname&&(window.location.href="/"),t.next=22;break;case 18:return t.next=20,Object(S.e)({type:"LOGIN_REQUEST_FAILURE"});case 20:return t.next=22,Object(S.e)(q("Login failed."));case 22:case"end":return t.stop()}}),ta)}function Gt(){var e;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(S.e)(Q("Fetching Data"));case 2:return a.next=4,Object(S.b)(Ye.catalog.retrieve);case 4:if(e=a.sent){a.next=10;break}return a.next=8,Object(S.e)({type:"CATALOG_RETRIEVAL_REQUEST_FAILURE"});case 8:a.next=12;break;case 10:return a.next=12,Object(S.e)(N(e));case 12:return a.next=14,Object(S.e)(Q(""));case 14:case"end":return a.stop()}}),na)}function Wt(){var e;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(S.e)({type:"DATASET_CATALOG_RETRIEVAL_REQUEST_PROCESSING"});case 2:return a.next=4,Object(S.b)(Ye.catalog.datasets);case 4:if(e=a.sent){a.next=10;break}return a.next=8,Object(S.e)({type:"CATALOG_RETRIEVAL_REQUEST_FAILURE"});case 8:a.next=12;break;case 10:return a.next=12,Object(S.e)(D(e));case 12:case"end":return a.stop()}}),ra)}function qt(e){var a,t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(Ye.user.keyRetrieval);case 2:if(401!==(a=e.sent).status){e.next=6;break}return e.next=6,Object(S.e)({type:"REFRESH_LOGIN"});case 6:if(a.ok){e.next=13;break}return e.next=9,Object(S.e)({type:"KEY_RETRIEVAL_REQUEST_FAILURE"});case 9:return e.next=11,Object(S.e)(q("API Key Retrieval Failed"));case 11:e.next=18;break;case 13:return e.next=15,a.json();case 15:return t=e.sent,e.next=18,Object(S.e)({type:"KEY_RETRIEVAL_REQUEST_SUCCESS",payload:{keys:t.keys}});case 18:case"end":return e.stop()}}),oa)}function Qt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"KEY_CREATION_REQUEST_PROCESSING"});case 2:return t.next=4,Object(S.b)(Ye.user.keyCreation,e.payload.description);case 4:if(401!==(a=t.sent).status){t.next=9;break}return t.next=8,Object(S.e)({type:"REFRESH_LOGIN"});case 8:return t.abrupt("return");case 9:if(a.ok){t.next=14;break}return t.next=12,Object(S.e)(q("We were unable to create a new API key."));case 12:t.next=20;break;case 14:return t.next=16,Object(S.e)(q("A new API key was created"));case 16:return t.next=18,Object(S.e)({type:"KEY_CREATION_REQUEST_SUCCESS"});case 18:return t.next=20,Object(S.e)({type:"KEY_RETRIEVAL_REQUEST_SEND"});case 20:case"end":return t.stop()}}),sa)}function Kt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"QUERY REQUEST PROCESSING"});case 2:return t.next=4,Object(S.b)(Ye.visualization.queryRequest,e.payload.query);case 4:return a=t.sent,t.next=7,Object(S.e)({type:"STORE_SAMPLE_DATA",payload:{sampleData:a}});case 7:return t.next=9,Object(S.e)({type:"QUERY REQUEST SUCCESS",payload:{data:void 0}});case 9:case"end":return t.stop()}}),ia)}function Yt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"STORED_PROCEDURE_REQUEST_PROCESSING"});case 2:return t.next=4,Object(S.e)(Q("Fetching Data"));case 4:return t.next=6,Object(S.b)(Ye.visualization.storedProcedureRequest,e.payload);case 6:return a=t.sent,t.next=9,Object(S.d)(50);case 9:return t.next=11,Object(S.e)(Q("Processing Data"));case 11:return t.next=13,Object(S.d)(70);case 13:if(!a.failed){t.next=27;break}return t.next=16,Object(S.e)(Q(""));case 16:return t.next=18,Object(S.e)({type:"STORED_PROCEDURE_REQUEST_FAILURE"});case 18:if(401!==a.status){t.next=23;break}return t.next=21,Object(S.e)({type:"REFRESH_LOGIN"});case 21:t.next=25;break;case 23:return t.next=25,Object(S.e)(q("An error occurred. Please try again."));case 25:t.next=44;break;case 27:if(!(a.variableValues.length>0)){t.next=40;break}return a.finalize(),t.next=31,Object(S.e)(Q(""));case 31:return t.next=33,Object(S.e)({type:"STORED_PROCEDURE_REQUEST_SUCCESS",payload:{data:void 0}});case 33:return t.next=35,Object(S.e)({type:"TRIGGER_SHOW_CHARTS"});case 35:return t.next=37,Object(S.e)({type:"ADD_CHART",payload:{chartInfo:{subType:e.payload.subType,data:a}}});case 37:window.scrollTo(0,0),t.next=44;break;case 40:return t.next=42,Object(S.e)(Q(""));case 42:return t.next=44,Object(S.e)(q("No data found for ".concat(e.payload.parameters.fields," in the requested ranges. Try selecting a different date or depth range.")));case 44:case"end":return t.stop()}}),la)}function Zt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"CRUISE_TRAJECTORY_REQUEST_PROCESSING"});case 2:return t.next=4,Object(S.e)(Q("Fetching Cruise Data"));case 4:return t.next=6,Object(S.b)(Ye.visualization.cruiseTrajectoryRequest,e.payload);case 6:return a=t.sent,t.next=9,Object(S.e)(Q(""));case 9:if(!a.failed){t.next=19;break}if(401!==a.status){t.next=15;break}return t.next=13,Object(S.e)({type:"REFRESH_LOGIN"});case 13:t.next=17;break;case 15:return t.next=17,Object(S.e)(q("Unable to Fetch Cruise Data"));case 17:t.next=23;break;case 19:return t.next=21,Object(S.e)({type:"CRUISE_TRAJECTORY_REQUEST_SUCCESS",payload:{trajectory:a}});case 21:return t.next=23,Object(S.e)(Q(""));case 23:case"end":return t.stop()}}),ca)}function $t(){var e;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(S.e)({type:"CRUISE_LIST_REQUEST_PROCESSING"});case 2:return a.next=4,Object(S.b)(Ye.visualization.cruiseList);case 4:if(e=a.sent){a.next=10;break}return a.next=8,Object(S.e)({type:"CRUISE_LIST_REQUEST_FAILURE"});case 8:a.next=12;break;case 10:return a.next=12,Object(S.e)(ae(e));case 12:case"end":return a.stop()}}),ua)}function Jt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"TABLE_STATS_REQUEST_PROCESSING"});case 2:return t.next=4,Object(S.e)(Q("Fetching Dataset Information"));case 4:return t.next=6,Object(S.b)(Ye.visualization.getTableStats,e.payload.tableName);case 6:return a=t.sent,t.next=9,Object(S.e)(Q(""));case 9:if(!a.failed){t.next=19;break}if(401!==a.status){t.next=15;break}return t.next=13,Object(S.e)({type:"REFRESH_LOGIN"});case 13:t.next=17;break;case 15:return t.next=17,Object(S.e)(q("Unable to Fetch Dataset Information"));case 17:t.next=21;break;case 19:return t.next=21,Object(S.e)((n=a,r=e.payload.datasetLongName,{type:"TABLE_STATS_REQUEST_SUCCESS",payload:{tableStats:n,datasetLongName:r}}));case 21:case"end":return t.stop()}var n,r}),ma)}function Xt(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)({type:"CSV_DOWNLOAD_REQUEST_PROCESSING"});case 2:return t.next=4,Object(S.e)(Q("Fetching Data"));case 4:return t.next=6,Object(S.b)(Ye.visualization.csvDownload,e.payload.query);case 6:return a=t.sent,t.next=9,Object(S.e)(Q(""));case 9:if(!a.failed){t.next=19;break}if(401!==a.status){t.next=15;break}return t.next=13,Object(S.e)({type:"REFRESH_LOGIN"});case 13:t.next=17;break;case 15:return t.next=17,Object(S.e)(q("An error occurred. Please try again."));case 17:t.next=26;break;case 19:if(!(a.length>1)){t.next=24;break}return t.next=22,Object(S.e)(ne(a,e.payload.fileName));case 22:t.next=26;break;case 24:return t.next=26,Object(S.e)(q("No data found. Please expand query range."));case 26:case"end":return t.stop()}}),pa)}function en(e){var a,t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(S.e)(Q("Processing Data"));case 2:return r.next=4,e.payload.vizObject.generateCsv();case 4:return a=r.sent,r.next=7,Object(S.e)(Q("Fetching metadata"));case 7:return t="exec uspVariableMetadata '".concat(e.payload.tableName,"', '").concat(e.payload.shortName,"'"),r.next=10,Object(S.b)(Ye.visualization.csvDownload,t);case 10:return n=r.sent,r.next=13,Object(S.e)(Q(""));case 13:if(!n.failed){r.next=16;break}return r.next=16,Object(S.e)(q("Failed to download variable metadata"));case 16:return r.next=18,Object(S.e)(ne(a,e.payload.longName));case 18:return r.next=20,Object(S.e)(ne(n,e.payload.longName+"_Metadata"));case 20:case"end":return r.stop()}}),da)}function an(e){var a,t,n,r;return y.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(S.e)(Q("Processing Data"));case 2:return a=e.payload.text,t=new Blob([a],{type:"text/csv"}),n=window.URL.createObjectURL(t),(r=document.createElement("a")).setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","".concat(e.payload.fileName,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r),o.next=14,Object(S.e)(Q(""));case 14:case"end":return o.stop()}}),ha)}function tn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(Ye.user.logout);case 2:return e.next=4,Object(S.e)({type:"DESTROY_INFO"});case 4:return e.next=6,Object(S.e)({type:"INTERFACE_SHOW_LOGIN_DIALOG"});case 6:return e.next=8,Object(S.e)(q("Your session has expired. Please log in again."));case 8:case"end":return e.stop()}}),ba)}function nn(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)(Q("Updating your information"));case 2:return t.next=4,Object(S.b)(Ye.user.updateUserInfo,e.payload);case 4:if(!(a=t.sent).failed){t.next=17;break}return t.next=8,Object(S.e)(Q(""));case 8:if(401!==a.status){t.next=13;break}return t.next=11,Object(S.e)({type:"REFRESH_LOGIN"});case 11:t.next=15;break;case 13:return t.next=15,Object(S.e)(q("An error occurred. Please try again."));case 15:t.next=21;break;case 17:return t.next=19,Object(S.e)(C(JSON.parse(g.a.get("UserInfo"))));case 19:return t.next=21,Object(S.e)(q("Your information was updated"));case 21:return t.next=23,Object(S.e)(Q(""));case 23:case"end":return t.stop()}}),ga)}function rn(){var e,a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,window.gapi.auth2.getAuthInstance();case 3:e=n.sent,n.next=13;break;case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Object(S.d)(100);case 10:return n.next=12,Object(S.e)({type:"INITIALIZE_GOOGLE_AUTH"});case 12:return n.abrupt("return");case 13:return n.next=15,e.currentUser.get();case 15:return a=n.sent,n.next=18,a.getAuthResponse(!0);case 18:if(!(t=n.sent)){n.next=22;break}return n.next=22,Object(S.e)(_(t.id_token));case 22:case"end":return n.stop()}}),fa,null,[[0,6]])}function on(e){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(S.b)(Ye.user.recoverPassword,e.payload.email);case 2:case"end":return a.stop()}}),Ea)}function sn(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)(Q("Confirming change"));case 2:return t.next=4,Object(S.b)(Ye.user.choosePassword,e.payload);case 4:return a=t.sent,t.next=7,Object(S.e)(Q(""));case 7:if(!a.ok){t.next=12;break}return t.next=10,Object(S.e)({type:"CHOOSE_PASSWORD_REQUEST_SUCCESS"});case 10:t.next=14;break;case 12:return t.next=14,Object(S.e)({type:"CHOOSE_PASSWORD_REQUEST_FAILURE"});case 14:case"end":return t.stop()}}),xa)}function ln(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)(Q("Sending"));case 2:return t.next=4,Object(S.b)(Ye.user.contactUs,e.payload);case 4:return a=t.sent,t.next=7,Object(S.e)(Q(""));case 7:if(!a.ok){t.next=12;break}return t.next=10,Object(S.e)(q("Your message was successfully sent!"));case 10:t.next=14;break;case 12:return t.next=14,Object(S.e)(q("Message failed. Please try again or contact simonscmap@uw.edu"));case 14:case"end":return t.stop()}}),va)}function cn(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)(Q("Confirming Changes"));case 2:return t.next=4,Object(S.b)(Ye.user.changePassword,e.payload);case 4:return a=t.sent,t.next=7,Object(S.e)(Q(""));case 7:if(!a.ok){t.next=14;break}return t.next=10,Object(S.e)({type:"HIDE_CHANGE_PASSWORD_DIALOG"});case 10:return t.next=12,Object(S.e)(q("Your password has been updated."));case 12:t.next=21;break;case 14:if(401!==a.status){t.next=19;break}return t.next=17,Object(S.e)(q("The current password you entered is not correct."));case 17:t.next=21;break;case 19:return t.next=21,Object(S.e)(q("An error occurred with your request."));case 21:case"end":return t.stop()}}),ya)}function un(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)(Q("Confirming Changes"));case 2:return t.next=4,Object(S.b)(Ye.user.changeEmail,e.payload);case 4:if(!(a=t.sent).ok){t.next=14;break}return t.next=8,Object(S.e)(C(JSON.parse(g.a.get("UserInfo"))));case 8:return t.next=10,Object(S.e)({type:"HIDE_CHANGE_EMAIL_DIALOG"});case 10:return t.next=12,Object(S.e)(q("Your email address has been updated."));case 12:t.next=26;break;case 14:if(401!==a.status){t.next=19;break}return t.next=17,Object(S.e)(q("The current password you entered is not correct."));case 17:t.next=26;break;case 19:if(409!==a.status){t.next=24;break}return t.next=22,Object(S.e)(q("That email address is already in use."));case 22:t.next=26;break;case 24:return t.next=26,Object(S.e)(q("We were not able to update your email address."));case 26:return t.next=28,Object(S.e)(Q(""));case 28:case"end":return t.stop()}}),Sa)}function mn(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=document.createElement("textarea")).value=e.payload.text,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.remove(),t.next=8,Object(S.e)(q("Copied to Clipboard"));case 8:case"end":return t.stop()}}),Oa)}function pn(){var e,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.e)(Q("Fetching submission information"));case 2:return t.next=4,Object(S.b)(Ye.dataSubmission.retrieveSubmissionByUser);case 4:if(!(e=t.sent).ok){t.next=13;break}return t.next=8,e.json();case 8:return a=t.sent,t.next=11,Object(S.e)(de(a));case 11:t.next=20;break;case 13:if(401!==e.status){t.next=18;break}return t.next=16,Object(S.e)({type:"REFRESH_LOGIN"});case 16:t.next=20;break;case 18:return t.next=20,Object(S.e)(q("Unable to retrieve submissions"));case 20:return t.next=22,Object(S.e)(Q(""));case 22:case"end":return t.stop()}}),wa)}function dn(){var e,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.b)(Ye.dataSubmission.retrieveAllSubmissions);case 2:if(!(e=t.sent).ok){t.next=16;break}return t.next=6,e.json();case 6:if(!((a=t.sent).length<1)){t.next=12;break}return t.next=10,Object(S.e)(q("No submissions found"));case 10:t.next=14;break;case 12:return t.next=14,Object(S.e)(de(a));case 14:t.next=23;break;case 16:if(401!==e.status){t.next=21;break}return t.next=19,Object(S.e)({type:"REFRESH_LOGIN"});case 19:t.next=23;break;case 21:return t.next=23,Object(S.e)(q("Unable to retrieve submissions"));case 23:case"end":return t.stop()}}),Ca)}function hn(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.b)(Ye.dataSubmission.addSubmissionComment,e.payload);case 2:if(!(a=t.sent).ok){t.next=10;break}return t.next=6,Object(S.e)(pe(e.payload.submissionID));case 6:return t.next=8,Object(S.e)({type:"RETRIEVE_SUBMISSIONS_BY_USER"});case 8:t.next=17;break;case 10:if(401!==a.status){t.next=15;break}return t.next=13,Object(S.e)({type:"REFRESH_LOGIN"});case 13:t.next=17;break;case 15:return t.next=17,Object(S.e)(q("Failed to submit comment. Please try again."));case 17:case"end":return t.stop()}}),_a)}function bn(e){var a,t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(S.e)(ge(m.inProgress));case 2:return r.next=4,Object(S.b)(Ye.dataSubmission.retrieveCommentHistory,e.payload);case 4:if(!(a=r.sent).ok){r.next=17;break}return r.next=8,a.json();case 8:if(!((t=r.sent).length<1)){r.next=12;break}r.next=15;break;case 12:return n={comments:t,submissionID:e.payload.submissionID},r.next=15,Object(S.e)(he(n));case 15:r.next=24;break;case 17:if(401!==a.status){r.next=22;break}return r.next=20,Object(S.e)({type:"REFRESH_LOGIN"});case 20:r.next=24;break;case 22:return r.next=24,Object(S.e)(q("Failed to retrieve comment history."));case 24:return r.next=26,Object(S.e)(ge(m.succeeded));case 26:case"end":return r.stop()}}),ka)}function gn(e){var a,t,n,r,o,s,i,l,c,u,p,d,h,b,g,f;return y.a.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,Object(S.e)(Q("Uploading Workbook"));case 2:a=e.payload,t=a.file,n=a.datasetName,r=t.size,o=5242880,s=0,i=0,(c=new FormData).append("datasetName",n);case 9:if(!(i<3)||l){E.next=36;break}return E.next=12,Object(S.b)(Ye.dataSubmission.beginUploadSession,c);case 12:if(!(u=E.sent).ok){E.next=20;break}return E.next=16,u.json();case 16:p=E.sent,l=p.sessionID,E.next=34;break;case 20:return E.next=22,u.text();case 22:if("wrongUser"!==E.sent){E.next=31;break}return E.next=26,Object(S.e)(xe(m.failed));case 26:return E.next=28,Object(S.e)(Q(""));case 28:return E.abrupt("return");case 31:return i++,E.next=34,Object(S.d)(2e3);case 34:E.next=9;break;case 36:if(l){E.next=42;break}return E.next=39,Object(S.e)(q("Failed to begin upload session"));case 39:return E.next=41,Object(S.e)(Q(""));case 41:return E.abrupt("return");case 42:i=0,d=!1;case 44:if(!(s<r)){E.next=75;break}d=!1;case 46:if(!(!1===d&&i<3)){E.next=64;break}return h=t.slice(s,s+o),(b=new FormData).append("part",h),b.append("offset",s),b.append("sessionID",l),E.next=54,Object(S.b)(Ye.dataSubmission.uploadPart,b);case 54:if(!E.sent.ok){E.next=59;break}d=!0,E.next=62;break;case 59:return i++,E.next=62,Object(S.d)(2e3);case 62:E.next=46;break;case 64:if(!1!==d){E.next=72;break}return E.next=67,Object(S.e)(q("Upload failed"));case 67:return E.next=69,Object(S.e)(Q(""));case 69:return E.abrupt("return");case 72:s+=o;case 73:E.next=44;break;case 75:i=0,(g=new FormData).append("fileName",n),g.append("offset",r),g.append("sessionID",l),f=!1;case 81:if(!(i<4&&!1===f)){E.next=94;break}return E.next=84,Object(S.b)(Ye.dataSubmission.commitUpload,g);case 84:if(!E.sent.ok){E.next=89;break}f=!0,E.next=92;break;case 89:return i++,E.next=92,Object(S.d)(2e3);case 92:E.next=81;break;case 94:if(!0!==f){E.next=101;break}return E.next=97,Object(S.e)(Q(""));case 97:return E.next=99,Object(S.e)(xe(m.succeeded));case 99:E.next=106;break;case 101:return E.next=103,Object(S.e)(Q(""));case 103:return E.next=105,Object(S.e)(q("Failed to upload"));case 105:return E.abrupt("return");case 106:case"end":return E.stop()}}),Ta)}function fn(e){var a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={phaseID:e.payload.phaseID,submissionID:e.payload.submissionID},n.next=3,Object(S.b)(Ye.dataSubmission.setPhase,a);case 3:if(!(t=n.sent).ok){n.next=9;break}return n.next=7,Object(S.e)({type:"RETRIEVE_ALL_SUBMISSIONS"});case 7:n.next=16;break;case 9:if(401!==t.status){n.next=14;break}return n.next=12,Object(S.e)({type:"REFRESH_LOGIN"});case 12:n.next=16;break;case 14:return n.next=16,Object(S.e)(q("Failed to retrieve submissions"));case 16:case"end":return n.stop()}}),ja)}function En(e){var a,t,n,r,o,s,i;return y.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return a=e.payload.submissionID,l.next=3,Object(S.e)(Q("Fetching the latest submission"));case 3:return l.next=5,Object(S.b)(Ye.dataSubmission.retrieveMostRecentFile,a);case 5:if(!(t=l.sent).ok){l.next=22;break}return l.next=9,t.json();case 9:return n=l.sent,r=n.link,o=n.dataset,l.next=13,Object(S.b)(Ye.dataSubmission.getFileFromLink,r);case 13:return s=l.sent,l.next=16,s.blob();case 16:return(i=l.sent).name="".concat(o,".xlsx"),l.next=20,Object(S.e)(Ee(i));case 20:l.next=33;break;case 22:if(401!==t.status){l.next=29;break}return l.next=25,Object(S.e)(Q(""));case 25:return l.next=27,Object(S.e)({type:"REFRESH_LOGIN"});case 27:l.next=33;break;case 29:return l.next=31,Object(S.e)(Q(""));case 31:return l.next=33,Object(S.e)(q("Failed to retrieve submissions"));case 33:case"end":return l.stop()}}),Aa)}function xn(e){var a,t,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(S.f)((function(e){return e.submissionOptions}));case 2:if(!(a=r.sent)){r.next=7;break}t=a,r.next=19;break;case 7:return r.next=9,Object(S.b)(Ye.catalog.submissionOptions);case 9:if((n=r.sent).ok){r.next=14;break}return r.abrupt("return",Object(S.e)(q("Unable to retrieve validation options")));case 14:return r.next=16,n.json();case 16:return t=r.sent,r.next=19,Object(S.e)(L(t));case 19:return r.next=21,Object(S.e)(fe(e.payload.file));case 21:case"end":return r.stop()}}),Na)}function vn(e){var a,t,n,r,o,s,i,l,c;return y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.payload.submissionID,u.next=3,Object(S.e)(Q("Downloading the latest submission"));case 3:return u.next=5,Object(S.b)(Ye.dataSubmission.retrieveMostRecentFile,a);case 5:if(!(t=u.sent).ok){u.next=29;break}return u.next=9,t.json();case 9:return n=u.sent,r=n.link,o=n.dataset,u.next=13,Object(S.b)(Ye.dataSubmission.getFileFromLink,r);case 13:return s=u.sent,u.next=16,s.blob();case 16:return i=u.sent,l=window.URL.createObjectURL(i),(c=document.createElement("a")).setAttribute("hidden",""),c.setAttribute("href",l),c.setAttribute("download","".concat(o,".xlsx")),document.body.appendChild(c),c.click(),document.body.removeChild(c),u.next=27,Object(S.e)(Q(""));case 27:u.next=40;break;case 29:if(401!==t.status){u.next=36;break}return u.next=32,Object(S.e)(Q(""));case 32:return u.next=34,Object(S.e)({type:"REFRESH_LOGIN"});case 34:u.next=40;break;case 36:return u.next=38,Object(S.e)(Q(""));case 38:return u.next=40,Object(S.e)(q("Unable to download"));case 40:case"end":return u.stop()}}),Ra)}function yn(){var e,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.b)(Ye.catalog.fetchKeywords);case 2:if(!(e=t.sent).ok){t.next=9;break}return t.next=6,e.json();case 6:return a=t.sent,t.next=9,Object(S.e)({type:"KEYWORDS_STORE",payload:{keywords:a}});case 9:case"end":return t.stop()}}),Da)}function Sn(){var e,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.b)(Ye.catalog.submissionOptions);case 2:if(!(e=t.sent).ok){t.next=13;break}return t.next=6,e.json();case 6:return(a=t.sent).Sensor.push("Any"),a.Sensor.sort(),t.next=11,Object(S.e)(L(a));case 11:t.next=14;break;case 13:console.log("Failed to retrieve search options");case 14:case"end":return t.stop()}}),La)}function On(e){var a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.b)(Ye.catalog.searchResults,e.payload.queryString);case 2:if(!(a=n.sent).ok){n.next=11;break}return n.next=6,a.json();case 6:return t=n.sent,n.next=9,Object(S.e)(P(t));case 9:n.next=13;break;case 11:return n.next=13,Object(S.e)(q("Failed to retrieve search results. Please try again later."));case 13:return n.next=15,Object(S.e)(M(m.succeeded));case 15:case"end":return n.stop()}}),Ia)}function wn(e){var a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.e)(z(m.inProgress));case 2:return n.next=4,Object(S.b)(Ye.catalog.datasetFullPageDataFetch,e.payload.shortname);case 4:if(!(a=n.sent).ok){n.next=15;break}return n.next=8,a.json();case 8:return t=n.sent,n.next=11,Object(S.e)(F(t));case 11:return n.next=13,Object(S.e)(z(m.succeeded));case 13:n.next=19;break;case 15:return n.next=17,Object(S.e)(q("Failed to retrieve information. Please try again later."));case 17:return n.next=19,Object(S.e)(z(m.succeeded));case 19:case"end":return n.stop()}}),Pa)}function Cn(e){var a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.e)(V(m.inProgress));case 2:return n.next=4,Object(S.b)(Ye.catalog.cruiseFullPageDataFetch,e.payload.name);case 4:if(!(a=n.sent).ok){n.next=15;break}return n.next=8,a.json();case 8:return t=n.sent,n.next=11,Object(S.e)(U(t));case 11:return n.next=13,Object(S.e)(V(m.succeeded));case 13:n.next=19;break;case 15:return n.next=17,Object(S.e)(q("Failed to retrieve information. Please try again later."));case 17:return n.next=19,Object(S.e)(z(m.succeeded));case 19:case"end":return n.stop()}}),Ma)}function _n(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={itemID:e.payload.datasetID},t.next=3,Object(S.b)(Ye.user.cartPersistAddItem,a);case 3:case"end":return t.stop()}}),Fa)}function kn(e){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={itemID:e.payload.datasetID},t.next=3,Object(S.b)(Ye.user.cartPersistRemoveItem,a);case 3:case"end":return t.stop()}}),za)}function Tn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(Ye.user.cartPersistClear);case 2:case"end":return e.stop()}}),Ua)}function jn(){var e,a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.b)(Ye.user.getCart);case 2:if(!(e=n.sent).ok){n.next=12;break}return n.next=6,e.json();case 6:return a=n.sent,t=a.reduce((function(e,a){return e[a.Long_Name]=a,e}),{}),n.next=10,Object(S.e)({type:"CART_ADD_MULTIPLE",payload:{items:t}});case 10:n.next=14;break;case 12:return n.next=14,Object(S.e)(q("Unable to retrieve cart information"));case 14:case"end":return n.stop()}}),Va)}function An(e){var a,t,n,r,o;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a="?"+w.a.stringify(e.payload.params),s.next=3,Object(S.b)(Ye.visualization.variableSearch,a);case 3:if(!(t=s.sent).ok){s.next=16;break}return s.next=7,t.json();case 7:return n=s.sent,r=Ze(n),o=$e(r),s.next=12,Object(S.e)(se(o));case 12:return s.next=14,Object(S.e)(ie(m.succeeded));case 14:s.next=18;break;case 16:return s.next=18,Object(S.e)(q("Search failed. Please try again."));case 18:case"end":return s.stop()}}),Ba)}function Nn(e){var a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.b)(Ye.visualization.memberVariablesFetch,e.payload.datasetID);case 2:if(!(a=n.sent).ok){n.next=11;break}return n.next=6,a.json();case 6:return t=n.sent,n.next=9,Object(S.e)(le(t));case 9:n.next=13;break;case 11:return n.next=13,Object(S.e)(q("Unable to get variables at this time"));case 13:case"end":return n.stop()}}),Ha)}function Rn(e){var a,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.payload.terms){n.next=4;break}return n.next=3,Object(S.e)(ce([]));case 3:return n.abrupt("return");case 4:return n.next=6,Object(S.b)(Ye.visualization.autocompleteVariableNamesFetch,encodeURIComponent(e.payload.terms));case 6:if(!(a=n.sent).ok){n.next=13;break}return n.next=10,a.json();case 10:return t=n.sent,n.next=13,Object(S.e)(ce(t));case 13:case"end":return n.stop()}}),Ga)}function Dn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("LOGIN_REQUEST_SEND",zt);case 2:case"end":return e.stop()}}),Wa)}function Ln(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("REGISTRATION_REQUEST_SEND",Vt);case 2:case"end":return e.stop()}}),qa)}function In(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("VALIDATION_REQUEST_SEND",Bt);case 2:case"end":return e.stop()}}),Qa)}function Pn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("LOG_OUT",Ut);case 2:case"end":return e.stop()}}),Ka)}function Mn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("GOOGLE_LOGIN_REQUEST_SEND",Ht);case 2:case"end":return e.stop()}}),Ya)}function Fn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CATALOG_RETRIEVAL_REQUEST_SEND",Gt);case 2:case"end":return e.stop()}}),Za)}function zn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("DATASET_CATALOG_RETRIEVAL_REQUEST_SEND",Wt);case 2:case"end":return e.stop()}}),$a)}function Un(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("KEY_RETRIEVAL_REQUEST_SEND",qt);case 2:case"end":return e.stop()}}),Ja)}function Vn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("KEY_CREATION_REQUEST_SEND",Qt);case 2:case"end":return e.stop()}}),Xa)}function Bn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("QUERY REQUEST SEND",Kt);case 2:case"end":return e.stop()}}),et)}function Hn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("STORED_PROCEDURE_REQUEST_SEND",Yt);case 2:case"end":return e.stop()}}),at)}function Gn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CRUISE_TRAJECTORY_REQUEST_SEND",Zt);case 2:case"end":return e.stop()}}),tt)}function Wn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CRUISE_LIST_REQUEST_SEND",$t);case 2:case"end":return e.stop()}}),nt)}function qn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("ABLE_STATS_REQUEST_SEND",Jt);case 2:case"end":return e.stop()}}),rt)}function Qn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CSV_DOWNLOAD_REQUEST_SEND",Xt);case 2:case"end":return e.stop()}}),ot)}function Kn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("DOWNLOAD_TEXT_AS_CSV",an);case 2:case"end":return e.stop()}}),st)}function Yn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("REFRESH_LOGIN",tn);case 2:case"end":return e.stop()}}),it)}function Zn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("UPDATE_USER_INFO_REQUEST_SEND",nn);case 2:case"end":return e.stop()}}),lt)}function $n(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("INITIALIZE_GOOGLE_AUTH",rn);case 2:case"end":return e.stop()}}),ct)}function Jn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("RECOVER_PASSWORD_REQUEST_SEND",on);case 2:case"end":return e.stop()}}),ut)}function Xn(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CHOOSE_PASSWORD_REQUEST_SEND",sn);case 2:case"end":return e.stop()}}),mt)}function er(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CONTACT_US_REQUEST_SEND",ln);case 2:case"end":return e.stop()}}),pt)}function ar(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CHANGE_PASSWORD_REQUEST_SEND",cn);case 2:case"end":return e.stop()}}),dt)}function tr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CHANGE_EMAIL_REQUEST_SEND",un);case 2:case"end":return e.stop()}}),ht)}function nr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CSV_FROM_VIZ_REQUEST_SEND",en);case 2:case"end":return e.stop()}}),bt)}function rr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("COPY_TEXT_TO_CLIPBOARD",mn);case 2:case"end":return e.stop()}}),gt)}function or(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("RETRIEVE_SUBMISSIONS_BY_USER",pn);case 2:case"end":return e.stop()}}),ft)}function sr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("RETRIEVE_ALL_SUBMISSIONS",dn);case 2:case"end":return e.stop()}}),Et)}function ir(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("ADD_SUBMISSION_COMMENT",hn);case 2:case"end":return e.stop()}}),xt)}function lr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("RETRIEVE_SUBMISSION_COMMENT_HISTORY",bn);case 2:case"end":return e.stop()}}),vt)}function cr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("UPLOAD_SUBMISSION",gn);case 2:case"end":return e.stop()}}),yt)}function ur(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("SET_SUBMISSION_PHASE",fn);case 2:case"end":return e.stop()}}),St)}function mr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("RETRIEVE_MOST_RECENT_FILE",En);case 2:case"end":return e.stop()}}),Ot)}function pr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CHECK_SUBMISSION_OPTIONS_AND_STORE_FILE",xn);case 2:case"end":return e.stop()}}),wt)}function dr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("DOWNLOAD_MOST_RECENT_FILE",vn);case 2:case"end":return e.stop()}}),Ct)}function hr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("KEYWORDS_FETCH",yn);case 2:case"end":return e.stop()}}),_t)}function br(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("SEARCH_OPTIONS_FETCH",Sn);case 2:case"end":return e.stop()}}),kt)}function gr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(450,"SEARCH_RESULTS_FETCH",On);case 2:case"end":return e.stop()}}),Tt)}function fr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("DATASET_FULL_PAGE_DATA_FETCH",wn);case 2:case"end":return e.stop()}}),jt)}function Er(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CRUISE_FULL_PAGE_DATA_FETCH",Cn);case 2:case"end":return e.stop()}}),At)}function xr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CART_PERSIST_ADD_ITEM",_n);case 2:case"end":return e.stop()}}),Nt)}function vr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CART_PERSIST_REMOVE_ITEM",kn);case 2:case"end":return e.stop()}}),Rt)}function yr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CART_PERSIST_CLEAR",Tn);case 2:case"end":return e.stop()}}),Dt)}function Sr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("CART_GET_AND_STORE",jn);case 2:case"end":return e.stop()}}),Lt)}function Or(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(450,"VIZ_SEARCH_RESULTS_FETCH",An);case 2:case"end":return e.stop()}}),It)}function wr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.g)("MEMBER_VARIABLES_FETCH",Nn);case 2:case"end":return e.stop()}}),Pt)}function Cr(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(300,"VARIABLE_NAME_AUTOCOMPLETE_FETCH",Rn);case 2:case"end":return e.stop()}}),Mt)}function _r(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)([Dn(),Ln(),In(),Pn(),Mn(),Fn(),zn(),Un(),Vn(),Bn(),Hn(),Gn(),Wn(),qn(),Qn(),Kn(),Yn(),Zn(),$n(),Jn(),Xn(),er(),ar(),tr(),nr(),rr(),or(),sr(),ir(),lr(),cr(),ur(),mr(),pr(),dr(),hr(),br(),gr(),fr(),Er(),xr(),vr(),yr(),Sr(),Or(),wr(),Cr()]);case 2:case"end":return e.stop()}}),Ft)}var kr=Object(x.a)(),Tr=Object(c.d)(E,Object(c.a)(kr));kr.run(_r);var jr=Tr,Ar=t(20),Nr=t(19),Rr=t(426),Dr=t(852),Lr=t(61),Ir=t(425),Pr=(t(598),{primary:"#9dd162",solidPaper:"#184562",backgroundGray:"#424242",secondary:"#22A3B9",errorYellow:"#ffe336",greenHover:"rgba(97, 149, 38, .4)"}),Mr=t(27),Fr=t(31),zr=t(7),Ur=t(294),Vr=t(97),Br=t(783),Hr=t(784),Gr=t(785),Wr=t(786),qr=t(787),Qr=t(788),Kr=t(789),Yr=t(780),Zr=t(790),$r=t(734),Jr={copyTextToClipboard:function(e){return{type:"COPY_TEXT_TO_CLIPBOARD",payload:{text:e}}}},Xr=Object(l.b)(null,Jr,null,{forwardRef:!0})((function(e){var a=e.copyTextToClipboard,t=e.tooltipPlacement,n=e.text,o=e.innerSpanProps,s=function(e){a(e.target.innerText)};return e.hideTooltip?r.a.createElement("span",Object.assign({style:{cursor:"copy"},onClick:s},o),n):r.a.createElement(Yr.a,{placement:t||"top",title:"Click to Copy"},r.a.createElement("span",Object.assign({style:{cursor:"copy"},onClick:s},o),n))})),eo={keyRetrievalRequestSend:T,keyCreationRequestSend:function(e){return{type:"KEY_CREATION_REQUEST_SEND",payload:{description:e}}},snackbarOpen:q},ao=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;return Object(Ce.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.props.apiKeys||n.props.keyRetrievalRequestSend()},n.handleClick=function(){n.props.keyCreationRequestSend(n.state.description)},n.handleChange=function(e){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{description:e.target.value}))},n.state={description:"API Access"},n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.wrapper},this.props.apiKeys?r.a.createElement(Ur.a,{className:e.root,elevation:6},r.a.createElement(Vr.a,{variant:"subtitle1",className:e.apiKeyTableHeader},"Your API Key"),r.a.createElement(Br.a,null),r.a.createElement(Hr.a,{className:e.table},r.a.createElement(Gr.a,null,r.a.createElement(Wr.a,null,r.a.createElement(qr.a,{variant:"head",align:"center"},"Description"),r.a.createElement(qr.a,{variant:"head",align:"center"},"Key (hover mouse to view)"))),r.a.createElement(Qr.a,null,this.props.apiKeys.map((function(a,t){return r.a.createElement(Wr.a,{key:t},r.a.createElement(qr.a,{align:"center"},a.Description),r.a.createElement(qr.a,{align:"center",className:e.showChildOnHover},r.a.createElement(Xr,{text:a.Api_Key,tooltipPlacement:"right"})))})))),r.a.createElement(Vr.a,{variant:"caption",className:e.warningCaption},"This API key is a unique identifier, and should not be shared.")):"",r.a.createElement(Ur.a,{className:e.root,elevation:6},r.a.createElement(Vr.a,{variant:"body2"},"Generate a new API key"),r.a.createElement(Kr.a,{container:!0,alignItems:"center",justify:"center",spacing:4},r.a.createElement(Kr.a,{item:!0},r.a.createElement(Yr.a,{placement:"bottom",title:"Optionally Add a Custom Description"},r.a.createElement(Zr.a,{margin:"normal",id:"description",type:"text",variant:"outlined",name:"description",value:this.state.description,onChange:this.handleChange,placeholder:"Key Description",className:e.descriptionField,autoComplete:"off"}))),r.a.createElement(Kr.a,{item:!0},r.a.createElement($r.a,{variant:"contained",disabled:this.state.description.length<1,color:"primary",onClick:this.handleClick},"Generate API Key"))),this.props.apiKeyCreationState===m.failed?r.a.createElement("span",null,"Key creation failed"):""))}}]),t}(n.Component),to=Object(l.b)((function(e,a){return{apiKeys:e.apiKeys,apiKeyCreationState:e.apiKeyCreationState}}),eo)(Object(zr.a)((function(e){return{root:{width:"800px",marginTop:e.spacing(3),margin:"auto",paddingTop:e.spacing(2)},table:{minWidth:700},apiKeyTableHeader:{marginBottom:e.spacing(2)},showChildOnHover:{"& span":{visibility:"hidden"},"&:hover span":{visibility:"visible"}},warningCaption:{color:Pr.primary,fontSize:"11px",marginTop:e.spacing(2),marginBottom:e.spacing(2)},wrapper:{marginTop:e.spacing(15)}}}))(ao)),no=t(791),ro={showLoginDialog:B},oo=Object(l.b)(null,ro)(Object(zr.a)((function(e){return{loginRequiredMessage:{marginTop:e.spacing(10),color:"white"}}}))((function(e){var a=e.classes,t=e.showLoginDialog;return Object(n.useEffect)((function(){t()})),r.a.createElement(Vr.a,{className:a.loginRequiredMessage},"This feature requires a user account. Please ",r.a.createElement(no.a,{component:Mr.b,to:{pathname:window.location.pathname},onClick:function(){return e.showLoginDialog()}}," log in")," or ",r.a.createElement(no.a,{component:Mr.b,to:{pathname:"/register"}}," register"),".")}))),so={showLoginDialog:B},io=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){return Object(Ce.a)(this,t),a.apply(this,arguments)}return Object(_e.a)(t,[{key:"render",value:function(){return this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(to,null)):r.a.createElement(oo,null)}}]),t}(n.Component),lo=Object(l.b)((function(e,a){return{user:e.user}}),so)(Object(zr.a)((function(e){return{}}))(io)),co=t(138),uo=[["Long Name","Long_Name"],["Short Name","Variable"],["Study Domain","Study_Domain"],["Process Level","Process_Level"]],mo=[["Unit","Unit"],["Mean Value","Variable_Mean"],["Value Std","Variable_Std"]],po=[["Start Latitude[\xb0]","Lat_Min"],["End Latitude[\xb0]","Lat_Max"],["Start Longitude[\xb0]","Lon_Min"],["End Longitude[\xb0]","Lon_Max"]],ho=Object(zr.a)((function(e){return{title:{marginBottom:e.spacing(1)},wrapper:{padding:"10px",height:"100%",userSelect:"auto"},infoCard:{padding:e.spacing(1),width:"100%",height:"100%"},gridClass:{height:"100%",maxHeight:"180px"},gridItem:{display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",maxHeight:"180px"},datasetDescriptionWrapper:{whiteSpace:"normal",height:"100%",overflow:"auto"},datasetDescription:{marginBottom:e.spacing(2),marginTop:e.spacing(1)},vizSampleImage:{maxWidth:"80%",maxHeight:"260px"},variableDetailTable:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%",tableLayout:"fixed",marginBottom:e.spacing(1)},variableDetailTableRow:{height:"24px",width:"100%"},variableDetailTableCell:{color:"#FFF6EC",borderBottomColor:"black",fontSize:"11px",maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"14px"},gridDetailTypography:{fontSize:"11px",whiteSpace:"normal",width:"100%",display:"block"},boldText:{fontWeight:"bold"},rightGridItem:{maxWidth:"100%",paddingTop:"10px",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},datasetDescriptionButton:{backgroundColor:Pr.primary,color:"white","&:hover":{backgroundColor:"#518516"},fontSize:"12px",maxWidth:"100%",marginTop:"50px"},buttonTextWrapper:{textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"}}}))((function(e){var a=e.classes;return r.a.createElement("div",{className:"ag-selectable ".concat(a.wrapper)},r.a.createElement(Kr.a,{container:!0,className:a.gridClass},r.a.createElement(Kr.a,{container:!0,item:!0,xs:10,spacing:2},r.a.createElement(Kr.a,{item:!0,xs:4,className:a.gridItem},r.a.createElement(Hr.a,{className:a.variableDetailTable,size:"small"},r.a.createElement(Qr.a,null,uo.map((function(t,n){return r.a.createElement(Wr.a,{key:n,className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:a.variableDetailTableCell},t[0]),r.a.createElement(qr.a,{className:a.variableDetailTableCell,title:e.data[t[1]]},e.data[t[1]]))}))))),r.a.createElement(Kr.a,{item:!0,xs:4,className:a.gridItem},r.a.createElement(Hr.a,{className:a.variableDetailTable,size:"small"},r.a.createElement(Qr.a,null,mo.map((function(t,n){return r.a.createElement(Wr.a,{key:n,className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:a.variableDetailTableCell},t[0]),r.a.createElement(qr.a,{className:a.variableDetailTableCell},e.data[t[1]]))})),r.a.createElement(Wr.a,{key:uo.length+1,className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:a.variableDetailTableCell},"Start Date"),r.a.createElement(qr.a,{className:a.variableDetailTableCell},e.data.Time_Min.slice(0,10))),r.a.createElement(Wr.a,{key:uo.length+2,className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:a.variableDetailTableCell},"End Date"),r.a.createElement(qr.a,{className:a.variableDetailTableCell},e.data.Time_Max.slice(0,10)))))),r.a.createElement(Kr.a,{item:!0,xs:4,className:a.gridItem},r.a.createElement(Hr.a,{className:a.variableDetailTable,size:"small"},r.a.createElement(Qr.a,null,po.map((function(t,n){return r.a.createElement(Wr.a,{key:n,className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:a.variableDetailTableCell},t[0]),r.a.createElement(qr.a,{className:a.variableDetailTableCell},e.data[t[1]]))})),r.a.createElement(Wr.a,{key:mo.length+1,className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:a.variableDetailTableCell},"Maximum Depth[m]"),r.a.createElement(qr.a,{className:a.variableDetailTableCell},e.data.Depth_Max||"Surface Only")))))),r.a.createElement(Kr.a,{item:!0,xs:2,className:a.rightGridItem},e.data.Comment&&r.a.createElement($r.a,{variant:"contained",className:a.datasetDescriptionButton,onClick:function(){return e.context.handleDescribeVariable(e.data.ID)}},r.a.createElement("span",{className:a.buttonTextWrapper},"Comment")))))})),bo=t(792),go=t(793),fo=t(794),Eo=t(139),xo=t.n(Eo),vo=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){return Object(Ce.a)(this,t),a.apply(this,arguments)}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props,a=e.description,t=e.classes,n=e.datasetName,o=e.clearDescription;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(bo.a,{open:Boolean(a),onClose:o,maxWidth:!1,PaperProps:{className:t.dialogPaper}},r.a.createElement(go.a,null,n),r.a.createElement(fo.a,null,r.a.createElement(xo.a,{source:a,className:t.markdown}))):"")}}]),t}(n.Component),yo=Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.solidPaper},markdown:{"& img":{maxWidth:"100%",margin:"20px auto 20px auto",display:"block"},"& a":{color:e.palette.primary.main,textDecoration:"none"}}}}))(vo),So=Object(l.b)((function(e,a){return{catalog:e.catalog}}),{})(Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.solidPaper,padding:"8px 16px 16px 16px"}}}))((function(e){var a=e.catalog,t=e.describedVariable,n=e.classes,o=a.find((function(e){return e.ID===t}));return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(bo.a,{open:Boolean(t),onClose:e.clearDescription,maxWidth:!1,PaperProps:{className:n.dialogPaper}},r.a.createElement(go.a,null,o.Long_Name),o.Comment&&r.a.createElement(fo.a,null,o.Comment)):"")}))),Oo=t(207),wo=t.n(Oo),Co=t(797),_o=t(798),ko=(Object(l.b)((function(e,a){return{showHelp:e.showHelp}}),null)(Object(zr.a)((function(e){return{tooltip:{color:"#00FFFF",fontSize:"13px",boxShadow:"0px 1px 1px 1px #242424",padding:"12px",borderRadius:"7px",textAlign:"center"}}}))((function(e){var a=e.classes,t=e.showHelp;return t?r.a.createElement(Yr.a,{placement:e.placement,open:t,title:e.title,classes:{tooltip:a.tooltip}},e.children):r.a.createElement(r.a.Fragment,null,e.children)}))),t(15)),To=t(736),jo=t(795),Ao=t(796),No=Object(zr.a)((function(e){return{title:{marginBottom:e.spacing(1)},datasetGroupWrapper:{padding:"10px",height:"100%",userSelect:"auto",textAlign:"left",bozSizing:"border-box"},nonDatasetGroupWrapper:{height:"100%",userSelect:"auto",textAlign:"left",paddingLeft:"18px",paddingTop:"10px"},infoCard:{padding:e.spacing(1),width:"100%",height:"100%"},gridClass:{height:"100%",maxHeight:"200px"},datasetGridClass:{height:"100%",maxHeight:"200px"},gridItem:{display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",maxHeight:"200px"},adjustGridLeft:{marginLeft:"-7vw"},datasetDescriptionWrapper:{whiteSpace:"normal",height:"100%",overflow:"auto"},datasetDescription:{marginBottom:e.spacing(2),marginTop:e.spacing(1)},vizSampleImage:{maxWidth:"15vw",maxHeight:"180px"},variableDetailTable:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%",tableLayout:"fixed",marginBottom:e.spacing(1)},variableDetailTableRow:{height:"24px",width:"100%"},variableDetailTableCell:{color:"#FFF6EC",borderBottomColor:"black",fontSize:"11px",maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"14px"},gridDetailTypography:{fontSize:"11px",whiteSpace:"normal",width:"100%",display:"block"},boldText:{fontWeight:"bold"},rightGridItem:{maxWidth:"100%",paddingTop:"10px",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},datasetDescriptionButton:{backgroundColor:Pr.primary,color:"white","&:hover":{backgroundColor:"#518516"},fontSize:"12px",maxWidth:"100%",margin:"0 auto",verticalAlign:"middle"},buttonTextWrapper:{textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"},groupName:{textAlign:"left",fontSize:"13px",fontWeight:700,marginLeft:"-2px",display:"inline-block",marginTop:"3px",color:Pr.primary},chevronButton:{marginBottom:"4px",marginRight:"21px","&:hover":{backgroundColor:"transparent"}},datasetChevronButton:{marginTop:"75px","&:hover":{backgroundColor:"transparent"}},chevronIcon:{transform:"scale(0.8)",color:Pr.primary},datasetButtonWrapper:{width:"70px",display:"inline-block"},datasetName:{marginTop:"-32px",fontSize:"19px",marginBottom:"-48px",fontWeight:700},tableGridSection:{padding:"8px 8px 0 8px",marginBottom:"-24px"},shortCell:{maxWidth:"35%",width:"35%"},acknowledgement:{fontSize:"11px",textAlign:"center",padding:"0 10px 0 10px",maxWidth:"20vw",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxHeight:"100px"},acknowledgementHeader:{padding:"0 6px 0 6px",maxWidth:"20vw",fontSize:"13px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",marginBottom:"8px"},buttonMarginLeft:{marginLeft:"auto",marginRight:"auto",display:"block"},buttonMarginTop:{marginTop:"-60px",marginLeft:"auto",marginRight:"auto",display:"block"},tooltip:{backgroundColor:Pr.solidPaper,color:Pr.primary}}}))((function(e){var a=e.classes,t=e.node,n=e.context,o=e.value,s=t.allLeafChildren[0].data,i=r.a.useState(t.expanded),l=Object(ko.a)(i,2),c=l[0],u=l[1],m=function(){t.setExpanded(!t.expanded),u(t.expanded)};return"Dataset_Name"===e.node.field?r.a.createElement("div",{className:"ag-selectable ".concat(a.datasetGroupWrapper),onDoubleClick:m},r.a.createElement(Kr.a,{container:!0,className:a.datasetGridClass},r.a.createElement(Kr.a,{xs:1,item:!0,className:a.datasetButtonWrapper},c?r.a.createElement(To.a,{onClick:m,size:"small",className:"".concat(a.datasetChevronButton)},r.a.createElement(jo.a,{className:a.chevronIcon})):r.a.createElement(Yr.a,{title:"Show member variables",enterDelay:300},r.a.createElement(To.a,{onClick:m,size:"small",className:"".concat(a.datasetChevronButton)},r.a.createElement(Ao.a,{className:a.chevronIcon})))),r.a.createElement(Kr.a,{item:!0,container:!0,xs:11,className:"".concat(a.gridItem," ").concat(a.adjustGridLeft)},r.a.createElement(Kr.a,{item:!0,xs:4,className:a.gridItem},r.a.createElement("img",{src:n.datasets[e.value].Icon_URL,alt:"Mission Icon",className:a.vizSampleImage,onClick:m})),r.a.createElement(Kr.a,{justify:"space-between",direction:"column",container:!0,item:!0,xs:8,className:a.gridItem},r.a.createElement(Kr.a,{container:!0,item:!0,xs:12},r.a.createElement(Vr.a,{className:a.datasetName},o)),r.a.createElement(Kr.a,{container:!0,item:!0,xs:12},r.a.createElement(Kr.a,{item:!0,xs:8,className:a.tableGridSection},r.a.createElement(Hr.a,{className:a.variableDetailTable,size:"small"},r.a.createElement(Qr.a,null,r.a.createElement(Wr.a,{className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:"".concat(a.variableDetailTableCell," ").concat(a.shortCell)},r.a.createElement("strong",null,"Source")),r.a.createElement(qr.a,{className:a.variableDetailTableCell,title:s.Data_Source},s.Data_Source)),r.a.createElement(Wr.a,{className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:"".concat(a.variableDetailTableCell," ").concat(a.shortCell)},r.a.createElement("strong",null,"Distributor")),r.a.createElement(qr.a,{className:a.variableDetailTableCell,title:s.Distributor},s.Distributor)),r.a.createElement(Wr.a,{className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:"".concat(a.variableDetailTableCell," ").concat(a.shortCell)},"SQL Table"),r.a.createElement(qr.a,{className:a.variableDetailTableCell,title:s.Distributor},s.Table_Name)),r.a.createElement(Wr.a,{className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:"".concat(a.variableDetailTableCell," ").concat(a.shortCell)},"Temporal Resolution"),r.a.createElement(qr.a,{className:a.variableDetailTableCell,title:s.Distributor},s.Temporal_Resolution)),r.a.createElement(Wr.a,{className:a.variableDetailTableRow},r.a.createElement(qr.a,{className:"".concat(a.variableDetailTableCell," ").concat(a.shortCell)},"Spatial Resolution"),r.a.createElement(qr.a,{className:a.variableDetailTableCell,title:s.Distributor},s.Spatial_Resolution))))),r.a.createElement(Kr.a,{item:!0,xs:4,container:!0,direction:"column",className:a.tableGridSection},r.a.createElement("div",{style:{height:"70%",justifyContent:"center",width:"100%"}},s.Acknowledgement&&r.a.createElement("div",null,r.a.createElement(Vr.a,{className:a.acknowledgementHeader},r.a.createElement("strong",null,"Acknowledgement:")),r.a.createElement(Vr.a,{title:s.Acknowledgement,className:a.acknowledgement},s.Acknowledgement))),r.a.createElement("div",{style:{height:"30%",justifyContent:"center",width:"100%"}},r.a.createElement($r.a,{variant:"contained",className:"".concat(a.datasetDescriptionButton," ").concat(s.Acknowledgement?a.buttonMarginLeft:a.buttonMarginTop),onClick:function(){return e.context.handleDescribeDataset(s.Dataset_Name)}},r.a.createElement("span",{className:a.buttonTextWrapper},"Dataset Details"))))))))):r.a.createElement("div",{className:"ag-selectable ".concat(a.nonDatasetGroupWrapper)},r.a.createElement("div",{style:{display:"inline-block",marginLeft:"".concat(36*t.level,"px")}}),c?r.a.createElement(To.a,{onClick:m,size:"small",className:"".concat(a.chevronButton)},r.a.createElement(jo.a,{className:a.chevronIcon})):r.a.createElement(To.a,{onClick:m,size:"small",className:"".concat(a.chevronButton),disableRipple:!0,disableFocusRipple:!0},r.a.createElement(Ao.a,{className:a.chevronIcon})),r.a.createElement(Vr.a,{className:a.groupName,variant:"h6"},e.value))})),Ro=[{headerName:"Long Name",field:"Long_Name",sortable:!0,filter:!0,tooltipField:"longName",cellRenderer:"agGroupCellRenderer"},{headerName:"Variable",field:"Variable",sortable:!0,filter:!0,hide:!0},{headerName:"Table Name",field:"Table_Name",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Dataset Name",field:"Dataset_Name",sortable:!0,filter:!0,tooltipField:"datasetName",rowGroup:!0,enableRowGroup:!0,hide:!0},{headerName:"Make",field:"Make",sortable:!0,filter:!0,enableRowGroup:!0,maxWidth:160},{headerName:"Sensor",field:"Sensor",sortable:!0,filter:!0,enableRowGroup:!0,maxWidth:160},{headerName:"Study Domain",field:"Study_Domain",sortable:!0,filter:!0,maxWidth:160,enableRowGroup:!0},{headerName:"Process Level",field:"Process_Level",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Spatial Resolution",field:"Spatial_Resolution",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Temporal Resolution",field:"Temporal_Resolution",sortable:!0,filter:!0,hide:!0,enableRowGroup:!0},{headerName:"Unit",field:"Unit",sortable:!0,filter:!0,hide:!0},{headerName:"Key Words",field:"Keywords",hide:!0},{headerName:"Data Source",field:"Data_Source",hide:!0}],Do={resizable:!0,cellStyle:{textAlign:"left"}},Lo={cellStyle:{textAlign:"left"}},Io=function(e){return e.node.group&&"Dataset_Name"===e.node.field?200:e.node.detail?180:48},Po=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={filterText:"",describedDataset:"",describedVariable:null},e.handleDescribeDataset=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{describedDataset:a}))},e.handleDescribeVariable=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{describedVariable:a}))},e.handleChange=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{filterText:a.target.value})),e.gridApi.setQuickFilter(a.target.value)},e.onGridReady=function(a){e.gridApi=a.api,e.columnApi=a.columnApi,e.gridApi.sizeColumnsToFit()},e.onGridSizeChanged=function(a){e.gridApi.sizeColumnsToFit()},e.handleColumnRowGroupChanged=function(a){e.gridApi.sizeColumnsToFit(),a.columns.forEach((function(e){e.columnApi.setColumnVisible(e.colId,!1)}))},e.handleDownloadCatalog=function(){var a=wo()(e.props.catalog,{header:!0}),t=new Blob([a],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","CMAP_Catalog.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},e.render=function(){var a=e.props,t=a.classes,n=a.datasets,o=e.state,s=o.describedDataset,i=o.describedVariable,l=n&&n[s]?n[s].Description:"";return r.a.createElement(Ur.a,{elevation:12,className:t.gridPaper},r.a.createElement(yo,{description:l,clearDescription:function(){return e.handleDescribeDataset("")},datasetName:s}),r.a.createElement(So,{clearDescription:function(){return e.handleDescribeVariable(null)},describedVariable:i}),r.a.createElement(Kr.a,{container:!0},r.a.createElement(Kr.a,{item:!0,xs:3}),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{className:t.gridSearch,autoFocus:!0,margin:"normal",id:"name",type:"text",variant:"outlined",name:"filterText",value:e.state.filterText,onChange:e.handleChange,placeholder:"Search Catalog",InputProps:{startAdornment:r.a.createElement(Co.a,{position:"start"},r.a.createElement(_o.a,{style:{color:Pr.primary}}))}})),r.a.createElement(Kr.a,{item:!0,xs:2},r.a.createElement(Yr.a,{placement:"top",title:"Download the full catalog in CSV format"},r.a.createElement($r.a,{className:t.downloadButton,variant:"contained",color:"primary",onClick:e.handleDownloadCatalog},"Download Catalog"))),r.a.createElement(Kr.a,{item:!0,xs:1})),r.a.createElement("div",{className:t.gridWrapper+" ag-theme-material"},r.a.createElement(co.AgGridReact,{columnDefs:Ro,defaultColDef:Do,rowData:e.props.catalog,onGridReady:e.onGridReady,onGridSizeChanged:e.onGridSizeChanged,suppressDragLeaveHidesColumns:!0,enableCellTextSelection:!0,suppressContextMenu:!0,getRowHeight:Io,context:{datasets:n,handleDescribeDataset:e.handleDescribeDataset,handleDescribeVariable:e.handleDescribeVariable},getRowStyle:function(e){var a={};return e.node.detail&&(a.background="transparent"),e.node.level>0&&(a.marginLeft="32px"),a},rowGroupPanelShow:"always",groupMultiAutoColumn:!0,onColumnRowGroupChanged:e.handleColumnRowGroupChanged,autoGroupColumnDef:Lo,enableBrowserTooltips:!0,groupUseEntireRow:!0,groupRowRenderer:"datasetGroupRowRenderer",masterDetail:!0,frameworkComponents:{myDetailCellRenderer:ho,datasetGroupRowRenderer:No},detailCellRenderer:"myDetailCellRenderer",detailRowHeight:200})))},e}return t}(n.Component),Mo=Object(zr.a)((function(e){return{gridWrapper:{height:"80vh",width:"96%",margin:"0 auto"},gridSearch:{margin:"0 auto 20px auto",width:"60%"},gridPaper:{marginTop:"68px",padding:"20px",height:"calc(100vh - 68px)",boxSizing:"border-box",overflow:"hidden"},downloadButton:{margin:"6px 0 0 0",textTransform:"none",color:"white",backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark}}}}))(Po),Fo={retrievalRequestSend:A,datasetRetrievalRequestSend:R},zo=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).componentDidMount=function(){e.props.catalog||e.props.retrievalRequestSend(),e.props.datasets||e.props.datasetRetrievalRequestSend()},e.determineContent=function(){if(e.props.catalog&&e.props.datasets)return r.a.createElement(Mo,{catalog:e.props.catalog,datasets:e.props.datasets})},e}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.determineContent();return r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component),Uo=(Object(l.b)((function(e,a){return{catalogRequestState:e.catalogRequestState,catalog:e.catalog,datasets:e.datasets}}),Fo)(Object(zr.a)((function(e){return{}}))(zo)),t(806)),Vo=t(103),Bo=t(803),Ho=t(804),Go=t(416),Wo=t(801),qo=t(799),Qo=t(800),Ko={cartAddItem:function(e){return{type:"CART_ADD_ITEM",payload:{item:e}}},cartRemoveItem:function(e){return{type:"CART_REMOVE_ITEM",payload:{item:e}}},cartPersistAddItem:function(e){return{type:"CART_PERSIST_ADD_ITEM",payload:{datasetID:e}}},cartPersistRemoveItem:function(e){return{type:"CART_PERSIST_REMOVE_ITEM",payload:{datasetID:e}}}},Yo=Object(l.b)((function(e,a){return{cart:e.cart}}),Ko)(Object(zr.a)((function(e){return{cartButton:{textTransform:"none",color:e.palette.primary.main,paddingLeft:"4px",marginLeft:"14px"}}}))(Object(Fr.f)((function(e){e.classes;var a=e.cart,t=e.cartAddItem,o=e.cartRemoveItem,s=e.dataset,i=e.cartPersistAddItem,l=e.cartPersistRemoveItem,c=Object(n.useState)(null),u=Object(ko.a)(c,2),m=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yr.a,{title:s.Visualize?"Items in your cart will appear first on the visualization page":"This dataset contains no visualizable variables, and will not appear on the visualization page.",placement:"right"},r.a.createElement($r.a,{style:s.Visualize||a[s.Long_Name]?{}:{color:"#e3e61a"},variant:"text",color:"primary",className:e.cartButtonClass,startIcon:a[s.Long_Name]?r.a.createElement(qo.a,null):r.a.createElement(Qo.a,null),onClick:function(e){a[s.Long_Name]?(o(s),l(s.Dataset_ID)):p(e.currentTarget)}},a[s.Long_Name]?"Remove From Cart":"Add To Cart")),r.a.createElement(Go.a,{anchorEl:m,open:Boolean(m),onClose:function(){return p(null)}},r.a.createElement(Wo.a,{onClick:function(){return t(s),i(s.Dataset_ID),void p(null)}},"Add to Cart"),r.a.createElement(Wo.a,{onClick:function(){return t(s),i(s.Dataset_ID),p(null),void e.history.push("/visualization")}},"Add to Cart and Visualize")))})))),Zo=t(802),$o={vizPageDataTargetSet:oe,setShowCart:$},Jo=Object(l.b)((function(e,a){return{}}),$o)(Object(zr.a)((function(e){return{button:{textTransform:"none",color:e.palette.primary.main,paddingLeft:"4px",marginLeft:"14px"}}}))(Object(Fr.f)((function(e){var a=e.product,t=e.classes,n=e.vizPageDataTargetSet,o=e.history,s=e.setShowCart;return r.a.createElement(r.a.Fragment,null,r.a.createElement($r.a,{variant:"text",color:"primary",className:t.button,startIcon:r.a.createElement(Zo.a,null),onClick:function(){s(!1),n(a),o.push("/visualization")}},"Load on Visualization Page"))})))),Xo={setShowCart:$},es=Object(l.b)((function(e,a){return{cart:e.cart}}),Xo)(Object(zr.a)((function(e){return{resultWrapper:{padding:"4px 12px",height:"200px"},image:{maxWidth:"15vw",height:"170px",marginTop:"12px",[e.breakpoints.down("sm")]:{display:"none"}},gridRow:{marginBottom:"8px",textAlign:"left"},longName:{textAlign:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"1.15rem",display:"block",margin:"6px 0",color:Pr.primary},resultPaper:{marginTop:"22px"},denseText:{fontSize:".9rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},moreInfoButton:{textTransform:"none",color:e.palette.primary.main,paddingLeft:"4px"},cartButtonClass:{textTransform:"none",color:e.palette.primary.main,paddingLeft:"4px",marginLeft:"16px"},warningIcon:{color:"#e3e61a",marginLeft:"14px",marginBottom:"-7px",fontSize:"1.45rem"}}}))((function(e){var a=e.classes,t=e.cart,n=e.dataset,o=n.Spatial_Resolution,s=n.Temporal_Resolution,i=n.Short_Name,l=n.Long_Name,c=n.Icon_URL,u=n.Process_Level,m=n.Data_Source,p=n.Depth_Max,d=n.Time_Min,h=n.Time_Max,b=(n.Dataset_ID,n.Sensors),g=n.Visualize;return r.a.createElement(Ur.a,{className:a.resultPaper,elevation:4},r.a.createElement(Kr.a,{container:!0,className:a.resultWrapper},r.a.createElement(Kr.a,{item:!0,xs:12,md:8,className:a.gridRow},r.a.createElement(Yr.a,{title:l,enterDelay:400,placement:"top"},r.a.createElement(no.a,{component:Mr.b,to:"/catalog/datasets/".concat(i),className:a.longName,onClick:function(){return e.setShowCart(!1)}},l)),r.a.createElement(Vr.a,{className:a.denseText},u," Data from ",m),r.a.createElement(Vr.a,{className:a.denseText},"Sensor",b.length>1?"s":"",": ",b.join(", ")),r.a.createElement(Vr.a,{className:a.denseText},"Temporal Resolution: ",s),r.a.createElement(Vr.a,{className:a.denseText},"Temporal Coverage: ",d&&h?" ".concat(d.slice(0,10)," to ").concat(h.slice(0,10)):"NA"),r.a.createElement(Vr.a,{className:a.denseText},"Spatial Resolution: ",o),r.a.createElement(Vr.a,{className:a.denseText},p?"Multiple Depth Levels":"Surface Level Data"),r.a.createElement($r.a,{variant:"text",color:"primary",className:a.moreInfoButton,startIcon:r.a.createElement(Bo.a,null),component:Mr.b,to:"/catalog/datasets/".concat(i),onClick:function(){return e.setShowCart(!1)}},"More Info"),r.a.createElement(Yo,{dataset:n,cartButtonClass:a.cartButtonClass}),r.a.createElement(Jo,{product:n}),!g&&t[l]?r.a.createElement(Yr.a,{title:"This dataset contains no visualizable variables, and will not appear on the visualization page.",placement:"top"},r.a.createElement(Ho.a,{className:a.warningIcon})):""),r.a.createElement(Kr.a,{item:!0,xs:12,md:4},r.a.createElement("img",{src:c,alt:i,className:a.image}))))}))),as=t(805),ts=Object(l.b)((function(e,a){return{}}),{})(Object(zr.a)((function(e){return{showHelpButton:{marginRight:"-4px"},dialogPaper:{backgroundColor:"#1B445C"},dialogPaperViz:{backgroundColor:Pr.backgroundGray}}}))((function(e){var a=e.title,t=e.content,n=e.buttonClass,o=e.classes,s=e.iconClass,i=r.a.useState(!1),l=Object(ko.a)(i,2),c=l[0],u=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(To.a,{className:n,onClick:function(){return u(!0)}},r.a.createElement(as.a,{className:s})),r.a.createElement(bo.a,{onClose:function(){return u(!1)},open:c,PaperProps:{className:"/visualization"===window.location.pathname?o.dialogPaperViz:o.dialogPaper}},r.a.createElement(go.a,null,a),r.a.createElement(fo.a,null,t)))}))),ns={searchResultsFetch:function(e){return{type:"SEARCH_RESULTS_FETCH",payload:{queryString:e}}},searchResultsStore:P,searchResultsSetLoadingState:M},rs=Object(l.b)((function(e,a){return{searchResults:e.searchResults,searchResultsLoadingState:e.searchResultsLoadingState}}),null)(Object(zr.a)((function(e){return{resultsCount:{marginTop:"-9px",textAlign:"left",display:"inline-block"}}}))((function(e){return r.a.createElement(Vr.a,{className:e.classes.resultsCount},e.searchResultsLoadingState===m.inProgress?"Searching...":"Found ".concat(e.searchResults.length," datasets:"))}))),os=Object(l.b)((function(e,a){return{searchResults:e.searchResults,searchResultsLoadingState:e.searchResultsLoadingState}}),ns)(Object(zr.a)((function(e){return{wrapperDiv:{padding:"0 20px 20px 20px",boxSizing:"border-box",overflow:"hidden",[e.breakpoints.down("sm")]:{padding:"0 0 20px 0"}},root:{width:"60vw",maxWidth:"1200px",minWidth:"480px",padding:"16px 24px",margin:"8px auto 24px auto"},resultsWrapper:{width:"60vw",maxWidth:"1200px",padding:"16px 24px",margin:"8px auto 24px auto",backgroundColor:"transparent",[e.breakpoints.down("sm")]:{padding:"12px 4px 20px 4px",width:"90vw"}},downloadWrapper:{fontSize:"1rem",color:"white",marginTop:"-9px",cursor:"pointer",borderRadius:"6px",padding:"1px 8px","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},downloadIcon:{marginRight:"7px",marginBottom:"-3px",fontSize:"1.2rem"},helpButton:{padding:"0 2px",marginTop:"-9.5px",color:"white",fontSize:"1.2rem"},helpIcon:{color:"white",fontSize:"1.2rem"}}}))(Object(Fr.f)((function(e){var a=e.classes,t=e.searchResults,o=e.searchResultsSetLoadingState,s=e.searchResultsFetch,i=e.searchResultsStore;Object(n.useEffect)((function(){return o(m.inProgress),s(e.location.search),function(){return i([])}}),[e.location.search]);var l=t&&t.length?t.length:0;return r.a.createElement("div",{className:a.wrapperDiv},r.a.createElement(Ur.a,{className:a.resultsWrapper,elevation:0},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(rs,null),t&&t.length?r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",paddingRight:"8px"}},r.a.createElement(Vr.a,{className:a.downloadWrapper,onClick:function(){return function(){var e=wo()(t,{header:!0}),a=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",n),r.setAttribute("download","CMAP_Search_Results.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}()}},r.a.createElement(Uo.a,{className:a.downloadIcon}),"Download Search Results"),r.a.createElement(ts,{title:"Download Search Results",buttonClass:a.helpButton,iconClass:a.helpIcon,content:r.a.createElement(Vr.a,null,"This button will download a csv formatted file containing metadata for all datasets returned by your search.")})):""),r.a.createElement(Vo.a,{itemData:t,itemCount:l,height:window.innerHeight-140,width:"100%",itemSize:222},(function(e){var a=e.index,n=e.style;return r.a.createElement("div",{style:n},r.a.createElement(es,{dataset:t[a]}))}))))})))),ss=t(133),is=t(865),ls=t(808),cs=t(860),us=t(809),ms=t(807),ps=Object(zr.a)((function(e){return{registrationCard:{marginTop:e.spacing(1),marginBottom:e.spacing(1),height:"200px"},textField:{margin:e.spacing(1),width:"80%"}}}))((function(e){var a=e.classes,t=Object.keys(e.inputFieldState),n=function(a){"Enter"===a.key&&e.buttonRef.current.click()};return r.a.createElement(ms.a,{className:a.registrationCard},r.a.createElement(Kr.a,{container:!0,spacing:1},t.map((function(o,s){return r.a.createElement(Kr.a,{key:s,item:!0,xs:t.length>2?6:12},r.a.createElement(Zr.a,{key:s,autoFocus:Boolean(0===s),name:e.inputFieldInfo[o].name,label:e.inputFieldInfo[o].label,value:e.inputFieldState[o].value,className:a.textField,onChange:e.onChange,type:e.inputFieldInfo[o].type,error:!e.inputFieldState[o].valid,helperText:e.inputFieldState[o].valid?" ":e.inputFieldInfo[o].requirement,onKeyPress:n}))}))))})),ds={registrationNextActiveStep:G,registrationPreviousActiveStep:function(){return{type:"REGISTRATION_PREVIOUS_ACTIVE_STEP"}},userRegistrationRequestSend:function(e){return{type:"REGISTRATION_REQUEST_SEND",payload:e}},userValidationRequestSend:function(e,a){return{type:"VALIDATION_REQUEST_SEND",payload:{username:e,email:a}}}},hs=r.a.createRef(),bs=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.props.userValidationState===m.failed&&n.props.userValidationRequestSuccess()},n.validateField=function(e,a){var t=a.trim(),r=/$^/;switch(e){case"firstName":case"lastName":r=/^[A-Za-z ]{2,40}$/;break;case"username":r=/^[A-Za-z0-9 ]{6,20}$/;break;case"email":r=/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)\.([a-zA-Z]{2,5})$/;break;case"institute":case"department":case"country":r=/^.{0,150}$/;break;case"password":r=/^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/,n.setState((function(e){var a=Object(d.a)(e.cards);return a[2].confirmPassword.valid=Boolean(a[2].confirmPassword.value===t),{cards:a}}));break;case"confirmPassword":return n.state.cards[2].password.value===t}return r.test(t)},n.processStateToActionPayload=function(){var e={};return n.state.cards.forEach((function(a){Object.keys(a).forEach((function(t){e[t]=a[t].value}))})),e},n.currentCardIsValid=function(){var e=n.state.cards[n.props.registrationActiveStep];for(var a in e)if(!e[a].optional&&(!e[a].value||!e[a].valid))return!1;return!0},n.handleNext=function(){switch(n.props.registrationActiveStep){case 0:var e=n.state.cards[0].username.value,a=n.state.cards[0].email.value;n.props.userValidationRequestSend(e,a);break;case 1:n.props.userRegistrationRequestSend(n.processStateToActionPayload());break;default:n.props.registrationNextActiveStep()}},n.handleBack=function(){n.props.registrationPreviousActiveStep()},n.handleChange=function(e){var a=e.target.value,t=e.target.name,r=n.validateField(t,a);n.setState((function(e){var o=Object(d.a)(e.cards);return o[n.props.registrationActiveStep][t]=Object(u.a)(Object(u.a)({},o[n.props.registrationActiveStep][t]),{},{value:a,valid:r}),{cards:o}}))};var r=[];return[{firstName:{label:"First Name*",name:"firstName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},lastName:{label:"Last Name*",name:"lastName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},username:{label:"Username*",name:"username",type:"text",requirement:"Must be 6 to 20 alphanumeric characters.",optional:!1},email:{label:"Email Address*",name:"email",type:"email",requirement:"Must be a valid email address.",optional:!1}},{institute:{label:"Institute",name:"institute",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},department:{label:"Department",name:"department",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},country:{label:"Country",name:"country",type:"text",requirement:"Maximum length is 150 characters.",optional:!0}}].forEach((function(e){var a={};Object.keys(e).forEach((function(t){a[t]={value:"",valid:!0,optional:e[t].optional}})),r.push(a)})),n.state={cards:r},n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props.classes,a=["Your Information","Optional Organization Info"],t=this.props.registrationActiveStep,n=[{firstName:{label:"First Name*",name:"firstName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},lastName:{label:"Last Name*",name:"lastName",type:"text",requirement:"Must be 2 or more alphabetical characters.",optional:!1},username:{label:"Username*",name:"username",type:"text",requirement:"Must be 6 to 20 alphanumeric characters.",optional:!1},email:{label:"Email Address*",name:"email",type:"email",requirement:"Must be a valid email address.",optional:!1}},{institute:{label:"Institute",name:"institute",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},department:{label:"Department",name:"department",type:"text",requirement:"Maximum length is 150 characters.",optional:!0},country:{label:"Country",name:"country",type:"text",requirement:"Maximum length is 150 characters.",optional:!0}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.root},r.a.createElement(is.a,{activeStep:t},a.map((function(e,a){return r.a.createElement(ls.a,{key:e},r.a.createElement(cs.a,null,e))}))),r.a.createElement("div",null,t===a.length?r.a.createElement(Ur.a,{className:e.instructionsPaper},r.a.createElement(Vr.a,{className:e.instructions},"We've sent you an email with a link for finalizing your registration and choosing a password. If you don't receive the email within the next few minute please check your spam folder.")):r.a.createElement("div",null,r.a.createElement(ps,{inputFieldState:Object(u.a)({},this.state.cards[this.props.registrationActiveStep]),inputFieldInfo:Object(u.a)({},n[this.props.registrationActiveStep]),onChange:this.handleChange,buttonRef:hs}),r.a.createElement("div",null,r.a.createElement($r.a,{onClick:0===t?this.props.handleHideStepper:this.handleBack,className:e.button},"Back"),r.a.createElement($r.a,{variant:"contained",color:"primary",onClick:this.handleNext,className:e.button,disabled:!this.currentCardIsValid()||this.props.userValidationState===m.inProgress,ref:hs},t===a.length-1?"Finish":"Next"),this.props.userValidationState===m.inProgress&&r.a.createElement(us.a,{size:24,className:e.buttonProgress}),this.props.userValidationState===m.failed&&r.a.createElement(Vr.a,{className:e.bottomError},"That username or email address is already in use. If you previously registered you can recover your password ",r.a.createElement(no.a,{onClick:this.handleClose,component:Mr.b,to:{pathname:"/forgotpass"}},"here"),"."),this.props.userRegistrationState===m.failed&&r.a.createElement(Vr.a,{className:e.bottomError},"Registration failed. Please try again."))))))}}]),t}(n.Component),gs=Object(l.b)((function(e,a){return{registrationActiveStep:e.registrationActiveStep,userValidationState:e.userValidationState,userRegistrationState:e.userRegistrationState}}),ds)(Object(zr.a)((function(e){return{root:{width:"60%",margin:"10% auto"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},instructionsPaper:{width:"60%",margin:"5% auto",padding:"24px"},registrationCard:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},textField:{margin:e.spacing(1),width:200},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},bottomError:{color:"white",marginTop:e.spacing(2)}}}))(bs)),fs=Object(zr.a)((function(e){return{wrapper:{height:"46px",display:"flex",cursor:"pointer",borderRadius:"4px","&:hover":{boxShadow:"0 0 3px 3px rgba(66,133,244,.3)"},paddingRight:"14px",width:"200px",color:"#ffffff"},textSpan:{marginTop:"13px",marginLeft:"10px",fontFamily:"'Roboto', sans-serif"}}}))((function(e){var a=e.classes,t=e.clickHandlerTarget;return r.a.createElement("div",{id:t,className:a.wrapper},r.a.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"btn_google_dark_normal_ios"),r.a.createElement("desc",null,"Created with Sketch."),r.a.createElement("defs",null,r.a.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},r.a.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.a.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),r.a.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.a.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),r.a.createElement("feMerge",null,r.a.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.a.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),r.a.createElement("feMergeNode",{in:"SourceGraphic"}))),r.a.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),r.a.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),r.a.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),r.a.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},r.a.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},r.a.createElement("g",{id:"button-bg"},r.a.createElement("use",{fill:"#4285F4",fillRule:"evenodd",xlinkHref:"#path-2"}),r.a.createElement("use",{fill:"none",xlinkHref:"#path-2"}),r.a.createElement("use",{fill:"none",xlinkHref:"#path-2"}),r.a.createElement("use",{fill:"none",xlinkHref:"#path-2"}))),r.a.createElement("g",{id:"button-bg-copy"},r.a.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-3"}),r.a.createElement("use",{fill:"none",xlinkHref:"#path-3"}),r.a.createElement("use",{fill:"none",xlinkHref:"#path-3"}),r.a.createElement("use",{fill:"none",xlinkHref:"#path-3"})),r.a.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},r.a.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),r.a.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),r.a.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),r.a.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),r.a.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),r.a.createElement("g",{id:"handles_square"})))),r.a.createElement("span",{className:a.textSpan},e.text))})),Es={snackbarOpen:q,googleLoginRequestSend:_},xs=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={showStepper:!1},e.onGoogleSignup=function(a){var t=a.getAuthResponse(!0).id_token;e.props.googleLoginRequestSend(t)},e.registerGoogleClickHandler=function(){var a=Object(ss.a)(e),t=window.gapi.auth2;t?t.getAuthInstance().attachClickHandler("g-signup",null,a.onGoogleSignup,(function(){return a.props.snackbarOpen("There was a problem accessing your google account")})):setTimeout(a.registerGoogleClickHandler,20)},e.componentDidMount=function(){e.registerGoogleClickHandler()},e.handleShowStepper=function(){e.setState({showStepper:!0})},e.handleHideStepper=function(){e.setState({showStepper:!1})},e}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,!this.state.showStepper&&r.a.createElement(Ur.a,{className:e.paper},r.a.createElement(Vr.a,{className:e.description},"Create an account to visualize data, and access the Simons CMAP API."),r.a.createElement("div",{className:e.googleWrapper},r.a.createElement(fs,{clickHandlerTarget:"g-signup",text:"Sign up with Google"})),r.a.createElement("div",{className:e.emailSignUpWrapper},r.a.createElement($r.a,{variant:"contained",color:"primary",className:e.emailSignUpButton,onClick:this.handleShowStepper},"Sign up with an Email Address"))),this.state.showStepper&&r.a.createElement(gs,{handleHideStepper:this.handleHideStepper}))}}]),t}(n.Component),vs=Object(l.b)(null,Es)(Object(zr.a)((function(e){return{paper:{width:"60%",margin:"10% auto",padding:"24px"},emailSignUpButton:{textTransform:"none",height:"46px",color:"white"},googleWrapper:{margin:"50px auto 0 0",display:"inline-block"},description:{paddingTop:"50px"},emailSignUpWrapper:{marginTop:"40px"}}}))(xs)),ys=t(41),Ss=t(211),Os=t(75),ws=t(737),Cs=t(811),_s=t(866),ks=t(815),Ts=t(853),js=t(812),As=t(813),Ns=t(814),Rs=t(816),Ds=t(817),Ls=t(818),Is=t(819),Ps=t(820),Ms={depth:{depthOneIsLower:"Cannot be larger than end",depthOneOutOfBounds:"Data ends at $",depthTwoOutOfBounds:"Data begins at $",negative:"Cannot be negative"},date:{dateOneIsLater:"Cannot be after end",dateOneOutOfBounds:"Data ends at $",dateTwoOutOfBounds:"Data begins at $"},lat:{latOneIsHigher:"Cannot be larger than end",latOneOutOfBounds:"Data ends at $",latTwoOutOfBounds:"Data begins at $"},lon:{lonOneIsHigher:"Cannot be larger than end",lonOneOutOfBounds:"Data ends at $",lonTwoOutOfBounds:"Data begins at $"},type:{dataIsIrregular:"$ is not available for sparse data",dateRangeRequired:"$ requires a range of dates",depthRangeRequired:"$ requires a range of depths",surfaceOnlyDataset:"$ contains only surface data",irregularOnly:"Sparse map is only available for sparse data",dataSizeTooLarge:"Data set is too large for this visualization type.",webGLContextLimit:"Limit exceeded for sparse and heatmaps. Please delete one or more to proceed."},generic:{invalid:"Invalid input",dataSizeWarning:"Wait time and application performance may be poor due to size of data.",dataSizePrevent:"Data set is too large. Please reduce date range or area size.",variableMissing:"Please select a variable",vizTypeMissing:"Please select a visualization type"}},Fs=t(810),zs=Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.backgroundGray,width:"700px"}}}))((function(e){var a=e.data,t=e.classes;return a?r.a.createElement(bo.a,{style:{zIndex:5e3},open:e.open,onClose:e.onClose,PaperProps:{className:t.dialogPaper}},r.a.createElement(go.a,null,a.Long_Name),r.a.createElement(fo.a,null,a.Comment&&r.a.createElement(Fs.a,null,a.Comment),r.a.createElement(Hr.a,{size:"small"},r.a.createElement(Qr.a,null,"Cruise"===a.Product_Type?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Dataset"),r.a.createElement(qr.a,{title:a.Dataset_Name},a.Dataset_Name.length>25?a.Dataset_Name.slice(0,23)+"...":a.Dataset_Name)),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Table Name"),r.a.createElement(qr.a,{title:a.Table_Name},a.Table_Name>25?a.Table_Name.slice(0,23)+"...":a.Table_Name)),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Source"),r.a.createElement(qr.a,{title:a.Data_Source},a.Data_Source>25?a.Data_Source.slice(0,23)+"...":a.Data_Source)),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Distributor"),r.a.createElement(qr.a,{title:a.Distributor},a.Distributor.length>25?a.Distributor.slice(0,23)+"...":a.Distributor)),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Sensor"),r.a.createElement(qr.a,null,a.Sensor)),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Spatial Resolution"),r.a.createElement(qr.a,null,a.Spatial_Resolution)),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Temporal Resolution"),r.a.createElement(qr.a,null,a.Temporal_Resolution))),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Temporal Coverage Begin"),r.a.createElement(qr.a,null,a.Time_Min?a.Time_Min.slice(0,10):"Irregular")),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Temporal Coverage End"),r.a.createElement(qr.a,null,a.Time_Max?a.Time_Max.slice(0,10):"Irregular")),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Lat Coverage Begin"),r.a.createElement(qr.a,null,"".concat(a.Lat_Min,"\xb0"))),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Lat Coverage End"),r.a.createElement(qr.a,null,"".concat(a.Lat_Max,"\xb0"))),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Lon Coverage Begin"),r.a.createElement(qr.a,null,"".concat(a.Lon_Min,"\xb0"))),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Lon Coverage End"),r.a.createElement(qr.a,null,"".concat(a.Lon_Max,"\xb0"))),"Cruise"===a.Product_Type?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Depth Coverage Begin"),r.a.createElement(qr.a,null,a.Depth_Min?"".concat(a.Depth_Min,"(m)"):"Surface Only")),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Depth Coverage End"),r.a.createElement(qr.a,null,a.Depth_Max?"".concat(a.Depth_Max,"(m)"):"Surface Only"))),a.Variable_Min&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Minimum Value(",a.Unit,")"),r.a.createElement(qr.a,null,a.Variable_Min)),a.Variable_Max&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Maximum Value(",a.Unit,")"),r.a.createElement(qr.a,null,a.Variable_Max)),a.Variable_Mean&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Mean Value(",a.Unit,")"),r.a.createElement(qr.a,null,a.Variable_Mean)),a.Variable_Std&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,null,"Standard Deviation(",a.Unit,")"),r.a.createElement(qr.a,null,a.Variable_Std)))))):""})),Us=function(e){return{[Pe.threeMinutes]:1,[Pe.sixHourly]:1,[Pe.daily]:1,[Pe.weekly]:7,[Pe.monthly]:30,[Pe.annual]:365,[Pe.irregular]:null,[Pe.monthlyClimatology]:30,[Pe.threeDay]:3,[Pe.eightDayRunning]:8,[Pe.eightDays]:8}[e]},Vs=function(e){var a=new Date(e),t=a.getUTCFullYear(),n=a.getUTCMonth(),r=a.getUTCDate(),o=new Date;return o.setFullYear(t,n,r),o},Bs=[5,15,25,35,45,55,65,75.005,85.025,95.095,105.31,115.87,127.15,139.74,154.47,172.4,194.735,222.71,257.47,299.93,350.68,409.93,477.47,552.71,634.735,722.4,814.47,909.74,1007.155,1105.905,1205.535,1306.205,1409.15,1517.095,1634.175,1765.135,1914.15,2084.035,2276.225,2491.25,2729.25,2990.25,3274.25,3581.25,3911.25,4264.25,4640.25,5039.25,5461.25,5906.25],Hs=[.494024991989,1.54137504101,2.64566898346,3.81949496269,5.07822418213,6.44061422348,7.92956018448,9.5729970932,11.404999733,13.4671401978,15.8100700378,18.4955596924,21.5988197327,25.2114105225,29.4447307587,34.4341506958,40.3440513611,47.3736915588,55.764289856,65.8072662354,77.8538513184,92.3260726929,109.729301453,130.666000366,155.850692749,186.125595093,222.475204468,266.040313721,318.127410889,380.213012695,453.937713623,541.088928223,643.566772461,763.333129883,902.339294434,1062.43994141,1245.29101562,1452.25097656,1684.28405762,1941.89294434,2225.07788086,2533.3359375,2865.70288086,3220.82006836,3597.03198242,3992.48388672,4405.22412109,4833.29101562,5274.78417969,5727.91699219],Gs=new Set(["tblPisces_NRT","tblPisces_NRT_Calendar"]),Ws=new Set(["tblDarwin_Chl_Climatology","tblDarwin_Ecosystem","tblDarwin_Nutrient","tblDarwin_Nutrient_Climatology","tblDarwin_Ocean_Color","tblDarwin_Phytoplankton","tblDarwin_Plankton_Climatology"]),qs={count:function(e,a,t){var n=e.data.Table_Name,r=0;if(Gs.has(n))for(var o=0;o<Hs.length&&!(Hs[o]>t);o++)Hs[o]>a&&r++;else if(Ws.has(n))for(var s=0;s<Bs.length&&!(Bs[s]>t);s++)Bs[s]>a&&r++;return r},piscesTable:Gs,darwinTable:Ws,piscesDepths:Hs,darwinDepths:Bs},Qs=function(e){var a=0;return e.forEach((function(e){e.subType===Ie.heatmap&&a++,e.subType===Ie.sparse&&(a++,e.data.variableValues.length>1e4&&(a+=3))})),a},Ks=t(729),Ys=t(741),Zs=t(738),$s=Object(l.b)((function(e,a){return{}}),{})(Object(zr.a)((function(e){return{vizTypeSelectFormControl:{width:"100%","&:disabled":{backgroundColor:"transparent"}},vizTypeMenu:{backgroundColor:Pr.backgroundGray},vizTypeMenuItem:{"&:hover":{backgroundColor:Pr.greenHover}},visualizeButton:{textTransform:"none",height:"56px",borderRadius:0,backgroundColor:Pr.backgroundGray,color:e.palette.primary.main,fontVariant:"normal","&:disabled":{backgroundColor:"transparent"},"&:hover":{backgroundColor:Pr.greenHover,color:"white"}},vizButtonTooltip:{color:"yellow"},chartControlContainer:{position:"fixed",left:"16px",bottom:"20px",backgroundColor:Pr.backgroundGray,boxShadow:"2px 2px 2px 2px #242424",borderRadius:"4px",width:"305px"}}}))((function(e){var a=e.classes,t=e.overrideDisabledStyle,n=e.heatmapMessage,o=e.contourMessage,s=e.sectionMapMessage,i=e.histogramMessage,l=e.timeSeriesMessage,c=e.depthProfileMessage,u=e.sparseMapMessage,m=e.visualizeButtonTooltip,p=e.disableVisualizeMessage,d=e.fields,h=e.selectedVizType,b=e.handleChange,g=e.onVisualize;e.showChartControl;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{container:!0},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Ks.a,{variant:"filled",className:a.vizTypeSelectFormControl,disabled:!d},r.a.createElement(Ys.a,{shrink:!0,htmlFor:"vizSelector"},"Type"),r.a.createElement(Zs.a,{className:a.vizTypeSelectFormControl,style:t,value:h,variant:"filled",onChange:b,inputProps:{name:"selectedVizType",id:"vizSelector",variant:"filled"},MenuProps:{MenuListProps:{className:a.vizTypeMenu}}},!n&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.heatmap,title:n},"Heatmap"),!o&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.contourMap},"Contour Heatmap"),!s&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.sectionMap},"Section Map"),!s&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.contourSectionMap},"Contour Section Map"),!i&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.histogram},"Histogram"),!l&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.timeSeries},"Time Series"),!c&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.depthProfile},"Depth Profile"),!u&&r.a.createElement(Wo.a,{className:a.vizTypeMenuItem,value:Ie.sparse},"Sparse Map")))),r.a.createElement(Yr.a,{placement:"right",title:m,className:a.vizButtonTooltip},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement($r.a,{className:a.visualizeButton,variant:"contained",onClick:function(){return g()},disabled:Boolean(p)||!d||!h,fullWidth:!0},"Create Visualization")))))}))),Js={backgroundColor:"transparent"},Xs={cruiseTrajectoryRequestSend:X,clearCharts:J,csvDownloadRequestSend:te,snackbarOpen:q},ei=function(e){if(isNaN(new Date(e)).valueOf())return"yyyy-MM-dd";var a=e.getMonth()+1,t=e.getDate();return[e.getFullYear(),a<10?"0"+a:a,t<10?"0"+t:t].join("-")},ai=r.a.createRef(),ti=r.a.createRef(),ni=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).componentDidUpdate=function(a,t){if(ai.current&&ai.current.resetAfterIndex(0),e.props.children&&e.props.children.length){var n=0,r=!1;e.props.children.forEach((function(e){if(!r){for(var a=37,t=!1,o=0;o<e.props.children.length;o++){if(e.props.children[o].props.isFocused){r=!0,t=!0;break}a+=37.6}n+=t?a:37.6}})),r&&ai.current.scrollTo(n>150?n-150:0)}},e}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props,a=e.options,t=e.children,n=e.getValue;if(!t||!t.length)return"";var o=n(),s=Object(ko.a)(o,1)[0],i=35*a.indexOf(s),l=t.map((function(e){return e.props.children.some((function(e){return e.props.isFocused}))?37.6*e.props.children.length+37:37})),c=l.reduce((function(e,a){return e+a}),0),m=c/t.length;return r.a.createElement(Vo.b,{height:c<400?c:400,estimatedItemSize:m,itemCount:t.length,itemSize:function(e){return l[e]},initialScrollOffset:i||0,ref:ai},(function(e){var a=e.index,n=e.style;return r.a.createElement("div",{style:Object(u.a)({},n)},t[a])}))}}]),t}(n.Component),ri=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){return Object(Ce.a)(this,t),a.apply(this,arguments)}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props.children.some((function(e){return e.props.isFocused})),a=this.props.children[0].props.data.data.Sensor;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oi,Object.assign({},this.props.headingProps,{headingLabel:this.props.data.label,firstChild:this.props.children[0].props.data,hasFocus:e,sensor:a,tableName:this.props.children[0].props.data.data.Table_Name,selectProps:this.props.selectProps})),r.a.createElement("div",{hidden:!e},this.props.children.map((function(e){return e}))))}}]),t}(n.Component),oi=Object(zr.a)((function(e){return{customHeading:{backgroundColor:"rgba(0,0,0,.5)",height:37,"&:hover":{backgroundColor:Pr.greenHover},boxShadow:"0px 1px 1px 1px #242424"},icon:{marginRight:"10px",width:"30px"},typography:{width:"650px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}))((function(e){var a,t=e.classes,n=e.sensor,o=e.selectProps;return a="Satellite"===n?"fa-satellite":"Blend"===n?"fa-laptop":"fa-ship",r.a.createElement(r.a.Fragment,null,r.a.createElement(ws.a,{button:!0,alignItems:"center",onClick:function(){return ti.current.select.setState({focusedOption:e.hasFocus?null:e.firstChild})},className:t.customHeading},r.a.createElement(Cs.a,{fontSize:"small",color:"inherit",className:"fas ".concat(a," ").concat(t.icon)}),r.a.createElement(Vr.a,{className:t.typography},e.headingLabel.length>70?e.headingLabel.slice(0,67)+"...":e.headingLabel),o.datasets[e.headingLabel]&&r.a.createElement(Yr.a,{title:"Dataset Info",placement:"left"},r.a.createElement(To.a,{color:"inherit",onClick:function(a){window.open(window.location.protocol+"//"+window.location.host+"/catalog/datasets/"+o.datasets[e.headingLabel].Dataset_Name),a.stopPropagation()}},r.a.createElement(Bo.a,null))),o.cart[e.headingLabel]?r.a.createElement(Yr.a,{title:"This Dataset Is in Your Cart",placement:"right"},r.a.createElement(js.a,null)):""))})),si=function(e){return r.a.createElement(ys.z.DropdownIndicator,e,r.a.createElement(As.a,null))},ii=function(e){return r.a.createElement(ys.z.Menu,Object.assign({},e,{className:"react-select-menu-cmap"}))},li=function(e){return r.a.createElement(ys.z.Option,Object.assign({},e,{innerProps:Object(u.a)(Object(u.a)({},e.innerProps),{},{onMouseMove:function(e){return e.preventDefault()},onMouseOver:function(e){return e.preventDefault()}})}))},ci=function(e){return""},ui=function(e){return r.a.createElement(ys.z.SingleValue,Object.assign({},e,{children:null}),e.data.label)},mi={display:"inline-block",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"15px",marginRight:"32px",width:"calc(60% - 32px)",textAlign:"left"},pi=Object(u.a)(Object(u.a)({},mi),{},{marginRight:"24px",width:"calc(15% - 24px)"}),di=Object(u.a)(Object(u.a)({},mi),{},{textAlign:"right",marginRight:"0px",width:"25%"}),hi=function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:mi},e.label),r.a.createElement("span",{style:pi},"Irregular"===e.data.Spatial_Resolution?"Irregular":"Gridded"),r.a.createElement("span",{style:di},e.data.Data_Source))},bi=function(e){return r.a.createElement(ys.z.ValueContainer,e,r.a.createElement(_o.a,{style:{position:"absolute",left:6,color:Pr.primary}}),e.children)},gi="charts",fi="cruises",Ei="bites",xi="bottomControl",vi=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t),(n=a.call(this,e)).componentDidUpdate=function(e){e.catalog&&e.catalog.length||!n.props.catalog||!n.props.catalog.length||n.state.search.addDocuments(n.props.catalog),e.cruiseList&&e.cruiseList.length||!n.props.cruiseList||!n.props.cruiseList.length||n.state.search.addDocuments(n.props.cruiseList)},n.handleOpenControlPanel=function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{showControlPanel:!0}))},n.handleCloseControlPanel=function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{showControlPanel:!1}))},n.handleTableStatsDialogClose=function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{tableStatsDialogIsOpen:!1}))},n.handleTableStatsDialogOpen=function(e){e.stopPropagation(),n.setState(Object(u.a)(Object(u.a)({},n.state),{},{tableStatsDialogIsOpen:!0}))},n.getSelectOptionsFromCatalogItems=function(e){var a=n.props.cart,t={};return e.forEach((function(e){1==e.Visualize&&(t[e.Dataset_Name]||(t[e.Dataset_Name]={label:e.Dataset_Name,options:[]}),t[e.Dataset_Name].options.push({value:e.Variable,label:e.Long_Name.length<80?e.Long_Name:e.Long_Name.slice(0,78)+"...",data:e}))})),Object.values(t).sort((function(e,t){return a[e.label]&&a[t.label]?e.label<t.label?-1:1:a[e.label]?-1:a[t.label]?1:e.label<t.label?-1:1}))},n.estimateCsvSize=function(e){var a=0;return n.props.catalog.forEach((function(t,n){t.Dataset_Name===e&&(a+=parseInt(t.Variable_Count)||0)})),a},n.handleResetSPParams=function(){n.props.resetSPParams(),n.setState(Object(u.a)(Object(u.a)({},n.state),{},{searchField:""}))},n.onAutoSuggestChange=function(e,a){"input-change"===a.action&&(n.setState(Object(u.a)(Object(u.a)({},n.state),{},{searchField:e})),ti.current.select.setState({focusedOption:-1})),"escape-clear"===a.action&&(n.setState(Object(u.a)(Object(u.a)({},n.state),{},{searchField:e})),ti.current.select.setState({focusedOption:-1}))},n.estimateDataSize=function(){var e=n.props,a=e.dt1,t=e.dt2,r=e.lat1,o=e.lat2,s=e.lon1,i=e.lon2,l=e.fields,c=e.depth1,u=e.depth2,m=e.selectedVizType;if(!l)return 0;if(l.data.Spatial_Resolution===je.irregular)return 0;if(m===Ie.timeSeries||m===Ie.depthProfile)return 0;var p=Date.parse(a),d=(Date.parse(t)-p)/864e5,h=Ae(l.data.Spatial_Resolution),b=Math.floor(d/Us(l.data.Temporal_Resolution))||1;return(i-s)/h*((o-r)/h)*(qs.count(l,c,u)||1)*b},n.checkStartDepth=function(){return n.props.surfaceOnly?"":/^[-+]?[0-9]*\.?[0-9]+$/.test(n.props.depth1)?parseFloat(n.props.depth1)<0?Ms.depth.negative:parseFloat(n.props.depth1)>parseFloat(n.props.depth2)?Ms.depth.depthOneIsLower:parseFloat(n.props.depth1)>parseFloat(n.props.fields.data.Depth_Max)?Ms.depth.depthOneOutOfBounds.replace("$",parseFloat(n.props.fields.data.Depth_Max).toFixed(2)):"":Ms.generic.invalid},n.checkEndDepth=function(){return n.props.surfaceOnly?"":/^[-+]?[0-9]*\.?[0-9]+$/.test(n.props.depth2)?parseFloat(n.props.depth2)<0?Ms.depth.negative:parseFloat(n.props.depth1)>parseFloat(n.props.depth2)?Ms.depth.depthOneIsLower:parseFloat(n.props.depth2)<parseFloat(n.props.fields.data.Depth_Min)?Ms.depth.depthTwoOutOfBounds.replace("$",parseFloat(n.props.fields.data.Depth_Min).toFixed(2)):"":Ms.generic.invalid},n.checkStartDateValid=function(){if(isNaN(new Date(n.props.dt1)).valueOf()||!n.props.dt1)return"Start date is invalid"},n.checkEndDateValid=function(){if(isNaN(new Date(n.props.dt2)).valueOf()||!n.props.dt1)return"End date is invalid"},n.checkStartDate=function(){return n.props.dt1>n.props.dt2?Ms.date.dateOneIsLater:n.props.dt1>n.props.fields.data.Time_Max?Ms.date.dateOneOutOfBounds.replace("$",n.props.fields.data.Time_Max):""},n.checkEndDate=function(){return n.props.dt2<n.props.fields.data.Time_Min?Ms.date.dateTwoOutOfBounds.replace("$",n.props.fields.data.Time_Min):""},n.checkStartLat=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(n.props.lat1)?parseFloat(n.props.lat1)<-90||parseFloat(n.props.lat1)>90?Ms.generic.invalid:parseFloat(n.props.lat1)>parseFloat(n.props.lat2)?Ms.lat.latOneIsHigher:parseFloat(n.props.lat1)>parseFloat(n.props.fields.data.Lat_Max)?Ms.lat.latOneOutOfBounds.replace("$",n.props.fields.data.Lat_Max):"":Ms.generic.invalid},n.checkEndLat=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(n.props.lat2)?parseFloat(n.props.lat2)<-90||parseFloat(n.props.lat2)>90?Ms.generic.invalid:parseFloat(n.props.lat2)<parseFloat(n.props.fields.data.Lat_Min)?Ms.lat.latTwoOutOfBounds.replace("$",n.props.fields.data.Lat_Min):"":Ms.generic.invalid},n.checkStartLon=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(n.props.lon1)?parseFloat(n.props.lon1)<-180||parseFloat(n.props.lon1)>180?Ms.generic.invalid:n.props.lon1>n.props.lon2?"":parseFloat(n.props.lon1)>parseFloat(n.props.fields.data.Lon_Max)?Ms.lon.lonOneOutOfBounds.replace("$",n.props.fields.data.Lon_Max):"":Ms.generic.invalid},n.checkEndLon=function(){return/^[-+]?[0-9]*\.?[0-9]+$/.test(n.props.lon2)?parseFloat(n.props.lon2)<-180||parseFloat(n.props.lon2)>180?Ms.generic.invalid:parseFloat(n.props.lon2)<parseFloat(n.props.fields.data.Lon_Min)?Ms.lon.lonTwoOutOfBounds.replace("$",n.props.fields.data.Lon_Max):"":Ms.generic.invalid},n.checkHeatmap=function(){return n.props.irregularSpatialResolution?Ms.type.dataIsIrregular.replace("$","Heatmap"):""},n.checkContour=function(){return n.props.irregularSpatialResolution?Ms.type.dataIsIrregular.replace("$","Contour"):""},n.checkSection=function(){return n.props.surfaceOnly?Ms.type.surfaceOnlyDataset.replace("$",n.props.fields.value):n.props.irregularSpatialResolution?Ms.type.dataIsIrregular.replace("$","Section Map"):n.props.depth1===n.props.depth2?Ms.type.depthRangeRequired.replace("$","Section Map"):""},n.checkHistogram=function(){return""},n.checkTimeSeries=function(){return n.props.irregularSpatialResolution?Ms.type.dataIsIrregular.replace("$","Time Series"):n.props.dt1===n.props.dt2?Ms.type.dateRangeRequired.replace("$","Time Series"):""},n.checkDepthProfile=function(){return n.props.surfaceOnly?Ms.type.surfaceOnlyDataset.replace("$",n.props.fields.value):n.props.depth1===n.props.depth2?Ms.type.depthRangeRequired.replace("$","Depth Profile"):""},n.checkSparseMap=function(){return n.props.irregularSpatialResolution?"":Ms.type.irregularOnly},n.checkGeneralWarn=function(e){return n.props.selectedVizType&&e>12e5?Ms.generic.dataSizeWarning:""},n.checkGeneralPrevent=function(e){var a=Qs(n.props.charts);if(n.props.selectedVizType===Ie.heatmap&&a>14)return Ms.type.webGLContextLimit;if(n.props.selectedVizType===Ie.sparse&&a>11)return Ms.type.webGLContextLimit;if(n.props.selectedVizType===Ie.heatmap&&16-a-(qs.count(n.props.fields,n.props.depth1,n.props.depth2)||1)<1)return"Too many distinct depths to render heatmap. Please reduce depth range or select section map.";return n.props.selectedVizType!==Ie.histogram&&n.props.selectedVizType!==Ie.heatmap&&e>12e5||e>6e6?Ms.generic.dataSizePrevent:n.props.fields?n.props.selectedVizType?"":Ms.generic.vizTypeMissing:Ms.generic.variableMissing},n.handleShowChartsAndResize=function(){setTimeout((function(){return window.dispatchEvent(new Event("resize"))}),30),n.props.handleShowCharts()},n.handleUpdateFields=function(e,a){n.props.updateFields(e),n.setState(Object(u.a)(Object(u.a)({},n.state),{},{searchField:"",lastSelectedFieldId:e?e.data.ID:n.state.lastSelectedFieldId}))};var r=new Os.Search("ID");return r.indexStrategy=new Os.AllSubstringsIndexStrategy,r.searchIndex=new Os.UnorderedSearchIndex,r.addIndex("Variable"),r.addIndex("Unit"),r.addIndex("Make"),r.addIndex("Sensor"),r.addIndex("Data_Source"),r.addIndex("Process_Level"),r.addIndex("Long_Name"),r.addIndex("Keywords"),r.addIndex("Table_Name"),r.addIndex("Dataset_Name"),r.addIndex("Study_Domain"),r.addIndex("Spatial_Resolution"),r.addIndex("Temporal_Resolution"),r.addIndex("Chief_Name"),r.addIndex("Name"),r.addIndex("Nickname"),r.addIndex("Ship_Name"),e.catalog&&r.addDocuments(e.catalog),e.cruiseList&&r.addDocuments(e.cruiseList),n.state={tableStatsDialogIsOpen:!1,search:r,searchField:"",showControlPanel:!0,lastSelectedFieldId:null,showChartControl:!1,showDataBites:!1,showBottomControl:!1,controlPanelMode:xi},n}return Object(_e.a)(t,[{key:"render",value:function(){var e,a,t=this,n=this.state,o=n.search,s=n.searchField,i=n.showControlPanel,l=this.props,c=l.classes,p=l.fields,d=l.depth1,h=l.depth2,b=l.dt1,g=l.dt2,f=l.lat1,E=l.lat2,x=l.lon1,v=l.lon2,y=l.selectedVizType,S=l.catalog,O=l.catalogRequestState,w=(l.showCharts,l.handleShowGlobe,l.handleChange),C=l.handleLatLonChange,_=l.datasets,k=(l.cruiseList,s&&S?this.getSelectOptionsFromCatalogItems(o.search(s)):S?this.getSelectOptionsFromCatalogItems(S):[]),T=this.estimateDataSize(),j=p&&Vs(p.data.Time_Min).setHours(0,0,0,0),A=p&&Vs(p.data.Time_Max).setHours(0,0,0,0),N=b.setHours(0,0,0,0),R=g.setHours(0,0,0,0),D=p?j:Vs("1900-01-01").setHours(0,0,0,0),L=p&&R<j?"End cannot be before dataset start date":"";e=p&&A<R?N>(a=A)?"Start cannot be after dataset end date":"":N>(a=R)?"Start cannot be after end":"";var I=p?[this.checkStartDepth(),this.checkEndDepth(),this.checkStartLat(),this.checkEndLat(),this.checkStartLon(),this.checkEndLon(),this.checkHeatmap(),this.checkContour(),this.checkSection(),this.checkHistogram(),this.checkTimeSeries(),this.checkDepthProfile(),this.checkSparseMap(),this.checkGeneralWarn(T),this.checkGeneralPrevent(T),this.checkStartDateValid(),this.checkEndDateValid()]:Array(16).fill(""),P=Object(ko.a)(I,17),M=P[0],F=P[1],z=P[2],U=P[3],V=P[4],B=P[5],H=P[6],G=P[7],W=P[8],q=P[9],Q=P[10],K=P[11],Y=P[12],Z=P[13],$=[M,F,z,U,V,B,P[14],L,e,P[15],P[16]],J=0;($[0]||$[1])&&J++,($[2]||$[3])&&J++,($[4]||$[5])&&J++,($[7]||$[9])&&J++,($[8]||$[10])&&J++;var X=J>0?"drawerPaperError"+J:"",ee=function(){for(var e=0;e<$.length;e++)if($[e])return $[e];return!1}(),ae=ee||(Z||"");return r.a.createElement("div",null,r.a.createElement(zs,{open:this.state.tableStatsDialogIsOpen,onClose:this.handleTableStatsDialogClose,data:p&&p.data}),i?r.a.createElement(To.a,{className:c.closePanelChevron,"aria-label":"toggle-panel",color:"primary",onClick:this.handleCloseControlPanel},r.a.createElement(Ns.a,null)):r.a.createElement(To.a,{className:c.openPanelChevron,"aria-label":"toggle-panel",color:"primary",onClick:this.handleOpenControlPanel},r.a.createElement(Ao.a,null)),r.a.createElement(_s.a,{className:c.drawer,variant:"persistent",open:i,classes:{paper:"".concat(c.drawerPaper," ").concat(c[X])},anchor:"left"},r.a.createElement(ks.a,null,r.a.createElement(Yr.a,{title:"Show Chart Control",placement:"top"},r.a.createElement(To.a,{className:"".concat(c.groupedButtons," ").concat(this.state.controlPanelMode===gi&&c.depressed),onClick:function(){return t.setState(Object(u.a)(Object(u.a)({},t.state),{},{controlPanelMode:gi}))},color:"inherit"},r.a.createElement(Rs.a,null))),r.a.createElement(Yr.a,{title:"Show Cruise Control",placement:"top"},r.a.createElement(To.a,{color:"inherit",onClick:function(){return t.setState(Object(u.a)(Object(u.a)({},t.state),{},{controlPanelMode:fi}))},className:"".concat(c.groupedButtons," ").concat(this.state.controlPanelMode===fi&&c.depressed)},r.a.createElement(Ds.a,null))),r.a.createElement(Yr.a,{title:"Show Data Bytes",placement:"top"},r.a.createElement(To.a,{color:"inherit",onClick:function(){return t.setState(Object(u.a)(Object(u.a)({},t.state),{},{controlPanelMode:Ei}))},className:"".concat(c.groupedButtons," ").concat(this.state.controlPanelMode===Ei&&c.depressed)},r.a.createElement(Ls.a,null))),r.a.createElement(Yr.a,{title:"Show Bottom Control",placement:"top"},r.a.createElement(To.a,{color:"inherit",onClick:function(){return t.setState(Object(u.a)(Object(u.a)({},t.state),{},{controlPanelMode:xi}))},className:"".concat(c.groupedButtons," ").concat(this.state.controlPanelMode===xi&&c.depressed)},r.a.createElement(Is.a,null)))),r.a.createElement("form",null,r.a.createElement(Kr.a,{container:!0},r.a.createElement(Kr.a,{item:!0,xs:10},r.a.createElement(Ss.a,{formatOptionLabel:hi,handleTableStatsDialogOpen:this.handleTableStatsDialogOpen,isLoading:O===m.inProgress,onAutoSuggestChange:this.onAutoSuggestChange,datasets:_,cart:this.props.cart,components:{IndicatorSeparator:"",DropdownIndicator:si,GroupHeading:ci,Group:ri,Option:li,MenuList:ni,SingleValue:ui,Menu:ii,ValueContainer:bi},lastSelectedFieldId:this.state.lastSelectedFieldId,escapeClearsValue:!0,ref:ti,onInputChange:this.onAutoSuggestChange,filterOption:null,className:c.variableSelect,isClearable:!0,inputValue:this.state.searchField,name:"fields",label:"Variables",options:k,onChange:this.handleUpdateFields,value:p,placeholder:this.state.controlPanelMode===fi?"Search Cruises":this.state.controlPanelMode===Ei?"Explore Bites":"Search Catalog",styles:{menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{zIndex:1300,width:"980px",maxWidth:"90vw",borderRadius:"4px",boxShadow:"2px 2px 2px 2px #242424",overflow:"hidden",backgroundColor:"rgba(0,0,0,.5)",backdropFilter:"blur(5px)"})},valueContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{padding:"0 0 0 34px",fontWeight:100})},input:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"white",fontFamily:'"Lato", sans-serif'})},control:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:Pr.backgroundGray,border:"none",borderBottom:"1px solid #333333",borderRadius:0,"&:hover":{borderColor:"white"},"&:focus-within":{borderColor:Pr.primary},height:"56px"})},placeholder:function(e){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:'"Lato", sans-serif',color:Pr.primary,fontSize:"14px",fontWeight:300})},noOptionsMessage:function(e){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:'"Lato", sans-serif',color:Pr.primary,backgroundColor:Pr.backgroundGray})},option:function(e,a){a.data;var t=a.isFocused;return Object(u.a)(Object(u.a)({},e),{},{fontWeight:400,fontSize:"16px",backgroundColor:"transparent",color:t?Pr.primary:"white","&:hover":{backgroundColor:Pr.greenHover}})},singleValue:function(e,a){return Object(u.a)(Object(u.a)({},e),{},{color:"white",fontWeight:400,zIndex:1290})}},theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{colors:Object(u.a)({},e.colors)})}})),r.a.createElement(Kr.a,{item:!0,xs:2,className:c.tableStatsButton},p?r.a.createElement(Yr.a,{placement:"right",title:"View Variable Summary Statistics"},r.a.createElement(To.a,{size:"small",onClick:this.handleTableStatsDialogOpen,disabled:!p},r.a.createElement(Ps.a,null))):r.a.createElement(To.a,{size:"small",onClick:this.handleTableStatsDialogOpen,disabled:!p},r.a.createElement(Ps.a,null))),this.state.controlPanelMode!==Ei?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Ts.a,{className:c.datePicker,placeholder:ei(b),id:"startDate",label:"Start Date",name:"dt1",format:"yyyy-MM-dd",maxDate:a,maxDateMessage:e,autoOk:!0,value:b,onChange:this.props.handleStartDateChange,inputVariant:"filled",variant:"inline",KeyboardButtonProps:{className:c.datePickerInputAdornment}})),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Ts.a,{className:c.datePicker,placeholder:ei(g),id:"endDate",label:"End Date",name:"dt2",format:"yyyy-MM-dd",minDate:D,minDateMessage:L,autoOk:!0,value:g,onChange:this.props.handleEndDateChange,inputVariant:"filled",variant:"inline",KeyboardButtonProps:{className:c.datePickerInputAdornment}})),r.a.createElement(Kr.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(Zr.a,{id:"lat1-input",error:Boolean(z),label:"Start Lat(\xb0)",className:c.textField,value:f,onChange:C,FormHelperTextProps:{className:c.helperText},helperText:z,name:"lat1",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Kr.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(Zr.a,{id:"lat2-input",error:Boolean(U),label:"End Lat(\xb0)",className:c.textField,value:E,onChange:C,FormHelperTextProps:{className:c.helperText},helperText:U,name:"lat2",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Kr.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(Zr.a,{id:"lon1-input",error:Boolean(V),label:"Start Lon(\xb0)",className:c.textField,value:x,onChange:C,FormHelperTextProps:{className:c.helperText},helperText:V,name:"lon1",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Kr.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(Zr.a,{id:"lon2-input",error:Boolean(B),label:"End Lon(\xb0)",className:c.textField,value:v,onChange:C,FormHelperTextProps:{className:c.helperText},helperText:B,name:"lon2",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Kr.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(Zr.a,{id:"depth1-input",error:Boolean(M),label:"Start Depth(m)",className:c.textField,value:isNaN(Math.floor(1e3*d)/1e3)?d:Math.ceil(1e3*d)/1e3,onChange:w,FormHelperTextProps:{className:c.helperText},helperText:M,name:"depth1",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}})),r.a.createElement(Kr.a,{item:!0,xs:6,className:c.formGridItem},r.a.createElement(Zr.a,{id:"depth2-input",error:Boolean(F),label:"End Depth(m)",className:c.textField,value:isNaN(Math.ceil(1e3*h)/1e3)?h:Math.ceil(1e3*h)/1e3,onChange:w,FormHelperTextProps:{className:c.helperText},helperText:F,name:"depth2",InputProps:{className:c.padLeft},InputLabelProps:{className:c.padLeft}}))):"",this.state.controlPanelMode===gi?r.a.createElement($s,{fields:p,overrideDisabledStyle:Js,selectedVizType:y,heatmapMessage:H,heatmapMessage:H,contourMessage:G,sectionMapMessage:W,sectionMapMessage:W,histogramMessage:q,timeSeriesMessage:Q,depthProfileMessage:K,sparseMapMessage:Y,visualizeButtonTooltip:ae,disableVisualizeMessage:ee,selectedVizType:y,handleChange:this.props.handleChange,onVisualize:this.props.onVisualize,showChartControl:this.state.showChartControl}):"",r.a.createElement(Ur.a,{className:c.dataBitesContainer,style:this.state.showDataBites?{}:{display:"none"}},"Data Bites"),r.a.createElement(Ur.a,{className:c.bottomControlContainer,style:this.state.showBottomControl?{}:{display:"none"}},"Bottom Control")))))}}]),t}(r.a.Component),yi=(Object(l.b)((function(e,a){return{data:e.data,storedProcedureRequestState:e.storedProcedureRequestState,catalog:e.catalog,catalogRequestState:e.catalogRequestState,cruiseTrajectory:e.cruiseTrajectory,showHelp:e.showHelp,datasets:e.datasets,charts:e.charts,cart:e.cart,cruiseList:e.cruiseList}}),Xs)(Object(zr.a)((function(e){return{drawer:{width:320,top:32,bottom:"auto",overflow:"visible"},drawerPaper:{width:320,height:"auto",top:"calc(50% - 270px)",borderRadius:"0 4px 4px 0",boxShadow:"2px 2px  2px 2px #242424",border:"none",overflow:"visible",backgroundColor:Pr.backgroundGray},drawerPaperError1:{height:"".concat(563,"px")},drawerPaperError2:{height:"".concat(586,"px")},drawerPaperError3:{height:"".concat(609,"px")},drawerPaperError4:{height:"".concat(632,"px")},drawerPaperError5:{height:"".concat(655,"px")},openPanelChevron:{position:"fixed",left:"5px",top:"calc(50% - 8px)",zIndex:1100},closePanelChevron:{position:"fixed",left:325,top:"calc(50% - 8px)",zIndex:1100},groupedButtons:{width:"25%",border:"1px solid #313131",borderRadius:0,backgroundColor:"#3c3c3c"},controlPanelForm:{marginTop:e.spacing(1)},tableStatsButton:{borderRadius:0,paddingTop:"11px",backgroundColor:Pr.backgroundGray},formGridItem:{borderLeft:"1px solid #313131",backgroundColor:Pr.backgroundGray},vizTypeSelectFormControl:{width:"100%","&:disabled":{backgroundColor:"transparent"}},depressed:{boxShadow:"inset 1px 1px 5px #1c1c1c"},padLeft:{padding:"6px 0 2px 7px"},visualizeButton:{height:"56px",borderRadius:0,backgroundColor:Pr.backgroundGray,color:e.palette.primary.main,fontVariant:"normal","&:disabled":{backgroundColor:"transparent"},"&:hover":{backgroundColor:Pr.greenHover,color:"white"}},helperText:{color:"yellow"},vizButtonTooltip:{color:"yellow"},datePickerInputAdornment:{padding:0},clearChartsButton:{borderRadius:0,backgroundColor:"#3c3c3c",width:"100%",borderRight:"1px solid #313131"},resetSPParamsButton:{borderRadius:0,backgroundColor:"#3c3c3c",width:"100%"},datePicker:{width:"100%"},vizTypeMenu:{backgroundColor:Pr.backgroundGray},vizTypeMenuItem:{"&:hover":{backgroundColor:Pr.greenHover}},dataBitesContainer:{position:"fixed",right:"12px",bottom:"12px",height:"400px",width:"260px",backgroundColor:Pr.backgroundGray,boxShadow:"2px 2px  2px 2px #242424",paddingTop:"12px"},bottomControlContainer:{position:"fixed",height:"50px",width:"300px",bottom:"8px",right:"calc(50% - 150px)",backgroundColor:Pr.backgroundGray,boxShadow:"2px 2px  2px 2px #242424",paddingTop:"12px"}}}))(vi)),t(825)),Si=t(824),Oi=t(863),wi=t(733),Ci=t(856),_i=t(287),ki={searchOptionsMenuList:{marginTop:"10px",maxHeight:"440px",overflow:"auto"},searchOption:{"&:hover":{backgroundColor:Pr.greenHover},cursor:"pointer",height:"38px",boxShadow:"0px 1px 1px 1px #242424",backgroundColor:"rgba(0,0,0,.4)"},searchOptionsMenuItem:{fontSize:"14px"},searchOptionsMenuItemText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},heading:{textAlign:"left",padding:"16px 6px",color:Pr.primary,fontSize:"18px",marginTop:"5px",backgroundColor:"rgba(0,0,0,.4)"},variableItem:{height:"32px",paddingLeft:"24px",textAlign:"left",fontSize:"14px",cursor:"pointer","&:hover":{backgroundColor:Pr.greenHover}},variablesWrapper:{backgroundColor:"rgba(0,0,0,.2)",paddingTop:"8px"},memberCount:{color:Pr.primary,fontWeight:"bold"}},Ti=Object(l.b)((function(e,a){return{vizSearchResultsLoadingState:e.vizSearchResultsLoadingState}}),{})(Object(zr.a)(ki)(r.a.memo((function(e){var a=e.classes,t=e.options,o=e.vizSearchResultsLoadingState,s=e.handleSelectDataTarget,i=e.setTableStatsTarget,l=e.listRef,c=e.make,u=r.a.useState(null),p=Object(ko.a)(u,2),d=p[0],h=p[1],b=function(e){l.current&&l.current.resetAfterIndex(0),h(e)};Object(n.useEffect)((function(){l.current&&l.current.resetAfterIndex(0)}),[t]);var g=t.reduce((function(e,a){return e+a.variables.length}),0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{className:a.heading},o===m.inProgress?"Searching....":g?"".concat(c," Data - Showing ").concat(g," variables in ").concat(t.length," datasets"):"".concat(c," Data - No variables found for current search parameters")),r.a.createElement(Vo.b,{ref:l,itemData:t,itemCount:t.length,height:e.height||270,width:"100%",estimatedItemSize:38,style:{overflowY:"scroll"},itemSize:function(e){return d===e?32*t[e].variables.length+38+8:38}},(function(e){var n=e.index,o=e.style;return r.a.createElement("div",{style:o},r.a.createElement(Kr.a,{container:!0,className:a.searchOption,onClick:function(){return b(n===d?null:n)}},r.a.createElement(Kr.a,{item:!0,xs:9,container:!0,alignItems:"center",style:{paddingLeft:"8px"}},r.a.createElement("span",{className:a.searchOptionsMenuItemText},t[n].Dataset_Name||t[n].Dataset_Name)),r.a.createElement(Yr.a,{title:"Dataset contains ".concat(t[n].variables.length," variables matching the search criteria")},r.a.createElement(Kr.a,{item:!0,xs:1,className:a.memberCount,container:!0,alignItems:"center",justify:"center"},t[n].variables.length)),r.a.createElement(Kr.a,{item:!0,xs:2,style:{paddingLeft:"12px"},container:!0,alignItems:"center"},r.a.createElement(Yr.a,{title:"Open Product Page"},r.a.createElement(Bo.a,{style:{color:Pr.primary}})))),n===d?r.a.createElement(Kr.a,{container:!0,className:a.variablesWrapper},t[n].variables.map((function(e,t){return r.a.createElement(Kr.a,{item:!0,xs:12,key:e.Long_Name,className:a.variableItem,container:!0,alignItems:"center",onClick:function(){return s(e)}},r.a.createElement(Kr.a,{item:!0,xs:9},e.Long_Name),r.a.createElement(Kr.a,{item:!0,xs:3},r.a.createElement(Yr.a,{title:"View Product Information"},r.a.createElement(Bo.a,{onClick:function(a){a.stopPropagation(),i(e)},style:{marginLeft:"6px",color:Pr.primary}}))))}))):"")})))})))),ji=r.a.createRef(),Ai=r.a.createRef(),Ni=Object(zr.a)((function(e){return{}}))((function(e){var a=e.options,t=(e.classes,e.handleSelectDataTarget),n=(e.handleShowMemberVariables,e.vizSearchResultsLoadingState,r.a.useState(null)),o=Object(ko.a)(n,2),s=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(zs,{open:Boolean(s),onClose:function(){return i(null)},data:s}):"",r.a.createElement(Ti,{make:"Observation",options:a.Observation,setTableStatsTarget:i,listRef:ji,handleSelectDataTarget:t}),r.a.createElement(Ti,{make:"Model",options:a.Model,setTableStatsTarget:i,listRef:Ai,handleSelectDataTarget:t}))})),Ri=t(822),Di=t(823),Li={memberVariablesFetch:function(e){return{type:"MEMBER_VARIABLES_FETCH",payload:{datasetID:e}}}},Ii=r.a.memo((function(e){var a=e.handleHideMemberVariables,t=(e.handleCreatePlot,e.classes),o=e.dataset,s=e.memberVariablesFetch,i=e.memberVariables;Object(n.useEffect)((function(){o&&s(o.Dataset_ID)}),[o]);var l=r.a.useState(null),c=Object(ko.a)(l,2),u=c[0],m=c[1];return o?r.a.createElement(r.a.Fragment,null,u?r.a.createElement(zs,{open:Boolean(u),onClose:function(){return m(null)},data:u}):"",r.a.createElement(To.a,{className:t.closeChartIcon,color:"inherit",onClick:a,disableFocusRipple:!0,disableRipple:!0},r.a.createElement(Ri.a,{style:{color:Pr.primary}})),r.a.createElement(Vr.a,{className:t.listHeader},o.Long_Name),r.a.createElement(Vr.a,{style:{marginBottom:"24px"}},"Member Variables"),r.a.createElement(Vo.a,{itemData:i,itemCount:i.length,height:e.height||460,width:"100%",itemSize:42},(function(e){var a=e.index,n=e.style;return r.a.createElement(Kr.a,{container:!0,style:n,className:t.variableWrapper},r.a.createElement(Kr.a,{item:!0,xs:6,lg:7,container:!0,alignItems:"center",style:{paddingLeft:"8px"}},r.a.createElement("span",{className:t.searchOptionsMenuItemText},i[a].Long_Name)),r.a.createElement(Kr.a,{item:!0,xs:5,lg:4,style:{paddingLeft:"12px"},container:!0,alignItems:"center"},r.a.createElement(Yr.a,{title:"Show Variable Details"},r.a.createElement(Bo.a,{style:{marginLeft:"3px",cursor:"pointer",color:Pr.primary},onClick:function(){return m(i[a])}})),i[a].Visualize?r.a.createElement(Yr.a,{title:"Create a Plot Using This Variable"},r.a.createElement(Di.a,{style:{marginLeft:"3px",cursor:"pointer",color:Pr.primary},onClick:function(e){}})):""))}))):""})),Pi=(Object(l.b)((function(e,a){return{memberVariables:e.memberVariables}}),Li)(Object(zr.a)((function(e){return{closeChartIcon:{float:"right"},listHeader:{marginTop:"12px",padding:"0 8px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},searchOptionsMenuItemText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},variableWrapper:{"&:hover":{borderBottom:"1px solid ".concat(Pr.primary)}}}}))(Ii)),[{label:"Southern Ocean",value:"-90 -60 -180 180"},{label:"Arctic Ocean",value:"60 90 -180 180"},{label:"Atlantic Ocean",value:"-90 90 -83 14"},{label:"Northern Atlantic Ocean",value:"0 90 -83 14"},{label:"Southern Atlantic Ocean",value:"-90 0 -83 14"},{label:"Pacific Ocean",value:"-90 65 146 -70"},{label:"Northern Pacific Ocean",value:"0 90 146 -70"},{label:"Southern Pacific Ocean",value:"-90 0 146 -70"},{label:"Indian Ocean",value:"-90 30 14 147"},{label:"Mediterranean Sea",value:"30 46 -6 37"},{label:"Gulf of Mexico",value:"18 31 -99 -80"}]),Mi=function(e){var a=r.a.useState(null),t=Object(ko.a)(a,2),n=(t[0],t[1]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ci.a,{options:Pi,renderInput:function(e){return r.a.createElement(Zr.a,Object.assign({margin:"dense"},e,{label:"Region",InputLabelProps:{style:{fontSize:"12px"}}}))},getOptionLabel:function(e){return e.label},onChange:function(a,t){e.onSelect(t),n(null)},disablePortal:!0,classes:{paper:e.paperClass,input:e.inputClass,option:e.optionClass}}))},Fi={vizSearchResultsFetch:function(e){return{type:"VIZ_SEARCH_RESULTS_FETCH",payload:{params:e}}},vizSearchResultsSetLoadingState:ie,variableNameAutocompleteFetch:function(e){return{type:"VARIABLE_NAME_AUTOCOMPLETE_FETCH",payload:{terms:e}}},vizSearchResultsStore:se,searchOptionsFetch:I},zi={hasDepth:"any",timeStart:"1900-01-01",timeEnd:(new Date).toISOString().slice(0,10),latStart:-90,latEnd:90,lonStart:-180,lonEnd:180,sensor:"Any",searchTerms:[],searchInputValue:""},Ui=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state=Object(u.a)({memberVariablesDataset:null,showAdvanced:!1},zi),e.componentDidMount=function(){e.props.vizSearchResultsFetch({}),e.props.submissionOptions&&e.props.submissionOptions.length||e.props.searchOptionsFetch()},e.handleSearchInputValueChange=function(a){e.props.variableNameAutocompleteFetch(a&&a.target&&a.target.value||""),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{searchInputValue:a&&a.target&&a.target.value||""}))},e.handleChangeSearchValue=function(a,t){e.props.vizSearchResultsSetLoadingState(m.inProgress),e.props.vizSearchResultsStore({Observation:[],Model:[]});var n=void 0===a.target.name?"string"===typeof t||null===t?"sensor":"searchTerms":a.target.name,r="searchTerms"===a.target.name||void 0===a.target.name||"sensor"===a.target.name?t:a.target.value;"sensor"===n&&null===r&&(r="Any");var o=Object(u.a)(Object(u.a)({},e.state),{},{[n]:r});e.setState(o),o.keywords=o.searchTerms,e.props.vizSearchResultsFetch(o)},e.handleToggleShowAdvanced=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showAdvanced:!e.state.showAdvanced}))},e.handleShowMemberVariables=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{memberVariablesDataset:a}))},e.handleSelectRegion=function(a){var t=a?a.value.split(" ").map((function(e){return parseFloat(e)})):[-90,90,-180,180],n=t[0],r=t[1],o=t[2],s=t[3],i=Object(u.a)(Object(u.a)({},e.state),{},{latStart:n,latEnd:r,lonStart:o,lonEnd:s});e.setState(Object(u.a)({},i)),e.props.vizSearchResultsFetch(i),e.props.vizSearchResultsSetLoadingState(m.inProgress),e.props.vizSearchResultsStore({Observation:[],Model:[]})},e.handleResetSearch=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),zi)),e.props.vizSearchResultsStore({Observation:[],Model:[]}),e.props.vizSearchResultsFetch({}),e.props.vizSearchResultsSetLoadingState(m.inProgress)},e.render=function(){var a=e.props,t=a.classes,n=a.handleSelectDataTarget,o=a.vizSearchResults,s=a.autocompleteVariableNames,i=e.state,l=i.searchTerms,c=i.searchInputValue,m=i.memberVariablesDataset,p=i.hasDepth,d=i.timeStart,h=i.timeEnd,b=i.latStart,g=i.latEnd,f=i.lonStart,E=i.lonEnd;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{container:!0},r.a.createElement(Kr.a,{item:!0,xs:5,style:{padding:"16px",backgroundColor:"rgba(0,0,0,.4)",display:m?"none":""}},r.a.createElement(Ci.a,{className:t.autoComplete,value:l,onChange:e.handleChangeSearchValue,clearOnBlur:!0,size:"small",classes:{paper:t.autocompletePopperPaper,option:t.autocompleteOptions},disablePortal:!0,fullWidth:!1,filterOptions:function(e){return e},handleHomeEndKeys:!0,open:Boolean(s&&s.length)&&Boolean(c&&c.length),multiple:!0,id:"catalog-search-autocomplete",options:s,clearOnEscape:!0,freeSolo:!0,inputValue:c,onInputChange:e.handleSearchInputValueChange,renderTags:function(e,a){return e.map((function(e,n){return r.a.createElement(Yr.a,{title:e,key:e},r.a.createElement(Oi.a,Object.assign({variant:"outlined",label:e},a({index:n}),{className:t.chip})))}))},renderInput:function(e){return r.a.createElement(Zr.a,Object.assign({},e,{name:"searchTerms",placeholder:l.length>0?"":"Search",InputProps:Object(u.a)(Object(u.a)({},e.InputProps),{},{classes:{root:t.inputRoot},startAdornment:r.a.createElement(r.a.Fragment,null,r.a.createElement(Co.a,{position:"start"},r.a.createElement(_o.a,{style:{color:Pr.primary}})),e.InputProps.startAdornment)}),variant:"outlined"}))}}),r.a.createElement("div",{className:t.showAdvancedWrapper},r.a.createElement(no.a,{component:"button",onClick:e.handleToggleShowAdvanced},e.state.showAdvanced?"Hide Advanced Search":"Advanced Search")),e.state.showAdvanced?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{item:!0,container:!0,xs:12,className:t.searchPanelRow},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Vr.a,{className:t.searchSectionHeader},"Temporal Coverage")),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"timeStart",className:t.formControl,id:"date",label:"Start Date",type:"date",InputLabelProps:{shrink:!0},value:d,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"timeEnd",className:t.formControl,id:"date",label:"End Date",type:"date",InputLabelProps:{shrink:!0},value:h,onChange:e.handleChangeSearchValue}))),r.a.createElement(Kr.a,{item:!0,container:!0,xs:12,className:t.searchPanelRow,style:{marginTop:"14px"}},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Vr.a,{className:t.searchSectionHeader,style:{marginBottom:0}},"Spatial Coverage")),r.a.createElement(Kr.a,{item:!0,xs:12,style:{textAlign:"left",margin:"-3px 0 8px 10px"}},r.a.createElement(Mi,{onSelect:e.handleSelectRegion,paperClass:"".concat(t.autocompletePopperPaper," ").concat(t.addBorder),inputClass:t.regionSelectorInput,optionClass:t.autocompleteOptions})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"latStart",className:t.formControl,label:"Lat Start\xb0",type:"number",inputProps:{min:-90,max:90},InputLabelProps:{shrink:!0},value:b,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"latEnd",className:t.formControl,label:"Lat End\xb0",type:"number",inputProps:{min:-90,max:90},InputLabelProps:{shrink:!0},value:g,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"lonStart",className:t.formControl,label:"Lon Start\xb0",type:"number",inputProps:{min:-180,max:180},InputLabelProps:{shrink:!0},value:f,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"lonEnd",className:t.formControl,label:"Lon End\xb0",type:"number",inputProps:{min:-180,max:180},InputLabelProps:{shrink:!0},value:E,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Ks.a,{className:t.formControl},r.a.createElement(wi.a,null,"Depth Levels"),r.a.createElement(Zs.a,{value:p,onChange:e.handleChangeSearchValue,name:"hasDepth",MenuProps:{PopoverClasses:{paper:"".concat(t.autocompletePopperPaper," ").concat(t.addBorder)},style:{zIndex:8e3}}},r.a.createElement(Wo.a,{value:"any"},"Any"),r.a.createElement(Wo.a,{value:"yes"},"Multiple Levels"),r.a.createElement(Wo.a,{value:"no"},"Surface Only")))),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Ci.a,{options:e.props.submissionOptions?e.props.submissionOptions.Sensor:[],disablePortal:!0,renderInput:function(e){return r.a.createElement(Zr.a,Object.assign({},e,{margin:"dense",name:"sensor",label:"Sensor",InputLabelProps:{style:{fontSize:"16px"}},fullWidth:!0,classes:{root:t.sensorTextField},InputLabelProps:{classes:{root:t.sensorInputLabel}}}))},value:e.state.sensor,onChange:e.handleChangeSearchValue,classes:{paper:"".concat(t.autocompletePopperPaper," ").concat(t.addBorder),popperDisablePortal:t.popperDisablePortal,option:t.autocompleteOptions}}))),r.a.createElement(Kr.a,{item:!0,xs:12,className:t.searchPanelRow},r.a.createElement($r.a,{variant:"outlined",onClick:e.handleResetSearch,className:t.resetButton},"Reset Filters"))):""),r.a.createElement(Kr.a,{item:!0,xs:7},r.a.createElement(Ni,{options:o,handleSelectDataTarget:n,handleShowMemberVariables:e.handleShowMemberVariables}))))},e}return t}(r.a.Component),Vi=Object(l.b)((function(e,a){return{vizSearchResults:e.vizSearchResults,vizSearchResultsLoadingState:e.vizSearchResultsLoadingState,autocompleteVariableNames:e.autocompleteVariableNames,submissionOptions:e.submissionOptions}}),Fi)(Object(zr.a)((function(e){return{inputRoot:{border:"1px solid ".concat(Pr.primary)},chip:{maxWidth:"160px",color:"white",borderColor:e.palette.primary.main,marginRight:"6px",height:"28px"},autocompletePopperPaper:{backgroundColor:"black",zIndex:3e4},autocompleteOptions:{'&[data-focus="true"]':{backgroundColor:Pr.greenHover},textAlign:"left"},searchWrapper:{position:"-webkit-sticky",position:"sticky",top:"152px",padding:"14px 20px"},chip:{maxWidth:"160px",color:"white",borderColor:e.palette.primary.main,marginRight:"6px",height:"28px"},resetButton:{textTransform:"none",width:"160px",height:"37px",color:e.palette.primary.main,borderColor:e.palette.primary.main,marginTop:"12px"},searchPanelRow:{marginTop:"10px"},depthFormControlRoot:{textAlign:"left"},formControl:{width:"90%",marginBottom:"6px"},autoComplete:{width:"calc(100% - 48px)"},searchSectionHeader:{color:e.palette.primary.main,textAlign:"left",marginBottom:"8px"},showAdvancedWrapper:{textAlign:"left",marginTop:"4px",width:"100%"},regionSelectorInput:{fontSize:"13px"},sensorInputLabel:{fontSize:"21px"},sensorTextField:{paddingTop:"8px"},popperDisablePortal:{bottom:130},addBorder:{border:"1px solid ".concat(Pr.primary)}}}))(Ui)),Bi={cruiseTrajectoryRequestSend:X,clearCharts:J,csvDownloadRequestSend:te,snackbarOpen:q,vizPageDataTargetSet:oe},Hi=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={showControlPanel:!0,dataSearchMenuOpen:!1,relatedDataMenuOpen:!1},e.handleSelectDataTarget=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{dataSearchMenuOpen:!1,relatedDataMenuOpen:!1})),e.props.vizPageDataTargetSet(a)},e.handleClickAway=function(){e.state.dataSearchMenuOpen&&e.setState(Object(u.a)(Object(u.a)({},e.state),{},{dataSearchMenuOpen:!1}))},e.render=function(){var a=e.props,t=a.classes,n=(a.fields,a.depth1,a.depth2,a.dt1,a.dt2,a.lat1,a.lat2,a.lon1,a.lon2,a.selectedVizType,a.catalog,a.catalogRequestState,a.showCharts,a.handleShowGlobe,a.handleChange,a.handleLatLonChange,a.datasets,a.cruiseList,a.dataTarget),o=e.state,s=o.showControlPanel,i=o.dataSearchMenuOpen;n&&n.Name;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(To.a,{className:t.closePanelChevron,"aria-label":"toggle-panel",color:"primary",onClick:function(){return e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showControlPanel:!1}))}},r.a.createElement(Ns.a,null)):r.a.createElement(To.a,{className:t.openPanelChevron,"aria-label":"toggle-panel",color:"primary",onClick:function(){return e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showControlPanel:!0}))}},r.a.createElement(Ao.a,null)),r.a.createElement(_s.a,{className:t.drawer,variant:"persistent",classes:{paper:"".concat(t.drawerPaper)},open:s,anchor:"left"},r.a.createElement($r.a,{fullWidth:!0,className:t.controlPanelItem,startIcon:n?r.a.createElement(Yr.a,{title:"Open Product Information Page",placement:"top"},r.a.createElement(Bo.a,{style:{fontSize:"22px",margin:"0 0 -5px 4px"},onClick:function(e){e.stopPropagation(),window.open("/catalog/".concat(n.Name?"cruises":"datasets","/").concat(n.Name?n.Name:n.Short_Name),"_blank")}})):r.a.createElement(_o.a,{style:{fontSize:"22px",margin:"0 0 -6px 4px"}}),onClick:function(){return e.setState(Object(u.a)(Object(u.a)({},e.state),{},{dataSearchMenuOpen:!0}))},classes:{label:t.controlPanelItemLabel,startIcon:t.controlPanelItemStartIcon}},n?n.Name||n.Long_Name:"Select a Variable"),n?r.a.createElement($r.a,{fullWidth:!0,className:t.controlPanelItem,startIcon:r.a.createElement(Si.a,{style:{fontSize:"22px",marginLeft:"5px"}})},"Find Related Data"):"",n&&n.Name?r.a.createElement(r.a.Fragment,null,r.a.createElement($r.a,{fullWidth:!0,className:t.controlPanelItem},"Show Data on Globe")):"",n&&"Dataset"===n.Product_Type?r.a.createElement(r.a.Fragment,null,r.a.createElement($r.a,{fullWidth:!0,className:t.controlPanelItem},"Create Plot")):""),r.a.createElement(yi.a,{onClickAway:e.handleClickAway,mouseEvent:"onMouseDown"},r.a.createElement(Ur.a,{className:t.dataSearchMenuPaper,style:i?{}:{display:"none"}},r.a.createElement(Vi,{handleSelectDataTarget:e.handleSelectDataTarget}))))},e}return t}(r.a.Component),Gi=Object(l.b)((function(e,a){return{data:e.data,storedProcedureRequestState:e.storedProcedureRequestState,catalog:e.catalog,catalogRequestState:e.catalogRequestState,cruiseTrajectory:e.cruiseTrajectory,showHelp:e.showHelp,datasets:e.datasets,charts:e.charts,cart:e.cart,cruiseList:e.cruiseList,dataTarget:e.vizPageDataTarget}}),Bi)(Object(zr.a)((function(e){return{drawerPaper:{width:300,height:"auto",top:"calc(50% - 270px)",borderRadius:"0 4px 4px 0",boxShadow:"2px 2px  2px 2px #242424",border:"none",overflow:"visible",backgroundColor:Pr.backgroundGray},dataSearchMenuPaper:{position:"fixed",top:120,left:0,width:"100vw",height:"auto",maxHeight:"calc(100vh - 120px)",zIndex:1500,backgroundColor:"rgba(0,0,0,.6)",backdropFilter:"blur(5px)"},openPanelChevron:{position:"fixed",left:5,top:"calc(50% - 8px)",zIndex:1100},closePanelChevron:{position:"fixed",left:305,top:"calc(50% - 8px)",zIndex:1100},controlPanelItem:{textTransform:"none",textAlign:"left",fontSize:"17px",fontWeight:200,color:Pr.primary,justifyContent:"flex-start"},controlPanelItemLabel:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block"},controlPanelItemStartIcon:{display:"inline-block"}}}))(Hi)),Wi=t(421),qi=t(58),Qi=t.n(qi),Ki=[null,"January","February","March","April","May","June","July","August","September","October","November","December"],Yi=function(e,a,t){return t?Ki[parseInt(e)]:a?e.slice(0,10)+" "+e.slice(11,16):e.slice(0,10)},Zi={layout:{font:{color:"#ffffff"},paper_bgcolor:Pr.backgroundGray,autosize:!0},config:{displaylogo:!1},annotations:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,t=document.documentElement.clientWidth*(a/100)/-2+20;return[{text:"Data Source: ".concat(e.length<35?e:e.slice(0,32)+"..."," -- Provided by Simons CMAP"),font:{color:"white",size:10},xref:"paper",yref:"paper",yshift:t,showarrow:!1}]}},$i=t(730),Ji=t(740),Xi=t(826),el=t(827),al=t(828),tl=t(829),nl=t(830),rl=t(831),ol=["Default","Greys","YlGnBu","Greens","YlOrRd","Bluered","RdBu","Reds","Blues","Picnic","Rainbow","Portland","Jet","Hot","Blackbody","Earth","Electric","Viridis","Cividis"];var sl=Object(zr.a)((function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Pr.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},popover:{width:"470px",height:"120px",paddingTop:e.spacing(3),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)},iconButton:{boxShadow:"0px 1px 1px 1px #242424"},colorForm:{width:"100%"},lastIcon:{borderTopRightRadius:"10%",borderBottomRightRadius:"10%"},buttonGroup:{display:"block",margin:"0px auto 8px auto",maxWidth:"700px"},depressed:{boxShadow:"inset 1px 1px 5px #262626"},colorscaleMenu:{maxHeight:"400px"},grayBackground:{backgroundColor:Pr.backgroundGray}}}))((function(e){var a=e.classes,t=e.onToggleSplitByDate,o=e.splitByDate,s=e.onToggleSplitBySpace,i=e.splitBySpace,l=e.orientation,c=e.downloadCsv,u=e.handleZValueConfirm,m=e.zValues,p=e.markerOptions,d=e.handleMarkerOptionsConfirm,h=e.showErrorBars,b=e.handleSetShowErrorBars,g=e.showLines,f=e.handleSetShowLines,E=Object(n.useState)(null),x=Object(ko.a)(E,2),v=x[0],y=x[1],S=r.a.useState(null),O=Object(ko.a)(S,2),w=O[0],C=O[1],_=r.a.useState(m&&m[0]),k=Object(ko.a)(_,2),T=k[0],j=k[1],A=r.a.useState(m&&m[1]),N=Object(ko.a)(A,2),R=N[0],D=N[1],L=Boolean(w),I=L?"zscale-popover":void 0,P=function(){C(null)},M=[T>R?"Min must be higher than max":/^[-+]?[0-9]*\.?[0-9]+$/.test(T)?void 0:"Invalid value",T>R?"Min must be higher than max":/^[-+]?[0-9]*\.?[0-9]+$/.test(R)?void 0:"Invalid value"],F=M[0],z=M[1],U=r.a.useState(null),V=Object(ko.a)(U,2),B=V[0],H=V[1],G=r.a.useState(p&&p.opacity),W=Object(ko.a)(G,2),q=W[0],Q=W[1],K=r.a.useState(p&&p.color),Y=Object(ko.a)(K,2),Z=Y[0],$=Y[1],J=r.a.useState(p&&p.size),X=Object(ko.a)(J,2),ee=X[0],ae=X[1],te=function(e){var a=e?e.opacity:null,t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=a})),t.current}(p),ne=function(e){var a=e?e.color:null,t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=a})),t.current}(p),re=function(e){var a=e?e.size:null,t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=a})),t.current}(p);Object(n.useEffect)((function(){p&&(p.opacity!==te&&Q(p.opacity),p.color!==ne&&$(p.color),p.size!==re&&ae(p.size))}));var oe=Boolean(B),se=oe?"marker-popover":void 0,ie=function(){H(null)},le=[function(){if(q<.1||q>1||!/^[-+]?[0-9]*\.?[0-9]+$/.test(q))return"Opacity should be 0.1 to 1"}(),function(){if(ee<1||ee>18||!/^[-+]?[0-9]*\.?[0-9]+$/.test(ee))return"Size should be 1 to 18"}()],ce=le[0],ue=le[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ks.a,{className:a.buttonGroup},Boolean(t)&&r.a.createElement(Yr.a,{placement:"top",title:"Split By Date"},r.a.createElement(To.a,{color:"inherit",className:"".concat(a.iconButton," ").concat(o&&a.depressed),onClick:t},r.a.createElement(Xi.a,null))),Boolean(s)&&r.a.createElement(Yr.a,{placement:"top",title:"zonal"===l?"Split by Latitude":"Split by Longitude"},r.a.createElement(To.a,{color:"inherit",className:"".concat(a.iconButton," ").concat(i&&a.depressed),onClick:s},r.a.createElement(el.a,null))),r.a.createElement(Yr.a,{placement:"top",title:"Download CSV"},r.a.createElement(To.a,{color:"inherit",onClick:c,className:a.iconButton},r.a.createElement(Uo.a,null))),Boolean(u)&&r.a.createElement(Yr.a,{title:"Change Colorscale Range",placement:"top"},r.a.createElement(To.a,{color:"inherit",onClick:function(e){return C(e.currentTarget)},className:a.iconButton},r.a.createElement(al.a,null))),Boolean(f)&&r.a.createElement(Yr.a,{title:g?"Hide Plot Line":"Show Plot Line",placement:"top"},r.a.createElement(To.a,{color:"inherit",onClick:function(){return f(!g)},className:"".concat(a.iconButton," ").concat(g&&a.depressed)},r.a.createElement(Rs.a,null))),Boolean(b)&&r.a.createElement(Yr.a,{title:h?"Hide Error Bars":"Show Error Bars",placement:"top"},r.a.createElement(To.a,{color:"inherit",onClick:function(){return b(!h)},className:"".concat(a.iconButton," ").concat(h&&a.depressed)},r.a.createElement(tl.a,null))),Boolean(e.handlePaletteChoice)&&r.a.createElement(Yr.a,{title:"Change Palette",placement:"top"},r.a.createElement(To.a,{disabled:!Boolean(e.handlePaletteChoice),color:"inherit",onClick:function(e){y(e.currentTarget)},className:a.iconButton},r.a.createElement(nl.a,null))),Boolean(e.handleMarkerOptionsConfirm)&&r.a.createElement(Yr.a,{title:"Marker Options",placement:"top"},r.a.createElement(To.a,{color:"inherit",onClick:function(e){return H(e.currentTarget)},className:"".concat(a.iconButton," ").concat(a.lastIcon)},r.a.createElement(rl.a,null)))),r.a.createElement(Go.a,{id:"simple-menu",anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:function(){return y(null)},className:a.colorscaleMenu,MenuListProps:{className:a.grayBackground}},ol.map((function(a,t){return r.a.createElement(Wo.a,{onClick:function(){return function(a){y(null),e.handlePaletteChoice(a)}("Default"===a?"heatmap":a)},key:t},a)}))),r.a.createElement($i.a,{id:I,open:L,anchorEl:w,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{className:a.grayBackground}},r.a.createElement("div",{className:a.popover},r.a.createElement(Kr.a,{container:!0,spacing:1},r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Ks.a,{variant:"outlined",error:Boolean(F)},r.a.createElement(Ys.a,{htmlFor:"z-min-input"},"Min"),r.a.createElement(Ji.a,{id:"z-min-input",value:T,onChange:function(e){return j(e.target.value)},"aria-describedby":"local-zmin-error",labelWidth:36,name:"local-zmin"}),r.a.createElement(wi.a,{id:"local-zmin-error"},F))),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Ks.a,{variant:"outlined",error:Boolean(z)},r.a.createElement(Ys.a,{htmlFor:"z-max-input"},"Max"),r.a.createElement(Ji.a,{id:"z-max-input",value:R,onChange:function(e){return D(e.target.value)},"aria-describedby":"local-zmax-error",labelWidth:36,name:"local-zmax"}),r.a.createElement(wi.a,{id:"local-zmax-error"},z))),r.a.createElement(Kr.a,{item:!0,xs:7}),r.a.createElement(Kr.a,{item:!0,xs:2},r.a.createElement($r.a,{onClick:P},"Cancel")),r.a.createElement(Kr.a,{item:!0,xs:2},r.a.createElement($r.a,{color:"primary",onClick:function(){u([T,R]),P()},disabled:Boolean(F||z)},"Confirm")),r.a.createElement(Kr.a,{item:!0,xs:1})))),r.a.createElement($i.a,{id:se,open:oe,anchorEl:B,onClose:ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{className:a.grayBackground}},r.a.createElement("div",{className:a.popover},r.a.createElement(Kr.a,{container:!0,spacing:1},r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Ks.a,{variant:"outlined",error:Boolean(ce)},r.a.createElement(Ys.a,{htmlFor:"local-marker-opacity"},"Opacity"),r.a.createElement(Ji.a,{id:"local-marker-opacity",value:q,onChange:function(e){return Q(e.target.value)},"aria-describedby":"local-marker-opacity",labelWidth:44,name:"local-marker-opacity"}),r.a.createElement(wi.a,{id:"local-marker-opacity-error"},ce))),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Ks.a,{variant:"outlined"},r.a.createElement(Ys.a,{htmlFor:"local-marker-size"},"Size"),r.a.createElement(Ji.a,{error:Boolean(ue),id:"local-marker-size",value:ee,onChange:function(e){return ae(e.target.value)},"aria-describedby":"local-marker-size",labelWidth:36,name:"local-marker-size"}),r.a.createElement(wi.a,{id:"local-marker-size-error"},ue))),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Ks.a,{variant:"outlined",className:a.colorForm},r.a.createElement(Ys.a,{htmlFor:"z-min-input"},"Color"),r.a.createElement(Ji.a,{type:"color",id:"marker-color",value:Z,onChange:function(e){return $(e.target.value)},"aria-describedby":"local-marker-color",labelWidth:44,name:"local-marker-color"}))),r.a.createElement(Kr.a,{item:!0,xs:1}),r.a.createElement(Kr.a,{item:!0,xs:2},r.a.createElement($r.a,{onClick:ie},"Cancel")),r.a.createElement(Kr.a,{item:!0,xs:2},r.a.createElement($r.a,{color:"primary",onClick:function(){d({opacity:q,color:Z,size:ee}),ie()},disabled:Boolean(ce||ue)},"Confirm")),r.a.createElement(Kr.a,{item:!0,xs:1})))))})),il={csvFromVizRequestSend:re},ll=Object(l.b)(null,il)(Object(zr.a)((function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Pr.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"},iconButtonWrapper:{display:"inline-block"}}}))((function(e){var a=e.csvFromVizRequestSend,t=e.chart.data,n=t.metadata,o=t.parameters,s=o.dt1===o.dt2?Yi(o.dt1):Yi(o.dt1)+" to "+Yi(o.dt2),i=o.lat1===o.lat2?o.lat1+"\xb0":o.lat1+"\xb0 to "+o.lat2+"\xb0",l=o.lon1===o.lon2?o.lon1+"\xb0":o.lon1+"\xb0 to "+o.lon2+"\xb0",c=t.hasDepth?o.depth1===o.depth2?"".concat(o.depth1,"[m]"):"".concat(o.depth1,"[m] to ").concat(o.depth2,"[m]"):"Surface";return r.a.createElement(r.a.Fragment,null,r.a.createElement(sl,{downloadCsv:function(){a(t,n.Table_Name,n.Variable,n.Long_Name)}}),r.a.createElement(Qi.a,{style:{position:"relative",width:"60vw",height:"40vw"},useResizeHandler:!0,data:[{x:t.variableValues,name:t.parameters.fields,type:"histogram",marker:{color:"#00FFFF"}}],layout:Object(u.a)(Object(u.a)({},Zi.layout),{},{plot_bgcolor:"transparent",title:{text:"".concat(o.fields," [").concat(n.Unit,"]")+"<br>".concat(s,", ")+c+"<br>Lat: ".concat(i,", ")+"Lon: ".concat(l),font:{size:13}},xaxis:{title:"".concat(o.fields," [").concat(n.Unit,"]"),exponentformat:"power",color:"#ffffff"},yaxis:{color:"#ffffff",title:"Frequency"},annotations:Zi.annotations(n.Distributor)}),config:Object(u.a)({},Zi.config)}))}))),cl=function(e){var a,t=e.lonMax-e.lonMin;a=t<2?(t/6).toFixed(2):Math.floor(t/6);var n=Array.from(Array(5),(function(t,n){return Math.ceil(e.lonMin+(n+1)*a)})),r=n.map((function(e){return e>180?e-360:e}));return{tickmode:"array",tickvals:n,ticktext:r}},ul=function(e){var a=(e.lonMax-e.lonMin)/(e.latMax-e.latMin),t=40,n=40;return isNaN(a)?t/=1.65:a>1?a<=1.5?n*=a:(n*=1.5,t=a>3?t/1.65:t*(1.8/a)):n=a<.5?.5*n:n*a,[t,n]},ml=t(855),pl={setLoadingMessage:Q,snackbarOpen:q,csvFromVizRequestSend:re},dl=Object(l.b)((function(e,a){return{charts:e.charts}}),pl)(Object(zr.a)((function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Pr.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"},iconButtonWrapper:{display:"inline-block"}}}))((function(e){var a,t=e.snackbarOpen,o=e.csvFromVizRequestSend,s=e.chart,i=s.data,l=s.subType,c=i.dates,m=i.depths,p=i.extent,d=i.metadata,h=Object(n.useState)(!1),b=Object(ko.a)(h,2),g=b[0],f=b[1],E=Object(n.useState)(!0),x=Object(ko.a)(E,2),v=x[0],y=x[1],S=Object(n.useState)("heatmap"),O=Object(ko.a)(S,2),w=O[0],C=O[1],_=Object(n.useState)([i.zMin,i.zMax]),k=Object(ko.a)(_,2),T=k[0],j=k[1],A=Object(ko.a)(T,2),N=A[0],R=A[1],D=i.generatePlotData(l,g,v);switch(l){case Ie.contourMap:a=function(e,a,t,n,o,s,i){var l=a.parameters,c=a.metadata,m=Array.from(a.depths).map((function(e){return parseFloat(e)})),p=Array.from(a.dates),d=a.parameters.lon1>a.parameters.lon2?cl(a):{},h=ul(a),b=Object(ko.a)(h,2),g=b[0],f=b[1];return e.map((function(e,h){var b=p.length<=1?Yi(p[0],a.hasHour,a.isMonthly):t?Yi(n?p[Math.floor(h/m.length)]:p[h],a.hasHour,a.isMonthly):"Averaged Values ".concat(Yi(p[0],a.hasHour,a.isMonthly)," to ").concat(Yi(p[p.length-1],a.hasHour,a.isMonthly)),E=a.hasDepth?1===m.length?m[0]+"[m]":n?t?m[h%m.length].toFixed(2)+"[m]":m[h].toFixed(2)+"[m]":"Averaged Values ".concat(l.depth1," to ").concat(l.depth2):"Surface",x=l.lat1===l.lat2?"".concat(l.lat1,"\xb0"):"".concat(l.lat1,"\xb0 to ").concat(l.lat2,"\xb0"),v=l.lon1===l.lon2?"".concat(l.lon1,"\xb0"):"".concat(l.lon1,"\xb0 to ").concat(l.lon2,"\xb0"),y=e.map((function(e,t){var n=Math.abs(e),r=n>.01&&n<1e3?".2f":".2e";return null===e?"Lat: ".concat(Object(ml.a)(".2f")(a.lats[t]),"\xb0")+"<br>"+"Lon: ".concat(a.lons[t]>180?Object(ml.a)(".2f")(a.lons[t]-360):Object(ml.a)(".2f")(a.lons[t]),"\xb0"):"Lat: ".concat(Object(ml.a)(".2f")(a.lats[t]),"\xb0")+"<br>"+"Lon: ".concat(a.lons[t]>180?Object(ml.a)(".2f")(a.lons[t]-360):Object(ml.a)(".2f")(a.lons[t]),"\xb0")+"<br>"+"".concat(a.parameters.fields,": ").concat(Object(ml.a)(r)(e)," [").concat(a.metadata.Unit,"]")}));return r.a.createElement(Qi.a,{style:{position:"relative",width:"".concat(f,"vw"),height:"".concat(g,"vw"),minWidth:"".concat(10*f,"px"),minHeight:"".concat(10*g,"px"),margin:"0 auto"},useResizeHandler:!0,data:[{zauto:!1,zmin:s,zmax:i,x:a.lons,y:a.lats,z:e,connectgaps:!1,autocolorscale:!1,colorscale:o,hoverinfo:"text",hovertext:y,name:a.parameters.fields,type:"contour",contours:{coloring:o,showlabels:!0,labelfont:{family:"Raleway",size:12,color:"white"},labelformat:a.zMin>1&&a.zMin<1e3?".2f":".2e"},colorbar:{title:{text:"[".concat(a.metadata.Unit,"]")},exponentformat:"power"}}],config:Object(u.a)({},Zi.config),key:h,layout:Object(u.a)(Object(u.a)({},Zi.layout),{},{title:{text:"".concat(l.fields," [").concat(c.Unit,"]")+"<br>".concat(b,", ")+"".concat(E," <br>")+"Lat: ".concat(x,", ")+"Lon: ".concat(v),font:{size:13}},xaxis:Object(u.a)({title:"Longitude",color:"#ffffff"},d),yaxis:{title:"Latitude",color:"#ffffff"},annotations:Zi.annotations(a.metadata.Distributor,g)})})}))}(D,i,g,v,w,N,R);break;case Ie.heatmap:a=function(e,a,t,n,o,s,i){var l=a.parameters,c=a.metadata,m=Array.from(a.depths).map((function(e){return parseFloat(e)})),p=Array.from(a.dates),d=a.parameters.lon1>a.parameters.lon2?cl(a):{},h=ul(a),b=Object(ko.a)(h,2),g=b[0],f=b[1];return e.map((function(e,h){var b=p.length<=1?Yi(p[0],a.hasHour,a.isMonthly):t?Yi(n?p[Math.floor(h/m.length)]:p[h],a.hasHour,a.isMonthly):"Averaged Values ".concat(Yi(p[0],a.hasHour,a.isMonthly)," to ").concat(Yi(p[p.length-1],a.hasHour,a.isMonthly)),E=a.hasDepth?1===m.length?m[0]+"[m]":n?t?m[h%m.length].toFixed(2)+"[m]":m[h].toFixed(2)+"[m]":"Averaged Values ".concat(l.depth1," to ").concat(l.depth2):"Surface",x=l.lat1===l.lat2?"".concat(l.lat1,"\xb0"):"".concat(l.lat1,"\xb0 to ").concat(l.lat2,"\xb0"),v=l.lon1===l.lon2?"".concat(l.lon1,"\xb0"):"".concat(l.lon1,"\xb0 to ").concat(l.lon2,"\xb0"),y=e.map((function(e,t){var n=Math.abs(e),r=n>.01&&n<1e3?".2f":".2e";return null===e||isNaN(e)?"Lat: ".concat(Object(ml.a)(".2f")(a.lats[t]),"\xb0")+"<br>"+"Lon: ".concat(a.lons[t]>180?Object(ml.a)(".2f")(a.lons[t]-360):Object(ml.a)(".2f")(a.lons[t]),"\xb0"):"Lat: ".concat(Object(ml.a)(".2f")(a.lats[t]),"\xb0")+"<br>"+"Lon: ".concat(a.lons[t]>180?Object(ml.a)(".2f")(a.lons[t]-360):Object(ml.a)(".2f")(a.lons[t]),"\xb0")+"<br>"+"".concat(a.parameters.fields,": ").concat(Object(ml.a)(r)(e)," [").concat(a.metadata.Unit,"]")}));return r.a.createElement(Qi.a,{style:{position:"relative",width:"".concat(f,"vw"),height:"".concat(g,"vw"),minWidth:"".concat(10*f,"px"),minHeight:"".concat(10*g,"px")},useResizeHandler:!0,data:[{zauto:!1,zmin:s,zmax:i,zsmooth:e.length<2e4?"fast":"false",x:a.lons,y:a.lats,z:e,connectgaps:!1,name:a.parameters.fields,type:"heatmap",colorscale:o,autocolorscale:!1,hoverinfo:"text",text:y,colorbar:{title:{text:"[".concat(a.metadata.Unit,"]")},exponentformat:"power"}}],key:h,config:Object(u.a)({},Zi.config),layout:Object(u.a)(Object(u.a)({},Zi.layout),{},{title:{text:"".concat(l.fields," [").concat(c.Unit,"]")+"<br>".concat(b,", ")+"".concat(E," <br>")+"Lat: ".concat(x,", ")+"Lon: ".concat(v),font:{size:13}},xaxis:Object(u.a)({title:"Longitude[\xb0]",color:"#ffffff",exponentformat:"power"},d),yaxis:{title:"Latitude[\xb0]",color:"#ffffff",exponentformat:"power"},annotations:Zi.annotations(a.metadata.Distributor,g)})})}))}(D,i,g,v,w,N,R);break;case Ie.histogram:return r.a.createElement(ll,{chart:{data:i}});default:a=""}return r.a.createElement(r.a.Fragment,null,r.a.createElement(sl,{handlePaletteChoice:l!==Ie.histogram&&function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),C(a)}),100)},onToggleSplitByDepth:1===m.size?null:function(){e.setLoadingMessage("Processing Data"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),y(!v)}),100)},onToggleSplitByDate:1===c.size?null:function(){var a=m?m.size:1;if(l===Ie.heatmap){var n=15-Qs(e.charts);if(!g&&a*c.size>n)return void t("Unable to split. Rendering limit exceeded.")}l===Ie.contourMap&&!g&&a*c.size>20?t("Unable to split. Rendering limit exceeded."):(e.setLoadingMessage("Processing Data"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),f(!g)}),100))},splitByDepth:v,splitByDate:g,handleZValueConfirm:l!==Ie.histogram&&function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),j(a)}),100)},zValues:l!==Ie.histogram&&T,extent:l!==Ie.histogram&&p,downloadCsv:function(){o(i,d.Table_Name,d.Variable,d.Long_Name)}}),a)}))),hl={setLoadingMessage:Q,csvFromVizRequestSend:re},bl=Object(l.b)(null,hl)(Object(zr.a)((function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Pr.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"}}}))((function(e){var a=e.csvFromVizRequestSend,t=e.chart.data,n=t.stds,o=t.variableValues,s=t.dates,i=t.parameters,l=t.metadata,c=r.a.useState({opacity:.2,color:"#ff1493",size:12}),m=Object(ko.a)(c,2),p=m[0],d=m[1],h=r.a.useState(!0),b=Object(ko.a)(h,2),g=b[0],f=b[1],E=r.a.useState(!!(o&&o.length<=40)),x=Object(ko.a)(E,2),v=x[0],y=x[1],S=o.map((function(e,a){return"Time: ".concat(s[a].slice(0,10),"<br>").concat(i.fields,": ").concat(Object(ml.a)(".2e")(e)," \xb1 ").concat(Object(ml.a)(".2e")(n[a])," [").concat(l.Unit,"]")})),O=i.dt1===i.dt2?Yi(s[0],t.hasHour,t.isMonthly):Yi(s[0],t.hasHour,t.isMonthly)+" to "+Yi(s[s.length-1],t.hasHour,t.isMonthly),w=i.lat1===i.lat2?i.lat1+"\xb0":i.lat1+"\xb0 to "+i.lat2+"\xb0",C=i.lon1===i.lon2?i.lon1+"\xb0":i.lon1+"\xb0 to "+i.lon2+"\xb0",_=0===i.depth2?"Surface":i.depth1===i.depth2?"".concat(i.depth1,"[m]"):"".concat(i.depth1,"[m] to ").concat(i.depth2,"[m]"),k=t.isMonthly?s.map((function(e){return Ki[parseInt(e)]})):s;return r.a.createElement("div",null,r.a.createElement(sl,{downloadCsv:function(){a(t,l.Table_Name,l.Variable,l.Long_Name)},handleMarkerOptionsConfirm:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),d(a)}),50)},markerOptions:p,showErrorBars:v,handleSetShowErrorBars:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),y(a)}),50)},showLines:g,handleSetShowLines:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),f(a)}),50)}}),r.a.createElement(Qi.a,{style:{position:"relative",width:"60vw",height:"40vw"},useResizeHandler:!0,data:[{mode:g?"lines+markers":"markers",x:k,y:o,error_y:{type:"data",array:n,opacity:.3,color:v?"#f2f2f2":"transparent",visible:!0},name:i.fields,type:"scatter",line:{color:p.color},marker:{opacity:p.opacity,size:p.size,color:p.color},hoverinfo:"text",hovertext:S}],config:Object(u.a)({},Zi.config),layout:Object(u.a)(Object(u.a)({},Zi.layout),{},{plot_bgcolor:"transparent",title:{text:"".concat(i.fields," [").concat(l.Unit,"]")+"<br>".concat(O,", ")+_+"<br>Lat: ".concat(w,", ")+"Lon: ".concat(C),font:{size:13}},xaxis:{title:t.isMonthy?"Month":"Time",color:"#ffffff",exponentformat:"power"},yaxis:{title:"".concat(i.fields,"[").concat(l.Unit,"]"),color:"#ffffff",exponentformat:"power"},annotations:Zi.annotations(l.Distributor)})}))}))),gl={setLoadingMessage:Q,csvFromVizRequestSend:re},fl=Object(l.b)(null,gl)(Object(zr.a)((function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Pr.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"}}}))((function(e){e.setLoadingMessage;var a=e.csvFromVizRequestSend,t=e.chart.data,n=t.stds,o=t.variableValues,s=t.depths,i=t.parameters,l=t.metadata,c=r.a.useState(!0),m=Object(ko.a)(c,2),p=m[0],d=m[1],h=r.a.useState(!!(o&&o.length<=40)),b=Object(ko.a)(h,2),g=b[0],f=b[1],E=t,x=r.a.useState({opacity:.2,color:"#ff1493",size:12}),v=Object(ko.a)(x,2),y=v[0],S=v[1],O=o.map((function(e,a){return"Depth: ".concat(Object(ml.a)(".2f")(s[a])," [m] <br>").concat(i.fields,": ").concat(Object(ml.a)(".2e")(e)," \xb1 ").concat(Object(ml.a)(".2e")(n[a])," [").concat(l.Unit,"]")})),w=E.isMonthly?new Date(i.dt1).getMonth()+1:i.dt1,C=E.isMonthly?new Date(i.dt2).getMonth()+1:i.dt2,_=w===C?Yi(w,E.hasHour,E.isMonthly):Yi(w,E.hasHour,E.isMonthly)+" to "+Yi(C,E.hasHour,E.isMonthly);return r.a.createElement("div",null,r.a.createElement(sl,{downloadCsv:function(){a(t,l.Table_Name,l.Variable,l.Long_Name)},handleMarkerOptionsConfirm:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),S(a)}),100)},markerOptions:y,showErrorBars:g,handleSetShowErrorBars:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),f(a)}),50)},showLines:p,handleSetShowLines:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),d(a)}),50)}}),r.a.createElement(Qi.a,{style:{position:"relative",width:"60vw",height:"40vw"},useResizeHandler:!0,data:[{mode:p?"lines+markers":"markers",y:s,x:o,error_x:{type:"data",array:n,opacity:.3,color:g?"#f2f2f2":"transparent",visible:!0},name:i.fields,type:"scatter",marker:{line:{color:y.color},opacity:y.opacity,size:y.size,color:y.color},hoverinfo:"text",hovertext:O}],config:Object(u.a)({},Zi.config),layout:Object(u.a)(Object(u.a)({},Zi.layout),{},{plot_bgcolor:"transparent",title:{text:"".concat(i.fields," [").concat(l.Unit,"]")+"<br>".concat(_,", ")+"".concat(i.depth1,"[m] to ").concat(i.depth2,"[m] <br>")+"Lat: ".concat(i.lat1,"\xb0 to ").concat(i.lat2,"\xb0, ")+"Lon: ".concat(i.lon1,"\xb0 to ").concat(i.lon2,"\xb0"),font:{size:13}},yaxis:{title:"Depth[m]",color:"#ffffff",exponentformat:"power",autorange:"reversed"},xaxis:{title:"".concat(i.fields,"[").concat(l.Unit,"]"),color:"#ffffff",exponentformat:"power"},annotations:Zi.annotations(l.Distributor)})}))}))),El={setLoadingMessage:Q,snackbarOpen:q,csvFromVizRequestSend:re},xl=Object(l.b)(null,El)(Object(zr.a)((function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Pr.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"}}}))((function(e){var a=e.classes,t=e.snackbarOpen,o=e.csvFromVizRequestSend,s=e.chart.data,i=s.dates,l=s.extent,c=s.lats,m=s.lons,p=s.metadata,d=Object(n.useState)(!1),h=Object(ko.a)(d,2),b=h[0],g=h[1],f=Object(n.useState)(!1),E=Object(ko.a)(f,2),x=E[0],v=E[1],y=Object(n.useState)(s.orientation),S=Object(ko.a)(y,2),O=S[0],w=S[1],C=Object(n.useState)("heatmap"),_=Object(ko.a)(C,2),k=_[0],T=_[1],j=Object(n.useState)([s.zMin,s.zMax]),A=Object(ko.a)(j,2),N=A[0],R=A[1],D=Object(ko.a)(N,2),L=D[0],I=D[1],P="zonal"===O?c:m,M=function(e,a,t,n,o,s,i,l){var c=a.parameters,m=a.metadata,p=Array.from(a.dates),d=Array.from(a.depths),h=Array.from(a.lats),b=Array.from(a.lons),g="zonal"===o?h:b,f="zonal"===o?"Longitude":"Latitude",E=c.lon1>c.lon2&&"zonal"===o?cl(a):{};return e.map((function(e,x){var v=e,y=[],S=[];if("zonal"===o)for(var O=0;O<e.length;O++)y.push(b[Math.floor(O/d.length)]);else for(var w=0;w<e.length;w++)y.push(h[Math.floor(w/d.length)]);for(var C=0;C<e.length;C++)S.push(d[C%d.length]);var _="meridional"===o?"".concat(c.lat1,"\xb0 to ").concat(c.lat2,"\xb0"):n?g[x%g.length]+"\xb0":"Averaged Values ".concat(c.lat1,"\xb0 to ").concat(c.lat2,"\xb0"),k="zonal"===o?"".concat(c.lon1,"\xb0 to ").concat(c.lon2,"\xb0"):n?g[x%g.length]+"\xb0":"Averaged Values ".concat(c.lon1,"\xb0 to ").concat(c.lon2,"\xb0"),T=p.length<2?Yi(p[0],a.hasHour,a.isMonthly):t&&n?Yi(p[Math.floor(x/g.length)],a.hasHour,a.isMonthly):t?Yi(p[x],a.hasHour,a.isMonthly):"Averaged Values "+Yi(p[0],a.hasHour,a.isMonthly)+" to "+Yi(p[p.length-1],a.hasHour,a.isMonthly),j=v.map((function(e,a){if("zonal"===o){var t=e>1&&e<1e3?".2f":".2e";return isNaN(e)?"Depth: ".concat(Object(ml.a)(".2f")(S[a])," [m]")+"<br>"+"Lon: ".concat(Object(ml.a)(".2f")(y[a]>180?y[a]-360:y[a]),"\xb0"):"Depth: ".concat(Object(ml.a)(".2f")(S[a])," [m]")+"<br>"+"Lon: ".concat(Object(ml.a)(".2f")(y[a]>180?y[a]-360:y[a]),"\xb0")+"<br>"+"".concat(c.fields,": ").concat(Object(ml.a)(t)(e)," [").concat(m.Unit,"]")}var n=e>1&&e<1e3?".2f":".2e";return isNaN(e)?"Depth: ".concat(Object(ml.a)(".2f")(S[a])," [m]")+"<br>"+"Lat: ".concat(Object(ml.a)(".2f")(y[a]),"\xb0"):"Depth: ".concat(Object(ml.a)(".2f")(S[a])," [m]")+"<br>"+"Lat: ".concat(Object(ml.a)(".2f")(y[a]),"\xb0")+"<br>"+"".concat(c.fields,": ").concat(Object(ml.a)(n)(e)," [").concat(m.Unit,"]")}));return r.a.createElement(Qi.a,{style:{position:"relative",width:"60vw",height:"40vw",minWidth:"510px",minHeight:"340px"},useResizeHandler:!0,data:[{zauto:!1,zmin:i,zmax:l,connectgaps:!1,autocolorscale:!1,colorscale:s,zsmooth:e.length<2e4?"best":"fast",x:y,y:S,z:v,name:c.fields,type:a.subType===Ie.contourSectionMap?"contour":"heatmap",colorbar:{title:{text:"[".concat(m.Unit,"]")},exponentformat:"power"},contours:{coloring:s,showlabels:!0,labelfont:{family:"Raleway",size:12,color:"white"},labelformat:".2e"},hoverinfo:"text",hovertext:j}],key:x,layout:{font:{color:"#ffffff"},title:{text:"".concat(c.fields," [").concat(m.Unit,"]")+"<br>".concat(T,", ")+"".concat(c.depth1,"[m] to ").concat(c.depth2,"[m] <br>")+"Lat: ".concat(_,", ")+"Lon: ".concat(k),font:{size:13}},xaxis:Object(u.a)({title:"".concat(f,"[\xb0]"),color:"#ffffff",exponentformat:"power"},E),yaxis:{title:"Depth[m]",color:"#ffffff",exponentformat:"power",autorange:"reversed"},paper_bgcolor:Pr.backgroundGray,annotations:Zi.annotations(m.Distributor)}})}))}(s.generatePlotData(O,b,x),s,b,x,O,k,L,I);return r.a.createElement("div",null,r.a.createElement("div",{className:a.buttonBlock},r.a.createElement(sl,{orientation:O,switchOrientation:function(){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),w("zonal"===O?"meridional":"zonal")}),100)},onToggleSplitBySpace:1===P.size?null:function(){var a=b?i.size:1;!x&&a*P.size>20?t("Unable to split. Rendering limit exceeded."):(e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),v(!x)}),100))},splitBySpace:x,onToggleSplitByDate:1===i.size?null:function(){var a=x?P.size:1;!b&&a*i.size>20?t("Unable to split. Rendering limit exceeded."):(e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),g(!b)}),100))},splitByDate:b,handlePaletteChoice:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),T(a)}),100)},handleZValueConfirm:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),R(a)}),100)},zValues:N,extent:l,downloadCsv:function(){o(s,p.Table_Name,p.Variable,p.Long_Name)}})),M)}))),vl=t(857),yl=t(832),Sl=function(e){var a,t=e.xValues,n=e.yValues,o=e.markerOptions,s=e.infoObject,i=e.xTitle,l=e.yTitle,c=e.type,m=s.parameters,p=s.metadata,d=s.hasDepth,h=s.variableValues,b=s.times,g=s.lats,f=s.lons,E=s.depths;switch(c){case"time":a=h.map((function(e,a){var t=e>1&&e<1e3?".2f":".2e",n=b[a].slice(0,20);return n=n.replace("T"," "),"Time: ".concat(n,"<br>").concat(m.fields,": ").concat(Object(ml.a)(t)(e)," [").concat(p.Unit,"]")}));break;case"latitude":a=h.map((function(e,a){var t=e>1&&e<1e3?".2f":".2e";return"Lat: ".concat(g[a].toFixed(2),"<br>").concat(m.fields,": ").concat(Object(ml.a)(t)(e)," [").concat(p.Unit,"]")}));break;case"longitude":a=h.map((function(e,a){var t=e>1&&e<1e3?".2f":".2e";return"Lon: ".concat(f[a].toFixed(2),"<br>").concat(m.fields,": ").concat(Object(ml.a)(t)(e)," [").concat(p.Unit,"]")}));break;case"depth":a=h.map((function(e,a){var t=e>1&&e<1e3?".2f":".2e";return"Depth: ".concat(E[a].toFixed(2),"<br>").concat(m.fields,": ").concat(Object(ml.a)(t)(e)," [").concat(p.Unit,"]")}));break;default:a=h.map((function(e,a){var t=e>1&&e<1e3?".2f":".2e",n=b[a].slice(0,20);return n=n.replace("T"," "),"Time: ".concat(n,"<br>").concat(m.fields,": ").concat(Object(ml.a)(t)(e)," [").concat(p.Unit,"]")}))}var x=m.dt1===m.dt2?Yi(m.dt1):Yi(m.dt1)+" to "+Yi(m.dt2),v=m.lat1===m.lat2?m.lat1+"\xb0":m.lat1+"\xb0 to "+m.lat2+"\xb0",y=m.lon1===m.lon2?m.lon1+"\xb0":m.lon1+"\xb0 to "+m.lon2+"\xb0",S=d?m.depth1===m.depth2?"".concat(m.depth1,"[m]"):"".concat(m.depth1,"[m] to ").concat(m.depth2,"[m]"):"Surface";return r.a.createElement(Qi.a,{style:{position:"relative",width:"60vw",height:"40vw"},useResizeHandler:!0,data:[{x:t,y:n,mode:"markers",name:m.fields,type:h.length>1e4?"scattergl":"scatter",marker:{opacity:o.opacity,size:o.size,color:o.color},hoverinfo:"text",hovertext:a}],config:Object(u.a)({},Zi.config),layout:Object(u.a)(Object(u.a)({},Zi.layout),{},{plot_bgcolor:"transparent",title:{text:"".concat(m.fields," [").concat(p.Unit,"]")+"<br>".concat(x,", ")+S+"<br>Lat: ".concat(v,", ")+"Lon: ".concat(y),font:{size:13}},xaxis:{title:i,color:"#ffffff",exponentformat:"power"},yaxis:{title:l,color:"#ffffff",exponentformat:"power",autorange:"depth"!==c||"reversed"},annotations:Zi.annotations(p.Distributor)})})},Ol={setLoadingMessage:Q,csvFromVizRequestSend:re};function wl(e){return{id:"sparse-tab-".concat(e),"aria-controls":"sparse-tab-".concat(e)}}var Cl=function(e){var a=e.children,t=e.selectedTab,n=e.index,o=e.controlPanelProps;return r.a.createElement("div",{hidden:t!==n},r.a.createElement(sl,o),a)},_l=Object(l.b)(null,Ol)(Object(zr.a)((function(e){return{chartWrapper:{display:"inline-block",backgroundColor:Pr.backgroundGray,boxShadow:"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)",margin:"20px",color:"white"},buttonBlock:{display:"block"},tabs:{marginBottom:e.spacing(2)},tab:{boxShadow:"1px 1px 1px 1px #242424",fontSize:"15px",textTransform:"none",color:e.palette.primary.main}}}))((function(e){var a=e.classes,t=e.csvFromVizRequestSend,o=e.chart.data,s=o.metadata,i=Object(n.useState)("Heatmap"),l=Object(ko.a)(i,2),c=l[0],m=l[1],p=Object(n.useState)([o.zMin,o.zMax]),d=Object(ko.a)(p,2),h=d[0],b=d[1],g=Object(n.useState)({opacity:.7,color:"#ff1493",size:12}),f=Object(ko.a)(g,2),E=f[0],x=f[1],v=Object(n.useState)(0),y=Object(ko.a)(v,2),S=y[0],O=y[1],w=function(e,a,t){var n=e.parameters,o=e.metadata,s=n.dt1===n.dt2?Yi(n.dt1):Yi(n.dt1)+" to "+Yi(n.dt2),i=n.lat1===n.lat2?n.lat1+"\xb0":n.lat1+"\xb0 to "+n.lat2+"\xb0",l=n.lon1===n.lon2?n.lon1+"\xb0":n.lon1+"\xb0 to "+n.lon2+"\xb0",c=e.hasDepth?n.depth1===n.depth2?"".concat(n.depth1,"[m]"):"".concat(n.depth1,"[m] to ").concat(n.depth2,"[m]"):"Surface";return r.a.createElement(Qi.a,{style:{position:"relative",width:"60vw",height:"40vw",minWidth:"510px",minHeight:"340px"},useResizeHandler:!0,data:[{zauto:!1,zmin:t[0],zmax:t[1],lon:e.lons,lat:e.lats,z:e.variableValues,autocolorscale:!1,colorscale:a,radius:6,name:e.parameters.fields,type:"densitymapbox",colorbar:{title:{text:"[".concat(e.metadata.Unit,"]")},exponentformat:"power"}}],layout:Object(u.a)(Object(u.a)({},Zi.layout),{},{title:{text:"".concat(n.fields," [").concat(o.Unit,"]")+"<br>".concat(s,", ")+c+"<br>Lat: ".concat(i,", ")+"Lon: ".concat(l),font:{size:13}},mapbox:{style:"white-bg",layers:[{sourcetype:"raster",source:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"],below:"traces"}],center:e.center,zoom:e.zoom},annotations:Zi.annotations(e.metadata.Distributor)}),config:Object(u.a)(Object(u.a)({},Zi.config),{},{mapboxAccessToken:"pk.eyJ1IjoiZGVuaG9sdHoiLCJhIjoiY2p1ZW9obTNhMDVxZjQzcDRvMmdlcDN2aiJ9.HvLaX2bcradeE5T-lpTc8w"})})}(o,c,h),C=function(){t(o,s.Table_Name,s.Variable,s.Long_Name)},_={map:{palette:c,handlePaletteChoice:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),m(a)}),100)},zValues:h,handleZValueConfirm:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),b(a)}),100)},downloadCsv:C},scatter:{downloadCsv:C,markerOptions:E,setMarkerOptions:x,handleMarkerOptionsConfirm:function(a){e.setLoadingMessage("Re-rendering"),setTimeout((function(){window.requestAnimationFrame((function(){return e.setLoadingMessage("")})),x(a)}),100)}}};return r.a.createElement("div",null,r.a.createElement(vl.a,{value:S,onChange:function(e,a){O(a)},"aria-label":"Sparse tabs",centered:!0,indicatorColor:"primary",className:a.tabs},r.a.createElement(yl.a,Object.assign({label:"Map"},wl(0),{className:a.tab,onClick:function(){setTimeout((function(){return window.dispatchEvent(new Event("resize"))}),30)}})),r.a.createElement(yl.a,Object.assign({label:"By Time"},wl(1),{className:a.tab})),r.a.createElement(yl.a,Object.assign({label:"By Lat"},wl(2),{className:a.tab})),r.a.createElement(yl.a,Object.assign({label:"By Lon"},wl(3),{className:a.tab})),o.hasDepth&&r.a.createElement(yl.a,Object.assign({label:"By Depth"},wl(4),{className:a.tab}))),r.a.createElement(Cl,{selectedTab:S,index:0,controlPanelProps:_.map},0===S&&w),r.a.createElement(Cl,{selectedTab:S,index:1,controlPanelProps:_.scatter},1===S&&r.a.createElement(Sl,{xValues:o.times,yValues:o.variableValues,markerOptions:E,infoObject:o,xTitle:"Time",yTitle:"".concat(o.parameters.fields,"[").concat(s.Unit,"]"),type:"time"})),r.a.createElement(Cl,{selectedTab:S,index:2,controlPanelProps:_.scatter},2===S&&r.a.createElement(Sl,{xValues:o.lats,yValues:o.variableValues,markerOptions:E,infoObject:o,xTitle:"Latitude",yTitle:o.parameters.fields,type:"latitude"})),r.a.createElement(Cl,{selectedTab:S,index:3,controlPanelProps:_.scatter},3===S&&r.a.createElement(Sl,{xValues:o.lons,yValues:o.variableValues,markerOptions:E,infoObject:o,xTitle:"Longitude",yTitle:o.parameters.fields,type:"longitude"})),o.hasDepth&&r.a.createElement(Cl,{selectedTab:S,index:4,controlPanelProps:_.scatter},4===S&&r.a.createElement(Sl,{xValues:o.variableValues,yValues:o.depths,markerOptions:E,infoObject:o,xTitle:o.parameters.fields,yTitle:"Depth[m]",type:"depth"})))}))),kl={deleteChart:function(e){return{type:"DELETE_CHART",payload:{chartIndex:e}}}},Tl=Object(zr.a)({closeChartIcon:{float:"right",marginTop:"-12px",marginRight:"-8px"}})((function(e){var a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(To.a,{className:a.closeChartIcon,color:"inherit",onClick:function(){return e.handleDeleteChart(e.chartIndex)},disableFocusRipple:!0,disableRipple:!0},r.a.createElement(Ri.a,null)))})),jl=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleDeleteChart=function(a){e.props.deleteChart(a)},e}return Object(_e.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.charts;return r.a.createElement(r.a.Fragment,null,n.map((function(a,n){switch(a.data.parameters.spName){case Fe.spaceTime:return a.subType===Ie.sparse?r.a.createElement("div",{key:a.id},r.a.createElement(Ur.a,{elevation:12,className:t.chartPaper,key:a.id},r.a.createElement(Tl,{chartIndex:n,handleDeleteChart:e.handleDeleteChart}),r.a.createElement(_l,{chart:a}))):a.data.metadata.Spatial_Resolution===je.irregular?r.a.createElement("div",{key:a.id},r.a.createElement(Ur.a,{elevation:12,className:t.chartPaper,key:a.id},r.a.createElement(Tl,{chartIndex:n,handleDeleteChart:e.handleDeleteChart}),r.a.createElement(ll,{chart:a}))):r.a.createElement("div",{key:a.id},r.a.createElement(Ur.a,{elevation:12,className:t.chartPaper,key:a.id},r.a.createElement(Tl,{chartIndex:n,handleDeleteChart:e.handleDeleteChart}),r.a.createElement(dl,{chart:a})));case Fe.timeSeries:return r.a.createElement("div",{key:a.id},r.a.createElement(Ur.a,{elevation:12,className:t.chartPaper,key:a.id},r.a.createElement(Tl,{chartIndex:n,handleDeleteChart:e.handleDeleteChart}),r.a.createElement(bl,{chart:a})));case Fe.depthProfile:return r.a.createElement("div",{key:a.id},r.a.createElement(Ur.a,{elevation:12,className:t.chartPaper,key:a.id},r.a.createElement(Tl,{chartIndex:n,handleDeleteChart:e.handleDeleteChart}),r.a.createElement(fl,{chart:a})));case Fe.sectionMap:return r.a.createElement("div",{key:a.id},r.a.createElement(Ur.a,{elevation:12,className:t.chartPaper,key:a.id},r.a.createElement(Tl,{chartIndex:n,handleDeleteChart:e.handleDeleteChart}),r.a.createElement(xl,{chart:a})));default:return""}})))}}]),t}(n.Component),Al=Object(l.b)((function(e,a){return{charts:e.charts}}),kl)(Object(zr.a)((function(e){return{chartPaper:{backgroundColor:Pr.backgroundGray,marginTop:"5vh",marginBottom:"2vh",padding:e.spacing(1),boxShadow:"2px 2px 2px 2px #242424"}}}))(jl)),Nl=t(427),Rl=t(196),Dl=t.n(Rl),Ll=t(833),Il=Object(zr.a)((function(e){return{icon:{padding:"12px 12px 12px 0",color:Pr.primary,verticalAlign:"middle"}}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ll.a,{id:e.iconID,className:e.classes.icon}))})),Pl={cruiseListRequestSend:ee,cruiseTrajectoryRequestSend:X,cruiseTrajectoryClear:function(){return{type:"CRUISE_TRAJECTORY_CLEAR"}}},Ml='"Avenir Next W00","Helvetica Neue",Helvetica,Arial,sans-serif',Fl=function(e){return r.a.createElement(ys.z.SingleValue,Object.assign({},e,{className:e.className}))},zl=function(e){return r.a.createElement(ys.z.Option,Object.assign({},e,{innerProps:Object(u.a)(Object(u.a)({},e.innerProps),{},{onMouseMove:function(e){return e.preventDefault()},onMouseOver:function(e){return e.preventDefault()}})}))},Ul=function(e,a){return e.Name<a.Name?-1:1},Vl=function(e){return r.a.createElement(ys.z.ValueContainer,e,r.a.createElement(_o.a,{style:{position:"absolute",left:6,color:Pr.primary}}),e.children)},Bl=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.props.cruiseList&&n.props.cruiseList.length||n.props.cruiseListRequestSend()},n.formatOptionLabel=function(e){return e.data.Name===e.data.Nickname?e.data.Name:"".concat(e.data.Name," - ").concat(e.data.Nickname)},n.getSelectOptionsFromCruiseList=function(e){return e.map((function(e){return{value:e.Name,label:e.Name,data:e}}))||[]},n.handleCruiseSelect=function(e){if(e&&e.data){var a=e.data.ID;n.props.cruiseTrajectoryRequestSend(a)}else n.props.cruiseTrajectoryClear();n.setState(Object(u.a)(Object(u.a)({},n.state),{},{selectedCruise:e})),n.props.updateParametersFromCruiseBoundary(e)},n.componentDidUpdate=function(e){e.cruiseList&&e.cruiseList.length||!n.props.cruiseList||!n.props.cruiseList.length||(n.state.search.addDocuments(n.props.cruiseList),n.setState({search:n.state.search}))},n.onAutoSuggestChange=function(e,a){"input-change"===a.action&&n.setState(Object(u.a)(Object(u.a)({},n.state),{},{searchField:e})),"set-value"!==a.action&&"menu-close"!==a.action||n.setState(Object(u.a)(Object(u.a)({},n.state),{},{searchField:""}))};var r=new Os.Search("ID");r.searchIndex=new Os.UnorderedSearchIndex,r.addIndex("Nickname"),r.addIndex("Name"),r.addIndex("Chief_Name"),r.addIndex("Keywords");try{e.cruiseList&&e.cruiseList.length&&r.addDocuments(e.cruiseList)}catch(o){console.log(o),console.log(e.cruiseList)}return n.state={search:r,searchField:"",selectedCruise:null},n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.state,a=e.search,t=e.searchField,n=e.selectedCruise,o=this.props,s=o.classes,i=o.cruiseList,l=t&&i?this.getSelectOptionsFromCruiseList(a.search(t).sort(Ul)):i?this.getSelectOptionsFromCruiseList(i):[];return r.a.createElement(Dl.a,{handle:"#drag-icon-cruise"},r.a.createElement("div",{id:"cruise-selector",className:s.outerDiv,style:this.props.showCruiseControl?{}:{display:"none"}},r.a.createElement(Ss.a,{isLoading:this.props.getCruiseListState===m.inProgress,components:{IndicatorSeparator:"",Option:zl,SingleValue:Fl,ValueContainer:Vl},isClearable:!0,formatOptionLabel:this.formatOptionLabel,onInputChange:this.onAutoSuggestChange,filterOption:null,className:s.cruiseSelect,escapeClearsValue:!0,label:"Cruise",options:l,onChange:this.handleCruiseSelect,value:this.state.selectedCruise,placeholder:"Search Cruises",styles:{menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{zIndex:9999})},menuList:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:Pr.backgroundGray})},input:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"inherit",fontFamily:Ml})},control:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:Pr.backgroundGray,border:"none",boxShadow:"1px 1px 1px 1px #242424",color:"white",borderRadius:4,"&:hover":{border:"1px solid white"},"&:focus-within":{borderColor:Pr.primary}})},placeholder:function(e){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:Ml,color:Pr.primary,fontSize:"14px"})},noOptionsMessage:function(e){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:Ml,color:"white",backgroundColor:Pr.backgroundGray})},option:function(e,a){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:Pr.backgroundGray,color:a.isFocused?Pr.primary:"white","&:hover":{backgroundColor:Pr.greenHover}})},singleValue:function(e,a){return Object(u.a)(Object(u.a)({},e),{},{fontFamily:Ml,color:"inherit",paddingRight:"20px"})},valueContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{padding:"0 0 0 34px",fontWeight:100})}},theme:function(e){return Object(u.a)(Object(u.a)({},e),{},{colors:Object(u.a)(Object(u.a)({},e.colors),{},{primary25:"#e0e0e0",primary:"#212121"})})}}),r.a.createElement(ts,{title:"Cruise Help",content:"Cruise Help Content"}),r.a.createElement(Il,{iconID:"drag-icon-cruise"}),n&&r.a.createElement(Hr.a,{size:"small",className:s.cruiseInfo},r.a.createElement(Qr.a,null,r.a.createElement(Wr.a,null,r.a.createElement(qr.a,{className:s.cruiseInfoCell},"Cruise:"),r.a.createElement(qr.a,{className:s.cruiseInfoCell},n.data.Name)),r.a.createElement(Wr.a,null,r.a.createElement(qr.a,{className:s.cruiseInfoCell},"Nickname:"),r.a.createElement(qr.a,{className:s.cruiseInfoCell},n.data.Nickname)),n.data.Start_Time&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,{className:s.cruiseInfoCell},"Start Date:"),r.a.createElement(qr.a,{className:s.cruiseInfoCell},n.data.Start_Time.slice(0,10))),n.data.End_Time&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,{className:s.cruiseInfoCell},"End Date:"),r.a.createElement(qr.a,{className:s.cruiseInfoCell},n.data.End_Time.slice(0,10))),n.data.Chief_Name&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,{className:s.cruiseInfoCell},"Chief Scientist:"),r.a.createElement(qr.a,{className:s.cruiseInfoCell},n.data.Chief_Name)),n.data.Ship_Name&&r.a.createElement(Wr.a,null,r.a.createElement(qr.a,{className:s.cruiseInfoCell},"Ship:"),r.a.createElement(qr.a,{className:s.cruiseInfoCell},n.data.Ship_Name))))))}}]),t}(n.Component),Hl=Object(l.b)((function(e,a){return{cruiseList:e.cruiseList,getCruiseListState:e.getCruiseListState}}),Pl)(Object(zr.a)((function(e){return{outerDiv:{padding:"12px",maxWidth:"360px",backgroundColor:"transparent",color:"white",borderRadius:"4px",boxShadow:"2px",position:"relative",backdropFilter:"blur(2px)",transform:"translateY(35px)",marginTop:"24px",position:"fixed",right:"0px",top:"60px"},cruiseSelect:{width:"260px",borderRadius:"4px",display:"inline-block"},cruiseInfo:{color:"white",fontFamily:Ml,margin:"12px auto 0 auto"},cruiseInfoCell:{color:"white",fontFamily:Ml,borderStyle:"none"},dragIcon:{padding:"12px 12px 12px 0",color:Pr.primary,verticalAlign:"middle"}}}))(Bl)),Gl=t(422),Wl={type:"polygon-3d",symbolLayers:[{type:"fill",material:{color:[0,255,255,.3]},outline:{color:[0,255,255,1],size:"2px"}}]},ql={type:"line-3d",symbolLayers:[{type:"line",size:"3px",material:{color:{r:0,g:255,b:255,a:0}}}]},Ql=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;return Object(Ce.a)(this,t),(n=a.call(this,e)).shouldComponentUpdate=function(e,a){return!1},n.sketchModel=new e.esriModules.SketchViewModel({layer:e.regionLayer,view:e.view,polygonSymbol:Wl,polylineSymbol:ql,defaultUpdateOptions:{toggleToolOnClick:!1,tool:"transform"}}),n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.view,n=a.esriModules,r=(a.regionLayer,a.setShowHelp),o=this.sketchModel,s=Object(Gl.a)(75,(function(a){"active"===a.state&&e.props.updateDomainFromGraphicExtent(n.Utils.webMercatorToGeographic(a.graphic.geometry.extent))}));return o.on("create",(function(a){"active"===a.state&&a.toolEventInfo&&"vertex-add"===a.toolEventInfo.type&&o.complete(),a.graphic&&a.graphic.visible&&(a.graphic.visible=!1),"cancel"===a.state&&r(!1),"complete"===a.state&&(r(!1),e.props.updateDomainFromGraphicExtent(n.Utils.webMercatorToGeographic(a.graphic.geometry.extent)))})),o.on("create",s),o.on("update",(function(a){if(a.toolEventInfo&&"move-stop"===a.toolEventInfo.type){if("cancel"===a.state)return;e.props.updateDomainFromGraphicExtent(a.graphics[0].geometry.extent)}})),t.ui.remove("zoom"),t.ui.remove("navigation-toggle"),t.ui.remove("compass"),t.ui.remove("attribution"),null}}]),t}(r.a.Component),Kl=r.a.memo((function(e){var a=e.cruiseTrajectory,t=e.trajectoryLayer,n=e.esriModules;if(a){var r=a.lons,o=a.lats,s=Math.floor(r.length/2);t.removeAll();var i=[[]],l=0,c=r[0],u=o[0],m=0;r.forEach((function(e,a){var t=o[a],n=Math.abs(t-u),s=Math.abs(e-c),p=s>180?360-s:s,d=Math.sqrt(n*n+p*p);m=d>m?d:m,i[l].push([e,t]),a<r.length-1&&(e>160&&e<180&&r[a+1]>-180&&r[a+1]<-160&&(i.push([]),l++),e>-180&&e<-160&&e[a+1]>160&&e[a+1]<180&&(i.push([]),l++))}));var p={type:"line-3d",symbolLayers:[{type:"line",material:{color:[0,255,255,1]},cap:"round",join:"round",size:2}]};i.forEach((function(e){var a={type:"polyline",paths:e},r=new n.Graphic({geometry:a,symbol:p});t.add(r)}));try{var d=[r[s],o[s]],h=7-Math.floor(m/6);e.view.goTo({target:d,zoom:h},{maxDuration:2500,speedFactor:.5})}catch(b){console.log(b)}}else t.removeAll(),e.view.goTo({target:[-140,30],zoom:3},{maxDuration:2500,speedFactor:.5});return""})),Yl=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;return Object(Ce.a)(this,t),(n=a.call(this,e)).render=function(){var e=n.props,a=e.classes,t=e.esriModules,o=e.spParams,s=e.cruiseTrajectory,i=e.globeUIRef,l=parseFloat(o.lat1),c=parseFloat(o.lat2),m=parseFloat(o.lon1),p=parseFloat(o.lon2),d=p<m?p+360:p;n.regionLayer.removeAll();var h={type:"polygon",rings:[[m,l],[d,l],[d,c],[m,c],[m,l]]},b=new t.Graphic({geometry:h,symbol:Wl});return n.regionLayer.add(b),r.a.createElement("div",{className:a.container,id:"found-you"},r.a.createElement(Nl.a,{mapProperties:{basemap:"satellite",layers:[n.regionLayer,n.trajectoryLayer]},viewProperties:{center:[-140,30],zoom:3,highlightOptions:{haloOpacity:0,haloColor:"rgba(0, 0, 0, 0)",fillOpacity:0,color:"rgba(0, 0, 0, 0)"}}},r.a.createElement(Kl,{cruiseTrajectory:s,trajectoryLayer:n.trajectoryLayer,esriModules:t}),r.a.createElement(Ql,{updateDomainFromGraphicExtent:n.props.updateDomainFromGraphicExtent,esriModules:t,measurementPositions:n.props.measurementPositions,regionLayer:n.regionLayer,setShowHelp:function(e){return n.setState(Object(u.a)(Object(u.a)({},n.state),{},{showHelp:e}))},ref:i})),r.a.createElement(Hl,{updateParametersFromCruiseBoundary:n.props.updateParametersFromCruiseBoundary,showCruiseControl:n.props.showCruiseControl}))},n.state={showHelp:!1},n.regionLayer=new e.esriModules.GraphicsLayer,n.trajectoryLayer=new e.esriModules.GraphicsLayer,n}return t}(n.Component),Zl=Object(zr.a)((function(e){return{container:{margin:"0 auto 0 auto",width:"100vw",height:"100vh"}}}))(Yl),$l=function(e){var a=e.depth1,t=e.depth2,n=e.dt1,r=e.dt2,o=e.fields,s=e.lat1,i=e.lat2,l=e.lon1,c=e.lon2,u=e.spName,m=e.tableName;return{depth1:parseFloat(a),depth2:parseFloat(t),dt1:n,dt2:r,fields:o,lat1:parseFloat(s),lat2:parseFloat(i),lon1:parseFloat(l),lon2:parseFloat(c),spName:u,tableName:m}},Jl=function(e){var a=e.getFullYear(),t=e.getMonth()+1,n=e.getDate();return a.toString()+"-"+(t<10?"0"+t.toString():t.toString())+"-"+(n<10?"0"+n.toString():n.toString())},Xl={default:{title:"Simons Collaborative Marine Ocean Atlas",description:"Simons Collaborative Marine Atlas Project is an open-source data portal interconnecting data sets across Oceanography disciplines. It enables scientists and the public to dive into the vast and often underutilized ocean datasets to retrieve custom subsets of data."},visualization:{title:"CMAP Data Visualization",description:"Generate scatter plots, heatmaps, cruise routes, and more using oceanographic data from from CMAP datasets."},catalog:{title:"CMAP Catalog",description:"Search for oceanographic datasets in the CMAP database using keywords, or temporal or spatial coverage."},dataSubmission:{title:"CMAP Data Submission",description:"Validate and submit your dataset. Track the progress of your previous submissions."},community:{title:"CMAP Community",description:"Join the CMAP team on slack, follow us on github, or download the CMAP software package for Python, R, Julia, or MATLAB."}},ec=function(e){return{[Ie.sectionMap]:{sp:Fe.sectionMap,subType:Ie.sectionMap},[Ie.contourSectionMap]:{sp:Fe.sectionMap,subType:Ie.contourSectionMap},[Ie.timeSeries]:{sp:Fe.timeSeries,subType:Ie.timeSeries},[Ie.histogram]:{sp:Fe.spaceTime,subType:Ie.histogram},[Ie.depthProfile]:{sp:Fe.depthProfile,subType:Ie.depthProfile},[Ie.heatmap]:{sp:Fe.spaceTime,subType:Ie.heatmap},[Ie.contourMap]:{sp:Fe.spaceTime,subType:Ie.contourMap},[Ie.sparse]:{sp:Fe.spaceTime,subType:Ie.sparse}}[e]},ac={showLoginDialog:B,queryRequestSend:function(e){return{type:"QUERY REQUEST SEND",payload:{query:e}}},retrievalRequestSend:A,storedProcedureRequestSend:function(e){return{type:"STORED_PROCEDURE_REQUEST_SEND",payload:Object(u.a)({},e)}},snackbarOpen:q,cruiseListRequestSend:ee,completedShowCharts:function(){return{type:"COMPLETED_SHOW_CHARTS"}},datasetRetrievalRequestSend:R},tc={tableName:"",fields:null,depth1:0,depth2:0,dt1:new Date,dt2:new Date,lat1:0,lat2:0,lon1:0,lon2:0,selectedVizType:""},nc=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).globeUIRef=r.a.createRef(),e.state={filteredData:[],opacity:1,showCharts:!1,showUI:!1,surfaceOnly:!1,irregularSpatialResolution:!1,showCruiseControl:!1,spParams:tc},e.componentWillUnmount=function(){document.title=Xl.default.title,document.description=Xl.default.description},e.handleChange=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:Object(u.a)(Object(u.a)({},e.state.spParams),{},{[a.target.name]:a.target.value})}))},e.handleLatLonChange=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:Object(u.a)(Object(u.a)({},e.state.spParams),{},{[a.target.name]:a.target.value})}))},e.handleStartDateChange=function(a){if(a){var t=new Date;t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:Object(u.a)(Object(u.a)({},e.state.spParams),{},{dt1:t})}))}},e.handleEndDateChange=function(a){if(a){var t=new Date;t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:Object(u.a)(Object(u.a)({},e.state.spParams),{},{dt2:t})}))}},e.onVisualize=function(){var a=e.state.spParams,t=a.depth1,n=a.depth2,r=a.dt1,o=a.dt2,s=a.lat1,i=a.lat2,l=a.lon1,c=a.lon2,u=a.selectedVizType,m=ec(u),p={parameters:$l({depth1:t,depth2:n,dt1:Jl(r),dt2:Jl(o),lat1:s,lat2:i,lon1:l,lon2:c,fields:e.state.spParams.fields&&e.state.spParams.fields.value,tableName:e.state.spParams.fields&&e.state.spParams.tableName,spName:m.sp}),subType:m.subType,metadata:e.state.spParams.fields&&e.state.spParams.fields.data};e.props.storedProcedureRequestSend(p)},e.updateFields=function(a){if(a){var t=!a.data.Depth_Min,n="Irregular"===a.data.Spatial_Resolution,r=Vs(a.data.Time_Max);r.setDate(r.getDate()+1);var o=a.data.Temporal_Resolution===Pe.monthlyClimatology?e.state.spParams.dt1:Vs(a.data.Time_Min),s=a.data.Temporal_Resolution===Pe.monthlyClimatology?e.state.spParams.dt2:n?r:Vs(a.data.Time_Min),i=Math.floor(1e3*a.data.Lat_Min)/1e3,l=Math.ceil(1e3*a.data.Lat_Max)/1e3,c=Math.floor(1e3*a.data.Lon_Min)/1e3,m=Math.ceil(1e3*a.data.Lon_Max)/1e3,p=n?i:e.state.spParams.lat1,d=n?l:e.state.spParams.lat2,h=n?c:e.state.spParams.lon1,b=n?m:e.state.spParams.lon2,g=n?a.data.Depth_Min||0:qs.piscesTable.has(a.data.Table_Name)||qs.darwinTable.has(a.data.Table_Name)?0:e.state.spParams.depth1,f=n?a.data.Depth_Max||0:qs.piscesTable.has(a.data.Table_Name)?((qs.piscesDepths[0]+qs.piscesDepths[1])/2).toFixed(2):qs.darwinTable.has(a.data.Table_Name)?(qs.darwinDepths[0]+qs.darwinDepths[1])/2:e.state.spParams.depth2;n&&e.globeUIRef.current.props.view.goTo({target:[(parseFloat(h)+parseFloat(b))/2,(parseFloat(p)+parseFloat(d))/2],zoom:3},{maxDuration:2500,speedFactor:.5});var E=a.data.Table_Name;e.setState(Object(u.a)(Object(u.a)({},e.state),{},{surfaceOnly:t,irregularSpatialResolution:n,spParams:Object(u.a)(Object(u.a)({},e.state.spParams),{},{fields:a,dt1:o,dt2:s,lat1:p,lat2:d,lon1:h,lon2:b,depth1:g,depth2:f,tableName:E,selectedVizType:""})}))}else e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:Object(u.a)(Object(u.a)({},e.state.spParams),{},{fields:a,tableName:""})}))},e.updateParametersFromCruiseBoundary=function(a){if(a&&e.state.spParams.fields){e.props.snackbarOpen("Setting chart parameters to cruise boundaries.");var t=Math.floor(1e3*a.data.Lat_Min)/1e3,n=Math.ceil(1e3*a.data.Lat_Max)/1e3,r=Math.floor(1e3*a.data.Lon_Min)/1e3,o=Math.ceil(1e3*a.data.Lon_Max)/1e3;e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:Object(u.a)(Object(u.a)({},e.state.spParams),{},{lat1:t,lat2:n,lon1:r,lon2:o,dt1:Vs(a.data.Start_Time),dt2:Vs(a.data.End_Time)})}))}},e.handleShowCharts=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showCharts:!0}))},e.handleShowGlobe=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showCharts:!1}))},e.handleShowCruiseControl=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showCruiseControl:!e.state.showCruiseControl}))},e.toggleShowUI=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showUI:!e.state.showUI}))},e.updateDomainFromGraphicExtent=function(a){for(var t=a.xmin;t<-180;)t+=360;for(;t>180;)t-=360;for(var n=a.xmax;n<-180;)n+=360;for(;n>180;)n-=360;var r={lat1:a.ymin.toFixed(3),lat2:a.ymax.toFixed(3),lon1:t.toFixed(3),lon2:n.toFixed(3)};e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:Object(u.a)(Object(u.a)({},e.state.spParams),r)}))},e.resetSPParams=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{spParams:tc}))},e}return Object(_e.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ye.a)(y.a.mark((function e(){var a,t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title=Xl.visualization.title,document.description=Xl.visualization.description,a=["AreaMeasurement3D","Search","GraphicsLayer","SketchViewModel","Utils","Graphic"],e.next=5,Object(Wi.loadModules)(["esri/widgets/AreaMeasurement3D","esri/widgets/Search","esri/layers/GraphicsLayer","esri/widgets/Sketch/SketchViewModel","esri/geometry/support/webMercatorUtils","esri/Graphic"],{version:"4.14"});case 5:t=e.sent,n=a.reduce((function(e,a,n){return e[a]=t[n],e}),{}),this.setState(Object(u.a)(Object(u.a)({},this.state),{},{esriModules:n}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.showChartsOnce&&(this.props.completedShowCharts(),this.setState(Object(u.a)(Object(u.a)({},this.state),{},{showCharts:!0})))}},{key:"render",value:function(){var e=this.props.classes;return this.props.user?r.a.createElement("div",{className:e.vizWrapper},r.a.createElement(Gi,Object.assign({toggleChartView:this.toggleChartView,toggleShowUI:this.toggleShowUI,handleChange:this.handleChange,handleLatLonChange:this.handleLatLonChange,handleStartDateChange:this.handleStartDateChange,handleEndDateChange:this.handleEndDateChange,showUI:this.state.showUI,onVisualize:this.onVisualize,updateFields:this.updateFields},this.state.spParams,{surfaceOnly:this.state.surfaceOnly,irregularSpatialResolution:this.state.irregularSpatialResolution,showCharts:this.state.showCharts,handleShowCharts:this.handleShowCharts,handleShowGlobe:this.handleShowGlobe,resetSPParams:this.resetSPParams,handleShowCruiseControl:this.handleShowCruiseControl,showCruiseControl:this.state.showCruiseControl})),this.state.esriModules&&r.a.createElement("div",{className:"".concat(this.state.showCharts?e.displayNone:"")},r.a.createElement(Zl,{globeUIRef:this.globeUIRef,updateDomainFromGraphicExtent:this.updateDomainFromGraphicExtent,updateParametersFromCruiseBoundary:this.updateParametersFromCruiseBoundary,esriModules:this.state.esriModules,spParams:this.state.spParams,cruiseTrajectory:this.props.cruiseTrajectory,showCruiseControl:this.state.showCruiseControl})),r.a.createElement("div",{className:this.state.showCharts?e.showCharts:e.displayNone},r.a.createElement(Al,null))):r.a.createElement(oo,null)}}]),t}(n.Component),rc=Object(l.b)((function(e,a){return{user:e.user,sampleData:e.sampleData,queryRequestState:e.queryRequestState,maps:e.maps,charts:e.charts,data:e.data,storedProcedureRequestState:e.storedProcedureRequestState,loadingMessage:e.loadingMessage,cruiseTrajectory:e.cruiseTrajectory,cruiseList:e.cruiseList,showChartsOnce:e.showChartsOnce,datasets:e.datasets,catalog:e.catalog}}),ac)(Object(zr.a)((function(e){return{displayNone:{display:"none"},background:{backgroundColor:Pr.backgroundGray},showCharts:{display:"inline-block",paddingTop:e.spacing(6)},vizWrapper:{minHeight:"100vh",background:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdcAAAEZCAIAAABKBPhSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAStSURBVHhe7d1Lb1NHFADgzFw/YucFzoNGhQURSDwVqVWhUBCbZMUP6Y/gNyLEAqkSbKiEqorIIbEdx8/0hs6WLlrXz++T5bnnzNLy0blz7ZklZlGI8faDBz88e5ZiYGZlaWTW9Lrdxpcv7VYrxQCMVbiUrgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOBfytIIExJCKFcqF1+lFCySmEaYhLwEL1erTw8Pt65dSylYMHphJixvgVuNxmm93u/3UwqAcco74nQFAAAAAAAAAAAAAAAAAAAAwH+TZVm5UrGfA4yfnS253Exna3f36cFBaXk5pYBxsbMllwb9fuPkpHlyYqt1GLOR3YHm/VSxXK7t7PS63dN6PX9PE8yI/BNUgmH8RtYLxyy7srn588FBbXv7pF4/azbTBADfNrJ14RjjRq32y+HhTy9ebO/upiwA/2h068L5DW0I9aOj3968+f39+875ecoD8G2jXBcuFIvV1dXBYNButQbOEAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWVJZGplgI4freXqlcPms2UwqYFzGNTLMQVtfXl6vVFAIwZiHGvCNOAQAAAMw8T+dgehVLpb07d7qdTv5KKeaOp3MwrUKIWbZRq+W1OGUAGLPowSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwHZz+CcyMEMLW1tVCodDpdFNq9jn9E5gZeRW+e3fvxo3vUgzAmFUq5VKpmAIAxsyB1AAAAAAAzDa/F4YFFWK8s7+/XK2eHh+nFJPg98KwqC4uWo3GebudQgDGLHyVAibEigQzoFQu57fPw+EwxTBHVGGmXYxx/8mTSrVa//w5pWCOqMLMgPN2+/T4uNvppBiAcbpcu7R8CQAAAAAAAKMRQtja3b2+t5diWBj+wcy0qFSrq+vrKQBgzC7/Sxu1BQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMI1CWNrYWLt//1axWEgp+D/FNAJJKJeLtdpGjL4dAJMQQlCCAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAWQpXEuhBhLpdLG5mZ+PRwOLy4u/s4DTK25qsLFYrG2s/Pj8+f9fr/davW63TQBMK3mqgpXV1Zu3bv366tXvV7vz0+fTuv1NAEwreaqCscYs0Ihb4TfvX79x8ePnXY7TQBMq5DGuZBlWWVlpbazc1KvtxqNfq+XJgAAAAAAAAAAAAAAAAAAAAAAAAAAGL252l8YZkWpVNzevlqrbXQ63cFgmLIsJFUYJuDKlbVHjx4+fHj76Oi42TwbDp2RuLhiGoExWltbffx4/+XLFzdvfp9lmqGF5uOHCYgxnp423r378Pbt+1brzHnhi2yuTjyCWVEsFqrV5bwLbjRa/X5fEQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4NuWlv4CeM/T726poh8AAAAASUVORK5CYII=",")")}}}))(nc)),oc=t(821),sc={hideLoginDialog:H,showLoginDialog:B,logOut:k,userLoginRequestSend:function(e,a){return{type:"LOGIN_REQUEST_SEND",payload:{username:e,password:a}}},restoreInterfaceDefaults:W,googleLoginRequestSend:_,snackbarOpen:q},ic=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleLogin=function(a){e.props.userLoginRequestSend(e.props.username,e.props.password)},e.handleClose=function(){e.props.clearState(),e.props.hideLoginDialog(),e.props.restoreInterfaceDefaults()},e.onGoogleSignin=function(a){var t=a.getAuthResponse(!0).id_token;e.props.googleLoginRequestSend(t)},e.onDialogEnter=function(){var a=Object(ss.a)(e),t=window.gapi.auth2;t?t.getAuthInstance().attachClickHandler("g-signin",null,a.onGoogleSignin,(function(){return a.props.snackbarOpen("There was a problem accessing your google account")})):setTimeout(a.onDialogEnter,20)},e}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props.classes,a=!this.props.username||!this.props.password;return r.a.createElement(bo.a,{open:this.props.loginDialogIsOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",onEnter:this.onDialogEnter,PaperProps:{className:e.dialogWrapper}},r.a.createElement(go.a,{id:"form-dialog-title"},"Login"),r.a.createElement(fo.a,null,r.a.createElement(Fs.a,null,"Please enter your username and password, or ",r.a.createElement(no.a,{className:e.colorCorrectionPrimary,onClick:this.handleClose,component:Mr.b,to:{pathname:"/register"}},"Register.")),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(Zr.a,{autoFocus:!0,margin:"normal",id:"username",label:"Username",type:"text",variant:"outlined",name:"username",value:this.props.username,onChange:this.props.handleChange,InputLabelProps:{shrink:!0}}),r.a.createElement(Zr.a,{margin:"normal",id:"name",label:"Password",type:"password",variant:"outlined",name:"password",value:this.props.password,onChange:this.props.handleChange,InputLabelProps:{shrink:!0},helperText:r.a.createElement(no.a,{className:e.colorCorrectionPrimary,onClick:this.handleClose,component:Mr.b,to:{pathname:"/forgotpass"}},"Forgot Username or Password")}),r.a.createElement(oc.a,null,r.a.createElement("div",{className:e.googleIconWrapper},r.a.createElement(fs,{clickHandlerTarget:"g-signin",text:"Sign in with Google"})),r.a.createElement($r.a,{onClick:this.handleClose},r.a.createElement("span",{className:e.colorCorrectionWhite},"Cancel")),r.a.createElement("div",{className:e.wrapper},r.a.createElement($r.a,{color:"primary",type:"submit",onClick:this.handleLogin,disabled:a,className:a?"":e.colorCorrection},"Log In")))),this.props.userLoginState===m.failed?r.a.createElement(Fs.a,null,"Login failed. Please try again."):""))}}]),t}(n.Component),lc=Object(l.b)((function(e,a){return{loginDialogIsOpen:e.loginDialogIsOpen,userLoginState:e.userLoginState,userLoginError:e.userLoginError}}),sc)(Object(zr.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},googleIconWrapper:{marginRight:"100px",marginLeft:"-8px"},dialogWrapper:{backgroundColor:Pr.solidPaper},colorCorrectionPrimary:{color:Pr.primary},colorCorrectionWhite:{color:"white"}}}))(ic)),cc=t(864),uc={snackbarClose:function(){return{type:"SNACKBAR_CLOSE"}}},mc=Object(l.b)((function(e,a){return{snackbarIsOpen:e.snackbarIsOpen,snackbarMessage:e.snackbarMessage}}),uc)(Object(zr.a)((function(e){return{}}))((function(e){e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(cc.a,{autoHideDuration:2500,message:e.snackbarMessage,onClose:e.snackbarClose,open:e.snackbarIsOpen,anchorOrigin:{horizontal:"center",vertical:"top"}}))}))),pc=t(423),dc=Object(zr.a)((function(e){return{loader:{backgroundColor:"#000000",position:"fixed",top:0,right:0,bottom:0,left:0,opacity:.5,display:"flex",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh",zIndex:9998},loaderContent:{display:"flex",flexDirection:"column",alignItem:"center",justifyContent:"center",zIndex:9999,opacity:1},spinnerText:{zIndex:1e4,color:e.palette.primary.main,marginTop:"25px",opacity:1},spinner:{opacity:1}}}))((function(e){var a=e.classes,t=e.loadingMessage;return t&&t.length?r.a.createElement("div",{className:a.loader},r.a.createElement("div",{className:a.loaderContent},r.a.createElement(pc,{className:a.spinner,color:Pr.primary,name:"ball-pulse-rise",fadeIn:"quarter"}),r.a.createElement(Vr.a,{variant:"h6",className:a.spinnerText},t))):""})),hc=t(834),bc=Object(l.b)((function(e,a){return{}}),{})(Object(zr.a)((function(e){return{}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,null,"Adding datasets to your cart allows quick and easy access without returning to the catalog. Additionally, datasets in your cart will appear first when searching on the visualization page, and will be marked with a cart icon as below."),r.a.createElement("img",{src:"/images/help_cart_marked_in_search.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Dataset With Cart Icon Example"}),r.a.createElement(Vr.a,null,"Some datasets do not contain any variables intended for visualization. These can be identified by a yellow icon on the catalog page or in the cart, and can be added to your cart for easier access, but won't appear on the visualization page."),r.a.createElement("img",{src:"/images/help_cart_warning_icon.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Dataset With A Warning Icon"}),r.a.createElement("img",{src:"/images/help_cart_yellow_cart_Icon.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Dataset With Yellow Cart Icon"}),r.a.createElement(Vr.a,null,"Items will remain in your cart on subsequent visits as long as you are logged in."))}))),gc={setShowCart:$,cartClear:function(){return{type:"CART_CLEAR"}},cartPersistClear:function(){return{type:"CART_PERSIST_CLEAR"}}},fc=Object(l.b)((function(e,a){return{cart:e.cart,showCart:e.showCart}}),gc)(Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.solidPaper,"@media (max-width: 600px)":{width:"100vw",margin:"12px"},width:"60vw"},dialogPaperViz:{backgroundColor:Pr.backgroundGray,"@media (max-width: 600px)":{width:"100vw",margin:"12px"},width:"60vw"},dialogTitle:{paddingBottom:"8px",color:Pr.primary},dialogActions:{marginTop:"12px"},helpButton:{marginTop:"-4px"}}}))((function(e){var a=e.classes,t=e.cart,n=Object.values(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(bo.a,{PaperProps:{className:"/visualization"===window.location.pathname?a.dialogPaperViz:a.dialogPaper},open:e.showCart,onClose:function(){return e.setShowCart(!1)},maxWidth:!1},r.a.createElement(go.a,null,"Your Cart",r.a.createElement(ts,{title:"Dataset Cart",content:r.a.createElement(bc,null),iconClass:a.helpIcon,buttonClass:a.helpButton})),r.a.createElement(fo.a,null,n&&n.length?r.a.createElement(r.a.Fragment,null,n.map((function(e,a){return r.a.createElement(es,{key:a,dataset:e})})),r.a.createElement(oc.a,{className:a.dialogActions},r.a.createElement($r.a,{variant:"text",color:"primary",className:e.cartButtonClass,startIcon:r.a.createElement(Rs.a,null),component:Mr.b,to:"/visualization",onClick:function(){return e.setShowCart(!1)}},"Visualization"),r.a.createElement($r.a,{variant:"text",color:"primary",className:e.cartButtonClass,startIcon:r.a.createElement(hc.a,null),onClick:function(){e.cartClear(),e.cartPersistClear()}},"Clear Cart"))):"Nothing in your cart. Visit the catalog page to add datasets.")))}))),Ec={loginDialogWasCleared:function(){return{type:"LOGIN_DIALOG_WAS_CLEARED"}}},xc=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={username:"",password:""},e.handleChange=function(a){e.setState({[a.target.name]:a.target.value})},e.handleLogOut=function(){e.clearState()},e.clearState=function(){e.setState({username:"",password:""}),e.props.loginDialogWasCleared()},e.componentDidUpdate=function(a){e.props.clearLoginDialog&&e.clearState()},e}return Object(_e.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(lc,{clearState:this.clearState,username:this.state.username,password:this.state.password,handleChange:this.handleChange}),r.a.createElement(mc,null),r.a.createElement(dc,{loadingMessage:this.props.loadingMessage}),r.a.createElement(fc,null))}}]),t}(n.Component),vc=Object(l.b)((function(e,a){return{clearLoginDialog:e.clearLoginDialog,loadingMessage:e.loadingMessage}}),Ec)(xc),yc=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={panelItems:[0,1,2],draggedItems:[]},e.handleDrop=function(e){console.log(e.target)},e}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.parent},r.a.createElement("div",{className:e.gridSection},r.a.createElement(Mi,null)))}}]),t}(n.Component),Sc=Object(zr.a)((function(e){return{landingWrapper:{margin:"15vh auto"},accordion:{width:"30%"},gridSection:{border:"1px solid pink",width:"50%",minHeight:"200px"},parent:{height:"80vh",width:"80vw",margin:"10vh 10vw",border:"1px solid green"}}}))(yc),Oc=t(835),wc=t(725),Cc=t(430),_c=t(731),kc={navLink:function(e){return{textDecoration:"none",marginRight:40,fontFamily:'"Lato",sans-serif',color:"white","&:hover":{color:e.palette.primary.main},fontSize:"15px",fontWeight:100,display:"inline-block",cursor:"pointer",verticalAlign:"middle",pointerEvents:"all",fontWeight:500,letterSpacing:"normal"}}},Tc={logOut:k},jc=Object(l.b)((function(e,a){return{}}),Tc)(Object(Fr.f)(Object(zr.a)((function(e){return{navLink:kc.navLink(e),icon:{display:"inline-flex",verticalAlign:"middle",color:Pr.primary},dropdown:{zIndex:1300,marginTop:"21px",width:"200px"},popperPaperBlue:{borderTopLeftRadius:0,borderTopRightRadius:0,backgroundColor:"#1D4962"},popperPaperBlack:{borderTopLeftRadius:0,borderTopRightRadius:0,backgroundColor:"black"}}}))((function(e){var a=e.classes,t=e.user,n=(e.pathname,e.logOut),o=r.a.useState(null),s=Object(ko.a)(o,2),i=s[0],l=s[1],c=function(){l(null)},u="/visualization"===window.location.pathname?a.popperPaperBlack:a.popperPaperBlue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"caption",className:"".concat(a.navLink),onClick:function(e){l(e.currentTarget)}},t.email,i?r.a.createElement(Oc.a,{className:a.icon,color:"primary",fontSize:"small"}):r.a.createElement(jo.a,{className:a.icon,color:"primary",fontSize:"small"})),r.a.createElement(wc.a,{open:Boolean(i),anchorEl:i,role:void 0,transition:!0,className:a.dropdown},(function(e){var a=e.TransitionProps,t=e.placement;return r.a.createElement(Cc.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),r.a.createElement(Ur.a,{className:u},r.a.createElement(yi.a,{onClickAway:c},r.a.createElement(_c.a,{id:"menu-list-grow"},r.a.createElement(Wo.a,{onClick:c,component:Mr.b,to:"/profile"},"Profile"),r.a.createElement(Wo.a,{onClick:c,component:Mr.b,to:"/apikeymanagement"},"API Access"),r.a.createElement(Wo.a,{onClick:n},"Logout")))))})))})))),Ac={logOut:k},Nc=Object(l.b)((function(e,a){return{user:e.user}}),Ac)(Object(Fr.f)(Object(zr.a)((function(e){return{navLink:kc.navLink(e),icon:{display:"inline-flex",verticalAlign:"middle"},icon:{display:"inline-flex",verticalAlign:"middle",color:Pr.primary},dropdown:{zIndex:1300,marginTop:"21px",width:"200px"},popperPaperBlue:{borderTopLeftRadius:0,borderTopRightRadius:0,backgroundColor:"#1D4962"},popperPaperBlack:{borderTopLeftRadius:0,borderTopRightRadius:0,backgroundColor:"black"}}}))((function(e){var a=e.classes,t=e.user,n=(e.pathname,e.logOut,r.a.useState(null)),o=Object(ko.a)(n,2),s=o[0],i=o[1],l="/visualization"===window.location.pathname?a.popperPaperBlack:a.popperPaperBlue,c=function(){i(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"caption",className:"".concat(a.navLink),onClick:function(e){i(e.currentTarget)}},"Data Submission",s?r.a.createElement(Oc.a,{className:a.icon,color:"primary",fontSize:"small"}):r.a.createElement(jo.a,{className:a.icon,color:"primary",fontSize:"small"})),r.a.createElement(wc.a,{open:Boolean(s),anchorEl:s,role:void 0,transition:!0,className:a.dropdown},(function(e){var a=e.TransitionProps,n=e.placement;return r.a.createElement(Cc.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(Ur.a,{className:l},r.a.createElement(yi.a,{onClickAway:c},r.a.createElement(_c.a,{id:"menu-list-grow"},r.a.createElement(Wo.a,{onClick:c,component:Mr.b,to:"/datasubmission/guide"},"Submission Guide"),r.a.createElement(Wo.a,{onClick:c,component:Mr.b,to:"/datasubmission/validationtool"},"Submit Data"),r.a.createElement(Wo.a,{onClick:c,component:Mr.b,to:"/datasubmission/userdashboard"},"User Dashboard"),t&&t.isDataSubmissionAdmin&&r.a.createElement(Wo.a,{onClick:c,component:Mr.b,to:"/datasubmission/admindashboard"},"Admin Dashboard")))))})))})))),Rc=t(732),Dc=t(836),Lc=Object(Fr.f)(Object(zr.a)((function(e){return{menuIcon:{color:"white",cursor:"pointer"},iconButton:Object(u.a)(Object(u.a)({},kc.navLink(e)),{},{padding:"8px"}),drawerPaper:{backgroundColor:Pr.solidPaper,paddingLeft:"8px"},listItem:{"&:hover":{color:e.palette.primary.main}}}}))((function(e){var a=e.classes,t=e.user,n=e.handleLogOut,o=e.showLoginDialog,s=r.a.useState(!1),i=Object(ko.a)(s,2),l=i[0],c=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(To.a,{onClick:function(){return c(!0)},className:a.iconButton},r.a.createElement(Dc.a,{className:a.menuIcon})),r.a.createElement(_s.a,{anchor:"top",open:l,onClose:function(){return c(!1)},PaperProps:{className:a.drawerPaper}},r.a.createElement(Rc.a,null,r.a.createElement(ws.a,{button:!0,component:Mr.b,to:"/catalog",onClick:function(){return c(!1)}},"Catalog"),r.a.createElement(ws.a,{button:!0,component:Mr.b,to:"/visualization",onClick:function(){return c(!1)}},"Visualization"),r.a.createElement(ws.a,{button:!0,component:Mr.b,to:"/community",onClick:function(){return c(!1)}},"Community"),r.a.createElement(ws.a,{button:!0,component:Mr.b,to:"/datasubmission",onClick:function(){return c(!1)}},"Data Submission")),r.a.createElement(Br.a,null),t&&r.a.createElement(Rc.a,null,r.a.createElement(ws.a,{button:!0,component:Mr.b,to:"/profile",onClick:function(){return c(!1)}},"Profile"),r.a.createElement(ws.a,{button:!0,component:Mr.b,to:"/apikeymanagement",onClick:function(){return c(!1)}},"API Access"),r.a.createElement(ws.a,{button:!0,onClick:function(){n(),c(!1)}},"Log Out")),!t&&r.a.createElement(Rc.a,null,r.a.createElement(ws.a,{button:!0,onClick:function(){o(),c(!1)}},"Log In"),r.a.createElement(ws.a,{button:!0,component:Mr.b,to:"/register",onClick:function(){return c(!1)}},"Register"))))}))),Ic={showLoginDialog:B,logOut:k,restoreInterfaceDefaults:W,snackbarOpen:q,toggleShowHelp:K,setShowCart:$},Pc=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;return Object(Ce.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){window.addEventListener("resize",n.handleResize)},n.handleResize=function(e){var a=e.target.innerWidth;a<860&&"desktop"===n.state.layout?n.setState(Object(u.a)(Object(u.a)({},n.state),{},{layout:"mobile"})):a>=860&&"mobile"===n.state.layout&&n.setState(Object(u.a)(Object(u.a)({},n.state),{},{layout:"desktop"}))},n.handleChange=function(e){n.setState({[e.target.name]:e.target.value})},n.handleLogOut=function(){n.clearState(),n.props.logOut(),n.props.restoreInterfaceDefaults()},n.clearState=function(){n.setState({username:"",password:""})},n.state={username:"",password:"",layout:window.innerWidth>=860?"desktop":"mobile"},n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.history,o=a.user,s=(a.showHelp,a.cart),i=n.location.pathname,l=s&&Object.keys(s).length?Object.keys(s).length:0;return r.a.createElement("div",{className:"".concat(t.navWrapper," ").concat("/visualization"!==i&&t.navWrapperBlue)},"desktop"===this.state.layout?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Vr.a,{variant:"caption",href:"/",component:"a",className:"".concat(t.navLink," ").concat(t.simonsLogoWrapper)},r.a.createElement("img",{src:"/images/CMAP_white_logo_2.png",width:"40",alt:"CMAP logo",className:t.simonsLogo})),r.a.createElement(Vr.a,{variant:"caption",to:"/catalog",component:Mr.b,className:t.navLink},"Catalog"),r.a.createElement(Vr.a,{variant:"caption",to:"/visualization",component:Mr.b,className:t.navLink},"Visualization"),r.a.createElement(Vr.a,{variant:"caption",to:"/community",component:Mr.b,className:t.navLink},"Community"),r.a.createElement(Nc,null)),r.a.createElement("div",{className:t.rightSectionWrapper},r.a.createElement("div",null,l>0?r.a.createElement(Vr.a,{variant:"caption",onClick:function(){return e.props.setShowCart(!0)},className:"".concat(t.navLink," ").concat(t.rightNavLink)},"Cart (",l,")"):"",o&&r.a.createElement(jc,{pathname:i,user:o}),!o&&r.a.createElement(Vr.a,{variant:"caption",onClick:function(){return e.props.showLoginDialog()},className:"".concat(t.navLink," ").concat(t.rightNavLink)},"Log In"),!o&&r.a.createElement(Vr.a,{variant:"caption",to:"/register",component:Mr.b,className:"".concat(t.navLink," ").concat(t.rightNavLink)},"Register")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"caption",href:"/",component:"a",className:"".concat(t.navLink," ").concat(t.simonsLogoWrapper)},r.a.createElement("img",{src:"/images/CMAP_white_logo_2.png",width:"40",alt:"CMAP logo",className:t.simonsLogo})),r.a.createElement(Lc,{handleLogOut:this.handleLogOut,showLoginDialog:this.props.showLoginDialog,user:o})))}}]),t}(n.Component),Mc=Object(l.b)((function(e,a){return{user:e.user,showHelp:e.showHelp,cart:e.cart}}),Ic)(Object(Fr.f)(Object(zr.a)((function(e){return{simonsLogo:{verticalAlign:"middle",display:"inline-block"},simonsLogoWrapper:{pointerEvents:"all",display:"inline-block",marginRight:"60px !important",verticalAlign:"middle"},navWrapper:{position:"fixed",width:"100vw",top:"0px",backgroundColor:"transparent",zIndex:50,paddingTop:"14px",paddingBottom:"14px",paddingLeft:"20px",paddingRight:"20px",textAlign:"left",boxSizing:"border-box",display:"flex",justifyContent:"space-between",pointerEvents:"none"},navWrapperBlue:{backgroundColor:"#1D4962"},rightSectionWrapper:{display:"flex",flexDirection:"column",justifyContent:"space-around"},navLink:kc.navLink(e),rightNavLink:{marginRight:30}}}))(Pc))),Fc={showLoginDialog:B},zc=Object(l.b)((function(e,a){return{user:e.user}}),Fc)((function(e){return Object(n.useEffect)((function(){e.user?window.location.href="/catalog":e.showLoginDialog()})),""})),Uc=t(213),Vc=t(837),Bc={changePasswordRequestSend:function(e,a,t){return{type:"CHANGE_PASSWORD_REQUEST_SEND",payload:{password:e,newPassword:a,username:t}}},hideChangePasswordDialog:Y},Hc=Object(l.b)((function(e,a){return{user:e.user}}),Bc)(Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.solidPaper,"@media (max-width: 768px)":{margin:0}},formWrapper:{padding:"3vh 5vw"}}}))((function(e){var a=e.classes,t=r.a.useState(""),n=Object(ko.a)(t,2),o=n[0],s=n[1],i=r.a.useState(""),l=Object(ko.a)(i,2),c=l[0],u=l[1],m=r.a.useState(""),p=Object(ko.a)(m,2),d=p[0],h=p[1],b=Boolean(/^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/.test(c)||!c),g=Boolean(!d||d===c),f=function(){s(""),u(""),h("")},E=function(){e.hideChangePasswordDialog(),f()},x=r.a.useRef(),v=function(e){"Enter"===e.key&&x.current.click()},y=Boolean(!c||!d||!b||!g);return r.a.createElement(bo.a,{open:e.open,onClose:E,"aria-labelledby":"form-dialog-title",PaperProps:{className:a.dialogPaper},onEnter:f},r.a.createElement(go.a,{id:"form-dialog-title"},"Change Password"),r.a.createElement(fo.a,null,r.a.createElement(Fs.a,null,"Please enter your current and new password."),r.a.createElement(Kr.a,{container:!0,className:a.formWrapper},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{autoFocus:!0,margin:"normal",id:"currentPassword",label:"Current Password",type:"password",variant:"outlined",name:"currentPassword",value:o,onChange:function(e){return s(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,onKeyPress:v})),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{margin:"normal",id:"newPassword",label:"New Password",type:"password",variant:"outlined",name:"newPassword",value:c,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,error:!b,helperText:b?"":"Must be 8 to 32 characters with 1 number and 1 special character.",onKeyPress:v})),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{margin:"normal",id:"newPasswordConfirm",label:"Confirm New Password",type:"password",variant:"outlined",name:"newPasswordConfirm",value:d,onChange:function(e){return h(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,error:!g,helperText:g?"":"Passwords must match.",onKeyPress:v}))),r.a.createElement(oc.a,null,r.a.createElement($r.a,{onClick:function(){return E()},color:"primary"},"Cancel"),r.a.createElement($r.a,{color:"primary",variant:"contained",onClick:function(){e.changePasswordRequestSend(o,c,e.user.username)},disabled:y,ref:x},"Confirm"))))}))),Gc={changeEmailRequestSend:function(e,a,t){return{type:"CHANGE_EMAIL_REQUEST_SEND",payload:{email:e,password:a,username:t}}},hideChangeEmailDialog:Z},Wc=Object(l.b)((function(e,a){return{user:e.user}}),Gc)(Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.solidPaper,"@media (max-width: 768px)":{margin:0}},formWrapper:{padding:"3vh 5vw"}}}))((function(e){var a=e.classes,t=r.a.useState(""),n=Object(ko.a)(t,2),o=n[0],s=n[1],i=r.a.useState(""),l=Object(ko.a)(i,2),c=l[0],u=l[1],m=r.a.useState(""),p=Object(ko.a)(m,2),d=p[0],h=p[1],b=function(){s(""),u(""),h("")},g=function(){b(),e.hideChangeEmailDialog()},f=r.a.useRef(),E=function(e){"Enter"===e.key&&f.current.click()},x=Boolean(function(e){return/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)\.([a-zA-Z]{2,5})$/.test(e)}(c)||!c),v=Boolean(!d||c===d),y=Boolean(!c||!d||!x||!v);return r.a.createElement(bo.a,{open:e.open,onClose:g,"aria-labelledby":"form-dialog-title",PaperProps:{className:a.dialogPaper},onEnter:b},r.a.createElement(go.a,{id:"form-dialog-title"},"Change Email"),r.a.createElement(fo.a,null,r.a.createElement(Fs.a,null,"Please enter your account password, and new email address."),r.a.createElement(Kr.a,{container:!0,className:a.formWrapper},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{autoFocus:!0,margin:"normal",id:"currentPassword",label:"Password",type:"password",variant:"outlined",name:"currentPassword",value:o,onChange:function(e){return s(e.target.value)},InputLabelProps:{shrink:!0},onKeyPress:E,fullWidth:!0})),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{margin:"normal",id:"email",label:"New Email",type:"text",variant:"outlined",name:"email",value:c,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,error:!x,helperText:x?"":"Please enter a valid email address"})),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{margin:"normal",id:"emailConfirm",label:"Confirm Email",type:"text",variant:"outlined",name:"emailConfirm",value:d,onChange:function(e){return h(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,onKeyPress:E,error:!v,helperText:v?"":"Email addresses must match."}))),r.a.createElement(oc.a,null,r.a.createElement($r.a,{onClick:g,color:"primary"},"Cancel"),r.a.createElement($r.a,{color:"primary",variant:"contained",onClick:function(){e.changeEmailRequestSend(c,o,e.user.username)},ref:f,disabled:y},"Confirm"))))}))),qc={updateUserInfoRequestSend:function(e){return{type:"UPDATE_USER_INFO_REQUEST_SEND",payload:{userInfo:e}}},showChangePasswordDialog:function(){return{type:"SHOW_CHANGE_PASSWORD_DIALOG"}},showChangeEmailDialog:function(){return{type:"SHOW_CHANGE_EMAIL_DIALOG"}}},Qc={firstName:{label:"First Name",name:"firstName",type:"text",requirement:"Must be 2 or more alphabetical characters."},lastName:{label:"Last Name",name:"lastName",type:"text",requirement:"Must be 2 or more alphabetical characters."},institute:{label:"Institute",name:"institute",type:"text",requirement:"Maximum length is 150 characters."},department:{label:"Department",name:"department",type:"text",requirement:"Maximum length is 150 characters."},country:{label:"Country",name:"country",type:"text",requirement:"Maximum length is 150 characters."}},Kc=function(e){return{editable:!1,firstName:{value:e.firstName,valid:!0},lastName:{value:e.lastName,valid:!0},institute:{value:e.institute||"",valid:!0},department:{value:e.department||"",valid:!0},country:{value:e.country||"",valid:!0},email:{value:e.email||"",valid:!0}}},Yc=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;return Object(Ce.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target.value,t=e.target.name,r=n.handleValidation(t,a);n.setState(Object(u.a)(Object(u.a)({},n.state),{},{infoHasChanged:!0,[t]:{value:a,valid:r}}))},n.componentDidUpdate=function(e){e.user!==n.props.user&&n.setState(Object(u.a)(Object(u.a)({},n.state),Kc(n.props.user)))},n.handleValidation=function(e,a){var t=a.trim(),n=/$^/;switch(e){case"firstName":case"lastName":n=/^[A-Za-z ]{2,40}$/;break;case"email":n=/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)\.([a-zA-Z]{2,5})$/;break;case"institute":case"department":case"country":n=/^.{0,150}$/}return n.test(t)},n.handleEdit=function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{editable:!0}))},n.handleCancel=function(){n.setState(Object(u.a)(Object(u.a)({},Kc(n.props.user)),{},{editable:!1,infoHasChanged:!1}))},n.handleConfirm=function(){n.props.updateUserInfoRequestSend({firstName:n.state.firstName.value.trim(),lastName:n.state.lastName.value.trim(),institute:n.state.institute.value.trim(),department:n.state.department.value.trim(),country:n.state.country.value.trim()})},e.user?(n.state=Object(u.a)(Object(u.a)({},Kc(e.user)),{},{editable:!1,infoHasChanged:!1}),n):Object(Uc.a)(n)}return Object(_e.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.user)return window.location.href="/login","";var a=this.props,t=a.classes,n=a.changeEmailDialogIsOpen,o=a.changePasswordDialogIsOpen,s=a.showChangePasswordDialog,i=a.showChangeEmailDialog,l=this.state,c=l.editable,m=l.infoHasChanged,p=!0;return Object.keys(Qc).forEach((function(a){e.state[a].valid||(p=!1)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Hc,{open:o,close:function(){return e.setState(Object(u.a)(Object(u.a)({},e.state),{},{changePasswordDialogOpen:!1}))}}),r.a.createElement(Wc,{open:n,close:function(){return e.setState(Object(u.a)(Object(u.a)({},e.state),{},{changeEmailDialogOpen:!1}))}}),r.a.createElement(Ur.a,{className:t.profilePaper,elevation:6},r.a.createElement(Vr.a,{variant:"h5",align:"left",className:t.header},"Profile"),r.a.createElement(Yr.a,{title:"Edit Information"},r.a.createElement(To.a,{className:t.editButton,color:"primary",onClick:this.handleEdit,disableFocusRipple:!0,disableRipple:!0},r.a.createElement(Vc.a,null))),r.a.createElement(Kr.a,{container:!0,spacing:1},Object.keys(Qc).map((function(a,n){return r.a.createElement(Kr.a,{key:n,item:!0,xs:12,md:6},r.a.createElement(Zr.a,{name:a,label:Qc[a].label,value:e.state[a].value,error:!e.state[a].valid,helperText:e.state[a].valid?"":Qc[a].requirement,key:n,onChange:e.handleChange,inputProps:{readOnly:!c},InputLabelProps:{shrink:!0},className:t.textField}))})),r.a.createElement(Kr.a,{item:!0,xs:6})),c&&r.a.createElement(Kr.a,{className:t.buttonGrid,container:!0},r.a.createElement(Kr.a,{item:!0,md:9,xs:!1}),r.a.createElement(Kr.a,{item:!0,md:1,xs:6},r.a.createElement($r.a,{onClick:this.handleCancel},"Cancel")),r.a.createElement(Kr.a,{item:!0,md:2,xs:6},r.a.createElement($r.a,{onClick:this.handleConfirm,variant:"contained",color:"primary",disabled:!m||!p},"Confirm")))),r.a.createElement(Ur.a,{className:t.accountPaper,elevation:6},r.a.createElement(Vr.a,{variant:"h5",align:"left",className:t.header},"Account"),r.a.createElement(Kr.a,{container:!0},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{name:"email",label:"Email",value:this.state.email.value,inputProps:{readOnly:!0},InputLabelProps:{shrink:!0},className:t.textField}),r.a.createElement(Yr.a,{title:"Change Email"},r.a.createElement(To.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:function(){return i()}},r.a.createElement(Vc.a,null)))),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Zr.a,{name:"Password",label:"Password",value:"********",inputProps:{readOnly:!0},InputLabelProps:{shrink:!0},className:t.textField}),r.a.createElement(Yr.a,{title:"Change Password"},r.a.createElement(To.a,{color:"primary",disableFocusRipple:!0,disableRipple:!0,onClick:function(){return s()}},r.a.createElement(Vc.a,null)))))))}}]),t}(n.Component),Zc=Object(l.b)((function(e,a){return{user:e.user,changePasswordDialogIsOpen:e.changePasswordDialogIsOpen,changeEmailDialogIsOpen:e.changeEmailDialogIsOpen}}),qc)(Object(zr.a)((function(e){return{profilePaper:{"@media (min-width: 768px)":{width:"60vw"},width:"100vw",margin:"".concat(e.spacing(16),"px auto 0 auto"),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},accountPaper:{"@media (min-width: 768px)":{width:"60vw"},width:"100vw",margin:"".concat(e.spacing(6),"px auto 0 auto"),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},textField:{margin:e.spacing(1),width:"80%",maxWidth:"calc(100% - 52px)"},buttonGrid:{marginTop:e.spacing(1)},editButton:{float:"right",display:"inline-block",marginTop:"-16px"},header:{paddingLeft:e.spacing(3),display:"inline-block",marginTop:"-4px",float:"left"},accountEditButton:{float:"left",marginTop:"6px"}}}))(Yc)),$c=t(45),Jc=t.n($c),Xc=t(839),eu=t(843),au=t(844),tu=t(840),nu=t(841),ru=t(842),ou=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t);var o=e.context,s=o.getAuditReport,i=o.sheet,l=e.rowIndex,c=e.column.colId,m=s();return(n=a.call(this,e)).handleChange=function(e){var a=e.target.value,t=n.props.context.auditCell(a,n.props.column.colId,n.props.rowIndex);n.setState(Object(u.a)(Object(u.a)({},n.state),{},{value:a,errors:t}))},n.afterGuiAttached=function(){n.inputRef.current.focus(),n.inputRef.current.select(),setTimeout((function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{attached:!0}))}),20)},n.handleClickAway=function(){n.state.attached&&n.props.stopEditing()},n.inputRef=r.a.createRef(),n.parseValue=e.parseValue,n.state={value:e.value||"",errors:m[i][l]&&m[i][l][c]?m[i][l][c]:[],attached:!1},n}return Object(_e.a)(t,[{key:"getValue",value:function(){return this.parseValue(this.state.value)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{style:{maxWidth:"175px",margin:"0 auto"}},r.a.createElement(yi.a,{onClickAway:this.handleClickAway},r.a.createElement("div",null,r.a.createElement("input",{spellCheck:"false",ref:this.inputRef,value:this.state.value,onChange:this.handleChange,style:{backgroundColor:"transparent",color:"white",height:"28px",border:"1px solid black",borderRadius:"2px",padding:"2px 6px",maxWidth:"100%"}}),e.map((function(e,a){return r.a.createElement("p",{key:a,style:{lineHeight:1.2,margin:"6px auto",textAlign:"left",maxWidth:"100%",whiteSpace:"pre-wrap"}},e)})))))}}]),t}(r.a.Component),su=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t);var o=e.context,s=o.getAuditReport,i=o.sheet,l=e.rowIndex,c=e.column.colId;(n=a.call(this,e)).handleChange=function(e){var a=e.target.value,t=n.props.context.auditCell(a,n.props.column.colId,n.props.rowIndex);n.setState(Object(u.a)(Object(u.a)({},n.state),{},{value:a,errors:t}))},n.afterGuiAttached=function(){n.inputRef.current.focus(),setTimeout((function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{attached:!0}))}),20)},n.handleClickAway=function(){n.state.attached&&n.props.stopEditing()},n.isPopup=function(){return!0};var m=s();return n.inputRef=r.a.createRef(),n.parseValue=e.parseValue,n.state={value:e.value||"",errors:m[i][l]&&m[i][l][c]?m[i][l][c]:[],attached:!1},n}return Object(_e.a)(t,[{key:"getValue",value:function(){return this.parseValue(this.state.value)}},{key:"render",value:function(){var e=this.state.errors,a=this.props,t=a.column,n=a.context.textAreaLookup[t.colId];return r.a.createElement("div",{style:{margin:"0 auto",width:"auto",padding:"12px",height:"auto"}},r.a.createElement(yi.a,{onClickAway:this.handleClickAway},r.a.createElement("div",null,r.a.createElement("textarea",{rows:n,cols:"70",spellCheck:"false",ref:this.inputRef,value:this.state.value,onChange:this.handleChange,style:{backgroundColor:"transparent",color:"white",border:"1px solid ".concat(Pr.primary),borderRadius:"2px",padding:"2px 6px"}}),e.map((function(e,a){return r.a.createElement("p",{key:a,style:{lineHeight:1.2,margin:"6px auto",textAlign:"left",maxWidth:"100%",whiteSpace:"pre-wrap"}},e)})))))}}]),t}(r.a.Component),iu=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t);var o=e.context,s=o.getAuditReport,i=o.sheet,l=e.rowIndex,c=e.column.colId,m=s();(n=a.call(this,e)).handleChange=function(e){var a=e.target.value;n.setState(Object(u.a)(Object(u.a)({},n.state),{},{value:a}),(function(){return n.props.stopEditing()}))},n.afterGuiAttached=function(){n.inputRef.current.focus(),setTimeout((function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{attached:!0}))}),20)},n.handleClickAway=function(){n.state.attached&&n.props.stopEditing()},n.isPopup=function(){return!0},n.inputRef=r.a.createRef(),n.parseValue=e.parseValue;var p=new Set(e.context.selectOptions[c]),d=e.value?e.value.toLowerCase():"";return d=p.has(d)?d:"",n.state={value:d,errors:m[i][l]&&m[i][l][c]?m[i][l][c]:[],attached:!1},n}return Object(_e.a)(t,[{key:"getValue",value:function(){return this.parseValue(this.state.value)}},{key:"render",value:function(){var e=this.state.errors,a=this.props,t=a.column,n=a.context.selectOptions[t.colId].map((function(e,a){return r.a.createElement("option",{key:a+1,value:e.toLowerCase(),className:"ds-cell-editor-select-option",style:{backgroundColor:"#184562"}},e)})),o=[r.a.createElement("option",{key:0,disabled:!0,style:{display:"none"},value:""})].concat(Object(d.a)(n));return r.a.createElement("div",{style:{margin:"0 auto",width:"auto",padding:"12px",height:"auto",maxWidth:"300px"}},r.a.createElement(yi.a,{onClickAway:this.handleClickAway},r.a.createElement("div",null,r.a.createElement("select",{ref:this.inputRef,value:this.state.value,onChange:this.handleChange,style:{backgroundColor:"transparent",color:"white",border:"1px solid ".concat(Pr.primary),borderRadius:"2px",padding:"2px 6px"}},o),e.map((function(e,a){return r.a.createElement("p",{key:a,style:{lineHeight:1.2,margin:"6px auto",textAlign:"left",maxWidth:"100%",whiteSpace:"pre-wrap"}},e)})),r.a.createElement("p",{style:{lineHeight:1.2,margin:"10px auto",textAlign:"left",maxWidth:"100%",whiteSpace:"pre-wrap"}},"If you don't see the correct value on this list please contact us at: ","\n",r.a.createElement("a",{style:{color:Pr.primary,textDecoration:"none"},href:"mailto:cmap-data-submission@uw.edu"},"cmap-data-submission@uw.edu"),"."))))}}]),t}(r.a.Component),lu=function(e){var a=e.newValue;return isNaN(a)?null:Number(a)},cu={data:[{headerName:"Time",field:"time"},{headerName:"Latitude",field:"lat",valueParser:lu},{headerName:"Longitude",field:"lon",valueParser:lu},{headerName:"Depth",field:"depth",valueParser:lu}],dataset_meta_data:[{headerName:"Short Name",field:"dataset_short_name",autoHeight:!0,tooltipField:"dataset_short_name"},{headerName:"Long Name",field:"dataset_long_name",autoHeight:!0,tooltipField:"dataset_long_name",cellEditor:"DSCellEditorTextArea"},{headerName:"Version",field:"dataset_version",autoHeight:!0},{headerName:"Release Date",field:"dataset_release_date",autoHeight:!0},{headerName:"Make",field:"dataset_make",autoHeight:!0,cellEditor:"DSCellEditorSelect"},{headerName:"Source",field:"dataset_source",autoHeight:!0},{headerName:"Cruise Names",field:"cruise_names",autoHeight:!0,tooltipField:"cruise_names",cellEditor:"DSCellEditorTextArea"},{headerName:"Distributor",field:"dataset_distributor",autoHeight:!0,cellEditor:"DSCellEditorTextArea"},{headerName:"acknowledgement",field:"dataset_acknowledgement",autoHeight:!0,tooltipField:"dataset_acknowledgement",cellEditor:"DSCellEditorTextArea"},{headerName:"History",field:"dataset_history",autoHeight:!0,tooltipField:"dataset_history",cellEditor:"DSCellEditorTextArea"},{headerName:"Description",field:"dataset_description",autoHeight:!0,tooltipField:"dataset_description",cellEditor:"DSCellEditorTextArea"},{headerName:"References",field:"dataset_references",autoHeight:!0,tooltipField:"dataset_references",cellEditor:"DSCellEditorTextArea"},{headerName:"climatology",field:"climatology",valueParser:lu}],vars_meta_data:[{headerName:"Short Name",field:"var_short_name",autoHeight:!0,tooltipField:"var_short_name"},{headerName:"Long Name",field:"var_long_name",autoHeight:!0,tooltipField:"var_long_name",cellEditor:"DSCellEditorTextArea"},{headerName:"Sensor",field:"var_sensor",autoHeight:!0,cellEditor:"DSCellEditorSelect"},{headerName:"Unit",field:"var_unit",autoHeight:!0},{headerName:"Spatial Resolution",field:"var_spatial_res",autoHeight:!0,cellEditor:"DSCellEditorSelect"},{headerName:"Temporal Resolution",field:"var_temporal_res",autoHeight:!0,cellEditor:"DSCellEditorSelect"},{headerName:"Discipline",field:"var_discipline",autoHeight:!0,cellEditor:"DSCellEditor"},{headerName:"Visualize",field:"visualize",autoHeight:!0,valueParser:lu},{headerName:"Keywords",field:"var_keywords",autoHeight:!0,tooltipField:"var_keywords",cellEditor:"DSCellEditorTextArea"},{headerName:"Comment",field:"var_comment",tooltipField:"var_comment",autoHeight:!0,tooltipField:"var_comment",cellEditor:"DSCellEditorTextArea"}]},uu=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).render=function(){var a=e.props.gridContext;return r.a.createElement(co.AgGridReact,{singleClickEdit:!0,onModelUpdated:e.props.onModelUpdated,columnDefs:cu[a.sheet],defaultColDef:e.props.defaultColumnDef,rowData:e.props.rowData,onGridReady:e.props.onGridReady,suppressDragLeaveHidesColumns:!0,suppressMovableColumns:!0,enableCellTextSelection:!0,suppressContextMenu:!0,onCellValueChanged:e.props.handleCellValueChanged,context:a,onGridSizeChanged:e.props.handleGridSizeChanged,frameworkComponents:{DSCellEditor:ou,DSCellEditorSelect:iu,DSCellEditorTextArea:su}})},e}return t}(r.a.Component),mu=function(e,a){try{var t=e[0].time;if(/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]+)?(Z)?$/.test(t));else{var n=!!((a.Workbook||{}).WBProps||{}).date1904;"number"===typeof t?n?e.forEach((function(e){e.time=new Date(86400*(e.time-25567)*1e3+126144e6).toISOString().slice(0,-5)})):e.forEach((function(e){e.time=new Date(86400*(e.time-25567)*1e3).toISOString().slice(0,-5)})):e.forEach((function(e){e.time=new Date(e.time).toISOString().slice(0,-5)}))}}catch(s){console.log("Caught while formatting data")}var r=Object.keys(e[0]),o=[];return r.forEach((function(e){-1!==e.indexOf("__EMPTY")&&o.push(e)})),o.length&&e.forEach((function(e){o.forEach((function(a){delete e[a]}))})),e},pu=function(e,a){try{var t=e[0],n=typeof t.dataset_release_date,r=!!((a.Workbook||{}).WBProps||{}).date1904;t.dataset_release_date="number"===n?r?new Date(86400*(t.dataset_release_date-25567)*1e3+126144e6).toISOString().slice(0,-14):new Date(86400*(t.dataset_release_date-25567)*1e3).toISOString().slice(0,-14):new Date(t.dataset_release_date).toISOString().slice(0,-14)}catch(i){}var o=Object.keys(e[0]),s=[];return o.forEach((function(e){-1!==e.indexOf("__EMPTY")&&s.push(e)})),s.length&&e.forEach((function(e){s.forEach((function(a){delete e[a]}))})),e},du=function(e){var a=Object.keys(e[0]),t=[];return a.forEach((function(e){-1!==e.indexOf("__EMPTY")&&t.push(e)})),t.length&&e.forEach((function(e){t.forEach((function(a){delete e[a]}))})),e},hu=function(e){var a=e.Make,t=e.Sensor,n=e.Spatial_Resolution,r=e.Study_Domain,o=e.Temporal_Resolution,s=function(e){return e||0===e?isNaN(e)||isNaN(parseInt(e))?"Must be a number":void 0:null},i=function(e){if(null===e||void 0===e||""===e)return"Value is required"},l=function(e,a){return function(t){if((t+="").length<e||t.length>a)return"Must be ".concat(e," to ").concat(a," characters in length")}},c=function(e,a){return function(t,n){if((t+="").length<e&&0===n||t.length>a&&0===n)return"Must be ".concat(e," to ").concat(a," characters in length")}},u=a.map((function(e){return e.toLowerCase()})),m=new Set(u),p=r.map((function(e){return e.toLowerCase()})),d=(new Set(p),t.map((function(e){return e.toLowerCase()}))),h=new Set(d),b=function(e){if(!/^[a-zA-Z]{1}[a-zA-Z0-9_]*$/.test(e))return"Must start with a letter and contain only letters, numbers, and underscores."},g=function(e){return e&&1!=e&&0!=e?"Must be 0, 1, or empty.":void 0},f=n.map((function(e){return e.toLowerCase()})),E=new Set(f),x=o.map((function(e){return e.toLowerCase()})),v=new Set(x),y=function(e,a){if((e||0===e)&&a>0)return"Value only allowed in first row of sheet"};return{time:[i,function(e){return e||0===e?!1===/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]+)?(Z)?$/.test(e)?"Format must match 2016-04-21T15:22:00":void 0:null}],lat:[s,i,function(e){if(e<-90||e>90)return"Must be -90 to 90"}],lon:[s,i,function(e){if(e<-180||e>180)return"Must be -180 to 180"}],depth:[s,function(e){if(e<0)return"Cannot be negative"},function(e){if(e>11e3)return"Cannot be greater than 11000"}],dataset_short_name:[b,c(1,50),y],dataset_long_name:[c(1,130),y],dataset_version:[l(0,50),y],dataset_release_date:[function(e,a){if(0===a)return/^([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))$/.test(e)?void 0:"Format must match 2018-06-20"},y],dataset_make:[function(e,a){if(0===a)return null===e||void 0===e||""===e?"Value is required":void 0},function(e){if(e&&0!==e&&!m.has(e.toLowerCase()))return"Must be one of the above options."},y],dataset_source:[c(1,100),y],dataset_distributor:[l(0,100),y],dataset_acknowledgement:[c(1,1e4)],dataset_history:[l(0,500),y],dataset_description:[c(50,1e4),y],dataset_references:[c(1,500)],climatology:[g,y],cruise_names:[c(0,200)],var_short_name:[b,l(1,50)],var_long_name:[l(1,200)],var_sensor:[function(e){if(e&&0!==e&&!h.has(e.toLowerCase()))return"Must be one of the above options."}],var_unit:[],var_spatial_res:[i,function(e){if(e&&0!==e&&!E.has(e.toLowerCase()))return"Must be one of the above options."}],var_temporal_res:[i,function(e){if(e&&0!==e&&!v.has(e.toLowerCase()))return"Must be one of the above options."}],var_discipline:[],visualize:[g],var_keywords:[]}},bu=t(838),gu=t(867),fu=new Set(["nan","NaN","NAN","Nan","null","Null","NULL"]),Eu=function(e){var a=e.data,t=e.dataset_meta_data,n=e.vars_meta_data,r=[],o=[],s=function(e){var a=[];return["data","vars_meta_data","dataset_meta_data"].forEach((function(t){e.Sheets[t]||a.push(t)})),a}(e.workbook);if(s.length)return r.push("Workbook is missing required sheet".concat(s.length>1?"s":"",": ").concat(s.join(", "),".")),{errors:r,warnings:o};if(!a.length)return r.join.push("Found no rows on the data sheet"),{errors:r,warnings:o};var i=function(e){var a=[],t=e[0];return["time","lat","lon"].forEach((function(e){t[e]||0===t[e]||a.push(e)})),a}(a);i.length&&r.push("Data sheet is missing required column".concat(i.length>1?"s":"",": ").concat(i.join(", ")));var l=new Set(["time","lat","lon","depth"]),c=new Set(Object.keys(a[0]).filter((function(e){return!l.has(e)}))),u=function(e,a,t){return a.map((function(e){return e.var_short_name})).filter((function(e){return!t.has(e)}))}(0,n,c);u.length&&r.push("The following value".concat(u.length>1?"s":""," ")+"for var_short_name on the vars_meta_data sheet did not match a column header on the data sheet:\n"+"".concat(u.join(", "),"."));var m=function(e,a,t){var n=new Set(a.map((function(e){return e.var_short_name})));return Array.from(t).filter((function(e){return!n.has(e)}))}(0,n,c);m.length&&r.push("The following column header".concat(m.length>1?"s":""," on the data sheet ")+"did not match any value for var_short_name on the vars_meta_data sheet: \n"+"".concat(m.join(", "),"."));var p=function(e,a){var t=[];return a.forEach((function(a){for(var n=0;n<e.length;n++)if(e[n][a]||0===e[n][a])return;t.push(a)})),t}(a,c);p.length&&r.push("The column".concat(p.length>1?"s":""," ").concat(p.join(", ")," contain").concat(p>1?"":"s"," no values.")),function(e){for(var a=Boolean(e[0].depth||0==e[0].depth),t=0;t<e.length;t++)if(a!=Boolean(e[t].depth||0==e[t].depth))return!1;return!0}(a)||r.push("The depth column on the data sheet must contain a value for every row, or be empty."),function(e,a){var t=a.some((function(e){return e.var_sensor&&"in-situ"==e.var_sensor.toLowerCase()})),n=e[0].dataset_make&&"observation"==e[0].dataset_make.toLowerCase(),r=Boolean(t&&n),o=e[0].cruise_names;return Boolean(r&&!o)}(t,n)&&o.push("The supplied values for make and sensor suggest that some or all of your data may have been gathered on a scientific cruise, but no values were included for cruise_names in the dataset_meta_data sheet. Including cruise names will improve the discoverability of your data."),function(e){var a=e[0].lon,t=e[0].lon,n=e[0].lat,r=e[0].lat,o=Math.PI;return e.forEach((function(e){e.lon<a&&(a=e.lon),e.lon>t&&(t=e.lon),e.lat<n&&(n=e.lat),e.lat>r&&(r=e.lat)})),Boolean(a>=-o&&t<=o&&n>=-o/2&&r<=o/2)}(a)&&o.push("Values supplied for lat and lon indicate the possible use of radian as unit of measurement.Lat and lon must be in degrees north and degrees east, respectively.");var d=function(e){var a=Boolean(e[0].depth||0==e[0].depth),t={},n=[];try{for(var r=0;r<e.length;r++)if(void 0===t[e[r].time]&&(t[e[r].time]={}),void 0===t[e[r].time][e[r].lat]&&(t[e[r].time][e[r].lat]={}),a){if(void 0===t[e[r].time][e[r].lat][e[r].lon]&&(t[e[r].time][e[r].lat][e[r].lon]={}),void 0===t[e[r].time][e[r].lat][e[r].lon][e[r].depth])t[e[r].time][e[r].lat][e[r].lon][e[r].depth]=r+2;else if(n.push({row:r+2,matched:t[e[r].time][e[r].lat][e[r].lon][e[r].depth]}),n.length>5)return n}else if(void 0===t[e[r].time][e[r].lat][e[r].lon])t[e[r].time][e[r].lat][e[r].lon]=r+2;else if(n.push({row:r+2,matched:t[e[r].time][e[r].lat][e[r].lon]}),n.length>5)return n}catch(o){n=[]}return n}(a);d.length&&o.push("Found non-unique space and time value combinations"+"".concat(d.length>=5?"(Showing a maximum of 5 matches)":"",":\n")+"".concat(d.map((function(e){return"Row ".concat(e.row," matched ").concat(e.matched)})).join("\n")));var h=function(e,a){var t=[];return a.forEach((function(a){for(var n,r=0;r<e.length;r++)if(void 0===n)(e[r][a]||0==e[r][a])&&(n=!isNaN(parseFloat(e[r][a])));else if(n&&(e[r][a]||0==e[r][a])){if(isNaN(parseFloat(e[r][a]))){t.push({column:a,row:r+2});break}}else if((e[r][a]||0==e[r][a])&&!isNaN(parseFloat(e[r][a]))){t.push({column:a,row:r+2});break}})),t}(a,c);h.length&&o.push("Found column".concat(h.length>1?"s":""," with a mixture of string and numerical data types.")+"\n".concat(h.map((function(e){return"Column ".concat(e.column," contained a value of unexpected type in row ").concat(e.row)})).join("\n")));var b=function(e,a){var t=[];return a.forEach((function(a){(function(e,a){for(var t,n=0;void 0===t&&n<e.length;)(e[n][a]||0==e[n][a])&&(t=e[n][a]),n++;for(var r=n;r<e.length;r++)if(e[r][a]!=t)return!1;return!0})(e,a)&&t.push(a)})),t}(a,c);b.length&&o.push("Found column".concat(b.length>1?"s":""," on data sheet with all identical values: ").concat(b.join(", "),"."));var g=function(e,a){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<a.length;r++)if(fu.has(e[n][a[r]])&&(t.push({row:n+2,column:a[r]}),t.length>4))return t;return t}(a,c);g.length&&r.push("NaN and null strings are not allowed. Cells should contain a value or be blank."+"".concat(g.length>4?"Showing a maximum of 5 matches.":"")+"Found illegal value".concat(g.length>1?"s":"")+"at ".concat(g.map((function(e){return"row ".concat(e.row," column ").concat(e.column)})).join("\n"),"."));var f=function(e,a){var t=[],n={};a.forEach((function(e){return n[e]=[]}));var r={};a.forEach((function(e){return r[e]={}})),e.forEach((function(e){a.forEach((function(a){n[a].push(e[a])}))})),a.forEach((function(e){r[e].mean=Object(bu.a)(n[e]),r[e].deviation=Object(gu.a)(n[e])}));for(var o=Object.keys(r),s=0;s<o.length;s++)if((r[o[s]].mean||0===r[o[s]].mean)&&(r[o[s]].deviation||0===r[o[s]].deviation))for(var i=0;i<e.length;i++)if((e[i][o[s]]||0==e[i][o[s]])&&Math.abs(e[i][o[s]]-r[o[s]].mean)>5*r[o[s]].deviation&&(t.push({row:i+2,column:o[s],value:e[i][o[s]]}),t.length>9))return t;return t}(a,c);return f.length&&o.push("Found possible data outlier".concat(f.length>1?"s":""," ")+"".concat(f.length>9?"(Showing a maximum of 10 values)":"",":\n")+"".concat(f.map((function(e){return"Value ".concat(e.value," in column ").concat(e.column," row ").concat(e.row)})).join("\n"))),{errors:r,warnings:o}},xu={snackbarOpen:q,uploadSubmission:function(e){return{type:"UPLOAD_SUBMISSION",payload:{file:e.file,datasetName:e.datasetName}}},setLoadingMessage:Q,retrieveMostRecentFile:function(e){return{type:"RETRIEVE_MOST_RECENT_FILE",payload:{submissionID:e}}},storeSubmissionFile:fe,checkSubmissionOptionsAndStoreFile:Ee},vu=Object(l.b)(null,{setUploadState:xe})((function(e){return r.a.useEffect((function(){return function(){e.setUploadState(null)}})),""})),yu={var_keywords:4,var_comment:5,var_long_name:3,dataset_references:8,dataset_description:14,dataset_acknowledgement:8,cruise_names:5,dataset_long_name:3,dataset_history:3,dataset_distributor:3},Su=[{},{label:"Workbook Validation",sheet:"workbook"},{label:"Data Sheet",sheet:"data"},{label:"Dataset Metadata Sheet",sheet:"dataset_meta_data"},{label:"Variable Metadata Sheet",sheet:"vars_meta_data"},{label:"Submission",sheet:"submission"}],Ou={data:["time","lat","lon","depth"],dataset_meta_data:["dataset_short_name","dataset_long_name","dataset_version","dataset_release_date","dataset_make","cruise_names","dataset_source","dataset_distributor","dataset_acknowledgement",,"dataset_doi","dataset_history","dataset_description","dataset_references","climatology"],vars_meta_data:["var_short_name","var_long_name","var_unit","var_sensor","var_spatial_res","var_temporal_res","var_discipline","visualize","var_keywords","var_comment"]},wu=function(e){return{var_temporal_res:e.Temporal_Resolution,var_discipline:e.Study_Domain,var_sensor:e.Sensor,var_spatial_res:e.Spatial_Resolution,dataset_make:e.Make}},Cu=Object(zr.a)((function(e){return{badge:{right:-11,top:1,backgroundColor:"rgba(255, 0, 0, .6)"}}}))(Xc.a),_u=Object(zr.a)((function(e){return{badge:{right:-11,top:1,backgroundColor:"green"}}}))(Xc.a),ku={auditReport:{workbook:{errors:["This workbook exceeds the file size limit of this application. Please contact our data curation team at cmap-data-submission@uw.edu for assistance."],warnings:[]},data:[],dataset_meta_data:[],vars_meta_data:[]},validationStep:1},Tu=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).checkCellStyle=function(a){var t=a.node.childIndex,n=a.column.colId,r=a.context.sheet,o={};return e.state.auditReport&&e.state.auditReport[r]&&e.state.auditReport[r][t]&&e.state.auditReport[r][t][n]&&(o.boxShadow="inset 0 0 3px 2px rgba(255, 0, 0, .5)"),o},e.state={validationStep:0,file:null,data:null,dataset_meta_data:null,vars_meta_data:null,auditReport:null,defaultColumnDef:{menuTabs:[],resizable:!0,editable:!0,cellStyle:e.checkCellStyle,cellEditor:"DSCellEditor",width:270}},e.handleGridSizeChanged=function(){2===e.state.validationStep&&e.gridApi.sizeColumnsToFit()},e.handleDragOver=function(e){e.preventDefault()},e.auditCell=function(a,t,n){var r=[],o=e.audits[t];return o&&o.forEach((function(e){var t=e(a,n);t&&r.push(t)})),r},e.auditWorkbook=function(e){return Eu(e)},e.auditRows=function(a){var t=[];return a.forEach((function(a,n){var r={};Object.keys(a).forEach((function(t){var o=e.auditCell(a[t],t,n);o.length&&(r[t]=o)})),Object.keys(r).length&&(t[n]=r)})),t},e.performAudit=function(a){return{workbook:e.auditWorkbook(a),data:e.auditRows(a.data),dataset_meta_data:e.auditRows(a.dataset_meta_data),vars_meta_data:e.auditRows(a.vars_meta_data)}},e.handleResetState=function(){e.props.storeSubmissionFile(null),e.props.history.push({pathname:"/datasubmission/validationtool",query:{}}),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{data:null,dataset_meta_data:null,vars_meta_data:null,validationStep:0}))},e.handleChangeValidationStep=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{validationStep:a}),(function(){e.gridApi&&2==a&&e.gridApi.sizeColumnsToFit()}))},e.handleCellValueChanged=function(a){var t=a.rowIndex,n=a.newValue,r=a.column,o=a.node,s=a.context;if(a.oldValue!==n){var i=s.sheet,l=e.auditCell(n,r.colId,t),c=Object(u.a)({},e.state.auditReport);c[i][t]||(c[i][t]={}),c[i]=Object(d.a)(e.state.auditReport[i]),l.length?c[i][t][r.colId]=l:delete c[i][t][r.colId],Object.keys(c[i][t]).length||(c[i][t]=null);var m=[].concat(Object(d.a)(e.state[i].slice(0,t)),[o.data],Object(d.a)(e.state[i].slice(t+1)));e.setState(Object(u.a)(Object(u.a)({},e.state),{},{[i]:m,auditReport:c}),(function(){e.gridApi.redrawRows()}))}},e.handleReadFile=function(a){var t=new FileReader;a.size>15e7?e.setState(Object(u.a)(Object(u.a)({},e.state),ku),(function(){return e.props.setLoadingMessage("")})):(t.onload=function(a){var t=new Uint8Array(a.target.result),n=Jc.a.read(t,{type:"array"}),r=Jc.a.utils.sheet_to_json(n.Sheets.data,{defval:null}),o=r?mu(r,n):r,s=Jc.a.utils.sheet_to_json(n.Sheets.dataset_meta_data,{defval:null}),i=s?pu(s,n):s,l=Jc.a.utils.sheet_to_json(n.Sheets.vars_meta_data,{defval:null}),c=l?du(l):l,m=e.performAudit({workbook:n,data:o,dataset_meta_data:i,vars_meta_data:c}),p=m.workbook.errors.length||m.workbook.warnings.length?1:2;e.setState(Object(u.a)(Object(u.a)({},e.state),{},{data:o,dataset_meta_data:i,vars_meta_data:c,auditReport:m,validationStep:p}),(function(){return e.props.setLoadingMessage("")}))},t.readAsArrayBuffer(a))},e.handleDrop=function(a){a.preventDefault();var t=a.dataTransfer.items[0].getAsFile();e.props.setLoadingMessage("Reading Workbook"),e.props.checkSubmissionOptionsAndStoreFile(t)},e.handleFileSelect=function(a){var t=a.target.files[0];t&&(e.props.setLoadingMessage("Reading Workbook"),e.props.checkSubmissionOptionsAndStoreFile(t),a.target.value=null)},e.handleUploadSubmission=function(){var a=Jc.a.utils.book_new();Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet(e.state.data),"data"),Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet(e.state.dataset_meta_data),"dataset_meta_data"),Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet(e.state.vars_meta_data),"vars_meta_data");var t=Jc.a.write(a,{bookType:"xlsx",type:"array"}),n=new Blob([t]);n.name="".concat(e.state.dataset_meta_data[0].dataset_short_name,".xlsx"),e.props.uploadSubmission({file:n,datasetName:e.state.dataset_meta_data[0].dataset_short_name})},e.handleDownload=function(){e.props.setLoadingMessage("Downloading"),setTimeout((function(){window.requestAnimationFrame((function(){return e.props.setLoadingMessage("")}))}),50);var a=Jc.a.utils.book_new();Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet(e.state.data),"data"),Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet(e.state.dataset_meta_data),"dataset_meta_data"),Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet(e.state.vars_meta_data),"vars_meta_data"),Jc.a.writeFile(a,e.state.dataset_meta_data[0].dataset_short_name+".xlsx")},e.onGridReady=function(a){e.gridApi=a.api,e.columnApi=a.columnApi,2===e.state.validationStep&&e.gridApi.sizeColumnsToFit()},e.onModelUpdated=function(a){e.gridApi&&"data"===Su[e.state.validationStep].sheet&&e.gridApi.sizeColumnsToFit()},e.scrollGridTo=function(a){e.gridApi.ensureIndexVisible(a,"middle")},e.handleFindNext=function(){var a=e.gridApi.getFocusedCell(),t=Su[e.state.validationStep].sheet,n=e.state.auditReport,r=Ou[t],o=a?a.rowIndex:-1,s=a?r.findIndex((function(e){return e===a.column.colId})):0;if(a)for(var i=s+1;i<r.length&&i>-1;i++)if(n[t][o]&&n[t][o][r[i]])return e.gridApi.ensureColumnVisible(r[i]),void e.gridApi.startEditingCell({rowIndex:o,colKey:r[i]});for(var l=o+1;l!=o;l++){if(n[t][l])for(var c=0;c<r.length;c++)if(n[t][l][r[c]])return e.gridApi.ensureColumnVisible(r[c]),void e.gridApi.startEditingCell({rowIndex:l,colKey:r[c]});l===n[t].length&&(l=-1)}if(a)for(var u=0;u<=s&&u<r.length;u++)if(n[t][o]&&n[t][o][r[u]])return e.gridApi.ensureColumnVisible(r[u]),void e.gridApi.startEditingCell({rowIndex:o,colKey:r[u]})},e.countErrors=function(){var a={workbook:e.state.auditReport.workbook.errors.length,data:0,dataset_meta_data:0,vars_meta_data:0};return e.state.auditReport.data.forEach((function(e){e&&(a.data+=Object.keys(e).length)})),e.state.auditReport.dataset_meta_data.forEach((function(e){e&&(a.dataset_meta_data+=Object.keys(e).length)})),e.state.auditReport.vars_meta_data.forEach((function(e){e&&(a.vars_meta_data+=Object.keys(e).length)})),a},e.handleClickTab=function(a,t){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{validationStep:t}))},e.componentDidMount=function(){var a=new URLSearchParams(window.location.search).get("submissionID");a&&e.props.retrieveMostRecentFile(a)},e.componentWillUnmount=function(){e.props.storeSubmissionFile(null)},e.componentDidUpdate=function(a,t){(!a.submissionOptions&&e.props.submissionOptions||!e.audits&&e.props.submissionOptions)&&(e.audits=hu(e.props.submissionOptions)),a.submissionFile!==e.props.submissionFile&&e.props.submissionFile&&e.handleReadFile(e.props.submissionFile)},e.render=function(){if(!e.props.user)return r.a.createElement(oo,null);var a,t=e.props.classes,n=e.state.validationStep,o=e.state.dataset_meta_data&&e.state.dataset_meta_data.length?e.state.dataset_meta_data[0].dataset_short_name:null,s=Su[n].sheet;return n>0&&n<5&&(a=e.countErrors()),r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{className:t.needHelp},"Need help?",r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx",download:"datasetTemplate.xlsx",className:t.needHelpLink},"\xa0Download"),"\xa0a blank template, or view the ",r.a.createElement(no.a,{className:t.needHelpLink,component:Mr.b,to:"/datasubmission/guide"},"Data Submission Guide"),"."),r.a.createElement(Ur.a,{elevation:2,className:"".concat(t.fileSelectPaper," ").concat(!e.props.submissionFile&&t.addBorder),onDragOver:e.handleDragOver,onDrop:e.handleDrop},e.props.submissionFile?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h6",className:t.currentlyViewingTypography},o?"".concat(o):"",r.a.createElement("label",{htmlFor:"select-file-input",className:t.chooseNewFileLabel},"Select a Different File")," ","\n"),r.a.createElement("div",null,r.a.createElement(Yr.a,{title:"Previous Section"},r.a.createElement("div",{className:t.ilb},r.a.createElement(To.a,{size:"small",onClick:function(){return e.handleChangeValidationStep(e.state.validationStep-1)},disabled:Boolean(e.state.validationStep<=1)},r.a.createElement(tu.a,null)))),r.a.createElement("span",{className:t.currentSectionSpan},Su[n].label),r.a.createElement(Yr.a,{title:"Next Section"},r.a.createElement("div",{className:t.ilb},r.a.createElement(To.a,{size:"small",onClick:function(){return e.handleChangeValidationStep(e.state.validationStep+1)},disabled:Boolean(n>=5||1===n&&a.workbook||4===n&&(a.data>0||a.dataset_meta_data>0||a.vars_meta_data>0))},r.a.createElement(nu.a,null)))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h5"},"To begin drag or",r.a.createElement("label",{htmlFor:"select-file-input"},r.a.createElement($r.a,{variant:"contained",color:"primary",component:"span",className:t.button},"Select File")))),n>1&&n<5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Br.a,{className:t.divider}),Boolean(a[s]>0)?r.a.createElement(Vr.a,{variant:"body2"},r.a.createElement(Ho.a,{style:{color:"rgba(255, 0, 0, .7)",margin:"0 2px -5px 0",fontSize:"1.4em"}}),"We found ",a[s]," cell",a[s]>1?"s":""," with errors on this sheet.",r.a.createElement("span",{className:t.linkLabel,onClick:e.handleFindNext}," Find Errors")):Boolean("vars_meta_data"===s&&(a.data||a.dataset_meta_data))?r.a.createElement(Vr.a,{variant:"body2"},r.a.createElement(Ho.a,{style:{color:"rgba(255, 0, 0, .7)",margin:"0 2px -5px 0",fontSize:"1.4em"}}),"Please correct errors from the previous sheets before moving forward."):r.a.createElement(Vr.a,{variant:"body2"},r.a.createElement(ru.a,{style:{color:Pr.primary,margin:"0 2px -5px 0",fontSize:"1.4em"}}),"All set! Click the arrow above to move to the next step."))),Boolean(1===n)&&r.a.createElement(Ur.a,{elevation:2,className:"".concat(t.workbookAuditPaper)},r.a.createElement(Vr.a,{style:{marginBottom:"24px"}},Boolean(e.state.auditReport.workbook.errors.length)&&r.a.createElement(r.a.Fragment,null,"One or more parts of your submission did not match CMAP's requirements. Please review the information below, update your workbook, and ",r.a.createElement("label",{className:t.linkLabel,htmlFor:"select-file-input"},"try again"),"."),Boolean(!e.state.auditReport.workbook.errors.length&&e.state.auditReport.workbook.warnings.length)&&"We found some potential issues with your submission.",Boolean(e.state.auditReport.workbook.warnings.length)&&r.a.createElement(r.a.Fragment,null,"\n","\n","Messages marked with a yellow icon",r.a.createElement(Ho.a,{style:{color:"rgba(255, 255, 0, .7)",fontSize:"18px",margin:"0 3px -4px 3px"}}),"are warnings. These should be reviewed and corrected if necessary, but will not prevent you from moving to the next validation step.")),r.a.createElement(Rc.a,{dense:!0},e.state.auditReport.workbook.errors.map((function(e,a){return r.a.createElement(ws.a,{key:a},r.a.createElement(eu.a,{style:{color:"rgba(255, 0, 0, .7)"}},r.a.createElement(Ho.a,null)),r.a.createElement(au.a,{primary:e}))})),e.state.auditReport.workbook.warnings.map((function(e,a){return r.a.createElement(ws.a,{key:a},r.a.createElement(eu.a,{style:{color:"rgba(255, 255, 0, .7)"}},r.a.createElement(Ho.a,null)),r.a.createElement(au.a,{primary:e}))})))),Boolean(e.state.data&&e.state.data.length&&n>=2&&n<5)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ur.a,{elevation:2,className:t.tabPaper+" ag-theme-material"},r.a.createElement(vl.a,{value:n,onChange:e.handleClickTab},r.a.createElement(yl.a,{value:2,label:a.data>0?r.a.createElement(Cu,{badgeContent:a.data},"Data"):r.a.createElement(_u,{badgeContent:"\u2713"},"Data"),className:t.workbookTab}),r.a.createElement(yl.a,{value:3,label:a.dataset_meta_data>0?r.a.createElement(Cu,{badgeContent:a.dataset_meta_data},"Dataset Metadata"):r.a.createElement(_u,{badgeContent:"\u2713"},"Dataset Metadata"),className:t.workbookTab}),r.a.createElement(yl.a,{value:4,label:a.vars_meta_data>0?r.a.createElement(Cu,{badgeContent:a.vars_meta_data},"Variable Metadata"):r.a.createElement(_u,{badgeContent:"\u2713"},"Variable Metadata"),className:t.workbookTab})),r.a.createElement("div",{style:{height:"calc(100% - 48px)"}},r.a.createElement(uu,{onGridReady:e.onGridReady,rowData:e.state[s],defaultColumnDef:e.state.defaultColumnDef,handleCellValueChanged:e.handleCellValueChanged,handleGridSizeChanged:e.handleGridSizeChanged,gridContext:{sheet:s,getAuditReport:function(){return e.state.auditReport},textAreaLookup:yu,selectOptions:wu(e.props.submissionOptions),auditCell:e.auditCell},onModelUpdated:e.onModelUpdated})))),Boolean(5===n)&&r.a.createElement(Ur.a,{elevation:2,className:"".concat(t.fileSelectPaper)},r.a.createElement(vu,null),e.props.submissionUploadState===m.succeeded?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{className:t.submittedTypography},"Your dataset has been successfully submitted, and will be reviewed by our data curation team."),r.a.createElement(Vr.a,{className:t.submittedTypography},"You can view the status of your submission ",r.a.createElement(no.a,{style:{display:"inline-block"},className:t.needHelpLink,component:Mr.b,to:"/datasubmission/userdashboard?datasetName=".concat(encodeURI(o))},"here"),"."),r.a.createElement(Vr.a,{className:t.submittedTypography},"If you made any changes during this process you can download the edited workbook ",r.a.createElement(no.a,{style:{display:"inline-block"},className:t.needHelpLink,onClick:e.handleDownload,component:"span"},"here"),"."),r.a.createElement(Vr.a,{className:t.submittedTypography},"A detailed description of remaining steps in the submission process can be found in the ",r.a.createElement(no.a,{style:{display:"inline-block"},className:t.needHelpLink,component:Mr.b,to:"/datasubmission/guide"},"Data Submission Guide"),".")):e.props.submissionUploadState===m.failed?r.a.createElement(r.a.Fragment,null,r.a.createElement(Rc.a,null,r.a.createElement(ws.a,null,r.a.createElement(eu.a,{style:{color:"rgba(255, 0, 0, .7)"}},r.a.createElement(Ho.a,null)),r.a.createElement(au.a,{primary:"A dataset with this name has already been submitted by another user. If you believe you're receiving this message in error please contact us at cmap-data-submission@uw.edu."}))),r.a.createElement(Vr.a,{className:t.submittedTypography},"If you made any changes during this process you can download the edited workbook ",r.a.createElement(no.a,{style:{display:"inline-block"},className:t.needHelpLink,onClick:e.handleDownload,component:"span"},"here"),".")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,null,"You've completed dataset validation! Click the button below to upload your workbook."),r.a.createElement($r.a,{variant:"contained",color:"primary",className:t.submitButton,onClick:e.handleUploadSubmission},"Submit"))),r.a.createElement("input",{onChange:e.handleFileSelect,className:t.input,accept:".xlsx",id:"select-file-input",type:"file"}))},e}return t}(r.a.Component),ju=Object(l.b)((function(e,a){return{submissionFile:e.submissionFile,submissionOptions:e.submissionOptions,submissionUploadState:e.submissionUploadState,user:e.user}}),xu)(Object(Fr.f)(Object(zr.a)((function(e){return{paper:{width:"40vw",margin:"40px auto"},dragTarget:{border:"1px solid red",width:"100px",height:"100px",margin:"40px auto"},input:{display:"none"},button:{color:"white",textTransform:"none",display:"block",maxWidth:"100px",margin:"12px auto 0px auto"},needHelp:{float:"left",color:"white",margin:"12px 0 0 12px",letterSpacing:"normal"},needHelpLink:{letterSpacing:"normal",color:e.palette.primary.main,cursor:"pointer"},fileSelectPaper:{margin:"70px auto 24px auto",maxWidth:"50vw",padding:"16px",padding:"12px",whiteSpace:"pre-wrap"},workbookAuditPaper:{margin:"70px auto 24px auto",maxWidth:"50vw",padding:"16px",padding:"12px",minHeight:"110px",whiteSpace:"pre-wrap",textAlign:"left"},addBorder:{border:"1px dashed ".concat(e.palette.primary.main)},fileName:{color:e.palette.primary.main,letterSpacing:"normal"},chooseNewFileLabel:{display:"inline",position:"absolute",marginTop:"10px",marginLeft:"14px",fontSize:"11px",borderRadius:"2px",color:Pr.primary,cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,.2)"}},linkLabel:{color:Pr.primary,cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,.2)"}},dataTable:{maxWidth:"80vw",margin:"0 auto 24px auto"},tableWrapper:{maxWidth:"80vw",margin:"24px auto"},submitButton:{color:"white",margin:"24px 0 12px 0"},tabPaper:{maxWidth:"80vw",height:"70vh",margin:"0 auto 24px auto"},errorStepperPaper:{width:"80vw",margin:"0 auto 24px auto"},currentlyViewingTypography:{marginLeft:"4px"},ilb:{display:"inline-block"},findNextButton:{textTransform:"none",marginBottom:"12px"},link:{cursor:"pointer"},currentSectionSpan:{margin:"4px 8px 0 8px",width:"200px",display:"inline-block"},divider:{margin:"8px 0"},workbookTab:{textTransform:"none"},submittedTypography:{marginBottom:"12px"}}}))(Tu))),Au=[{link:"https://zenodo.org/",name:"Zenodo"},{link:"https://datadryad.org/stash",name:"Dryad"},{link:"https://figshare.com/",name:"FigShare"},{link:"https://osf.io/",name:"Open Science Framework"},{link:"https://dataverse.harvard.edu/",name:"Harvard Dataverse"},{link:"https://www.nodc.noaa.gov/",name:"NCEI"},{link:"https://daac.ornl.gov/",name:"ORNL DAAC"},{link:"https://portal.edirepository.org/nis/home.jsp",name:"EDI"},{link:"https://www.pangaea.de/",name:"PANGAEA"},{link:"https://www.seanoe.org/",name:"SEANOE"},{link:"https://disc.gsfc.nasa.gov/",name:"NASA Goddard"},{link:"https://nerc.ukri.org/research/sites/data/",name:"NERC"}],Nu=[{label:"time",anchorEnd:"time",text:["This column holds datetime values with the following format: %Y-%m-%dT%H:%M:%S. The date and time sections are separated by a \u201cT\u201d character.","Example: 2010-02-09T18:15:00"],bullets:["Year (%Y) is a four-digit value: example 2010","Month (%m) is a two-digit value: example 02 (for Feburary)","Day (%d) is a two-digit value: example 09","Hour (%H) is a two-digit value from 00 to 23: example 18","Minute (%M) is a two-digit value from 00 to 59: example 15","Second (%S) is a two-digit value from 00 to 59: example 00","Time zone: UTC"]},{label:"lat",anchorEnd:"lat",text:["This column holds the latitude values with the following characteristics:"],bullets:["Type: Numeric values from -90 to 90","Format: Decimal (not military grid system)","Unit: degree North"]},{label:"lon",anchorEnd:"lon",text:["This column holds the longitude values with the following characteristics:"],bullets:["Type: Numeric values from -180 to 180","Format: Decimal (not military grid system)","Unit: degree East"]},{label:"depth",anchorEnd:"depth",text:["This column holds the depth values with the following characteristics:"],bullets:["Type: Positive numeric values. It is 0 at surface with increased values with depth.","Format: Decimal","Unit: meter"]},{label:r.a.createElement(r.a.Fragment,null,"var",r.a.createElement("sub",null,"1"),"...var",r.a.createElement("sub",null,"n")),anchorEnd:"var",text:[r.a.createElement(r.a.Fragment,null,"These columns represent the dataset variables (measurements). Please rename them to names appropriate for your data. Note that these names should be identical to the names defined as ",r.a.createElement(no.a,{href:"#data-structure-var_short_name"},"var_short_name"),"\xa0in the ",r.a.createElement(no.a,{href:"#data-structure-variable"},"Variable Metadata")," sheet. Please do not include units in these columns; units are recorded in the Variable Metadata sheet. Leave a given cell empty for those instances when data was not taken and a value is missing. Do not replace the missing data with arbitrary values such as \u201c99999\u201d, \u201c0\u201d, \u201cUNKNOWN\u201d, etc. Please review the example datasets in the ",r.a.createElement(no.a,{href:"#resources"},"resources")," section for more information.")],bullets:[]}],Ru=[{label:"dataset_short_name",anchorEnd:"dataset_short_name",text:["This name is meant to be used in programming codes and scripts. It should only contain a combination of letters, numbers, and underscores (the first character can not be a number). Do not use space, dash, or special characters such as <, +, %, etc."],bullets:["Required: Yes","Constraint: Less than 50 characters"],images:[]},{label:"dataset_long_name",anchorEnd:"dataset_long_name",text:[r.a.createElement(r.a.Fragment,null,"A descriptive and human-readable name for the dataset. This name will identify your dataset in the CMAP catalog (",r.a.createElement(no.a,{href:"#fig-1"},"Fig.1"),") and visualization search dialog (",r.a.createElement(no.a,{href:"#fig-2"},"Fig.2"),"). Any Unicode character can be used here, but please avoid names longer than 200 characters as they may get trimmed when displayed on graphical interfaces. A full textual description of your dataset, with no length limits, is entered in \u201c",r.a.createElement(no.a,{href:"#data-structure-dataset_description"},"dataset_description"),"\u201d. If your dataset is associated with a cruise, we recommend including the official cruise and and the cruise nickname in the dataset_long_name. For example: Underway CTD Gradients 3 KM1906.")],bullets:["Required: Yes","Constraint: Less than 200 characters"],images:[{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_long_name_cat.png",alt:"Dataset Long_name in Catalog",caption:'Figure 1. A sample dataset shown in the Simons CMAP catalog. The "dataset_long_name" is enclosed in the red rectangle.',id:"fig-1"},{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_long_name_viz_search.png",alt:"Dataset Long_name in Visualization Page",caption:'Figure 2. The "dataset_long_name" appears in the visualization page search dialog.',id:"fig-2"}]},{label:"dataset_version",anchorEnd:"dataset_version",text:["Please assign a version number or an identifier to your dataset such as \u201c1.0.0\u201d or \u201cFinal\u201d. Version identifiers will help track the evolution of a dataset over time."],bullets:["Required: Yes","Constraint: Less than 50 characters","Example: 1.0"],images:[]},{label:"dataset_release_date",anchorEnd:"dataset_release_date",text:["Indicates the release date of the dataset. If your dataset has been previously published or released publicly, please specify that date. Otherwise, use the date the dataset was submitted to CMAP."],bullets:["Required: Yes","Constraint: Less than 50 characters","Example: 2020-06-22"],images:[]},{label:"dataset_make",anchorEnd:"dataset_make",text:["This is a required field that provides a broad category description of how a dataset was produced (also referred to as dataset make). Each dataset requires a single descriptor from a fixed set of options (observation, model, assimilation, laboratory), which are described below. This field will help in discovery of data in CMAP by categorizing datasets according to their Make class. Please contact us if you believe your dataset Make is not consistent with any of the categories below:"],bullets:["Observation: refers to any in-situ or remote sensing measurements such as measurements made during a cruise expedition, data from an in-situ sensor, or satellite observations. Observations made as part of laboratory experiments have their own distinct category and do not fall in this category.","Model: refers to the outputs of numerical simulations.","Assimilation: refers to products that are a blend of observations and numerical models.","Laboratory: refers to the observations made in a laboratory setting such as culture experiment results."],images:[]},{label:"dataset_source",anchorEnd:"dataset_source",text:[r.a.createElement(r.a.Fragment,null,"Specifies the group and/or the institute name of the data owner(s). It can also include any link (such as a website) to the data producers. This information will be visible in the CMAP catalog as shown in ",r.a.createElement(no.a,{href:"#fig-3"},"Fig 3"),". Also, dataset_source will be annotated to any visualization made using the dataset (",r.a.createElement(no.a,{href:"#fig-4"},"Fig. 4"),").")],bullets:["Required: Yes","Constraint: Less than 100 characters","Example: Armbrust Lab, University of Washington"],images:[{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_source_cat.png",alt:"Dataset Source in Catalog",caption:'Figure 3. A sample dataset shown in the Simons CMAP catalog. The "dataset_source" is enclosed in the red rectangle.',id:"fig-3"},{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_source_viz.png",alt:'Dataset Source in Visualizations"',caption:'Figure 4. The "dataset_source" appears in visualizations made using the corresponding dataset (enclosed in the red rectangle).',id:"fig-4"}]},{label:"dataset_distributor",anchorEnd:"dataset_distributor",text:["If your dataset has already been published by a data distributor provide a link to the data distributor. Otherwise, leave this field empty."],bullets:["Required: No (optional)","Constraint: Less than 100 characters","Example: http://marine.copernicus.eu/"],images:[]},{label:"dataset_acknowledgement",anchorEnd:"dataset_acknowledgement",text:[r.a.createElement(r.a.Fragment,null,"Specify how your dataset should be acknowleged. You may mention your funding agency, grant number, or you may ask those that use your data to acknowledge your dataset with a particular statement. Dataset acknowlegment will be visible in the catalog page (",r.a.createElement(no.a,{href:"#fig-5"},"Fig. 5"),").")],bullets:["Required: No (optional)","Constraint: No length limits"],images:[{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_ack_cat.png",alt:"Dataset Acknowledgment in Catalog",caption:'Figure 5. A sample dataset shown in the Simons CMAP catalog. The "dataset_acknowledgement" is enclosed in the red rectangle.',id:"fig-5"}]},{label:"dataset_history",anchorEnd:"dataset_history",text:["Use this field if your dataset has evolved over time and you wish to add notes about the history of your dataset. Otherwise, leave this field empty."],bullets:["Required: No (optional)"],images:[]},{label:"dataset_description",anchorEnd:"dataset_description",text:[r.a.createElement(r.a.Fragment,null,"Include any description that you think will help a reader better understand your dataset. This description can include information about data acquisition, processing methods, figures, and links to external content. This field serves as the dataset documentation that is visible in the Simons CMAP catalog (",r.a.createElement(no.a,{href:"#fig-6"},"Fig. 6"),").")],bullets:["Required: Yes","Constraint: No length limits"],images:[{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_description_cat.png",alt:"Dataset description in Catalog",caption:'Figure 6. A sample dataset shown in the Simons CMAP catalog. The "dataset_description" is accessible using the "Dataset Details" button, enclosed in the red rectangle.',id:"fig-6"}]},{label:"dataset_references",anchorEnd:"dataset_references",text:["List any publications or documentation that one may cite in reference to the dataset. If there are more than one reference, please put them in separate cells under the dataset_reference column. Leave this field empty if there are no publications associated with this dataset."],bullets:["Required: No (optional)"],images:[]},{label:"climatology",anchorEnd:"climatology",text:["This is a flag indicating whether the dataset represents a climatological product. If your dataset is a climatological product fill this field with \u201c1\u201d. Otherwise, leave this field blank."],bullets:["Required: No (optional)"],images:[]},{label:"cruise_names",anchorEnd:"cruise_names",text:["If your dataset represents measurements made during a cruise expedition (or expeditions), provide a list of cruise official names here. If your dataset is associated with more than one cruise, please put them in separate cells under the cruise_names column. If the cruises have any nicknames, please include them in the same cell as the official cruise name separated by a comma(s). Leave this field blank if your dataset is not associated with a cruise expedition."],bullets:["Required: No (optional)","Constraint: No length limits","Example: KOK1606, Gradients 1"],images:[]}],Du=[{label:"var_short_name",anchorEnd:"var_short_name",text:[r.a.createElement(r.a.Fragment,null,"This name is meant to be used in programming codes and scripts. It should only contain a combination of letters, numbers, and underscores (the first character can not be a number). Do not use space, dash, or special characters such as ","<",", +, %, etc. Finally, there must be a one-to-one match between the short_names listed here and the variable column names in the \u201cData\u201d sheet (see ",r.a.createElement(no.a,{href:"#data-structure-var"},"vars"),"). var_short_name will be seen in the CMAP catalog (",r.a.createElement(no.a,{href:"#fig-7"},"Fig. 7"),"), and will appear as the title of the generated figures (",r.a.createElement(no.a,{href:"#fig-8"},"Fig. 8"),").")],bullets:["Required: Yes","Constraint: Less than 50 characters"],images:[{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_short_name_cat.png",alt:"Variable short name in catalog",caption:'Figure 7. A sample dataset shown in the Simons CMAP catalog. The "var_short_name" is highlighted in the red rectangle.',id:"fig-7"},{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/viz_short_name.png",alt:"Variable short name in a figure",caption:'Figure 8. A sample figure generated in the Simons CMAP catalog. The "var_short_name" appears as the figure title and is highlighted in the red rectangle.',id:"fig-8"}]},{label:"var_long_name",anchorEnd:"var_long_name",text:[r.a.createElement(r.a.Fragment,null,"A descriptive and human-readable label for the variable in accordance with the CF and COARDS conventions [",r.a.createElement(no.a,{href:"#reference-1"},"1"),", ",r.a.createElement(no.a,{href:"#reference-2"},"2"),", ",r.a.createElement(no.a,{href:"#reference-3"},"3"),"]. This name will present your variable in the CMAP catalog (",r.a.createElement(no.a,{href:"#fig-9"},"Fig. 9"),") and visualization search dialog (",r.a.createElement(no.a,{href:"#fig-10"},"Fig. 10"),"). var_long_name can contain any unicode character, but please avoid names longer than 200 characters as they may get trimmed while displayed on graphical interfaces. Please use\xa0",r.a.createElement(no.a,{href:"#data-structure-var_comment"},"var_comment")," if you would like to add a full textual description (with no length limits) for your variable.")],bullets:["Required: Yes","Constraint: Less than 200 characters"],images:[{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_long_name_cat.png",alt:"Variable long name in catalog",caption:'Figure 9. A sample dataset shown in the Simons CMAP catalog. The "var_long_name" is highlighted in the red rectangle.',id:"fig-9"},{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_long_name_viz_search.png",alt:"var long name in visualization page",caption:'Figure 10. The "var_long_name" appears in the visualization page search dialog.',id:"fig-10"}]},{label:"var_sensor",anchorEnd:"var_sensor",text:["This is a required field that refers to the instrument used to produce the measurements such as CTD, fluorometer, flow cytometer, sediment trap, etc. If your dataset is the result of a field expedition but you are not sure about the name of the instrument used for the measurements, use the term \u201cin-situ\u201d to fill out this field. If your dataset is the output of a numerical model or a combination of model and observation, use the term \u201csimulation\u201d and \u201cblend\u201d, respectively. This field will significantly help to find and categorize data generated using a similar class of instruments. var_sensor will be visible in the Simons CMAP catalog."],bullets:[],images:[]},{label:"var_unit",anchorEnd:"var_unit",text:[r.a.createElement(r.a.Fragment,null,"Specifies variable units, if applicable. Leave this field blank if your variable is unitless (e.g. \u201cstation numbers\u201d or \u201cquality flags\u201d). Units may contain unicode characters such as subscripts and superscripts. var_unit will be visible in the Simons CMAP catalog (see ",r.a.createElement(no.a,{href:"#fig-9"},"Fig. 9"),") and in the generated visualizations (see ",r.a.createElement(no.a,{href:"#fig-8"},"Fig. 8"),").")],bullets:["Required: No (optional)","Constraint: Less than 50 characters",r.a.createElement(r.a.Fragment,null,"Example: ug L",r.a.createElement("sup",null,"-1"))],images:[]},{label:"var_spatial_res",anchorEnd:"var_spatial_res",text:[r.a.createElement(r.a.Fragment,null,"Specifies the spatial resolution of the variable. Typically, gridded products have uniform spatial spacing (such as 0.25\xb0 X 0.25\xb0) while field expeditions do not have a regular spatial resolution. If your variable does not have a regular spatial resolution, use the term \u201cirregular\u201d to fill out this field. Note that if samples are taken at a series of distinct but spatially-non-uniform stations, the spatial resolution is considered irregular. var_spatial_res may contain unicode characters such as degree symbol ( \xb0 ) and will be visible in the Simons CMAP catalog (see ",r.a.createElement(no.a,{href:"#fig-9"},"Fig. 9"),").")],bullets:["Required: Yes","Constraint: Less than 50 characters","Example: irregular"],images:[]},{label:"var_temporal_res",anchorEnd:"var_temporal_res",text:[r.a.createElement(r.a.Fragment,null,"Specifies the temporal resolution of measurements (such as daily, hourly, 3-minutes, etc). If the measurements do not have a regular temporal spacing, use the term \u201cirregular\u201d to fill out this field. var_temporal_res will be visible in the Simons CMAP catalog (see ",r.a.createElement(no.a,{href:"#fig-9"},"Fig. 9"),").")],bullets:["Required: Yes","Constraint: Less than 50 characters","Example: irregular"],images:[]},{label:"var_discipline",anchorEnd:"var_discipline",text:[r.a.createElement(r.a.Fragment,null,"Indicates in which disciplines (such as Physics, Biology \u2026) this variable is commonly studied. You can specify more than one discipline. If you list multiple disciplines per variable, please separate them by comma. var_discipline will be visible in the Simons CMAP catalog (referred to as \u201cStudy Domain\u201d in ",r.a.createElement(no.a,{href:"#fig-9"},"Fig. 9"),").")],bullets:["Required: Yes","Constraint: Less than 100 characters","Example: Physics, BioGeoChemistry"],images:[]},{label:"visualize",anchorEnd:"visualize",text:["This is a flag field and can only be 0 or 1. Fill this field with 1, if you think this variable can be visualized on a graph by Simons CMAP. In principle, any variable with numeric values can be visualized while variables with string values, station numbers, or quality flags may not be the best candidates for visualization in CMAP. Please consult with the data curation team if you have any questions."],bullets:["Required: No"],images:[]},{label:"var_keywords",anchorEnd:"var_keywords",text:["Every variable in CMAP is annotated with a range of semantically related keywords to ensure a variable can be easily discovered. For example, use of keywords allows you to search using the term \u201cPO4\u201d and retrieve a list of all phosphate data even if \u201cPO4\u201d was not used as the var_long_name for a given dataset. Similarly, if one searches for \u201cMIT\u201d, CMAP returns all variables generated by MIT groups, or if one looks for \u201cmodel\u201d, only model outputs are returned. These \u201csemantic\u201d searches are made possible using the keywords that are added to each variable. We would like to have keywords to cover the following areas described below (where applicable). Please note that there is no limit to the number of keywords used for a variable. The keywords are case-insensitive and you may add/remove them at any point (even after data ingestion). This is a required field."],bullets:["Alternative names: other official, unofficial, abbreviation, technical (or jargon) names or notations associated with the variable. Examples: Nitrate, NO3, NO_3","Method and Instrument: Keywords related to the method and instruments used for the variable measurements. Examples: observation, in-situ, model, satellite, remote sensing, cruise, CTD, cytometry, \u2026.","Note these keywords are not mutually exclusive. For example, a CTD temperature measurement made during a cruise can have all of the following keywords: observation, in-situ, cruise, CTD","Data Producers: Keywords associated with the lead scientist/lab name/institute name. Examples: UW, University of Washington, Virginia Armbrust, Ginger","Cruise: The official/unoffical name of the cruise(s) during which the variable was measured, if applicable. Examples: KOK1606, Gradients_1, diel","Project name: If your data are in the context of a project, include the project name. Examples: HOT, Darwin, SeaFlow"],images:[]},{label:"var_comment",anchorEnd:"var_comment",text:[r.a.createElement(r.a.Fragment,null,"Use this field to communicate any detailed information about this particular variable with the users. This could include, for example, description of method(s) used to process the raw measurements. var_comment is visible in the Simons CMAP catalog (",r.a.createElement(no.a,{href:"#fig-11"},"Fig. 11"),").")],bullets:["Required: No (optional)","Constraint: No length limits"],images:[{src:"https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_comment_cat.png",alt:"Variable description in Catalog",caption:'Figure 11. A sample dataset shown in the Simons CMAP catalog. The "var_commentn" is accessible using the "Comment" button, highlighted in the red rectangle.',id:"fig-11"}]}],Lu=Object(zr.a)((function(e){return{stickyPaper:{position:"-webkit-sticky",maxHeight:"calc(100vh - 128px)",position:"sticky",top:"90px",width:"200px",marginLeft:"20px",paddingLeft:"12px",backgroundColor:"rgba(0,0,0,.4)",overflow:"auto"},guideSection:{width:"90%",margin:"20px auto 0 auto",textAlign:"left",padding:"12px 32px",fontFamily:'"roboto", Serif',maxWidth:"800px",backgroundColor:"rgba(0,0,0,.4)",marginBottom:"20px"},sectionHeader:{margin:"8px 0",fontWeight:100,fontFamily:'"roboto", Serif'},"@media screen and (max-width: 1300px)":{stickyPaper:{display:"none"}},navListItem:{color:e.palette.primary.main,padding:"2px 10px 2px 6px"},navListItemText:{"&:hover":{textDecoration:"underline"}},doiListItem:{color:e.palette.primary.main,padding:"0 10px 0 6px",width:"max-content"},doiListItemText:{fontSize:"16px","&:hover":{textDecoration:"underline"}},doiListItemtextWrapper:{margin:"0"},navListItemtextWrapper:{margin:"2px 0"},subListText:{margin:0,"&:hover":{textDecoration:"underline"}},anchor:{display:"block",position:"relative",top:"-120px",visibility:"hidden"},divider:{backgroundColor:e.palette.primary.main,marginBottom:"8px"},sampleTableRow:{border:"1px solid black"},navListSubItemText:{fontSize:".785rem"},navListSubSubItemText:{fontSize:".7rem"}}}))((function(e){var a=e.classes,t=r.a.useState(null),n=Object(ko.a)(t,2),o=n[0],s=n[1];return r.a.useEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&e.target.id!==o&&s(e.target.id)}))}),{threshold:.5});return[document.querySelector("#data-structure-time"),document.querySelector("#data-structure-dataset_short_name"),document.querySelector("#data-structure-var_short_name")].forEach((function(a){return e.observe(a)})),function(){return e.disconnect()}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{container:!0},r.a.createElement(Kr.a,{item:!0,xs:2},r.a.createElement(Ur.a,{className:a.stickyPaper,elevation:6},r.a.createElement(Rc.a,{dense:!0},r.a.createElement(ws.a,{component:"a",href:"#getting-started",className:a.navListItem},r.a.createElement(au.a,{primary:"Getting Started",classes:{primary:a.navListItemText},className:a.navListItemtextWrapper})),r.a.createElement(ws.a,{component:"a",href:"#submission-process",className:a.navListItem},r.a.createElement(au.a,{primary:"Submission Process",classes:{primary:a.navListItemText},className:a.navListItemtextWrapper})),r.a.createElement(Rc.a,{dense:!0,style:{padding:"0 0 0 12px"}},r.a.createElement(ws.a,{component:"a",href:"#validation",className:a.navListItem},r.a.createElement(au.a,{primary:"Validation",className:a.subListText,classes:{primary:a.navListSubItemText}})),r.a.createElement(ws.a,{component:"a",href:"#feedback",className:a.navListItem},r.a.createElement(au.a,{primary:"Feedback",className:a.subListText,classes:{primary:a.navListSubItemText}})),r.a.createElement(ws.a,{component:"a",href:"#doi",className:a.navListItem},r.a.createElement(au.a,{primary:"DOI",className:a.subListText,classes:{primary:a.navListSubItemText}})),r.a.createElement(ws.a,{component:"a",href:"#ingestion",className:a.navListItem},r.a.createElement(au.a,{primary:"Ingestion",className:a.subListText,classes:{primary:a.navListSubItemText}}))),r.a.createElement(ws.a,{component:"a",href:"#dashboard",className:a.navListItem},r.a.createElement(au.a,{primary:"User Dashboard",classes:{primary:a.navListItemText},className:a.navListItemtextWrapper})),r.a.createElement(ws.a,{component:"a",href:"#data-structure",className:a.navListItem},r.a.createElement(au.a,{primary:"Data Structure",classes:{primary:a.navListItemText},className:a.navListItemtextWrapper})),r.a.createElement(Rc.a,{dense:!0,style:{padding:"0 0 0 12px"}},r.a.createElement(ws.a,{component:"a",href:"#data-structure-data",className:a.navListItem},r.a.createElement(au.a,{primary:"Data",className:a.subListText,classes:{primary:a.navListSubItemText}})),r.a.createElement(Rc.a,{dense:!0,style:{padding:"0 0 0 12px",display:"data-structure-time"===o?"block":"none"}},Nu.map((function(e,t){return r.a.createElement(ws.a,{component:"a",href:"#data-structure-".concat(e.anchorEnd),className:a.navListItem,key:t},r.a.createElement(au.a,{primary:e.label,className:a.subListText,classes:{primary:a.navListSubItemText}}))}))),r.a.createElement(ws.a,{component:"a",href:"#data-structure-dataset_short_name",className:a.navListItem},r.a.createElement(au.a,{primary:"Dataset Metadata",className:a.subListText,classes:{primary:a.navListSubItemText}})),r.a.createElement(Rc.a,{dense:!0,style:{padding:"0 0 0 12px",display:"data-structure-dataset_short_name"===o?"block":"none"}},Ru.map((function(e,t){return r.a.createElement(ws.a,{component:"a",href:"#data-structure-".concat(e.anchorEnd),className:a.navListItem,key:t},r.a.createElement(au.a,{primary:e.label,className:a.subListText,classes:{primary:a.navListSubItemText}}))}))),r.a.createElement(ws.a,{component:"a",href:"#data-structure-variable",className:a.navListItem},r.a.createElement(au.a,{primary:"Variable Metadata",className:a.subListText,classes:{primary:a.navListSubItemText}})),r.a.createElement(Rc.a,{dense:!0,style:{padding:"0 0 0 12px",display:"data-structure-var_short_name"===o?"block":"none"}},Du.map((function(e,t){return r.a.createElement(ws.a,{component:"a",href:"#data-structure-".concat(e.anchorEnd),className:a.navListItem,key:t},r.a.createElement(au.a,{primary:e.label,className:a.subListText,classes:{primary:a.navListSubItemText}}))}))),r.a.createElement(ws.a,{component:"a",href:"#data-structure-references",className:a.navListItem},r.a.createElement(au.a,{primary:"References",className:a.subListText,classes:{primary:a.navListSubItemText}}))),r.a.createElement(ws.a,{component:"a",href:"#faq",className:a.navListItem},r.a.createElement(au.a,{primary:"FAQ & Help",classes:{primary:a.navListItemText},className:a.navListItemtextWrapper})),r.a.createElement(Rc.a,{dense:!0,style:{padding:"0 0 0 12px"}},r.a.createElement(ws.a,{component:"a",href:"#faq-doi",className:a.navListItem},r.a.createElement(au.a,{primary:"DOIs",className:a.subListText})),r.a.createElement(ws.a,{component:"a",href:"#faq-curation",className:a.navListItem},r.a.createElement(au.a,{primary:"Curation",className:a.subListText})),r.a.createElement(ws.a,{component:"a",href:"#faq-validation-warnings",className:a.navListItem},r.a.createElement(au.a,{primary:"Validation Warnings",className:a.subListText}))),r.a.createElement(ws.a,{component:"a",href:"#contact",className:a.navListItem},r.a.createElement(au.a,{primary:"Contact",classes:{primary:a.navListItemText},className:a.navListItemtextWrapper})),r.a.createElement(ws.a,{component:"a",href:"#resources",className:a.navListItem},r.a.createElement(au.a,{primary:"Resources",classes:{primary:a.navListItemText},className:a.navListItemtextWrapper}))))),r.a.createElement(Kr.a,{item:!0,xs:8},r.a.createElement(Ur.a,{className:a.guideSection,elevation:4},r.a.createElement(Vr.a,{variant:"h3",className:a.sectionHeader},r.a.createElement("a",{className:a.anchor,id:"getting-started"}),"Getting Started"),r.a.createElement(Br.a,{variant:"fullWidth",classes:{root:a.divider}}),r.a.createElement(Vr.a,null,"Data submitted to ",r.a.createElement("span",{style:{fontWeight:600}},"Simons Collaborative Marine Atlas Project")," must be precisely formatted to maintain high levels of ",r.a.createElement("em",null,"discoverability"),", ",r.a.createElement("em",null,"comparability"),", and ",r.a.createElement("em",null,"database performance"),"."),r.a.createElement(Vr.a,{style:{marginTop:"16px"}},"The purpose of the data submission toolset is to provide automatic, immediate feedback to assist you in formatting your submission, facilitate communication with the data curation team, and allow you to track the progress of your submission."),r.a.createElement(Vr.a,{variant:"h3",className:a.sectionHeader,style:{marginTop:"80px"}},r.a.createElement("a",{className:a.anchor,id:"submission-process"}),"The Submission Process"),r.a.createElement(Br.a,{variant:"fullWidth",classes:{root:a.divider}}),r.a.createElement(Vr.a,null,"Begin the process by downloading and populating a\xa0",r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx",download:"datasetTemplate.xlsx"},"blank xlsx template."),"\xa0Completed sample templates can be found in the\xa0",r.a.createElement(no.a,{href:"#resources"},"resources section"),". Details on the requirements and structure can be found in the\xa0",r.a.createElement(no.a,{href:"#data-structure"},"Data Structure")," section."),r.a.createElement(Vr.a,{style:{marginTop:"16px"}},"Please note that xlsx workbooks over 150MB ",r.a.createElement("em",null,"cannot be processed")," using the web submission tools. If you would like to submit a dataset that exceeds this limit please contact the data curation team at ",r.a.createElement("a",{style:{color:Pr.primary,textDecoration:"none"},href:"mailto:cmap-data-submission@uw.edu"},"cmap-data-submission@uw.edu"),"."),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"Validation",r.a.createElement("a",{className:a.anchor,id:"validation"})),r.a.createElement(Vr.a,null,"Load your workbook into the\xa0",r.a.createElement(no.a,{target:"_blank",href:"/datasubmission/validationtool"},"submission tool"),"\xa0to begin validation. The tool will walk you through a step-by-step process to identify and resolve any potential data or format issues. Once the workbook has been validated it will be uploaded to a staging area to be reviewed by our data curation team. From this point you'll be able to track the progress of your submission in the\xa0",r.a.createElement(no.a,{href:"#dashboard"},"user dashboard"),"."),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"Feedback",r.a.createElement("a",{className:a.anchor,id:"feedback"})),r.a.createElement(Vr.a,null,"The data curation team may have suggestions for additional changes to the workbook. Any feedback will be sent to you via email notification, and visible in the\xa0",r.a.createElement(no.a,{href:"#dashboard"},"user dashboard"),"."),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"DOI",r.a.createElement("a",{className:a.anchor,id:"doi"})),r.a.createElement(Vr.a,null,"Once your submission has been approved the data curation team will request a DOI for the data. Information on DOIs can be found in the\xa0",r.a.createElement(no.a,{href:"#faq-doi"},"DOI Help Section"),". The DOI can be submitted using the messaging feature of the ",r.a.createElement(no.a,{href:"#dashboard"},"user dashboard"),"."),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"Ingestion",r.a.createElement("a",{className:a.anchor,id:"ingestion"})),r.a.createElement(Vr.a,null,"Once a DOI has been submitted your data will be ingested into the CMAP database. After ingestion, you'll be able to view your dataset in the ",r.a.createElement(no.a,{href:"/catalog",target:"_blank"},"data catalog"),", and access it through the CMAP API using any of the CMAP\xa0",r.a.createElement(no.a,{href:"https://cmap.readthedocs.io/en/latest/user_guide/API_ref/api_ref.html",target:"_blank"},"software packages"),"."),r.a.createElement(Vr.a,{variant:"h3",className:a.sectionHeader,style:{marginTop:"80px"}},r.a.createElement("a",{className:a.anchor,id:"dashboard"}),"User Dashboard"),r.a.createElement(Br.a,{variant:"fullWidth",classes:{root:a.divider}}),r.a.createElement(Vr.a,null,"In the\xa0",r.a.createElement(no.a,{href:"/datasubmission/userdashboard",target:"_blank"},"user dashboard"),"\xa0 you can track the ingestion process for any dataset that you've submitted, send messages to the data curation team, and download the most recently submitted version of the workbook. Additionally, in the event that the curation team requests additional changes to your submission you can load the most recent version directly into the validation tool, make any necessary changes, and resubmit."),r.a.createElement(Vr.a,{variant:"h3",className:a.sectionHeader,style:{marginTop:"80px"}},r.a.createElement("a",{className:a.anchor,id:"data-structure"}),"Data Structure"),r.a.createElement(Br.a,{variant:"fullWidth",classes:{root:a.divider}}),r.a.createElement(Vr.a,null,"The CMAP data template consists of three sheets: data, dataset metadata, and variable metadata. Data is stored in the first sheet called \u201cdata\u201d. Metadata that describes the dataset is entered in the second sheet called \u201cdataset_meta_data\u201d. Metadata associated with the variables in the dataset are entered in the third sheet called \u201cvars_meta_data\u201d. Information must be provided for all columns except those specifically noted as optional. The data and metadata field names (e.g. time, lat, lon, short_name, long_name, ...) used in the template file are based on the CF and COARDS naming conventions [",r.a.createElement(no.a,{href:"#reference-1"},"1"),",\xa0",r.a.createElement(no.a,{href:"#reference-2"},"2"),",\xa0",r.a.createElement(no.a,{href:"#reference-3"},"3"),"]."),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"Data",r.a.createElement("a",{className:a.anchor,id:"data-structure-data"})),r.a.createElement(Hr.a,{size:"small",style:{marginBottom:"12px"}},r.a.createElement(Gr.a,null,r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,null,"time"),r.a.createElement(qr.a,null,"lat"),r.a.createElement(qr.a,null,"lon"),r.a.createElement(qr.a,null,"depth[if exists]"),r.a.createElement(qr.a,null,"var",r.a.createElement("sub",null,"1")),r.a.createElement(qr.a,null,"..."),r.a.createElement(qr.a,null,"var",r.a.createElement("sub",null,"n")))),r.a.createElement(Qr.a,null,r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,null,"2016-5-01T15:02:00"),r.a.createElement(qr.a,null,"25"),r.a.createElement(qr.a,null,"-158"),r.a.createElement(qr.a,null,"5"),r.a.createElement(qr.a,null,"value"),r.a.createElement(qr.a,null,"..."),r.a.createElement(qr.a,null,"value")))),r.a.createElement(Vr.a,null,"All data points are stored in the \u201cData\u201d sheet. Each data point must have time and location information. The exact name and order of the time and location columns are shown in the table above. If a dataset does not have depth values (e.g., sea surface measurements), you may remove the depth column. If your dataset represents results of a Laboratory study (see dataset_make) fill these fields with the time of study and the location of your laboratory. The columns var",r.a.createElement("sub",null,"1"),"...var",r.a.createElement("sub",null,"n")," represent the dataset variables (measurements). Please rename var",r.a.createElement("sub",null,"1"),"...var",r.a.createElement("sub",null,"n")," to names appropriate to your data. The format of \u201ctime\u201d, \u201clat\u201d, \u201clon\u201d, and \u201cdepth\u201d columns are described in the following sections. Please review the example datasets listed under\xa0",r.a.createElement(no.a,{href:"#resources"},"resources")," for more detailed information."),Nu.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Vr.a,{variant:"h6",className:a.sectionHeader,style:{marginTop:"50px"}},e.label,r.a.createElement("a",{className:a.anchor,id:"data-structure-".concat(e.anchorEnd)})),e.text.map((function(e,a){return r.a.createElement(Vr.a,{key:t+100*a},e)})),r.a.createElement("ul",null,e.bullets.map((function(e,a){return r.a.createElement("li",{key:a+1e3*t},e)}))))})),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"Dataset Metadata",r.a.createElement("a",{className:a.anchor,id:"data-structure-dataset"})),r.a.createElement(Vr.a,null,"This sheet holds a list of top-level attributes about the dataset such as the dataset name and description. Below are the list of these attributes along with their descriptions. Please review the example datasets listed under ",r.a.createElement(no.a,{href:"#resources"},"resources")," for more detailed information."),Ru.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Vr.a,{variant:"h6",className:a.sectionHeader,style:{marginTop:"50px"},key:t},e.label,r.a.createElement("a",{className:a.anchor,id:"data-structure-".concat(e.anchorEnd)})),e.text.map((function(e,a){return r.a.createElement(Vr.a,{key:a+10*t},e)})),r.a.createElement("ul",null,e.bullets.map((function(e,a){return r.a.createElement("li",{key:a+100*t},e)}))),e.images.map((function(e,n){return r.a.createElement("figure",{key:n+1e3*t,style:{margin:"30px 0 0 0"}},r.a.createElement("a",{className:a.anchor,id:e.id}),r.a.createElement("img",{src:e.src,alt:e.alt,width:"100%",style:{maxwidth:"100%"}}),r.a.createElement("figcaption",null,e.caption))})))})),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"Variable Metadata",r.a.createElement("a",{className:a.anchor,id:"data-structure-variable"})),r.a.createElement(Vr.a,null,'A dataset can contain multiple different measurements (variables). This sheet (labeled as "vars_meta_data") holds a list of top-level attributes about these variables such as the variable name, unit, and description. Each variable along with its attributes (metadata) is stored in separate rows. Below is the list of these attributes along with their descriptions. Please review the example datasets listed in the\xa0',r.a.createElement(no.a,{href:"#resources"},"resources")," section for more information."),Du.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Vr.a,{variant:"h6",className:a.sectionHeader,style:{marginTop:"50px"},key:t},e.label,r.a.createElement("a",{className:a.anchor,id:"data-structure-".concat(e.anchorEnd)})),e.text.map((function(e,a){return r.a.createElement(Vr.a,{key:a+10*t},e)})),r.a.createElement("ul",null,e.bullets.map((function(e,a){return r.a.createElement("li",{key:a+100*t},e)}))),e.images.map((function(e,n){return r.a.createElement("figure",{key:n+1e3*t,style:{margin:"30px 0 0 0"}},r.a.createElement("a",{className:a.anchor,id:e.id}),r.a.createElement("img",{src:e.src,alt:e.alt,width:"100%",style:{maxwidth:"100%"}}),r.a.createElement("figcaption",null,e.caption))})))})),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"References",r.a.createElement("a",{className:a.anchor,id:"data-structure-references"})),r.a.createElement(Vr.a,null,r.a.createElement("a",{className:a.anchor,id:"reference-1"}),r.a.createElement(no.a,{href:"http://cfconventions.org/cf-conventions/cf-conventions.html",target:"_blank"},"NetCDF Climate and Forecast (CF) Metadata Conventions")),r.a.createElement(Vr.a,null,r.a.createElement("a",{className:a.anchor,id:"reference-2"}),r.a.createElement(no.a,{href:"https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html",target:"_blank"},"Conventions for the standardization of NetCDF files")),r.a.createElement(Vr.a,null,r.a.createElement("a",{className:a.anchor,id:"reference-3"}),r.a.createElement(no.a,{href:"https://ferret.pmel.noaa.gov/Ferret/documentation/coards-netcdf-conventions",target:"_blank"},"COARDS NetCDF Conventions")),r.a.createElement(Vr.a,{variant:"h3",className:a.sectionHeader,style:{marginTop:"80px"}},r.a.createElement("a",{className:a.anchor,id:"faq"}),"FAQ & Help"),r.a.createElement(Br.a,{variant:"fullWidth",classes:{root:a.divider}}),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"What is a DOI and how can I get one for my dataset?",r.a.createElement("a",{className:a.anchor,id:"faq-doi"})),r.a.createElement(Vr.a,null,"A ",r.a.createElement("em",null,"DOI")," or ",r.a.createElement("em",null,"Digital Object Identifier")," is a digital identifier for a dataset. Some DOI providers, such as Zenodo, allow for dataset version controlling. We require a DOI to be registered for your dataset in the submission process. It allows for users to cite the use of a dataset and properly acknowledge the dataset creators."),r.a.createElement(Vr.a,{style:{marginTop:"24px"}},"Below is a list of entities that may issue and link your dataset to a unique DOI:"),r.a.createElement(Rc.a,null,Au.map((function(e,t){return r.a.createElement(ws.a,{target:"_blank",component:"a",href:e.link,className:a.doiListItem,key:t},r.a.createElement(au.a,{primary:e.name,classes:{primary:a.doiListItemText},className:a.doiListItemtextWrapper}))}))),r.a.createElement(Vr.a,{style:{margin:"18px 0"}},"See the tutorial video below to learn how to obtain a DOI for your dataset using Zenodo."),r.a.createElement("iframe",{src:"https://player.vimeo.com/video/407462463",width:"780",height:"440",style:{margin:"0 auto"}}),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"Isn't this automated? Why do I need to wait for feedback from a curator?",r.a.createElement("a",{className:a.anchor,id:"faq-curation"})),r.a.createElement(Vr.a,null,"The online validator is designed to catch formatting issues, missing information, and fields which don't meet CMAP's ingestion requirements. Evaluating the accuracy and descriptiveness of metadata requires significant domain knowledge and understanding of the CMAP ecosystem, and are best done by a human."),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginTop:"50px"}},"What should I do about the validation warnings?",r.a.createElement("a",{className:a.anchor,id:"faq-curation"})),r.a.createElement(Vr.a,null,"Validation warnings if present will appear in yellow when you select your workbook in the validation tool, indicating ",r.a.createElement("em",null,"possible")," errors in your data or metadata such as outliers, columns with mixed data types, or missing cruise information. They should be reviewed carefully, but if you determine they do not need to be corrected they will not prevent you from moving forward with your submission."),r.a.createElement(Vr.a,{variant:"h3",className:a.sectionHeader,style:{marginTop:"80px"}},r.a.createElement("a",{className:a.anchor,id:"contact"}),"Contact"),r.a.createElement(Br.a,{variant:"fullWidth",classes:{root:a.divider}}),r.a.createElement(Vr.a,null,"You can reach the CMAP data curation team at ",r.a.createElement("a",{style:{color:Pr.primary,textDecoration:"none"},href:"mailto:cmap-data-submission@uw.edu"},"cmap-data-submission@uw.edu"),"."),r.a.createElement(Vr.a,{variant:"h3",className:a.sectionHeader,style:{marginTop:"80px"}},r.a.createElement("a",{className:a.anchor,id:"resources"}),"Resources"),r.a.createElement(Br.a,{variant:"fullWidth",classes:{root:a.divider}}),r.a.createElement(Vr.a,null,r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx",download:"datasetTemplate.xlsx"},"Download a Blank xlsx Template")),r.a.createElement(Vr.a,null,r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/KOK1606_Gradients1_Cobalamin_example_2020_07_15.xlsx",download:"KOK1606_Gradients1_Cobalamin_Sample.xlsx"},"Sample Dataset - KOK1606_Gradients1_Cobalamin")),r.a.createElement(Vr.a,null,r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/amt01_extracted_cholorphyll_2020_07_25.xlsx",download:"AMT01_Extracted_Cholorphyll_Sample.xlsx"},"Sample Dataset - amt01_extracted_cholorphyll")),r.a.createElement(Vr.a,null,r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/Influx_Stations_Gradients_2016_example_2020_08_13.xlsx",download:"Influx_Stations_Gradients_2016_example.xlsx"},"Sample Dataset - Influx_Stations_Gradients_2016")),r.a.createElement(Vr.a,null,r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/SCOPE_HOT224-238_omics_cmap_example_2020_08_13.xlsx",download:"SCOPE_HOT224-238_omics_cmap_example_2020_08_13.xlsx"},"Sample Dataset - SCOPE_HOT224-238_omics"))))))})),Iu=t(861),Pu=t(846),Mu=t(210),Fu=t.n(Mu),zu=t(845),Uu=Object(zr.a)((function(e){return{commentArea:{backgroundColor:"rgba(0,0,0,.2)",width:"70vw",margin:"0 auto",padding:"12px 16px",textAlign:"left",whiteSpace:"pre-wrap",overflow:"auto"},commenterAndDateTime:{marginTop:"16px",width:"calc(70vw + 32px)",padding:"4px 0",margin:"0 auto",textAlign:"left",color:e.palette.primary.main,fontSize:12}}}))((function(e){var a=e.classes,t=e.comment,n=t.Comment,o=t.Commenter,s=t.Comment_Date_Time,i=new Date(s).toLocaleString();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.commenterAndDateTime},o," at ",i),r.a.createElement("div",{className:a.commentArea},n))})),Vu={retrieveSubmissionCommentHistory:pe,addSubmissionComment:me,downloadMostRecentFile:ve},Bu=[{label:"Submission"},{label:"Admin Approval"},{label:"DOI"},{label:"Ingestion"}],Hu=Object(l.b)((function(e,a){return{submissionCommentHistoryRetrievalState:e.submissionCommentHistoryRetrievalState,submissionComments:e.submissionComments}}),Vu)(Object(zr.a)((function(e){return{panelDetails:{display:"block",textAlign:"left"},newCommentDiv:{width:"70vw",margin:"24px auto 0px auto"},newCommentTextField:{flexBasis:"calc(70vw - 200px)",marginRight:"16px"},postButton:{color:"white",marginTop:"16px",textTransform:"none"},setPhaseButton:{color:"white",marginLeft:"12px"},stepper:{borderRadius:"4px",margin:"16px 2vw 24px 2vw"},newUpload:{marginLeft:"2vw",cursor:"pointer"}}}))((function(e){var a,t=e.classes,o=e.submission,s=r.a.useState(),i=Object(ko.a)(s,2),l=i[0],c=i[1],u=e.submissionComments[o.Submission_ID],p=Boolean(u&&u.length);switch(o.Phase){case"Awaiting admin action":case"Awaiting user update":a=1;break;case"Awaiting DOI":a=2;break;case"Awaiting ingestion":a=3;break;default:a=1}Object(n.useEffect)((function(){e.retrieveSubmissionCommentHistory(o.Submission_ID)}),[]);return r.a.createElement(zu.a,{className:t.panelDetails},r.a.createElement(is.a,{className:t.stepper,alternativeLabel:!0,activeStep:a},Bu.map((function(e,a){return r.a.createElement(ls.a,{key:a},r.a.createElement(cs.a,null,e.label))}))),r.a.createElement(Vr.a,{className:t.newUpload},r.a.createElement(no.a,{component:Mr.b,to:"/datasubmission/validationtool?submissionID=".concat(encodeURIComponent(o.Submission_ID))},"Update")," this submission."),r.a.createElement(Vr.a,{className:t.newUpload},r.a.createElement(no.a,{component:"span",onClick:function(){return e.downloadMostRecentFile(o.Submission_ID)}},"Download")," the most recent version."),e.submissionCommentHistoryRetrievalState===m.inProgress?"Loading Comments.....":r.a.createElement(r.a.Fragment,null,p&&u.map((function(e,a){return r.a.createElement(Uu,{comment:e,key:a})}))),r.a.createElement("div",{className:t.newCommentDiv},r.a.createElement(Zr.a,{multiline:!0,rows:4,variant:"outlined",onChange:function(e){return c(e.target.value)},value:l,fullWidth:!0}),r.a.createElement($r.a,{variant:"contained",color:"primary",className:t.postButton,onClick:function(){e.addSubmissionComment(o.Submission_ID,l),c("")}},"Post Message")))}))),Gu={retrieveDataSubmissionsByUser:ue},Wu=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={expandedPanel:!1},e.componentDidMount=function(){e.props.retrieveDataSubmissionsByUser();var a=new URLSearchParams(window.location.search),t=a.get("submissionID"),n=a.get("datasetName");t&&e.props.dataSubmissions.forEach((function(a,n){t==a.Submission_ID&&e.setState(Object(u.a)(Object(u.a)({},e.state),{},{expandedPanel:n}))})),n&&e.props.dataSubmissions.forEach((function(a,t){n.trim()==a.Dataset.trim()&&e.setState(Object(u.a)(Object(u.a)({},e.state),{},{expandedPanel:t}))}))},e.componentDidUpdate=function(a,t){!a.user&&e.props.user&&e.props.retrieveDataSubmissionsByUser()},e.handleExpansion=function(a){e.props.history.push({pathname:"/datasubmission/userdashboard",query:{}}),e.state.expandedPanel===a?e.setState(Object(u.a)(Object(u.a)({},e.state),{},{expandedPanel:!1})):e.setState(Object(u.a)(Object(u.a)({},e.state),{},{expandedPanel:a}))},e.render=function(){if(!e.props.user)return r.a.createElement(oo,null);var a=e.props,t=a.classes,n=a.dataSubmissions,o=e.state.expandedPanel;return r.a.createElement("div",{className:t.wrapperDiv},n&&n.length?r.a.createElement(r.a.Fragment,null,n.map((function(a,n){return r.a.createElement(Iu.a,{expanded:o===n,onChange:function(){return e.handleExpansion(n)},key:n,TransitionProps:{unmountOnExit:!0}},r.a.createElement(Pu.a,{expandIcon:r.a.createElement(Fu.a,null)},r.a.createElement(Vr.a,{noWrap:!0,className:t.panelSummaryText},a.Dataset),r.a.createElement(Vr.a,{noWrap:!0,className:t.panelSummaryText},a.Phase)),r.a.createElement(Hu,{submission:a}))}))):r.a.createElement(Vr.a,{className:t.needHelp},"We haven't received any submissions from you yet. Need help?",r.a.createElement(no.a,{href:"https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx",download:"datasetTemplate.xlsx",className:t.needHelpLink},"\xa0Download"),"\xa0a blank template, or view the ",r.a.createElement(no.a,{className:t.needHelpLink,component:Mr.b,to:"/datasubmission/guide"},"Data Submission Guide"),"."))},e}return t}(r.a.Component),qu=Object(l.b)((function(e,a){return{user:e.user,dataSubmissions:e.dataSubmissions}}),Gu)(Object(Fr.f)(Object(zr.a)((function(e){return{wrapperDiv:{width:"90vw",margin:"24px auto"},panelSummaryText:{flexBasis:"40%",textAlign:"left",paddingRight:"20px",fontSize:".8rem"},needHelp:{float:"left",color:"white",margin:"12px 0 0 12px",letterSpacing:"normal"}}}))(Wu))),Qu=t(847),Ku=t(848),Yu=t(859),Zu={retrieveSubmissionCommentHistory:pe,addSubmissionComment:me,setSubmissionPhase:function(e,a){return{type:"SET_SUBMISSION_PHASE",payload:{submissionID:e,phaseID:a}}},downloadMostRecentFile:ve},$u=Object(l.b)((function(e,a){return{submissionCommentHistoryRetrievalState:e.submissionCommentHistoryRetrievalState,submissionComments:e.submissionComments}}),Zu)(Object(zr.a)((function(e){return{panelDetails:{display:"block"},newCommentDiv:{width:"70vw",margin:"24px auto 0px auto"},newCommentTextField:{flexBasis:"calc(70vw - 200px)",marginRight:"16px"},postButton:{color:"white",marginTop:"16px",textTransform:"none"},setPhaseButton:{color:"white",marginLeft:"12px"},phaseControlWrapper:{textAlign:"left",margin:"12px 0 32px 0"},phaseSelect:{width:"190px"},newUpload:{marginBottom:"2vw",cursor:"pointer",textAlign:"left"}}}))((function(e){var a=e.classes,t=e.submission,o=e.setSubmissionPhase,s=r.a.useState(),i=Object(ko.a)(s,2),l=i[0],c=i[1],u=r.a.useState(t.Phase_ID),p=Object(ko.a)(u,2),d=p[0],h=p[1],b=e.submissionComments[t.Submission_ID],g=Boolean(b&&b.length);Object(n.useEffect)((function(){e.retrieveSubmissionCommentHistory(t.Submission_ID)}),[]);return r.a.createElement(zu.a,{className:a.panelDetails},r.a.createElement(Vr.a,{className:a.newUpload},r.a.createElement(no.a,{component:"span",onClick:function(){return e.downloadMostRecentFile(t.Submission_ID)}},"Download")," the most recent version."),r.a.createElement("div",{className:a.phaseControlWrapper},r.a.createElement(Zs.a,{value:d,onChange:function(e){h(e.target.value)},className:a.phaseSelect},r.a.createElement(Wo.a,{value:2},"Awaiting admin action"),r.a.createElement(Wo.a,{value:3},"Awaiting user update"),r.a.createElement(Wo.a,{value:4},"Awaiting DOI"),r.a.createElement(Wo.a,{value:5},"Awaiting ingestion"),r.a.createElement(Wo.a,{value:6},"Complete")),r.a.createElement($r.a,{variant:"contained",color:"primary",onClick:function(){e.handleResetExpandedPanel(),o(t.Submission_ID,d)},className:a.setPhaseButton,disabled:Boolean(d===t.Phase_ID)},"Set Phase")),e.submissionCommentHistoryRetrievalState===m.inProgress?"Loading Comments.....":r.a.createElement(r.a.Fragment,null,g&&b.map((function(e,a){return r.a.createElement(Uu,{comment:e,key:a})}))),r.a.createElement("div",{className:a.newCommentDiv},r.a.createElement(Zr.a,{multiline:!0,rows:4,variant:"outlined",onChange:function(e){return c(e.target.value)},value:l,fullWidth:!0}),r.a.createElement($r.a,{variant:"contained",color:"primary",className:a.postButton,onClick:function(){e.addSubmissionComment(t.Submission_ID,l),c("")}},"Post Message")))}))),Ju={retrieveAllSubmissions:be},Xu={"Awaiting admin action":!0,"Awaiting user update":!0,"Awaiting DOI":!0,"Awaiting ingestion":!0,Complete:!1},em=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t),(n=a.call(this,e)).componentDidUpdate=function(e){e.dataSubmissions&&e.dataSubmissions.length||!n.props.dataSubmissions||!n.props.dataSubmissions.length||(n.state.search.addDocuments(n.props.dataSubmissions),n.setState({search:n.state.search})),!e.user&&n.props.user&&n.props.retrieveAllSubmissions()},n.componentDidMount=function(){n.props.retrieveAllSubmissions()},n.handleExpansion=function(e){n.state.expandedPanel===e?n.setState(Object(u.a)(Object(u.a)({},n.state),{},{expandedPanel:!1})):n.setState(Object(u.a)(Object(u.a)({},n.state),{},{expandedPanel:e}))},n.handleChangeFilter=function(e){var a=Object(u.a)({},n.state.filters);a[e.target.name]=!a[e.target.name],n.setState(Object(u.a)(Object(u.a)({},n.state),{},{filters:Object(u.a)({},a)}))},n.handleChangeSearchString=function(e){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{searchString:e.target.value}))},n.handleResetExpandedPanel=function(){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{expandedPanel:!1}))},n.render=function(){var e=n.props,a=e.classes,t=e.dataSubmissions,o=n.state,s=o.search,i=o.searchString,l=i?s.search(i).filter((function(e){return n.state.filters[e.Phase]})):t.filter((function(e){return n.state.filters[e.Phase]}));return r.a.createElement("div",{className:a.wrapperDiv},r.a.createElement(Qu.a,{row:!0,className:a.filterFormGroup},r.a.createElement("div",{className:a.searchFieldWrapper},r.a.createElement(Zr.a,{variant:"outlined",value:i,onChange:n.handleChangeSearchString,placeholder:"Search",InputProps:{startAdornment:r.a.createElement(Co.a,{position:"start"},r.a.createElement(_o.a,{style:{color:Pr.primary}}))}})),r.a.createElement(Ku.a,{control:r.a.createElement(Yu.a,{checked:n.state.filters["Awaiting admin action"],onChange:n.handleChangeFilter,name:"Awaiting admin action",color:"primary"}),label:"Awaiting admin action",className:a.filterFormControl}),r.a.createElement(Ku.a,{control:r.a.createElement(Yu.a,{checked:n.state.filters["Awaiting user update"],onChange:n.handleChangeFilter,name:"Awaiting user update",color:"primary"}),label:"Awaiting user update",className:a.filterFormControl}),r.a.createElement(Ku.a,{control:r.a.createElement(Yu.a,{checked:n.state.filters["Awaiting DOI"],onChange:n.handleChangeFilter,name:"Awaiting DOI",color:"primary"}),label:"Awaiting DOI",className:a.filterFormControl}),r.a.createElement(Ku.a,{control:r.a.createElement(Yu.a,{checked:n.state.filters["Awaiting ingestion"],onChange:n.handleChangeFilter,name:"Awaiting ingestion",color:"primary"}),label:"Awaiting ingestion",className:a.filterFormControl}),r.a.createElement(Ku.a,{control:r.a.createElement(Yu.a,{checked:n.state.filters.Complete,onChange:n.handleChangeFilter,name:"Complete",color:"primary"}),label:"Complete",className:a.filterFormControl})),l&&l.length?r.a.createElement(r.a.Fragment,null,l.map((function(e,t){return r.a.createElement(Iu.a,{expanded:n.state.expandedPanel===t,onChange:function(){return n.handleExpansion(t)},key:t,TransitionProps:{unmountOnExit:!0}},r.a.createElement(Pu.a,{expandIcon:r.a.createElement(Fu.a,null)},r.a.createElement(Vr.a,{noWrap:!0,className:a.panelSummaryText},e.Dataset),r.a.createElement(Vr.a,{noWrap:!0,className:a.panelSummaryText},e.Phase)),r.a.createElement($u,{submission:e,handleResetExpandedPanel:n.handleResetExpandedPanel}))}))):r.a.createElement(Vr.a,null,"No submissions yet..."))};var o=new URLSearchParams(window.location.search),s=o.get("datasetName")&&o.get("datasetName").trim(),i=new Os.Search("Submission_ID");return i.indexStrategy=new Os.AllSubstringsIndexStrategy,i.searchIndex=new Os.UnorderedSearchIndex,i.addIndex("Dataset"),i.addIndex("Name"),e.dataSubmissions&&i.addDocuments(e.dataSubmissions),n.state={searchString:s||"",search:i,expandedPanel:!1,filters:Xu,modifiedDatasetID:null},n}return t}(n.Component),am=Object(l.b)((function(e,a){return{user:e.user,dataSubmissions:e.dataSubmissions}}),Ju)(Object(zr.a)((function(e){return{wrapperDiv:{width:"90vw",margin:"24px auto"},panelSummaryText:{flexBasis:"40%",textAlign:"left",paddingRight:"20px",fontSize:".8rem"},filterFormGroup:{backgroundColor:"rgba(0,0,0,.4)",color:"white",padding:"8px 12px",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",flexWrap:"wrap"},filterFormControl:{marginRight:"24px"},searchFieldWrapper:{flexBasis:"100%",textAlign:"left"}}}))(em)),tm={snackbarOpen:q},nm=Object(l.b)((function(e,a){return{user:e.user}}),tm)(Object(zr.a)((function(e){return{root:{paddingTop:"70px"}}}))((function(e){var a=e.classes,t=e.match;e.user;return Object(n.useEffect)((function(){return document.title=Xl.dataSubmission.title,document.description=Xl.dataSubmission.description,function(){document.title=Xl.default.title,document.title=Xl.default.description}})),r.a.createElement("div",{className:a.root},r.a.createElement(Fr.c,null,r.a.createElement(Fr.a,{exact:!0,path:t.url+"/",component:Lu}),r.a.createElement(Fr.a,{exact:!0,path:t.url+"/guide",component:Lu}),r.a.createElement(Fr.a,{exact:!0,path:t.url+"/validationtool",component:ju}),r.a.createElement(Fr.a,{exact:!0,path:t.url+"/userdashboard",component:qu}),r.a.createElement(Fr.a,{exact:!0,path:t.url+"/admindashboard",component:am})))}))),rm={contactUsRequestSend:function(e){return{type:"CONTACT_US_REQUEST_SEND",payload:{name:e.name,email:e.email,subject:e.subject,message:e.message}}},snackbarOpen:q},om=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;return Object(Ce.a)(this,t),(n=a.call(this,e)).handleChange=function(e){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{[e.target.name]:e.target.value}))},n.handleSubmit=function(){var e=Object(u.a)({},n.state),a=!1;Object.keys(e).forEach((function(t){e[t]=e[t].trim(),e[t].length<1&&(a=!0)})),a?n.props.snackbarOpen("Please complete all fields"):n.props.contactUsRequestSend(e)},n.state={name:e.user?e.user.firstName+" "+e.user.lastName:"",email:e.user?e.user.email:"",subject:"",message:""},n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ur.a,{className:e.root,elevation:6},r.a.createElement(Vr.a,{variant:"h4",className:e.header,align:"left"},"Contact Us"),r.a.createElement(Vr.a,{variant:"body2",className:e.description,align:"left"},"Have a question or feedback? Fill out the form below to contact a member of the Simons CMAP team."),r.a.createElement(Kr.a,{container:!0},r.a.createElement(Kr.a,{item:!0,container:!0,direction:"column",justify:"flex-start",xs:12,md:3},r.a.createElement(Zr.a,{name:"name",label:"Name",value:this.state.name,onChange:this.handleChange,className:e.textField,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Zr.a,{name:"email",label:"Email",value:this.state.email,onChange:this.handleChange,className:e.textField,variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Zr.a,{name:"subject",label:"Subject",value:this.state.subject,onChange:this.handleChange,className:e.textField,variant:"outlined",InputLabelProps:{shrink:!0}})),r.a.createElement(Kr.a,{item:!0,xs:12,md:9},r.a.createElement(Zr.a,{placeholder:"Your message...",value:this.state.message,className:e.messageTextField,name:"message",onChange:this.handleChange,multiline:!0,rows:"10",variant:"outlined"}))),r.a.createElement($r.a,{variant:"contained",color:"primary",className:e.submitButton,onClick:this.handleSubmit},"Submit"))}}]),t}(n.Component),sm=Object(l.b)((function(e,a){return{user:e.user}}),rm)(Object(zr.a)((function(e){return{root:{color:"white",width:"65vw",marginTop:e.spacing(18),marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(8),padding:e.spacing(2)},header:{color:e.palette.primary.main,marginBottom:e.spacing(2)},description:{marginBottom:e.spacing(3)},textField:{marginLeft:0,marginRight:e.spacing(2),marginBottom:e.spacing(2)},messageTextField:{width:"100%"},submitButton:{marginTop:e.spacing(2),color:"white"}}}))(om)),im=Object(zr.a)((function(e){return{root:{marginTop:"70px"},descriptionPaper:{padding:"6vh 6vw",margin:"110px 10vw 0px 10vw"},iconContainer:{marginTop:"4vh"},followContainer:{marginTop:"4vh"},softwareIcon:{maxHeight:"calc(100% - 1vh)",maxWidth:"calc(100% - .5vw)",height:"110px"},followUs:{lineHeight:3.1,fontSize:"16px"},followUsGridSection:{textAlign:"right",marginBottom:"12px"},followUsIcon:{marginLeft:"12px"},docButtonGrid:{display:"flex",alignItems:"center",justifyContent:"center",padding:"12px"},docButton:{color:"white",textTransform:"none",width:"180px"}}}))((function(e){var a=e.classes;return r.a.createElement("div",{className:a.root},r.a.createElement(Ur.a,{className:a.descriptionPaper,elevation:8},r.a.createElement(Vr.a,{variant:"body1"},"Simons CMAP is a community-based project intending to further cultivate the collaborative efforts at ocean sciences. It supports popular programming languages used for data analysis and seamlessly blends into your existing codebase. Review the ",r.a.createElement(no.a,{target:"_blank",href:"https://cmap.readthedocs.io/en/latest/"},"documentation")," to discover how to retrieve, visualize, and analyze the CMAP data sets using your preferred language. There you will also find information on how your own datasets can be submitted to CMAP. Please join us and contribute to growing the CMAP data and software ecosystem."),r.a.createElement(Kr.a,{container:!0,className:a.iconContainer},r.a.createElement(Kr.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement("a",{href:"https://github.com/simonscmap/cmap4r",target:"_blank"},r.a.createElement("img",{src:"images/cmap-sdk-R-COLORED.png",width:"152",alt:"",className:a.softwareIcon}))),r.a.createElement(Kr.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement("a",{href:"https://github.com/simonscmap/pycmap",target:"_blank"},r.a.createElement("img",{src:"images/cmap-sdk-python-COLORED.png",width:"273",alt:"",className:a.softwareIcon}))),r.a.createElement(Kr.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement("a",{href:"https://github.com/simonscmap/CMAP.jl",target:"_blank"},r.a.createElement("img",{src:"images/cmap-sdk-julia-COLORED.png",width:"176",alt:"",className:a.softwareIcon}))),r.a.createElement(Kr.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement("a",{href:"https://github.com/simonscmap/matcmap",target:"_blank"},r.a.createElement("img",{src:"images/cmap-sdk-Matlab-COLORED.png",alt:"",className:a.softwareIcon})))),r.a.createElement(Kr.a,{container:!0,className:a.followContainer},r.a.createElement(Kr.a,{item:!0,xs:12,md:1}),r.a.createElement(Kr.a,{item:!0,xs:5,md:2,className:a.followUsGridSection},r.a.createElement(Vr.a,{variant:"caption",className:a.followUs},"Follow Us:")),r.a.createElement(Kr.a,{item:!0,xs:4,md:3},r.a.createElement("a",{href:"https://github.com/simonscmap",target:"_blank"},r.a.createElement("img",{src:"images/github-icon.png",width:"55",srcSet:"images/github-icon-p-500.png 500w, images/github-icon.png 512w",alt:"",className:a.followUsIcon})),r.a.createElement("a",{href:"https://join.slack.com/t/simons-cmap/shared_invite/enQtNjQzMTkzMjg0NjQ2LTdlOGRhZjNhMDY3MjRlNjg2OTY5NzE3ZWZhNWE0OWZhYmQzMTJjNDkyNDQ1MjNkZDg0N2MzMzhlZDliNGYxYzQ",target:"_blank",className:a.followUsIcon},r.a.createElement("img",{src:"images/slack-icon.png",width:"55",srcSet:"images/slack-icon-p-500.png 500w, images/slack-icon.png 600w",alt:""}))),r.a.createElement(Kr.a,{item:!0,xs:12,md:5,className:a.docButtonGrid},r.a.createElement($r.a,{color:"primary",variant:"contained",href:"https://cmap.readthedocs.io/en/latest/",target:"_blank",className:a.docButton},"Documentation")),r.a.createElement(Kr.a,{item:!0,xs:3,md:12}))))})),lm=function(e){var a=e.searchWords,t=void 0===a?[]:a,n=e.hasDepth,r=e.timeStart,o=e.timeEnd,s=e.latStart,i=e.latEnd,l=e.lonStart,c=e.lonEnd,u=e.sensor,m="";return console.log(t),t.forEach((function(e,a){return m+="".concat(a>0?"&":"","keywords=").concat(encodeURIComponent(e))})),m+="yes"===n||"no"===n?"&hasDepth=".concat(n):"&hasDepth=any",r&&(m+="&timeStart=".concat(encodeURIComponent(r))),o&&(m+="&timeEnd=".concat(encodeURIComponent(o))),(s||0==s)&&(m+="&latStart=".concat(encodeURIComponent(s))),(i||0==i)&&(m+="&latEnd=".concat(encodeURIComponent(i))),(l||0==l)&&(m+="&lonStart=".concat(encodeURIComponent(l))),(c||0==c)&&(m+="&lonEnd=".concat(encodeURIComponent(c))),"Any"!==u&&null!==u&&(m+="&sensor=".concat(encodeURIComponent(u))),m},cm=Object(l.b)((function(e,a){return{}}),{})(Object(zr.a)((function(e){return{}}))((function(e){e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,null,"Begin typing in the search field to see keyword suggestions:"),r.a.createElement("img",{src:"/images/help_catalog_search_autocomplete.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Keyword Autocomplete Example"}),r.a.createElement(Vr.a,null,"Use the keyboard or mouse to select a keyword from the list, or press enter to use the typed keyword as is."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},"Repeat the process to search for multiple keywords:"),r.a.createElement("img",{src:"/images/help_catalog_search_mulitple.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Multiple Keyword Example"}),r.a.createElement(Vr.a,null,"Press escape to clear the keyword field, or backspace to remove the most recently added keyword."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},"Commonly searched keywords include:"),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},r.a.createElement("strong",null,"Nutrients")," such as nitrogen, phosphorus, or carbon."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},r.a.createElement("strong",null,"Organisms")," such as prochlorococcus, or synechococcus."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},r.a.createElement("strong",null,"Disciplines")," such as biogeochemistry or physics."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},r.a.createElement("strong",null,"Sensors")," such as satellite, flow cytometer, or sediment trap."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},r.a.createElement("strong",null,"Names")," such as Armbrust."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},r.a.createElement("strong",null,"Institutions")," such as University of Washington."))}))),um={keywordsFetch:function(){return{type:"KEYWORDS_FETCH"}},submissionOptionsRetrieval:function(){return{type:"SUBMISSION_OPTIONS_RETRIEVAL"}}},mm=function(e,a){var t=a.inputValue.replace("_"," ").split(" "),n=e;return t.forEach((function(e){n=Object(_i.a)(n,e)})),n.sort((function(e,a){return e.length-a.length}))},pm={searchInputValue:"",searchWords:[],hasDepth:"any",timeStart:"1900-01-01",timeEnd:(new Date).toISOString().slice(0,10),latStart:-90,latEnd:90,lonStart:-180,lonEnd:180,sensor:"Any"},dm=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state=Object(u.a)({showAdvanced:!1,helpDialogOpen:!1},pm),e.componentDidMount=function(){e.props.keywords&&e.props.keywords.length||e.props.keywordsFetch()},e.handleToggleShowAdvanced=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{showAdvanced:!e.state.showAdvanced}))},e.handleChangeSearchValue=function(a,t){var n=void 0===a.target.name?"string"===typeof t||null===t?"sensor":"searchWords":a.target.name,r="searchWords"===a.target.name||void 0===a.target.name||"sensor"===a.target.name?t:a.target.value;"sensor"===n&&null===r&&(r="Any"),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{[n]:r})),e.props.history.push("/catalog?"+lm({searchWords:e.state.searchWords,hasDepth:e.state.hasDepth,timeStart:e.state.timeStart,timeEnd:e.state.timeEnd,latStart:e.state.latStart,latEnd:e.state.latEnd,lonStart:e.state.lonStart,lonEnd:e.state.lonEnd,sensor:e.state.sensor,[n]:r}))},e.handleSearchInputValueChange=function(a){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{searchInputValue:a&&a.target&&a.target.value||""}))},e.handleResetSearch=function(){e.setState(Object(u.a)(Object(u.a)({},e.state),pm)),e.props.history.push("/catalog")},e.handleSelectRegion=function(a){var t=a?a.value.split(" ").map((function(e){return parseFloat(e)})):[-90,90,-180,180],n=t[0],r=t[1],o=t[2],s=t[3];e.props.history.push("/catalog?"+lm({searchWords:e.state.searchWords,hasDepth:e.state.hasDepth,timeStart:e.state.timeStart,timeEnd:e.state.timeEnd,latStart:n,latEnd:r,lonStart:o,lonEnd:s,sensor:e.state.sensor})),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{latStart:n,latEnd:r,lonStart:o,lonEnd:s}))},e.render=function(){var a=e.props,t=a.classes,n=a.keywords,o=e.state,s=o.searchInputValue,i=o.searchWords,l=o.hasDepth,c=o.timeStart,m=o.timeEnd,p=o.latStart,d=o.latEnd,h=o.lonStart,b=o.lonEnd;return r.a.createElement(Ur.a,{className:t.searchWrapper,elevation:4},r.a.createElement(Kr.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},r.a.createElement(Ci.a,{className:t.autoComplete,value:i,onChange:e.handleChangeSearchValue,clearOnBlur:!0,size:"small",classes:{paper:t.autocompletePopperPaper},fullWidth:!1,filterOptions:mm,handleHomeEndKeys:!0,open:s.length>1,multiple:!0,id:"catalog-search-autocomplete",options:n,clearOnEscape:!0,freeSolo:!0,inputValue:s,onInputChange:e.handleSearchInputValueChange,renderTags:function(e,a){return e.map((function(e,n){return r.a.createElement(Yr.a,{title:e,key:e},r.a.createElement(Oi.a,Object.assign({variant:"outlined",label:e},a({index:n}),{className:t.chip})))}))},renderInput:function(e){return r.a.createElement(Zr.a,Object.assign({},e,{name:"searchWords",placeholder:i.length>0?"Add Keywords":"Search by Keyword",InputProps:Object(u.a)(Object(u.a)({},e.InputProps),{},{startAdornment:r.a.createElement(r.a.Fragment,null,r.a.createElement(Co.a,{position:"start"},r.a.createElement(_o.a,{style:{color:Pr.primary}})),e.InputProps.startAdornment)}),variant:"outlined"}))}}),r.a.createElement(ts,{title:"Catalog Search",content:r.a.createElement(cm,null)})),r.a.createElement("div",{className:t.showAdvancedWrapper},r.a.createElement(no.a,{component:"button",onClick:e.handleToggleShowAdvanced},e.state.showAdvanced?"Hide Advanced Search":"Advanced Search")),e.state.showAdvanced?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{item:!0,container:!0,xs:12,className:t.searchPanelRow},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Vr.a,{className:t.searchSectionHeader},"Temporal Coverage")),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"timeStart",className:t.formControl,id:"date",label:"Start Date",type:"date",InputLabelProps:{shrink:!0},value:c,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"timeEnd",className:t.formControl,id:"date",label:"End Date",type:"date",InputLabelProps:{shrink:!0},value:m,onChange:e.handleChangeSearchValue}))),r.a.createElement(Kr.a,{item:!0,container:!0,xs:12,className:t.searchPanelRow,style:{marginTop:"14px"}},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Vr.a,{className:t.searchSectionHeader,style:{marginBottom:0}},"Spatial Coverage")),r.a.createElement(Kr.a,{item:!0,xs:12,style:{textAlign:"left",margin:"-3px 0 8px 10px"}},r.a.createElement(Mi,{onSelect:e.handleSelectRegion,paperClass:t.autocompletePopperPaper,inputClass:t.regionSelectorInput})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"latStart",className:t.formControl,label:"Lat Start\xb0",type:"number",inputProps:{min:-90,max:90},InputLabelProps:{shrink:!0},value:p,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"latEnd",className:t.formControl,label:"Lat End\xb0",type:"number",inputProps:{min:-90,max:90},InputLabelProps:{shrink:!0},value:d,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"lonStart",className:t.formControl,label:"Lon Start\xb0",type:"number",inputProps:{min:-180,max:180},InputLabelProps:{shrink:!0},value:h,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Zr.a,{name:"lonEnd",className:t.formControl,label:"Lon End\xb0",type:"number",inputProps:{min:-180,max:180},InputLabelProps:{shrink:!0},value:b,onChange:e.handleChangeSearchValue})),r.a.createElement(Kr.a,{item:!0,xs:6},r.a.createElement(Ks.a,{className:t.formControl},r.a.createElement(wi.a,null,"Depth Levels"),r.a.createElement(Zs.a,{value:l,onChange:e.handleChangeSearchValue,name:"hasDepth"},r.a.createElement(Wo.a,{value:"any"},"Any"),r.a.createElement(Wo.a,{value:"yes"},"Multiple Levels"),r.a.createElement(Wo.a,{value:"no"},"Surface Only")))),r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Ci.a,{options:e.props.submissionOptions?e.props.submissionOptions.Sensor:[],renderInput:function(e){return r.a.createElement(Zr.a,Object.assign({},e,{margin:"dense",name:"sensor",label:"Sensor",InputLabelProps:{style:{fontSize:"16px"}},fullWidth:!0,classes:{root:t.sensorTextField},InputLabelProps:{classes:{root:t.sensorInputLabel}}}))},value:e.state.sensor,onChange:e.handleChangeSearchValue,classes:{paper:t.autocompletePopperPaper}}))),r.a.createElement(Kr.a,{item:!0,xs:12,className:t.searchPanelRow},r.a.createElement($r.a,{variant:"outlined",onClick:e.handleResetSearch,className:t.resetButton},"Reset Filters"))):""))},e}return t}(r.a.Component),hm=Object(l.b)((function(e,a){return{keywords:e.keywords,searchResults:e.searchResults,submissionOptions:e.submissionOptions}}),um)(Object(zr.a)((function(e){return{searchWrapper:{position:"-webkit-sticky",position:"sticky",top:"152px",padding:"14px 20px"},chip:{maxWidth:"160px",color:"white",borderColor:e.palette.primary.main,marginRight:"6px",height:"28px"},resetButton:{textTransform:"none",width:"160px",height:"37px",color:e.palette.primary.main,borderColor:e.palette.primary.main,marginTop:"12px"},searchPanelRow:{marginTop:"10px"},autocompletePopperPaper:{backgroundColor:"#1F4B65"},depthFormControlRoot:{textAlign:"left"},formControl:{width:"90%",marginBottom:"6px"},autoComplete:{width:"calc(100% - 48px)"},searchSectionHeader:{color:e.palette.primary.main,textAlign:"left",marginBottom:"8px"},showAdvancedWrapper:{textAlign:"left",marginTop:"4px",width:"100%"},regionSelectorInput:{fontSize:"13px"},sensorInputLabel:{fontSize:"21px"},sensorTextField:{paddingTop:"8px"}}}))(Object(Fr.f)(dm))),bm={searchOptionsFetch:I,searchResultsStore:P},gm=Object(l.b)((function(e,a){return{}}),bm)(Object(zr.a)((function(e){return{wrapperDiv:{marginTop:"68px",padding:"20px",boxSizing:"border-box",[e.breakpoints.down("sm")]:{padding:"20px 8px"}},root:{width:"50vw",maxWidth:"1200px",minWidth:"480px",padding:"16px 24px",margin:"0 auto",transition:"marginTop 2s"}}}))((function(e){return Object(n.useEffect)((function(){e.searchOptionsFetch()}),[]),Object(n.useEffect)((function(){return document.title=Xl.catalog.title,document.description=Xl.catalog.description,function(){document.title=Xl.default.title,document.description=Xl.default.description}})),Object(n.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="auto"}})),r.a.createElement("div",{className:e.classes.wrapperDiv},r.a.createElement(Kr.a,{container:!0,justify:"center"},r.a.createElement(Kr.a,{item:!0,xs:12,md:4},r.a.createElement(hm,null)),r.a.createElement(Kr.a,{item:!0,xs:12,md:8},r.a.createElement(os,null))))}))),fm=t(214),Em=t.n(fm),xm=t(849),vm=t(850),ym=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,null,"This table contains information about the variables belonging to this dataset including general information, temporal and spatial coverage, and summary statistics."),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},"Enter a search term into the variable filter to quickly filter by variable name, sensor, or other keyword."),r.a.createElement("img",{src:"/images/help_variable_grid_filter.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Using Quick Filter"}),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},"Click any column header to sort the table by the values in that column. Click again to reverse the sort order."),r.a.createElement("img",{src:"/images/help_variable_grid_sort.gif",style:{margin:"20px auto",display:"block",width:"400px",maxWidth:"80vw"},alt:"Multiple Keyword Example"}),r.a.createElement(Vr.a,{style:{marginTop:"12px"}},"To download the variable table in csv format right click on any cell and click CSV Export."),r.a.createElement("img",{src:"/images/help_variable_grid_export.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Multiple Keyword Example"}))},Sm=Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.solidPaper,color:"white",padding:"12px"}}}))((function(e){var a=e.value,t=e.classes,n=r.a.useState(!1),o=Object(ko.a)(n,2),s=o[0],i=o[1];return!e.value||(e.value&&e.value.length)<20?e.value:r.a.createElement(r.a.Fragment,null,r.a.createElement(no.a,{component:"button",style:{color:Pr.primary,fontSize:"12px",lineHeight:"38px"},onClick:function(){return i(!0)}},"View Comment"),r.a.createElement(bo.a,{open:s,onClose:function(){return i(!1)},classes:{paper:t.dialogPaper}},r.a.createElement(xo.a,{source:a})))})),Om=[{headerName:"General Information",children:[{headerName:"Variable Name",field:"Long_Name",tooltipField:"Long_Name"},{headerName:"Short Name",field:"Variable"},{headerName:"Sensor",field:"Sensor"},{headerName:"Unit",field:"Unit"},{headerName:"Comment",field:"Comment",tooltipField:"Comment",cellRenderer:"commentCellRenderer"}]},{headerName:"Coverage",children:[{headerName:"Lat Start",field:"Lat_Min"},{headerName:"Lat_End",field:"Lat_Max"},{headerName:"Lon Start",field:"Lon_Min"},{headerName:"Long End",field:"Lon_Max"},{headerName:"Time Start",field:"Time_Min"},{headerName:"Time End",field:"Time_Max"},{headerName:"Depth Start",field:"Depth_Min"},{headername:"Depth End",field:"Depth_Max"}]},{headerName:"Table Statistics",children:[{headerName:"Database Row Count",field:"Variable_Count"},{headerName:"Mean Value",field:"Variable_Mean"},{headerName:"Min Value",field:"Variable_Min"},{headerName:"Max Value",field:"Variable_Max"},{headerName:"STD",field:"Variable_STD"},{headerName:"25th Quantile",field:"Variable_25th"},{headerName:"50th Quantile",field:"Variable_50th"},{headerName:"75th Quantile",field:"Variable_75th"},{headerName:"Keywords",field:"Keywords",hide:!0}]}],wm={cellStyle:{fontSize:"12px",lineHeight:"38px"},menuTabs:[],suppressMovable:!0,sortable:!0},Cm=r.a.memo((function(e){var a=e.Variables,t=e.classes,o=Object(n.useState)(""),s=Object(ko.a)(o,2),i=s[0],l=s[1];return r.a.createElement("div",null,r.a.createElement(Zr.a,{className:t.gridSearch,margin:"normal",type:"text",variant:"outlined",name:"quickSearch",value:i,label:"Variable Filter",onChange:function(e){return l(e.target.value)},InputProps:{startAdornment:r.a.createElement(Co.a,{position:"start"},r.a.createElement(_o.a,{style:{color:Pr.primary}}))}}),r.a.createElement(ts,{title:"Variable Table",content:r.a.createElement(ym,null),buttonClass:t.helpButton}),r.a.createElement("div",{className:t.gridWrapper+" ag-theme-material",style:{height:"".concat(60*a.length+200,"px"),maxHeight:"600px"}},r.a.createElement(co.AgGridReact,{columnDefs:Om,defaultColDef:wm,rowData:a,onGridReady:function(e){return e.columnApi.autoSizeAllColumns()},enableCellTextSelection:!0,rowHeight:38,enableBrowserTooltips:!0,cacheQuickFilter:!0,quickFilterText:i,getContextMenuItems:function(){return["copy","csvExport"]},icons:{menu:Em.a.renderToString(r.a.createElement(Dc.a,{style:{fontSize:"1.2rem",color:Pr.primary}})),sortAscending:Em.a.renderToString(r.a.createElement(xm.a,{style:{fontSize:"1.2rem",color:Pr.primary}})),sortDescending:Em.a.renderToString(r.a.createElement(vm.a,{style:{fontSize:"1.2rem",color:Pr.primary}}))},frameworkComponents:{commentCellRenderer:Sm}})))})),_m=Object(zr.a)((function(e){return{gridWrapper:{border:"1px solid black"},helpButton:{margin:"0 0 -40px 6px"}}}))(Cm),km=function(e){var a=[].concat(Object(d.a)(Array.from(new Set(e.Keywords.split(","))).map((function(e){return e.trim()}))),["oceanography"]),t={"@context":"https://schema.org/","@type":"Dataset",name:e.Long_Name,description:e.Description,keywords:a,alternateName:e.Short_Name,citation:e.References||"",measurementTechnique:e.sensors,hasPart:e.Variables.map((function(a){return{"@type":"Dataset",name:a.Long_Name,description:"".concat(a.Long_Name," measured via ").concat(a.Sensor," in ").concat(a.Unit,". Part of dataset ").concat(e.Long_Name),creator:{"@type":"Organization",name:e.Data_Source}}})),creator:{"@type":"Organization",name:e.Data_Source},includedInDataCatalog:{"@type":"DataCatalog",name:"simonscmap.com"},temporalCoverage:e.Time_Min&&e.Time_Max?"".concat(e.Time_Min.slice(0,10),"/").concat(e.Time_Max.slice(0,10)):"",spatialCoverage:{"@type":"Place",geo:{"@type":"GeoShape",box:"".concat(e.Lat_Min," ").concat(e.Lon_Min," ").concat(e.Lat_Max," ").concat(e.Lon_Max)}}};return r.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})},Tm=t(862),jm=Object(zr.a)((function(e){return{}}))((function(e){e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,null,"This component allows you to download a csv file containing data from this dataset. Depending on the size of the dataset you may be able to download it in its entirety, or may need to specify a subset using the sliders or form fields, the minimum and maximum values of which represent the dataset's spatial and temporal boundaries."),r.a.createElement(Vr.a,null,"If the subset is too large you will see text instructing you to reduce the size of the subset, as below:"),r.a.createElement("img",{src:"/images/help_catalog_downloading_data_too_large.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Subset Too Large Example"}),r.a.createElement(Vr.a,null,'Adjust the any of subset parameters until the download size is within the allowed range, and click "Download Subset":'),r.a.createElement("img",{src:"/images/help_catalog_downloading_data_valid.png",style:{margin:"20px auto",display:"block",width:"480px",maxWidth:"80vw"},alt:"Valid Download Example"}))})),Am={csvDownloadRequestSend:te},Nm=function(e,a){var t=new Date(e);t.setDate(t.getDate()+a);var n=t.getMonth()+1;n=n>9?n:"0"+n;var r=t.getDate();return r=r>9?r:"0"+r,"".concat(t.getFullYear(),"-").concat(n,"-").concat(r)},Rm=function(e,a){return Math.ceil((new Date(a).getTime()-new Date(e).getTime())/864e5)},Dm=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t),(n=a.call(this,e)).handleSetStartDate=function(e){if(e.target.value){var a=e.target.value.split("-"),t=new Date(a[0],parseInt(a[1])-1,a[2]),r=new Date(n.props.dataset.Time_Min),o=new Date(n.props.dataset.Time_Max),s=t<r?r:t>o?o:t;n.setState(Object(u.a)(Object(u.a)({},n.state),{},{time:[Rm(n.props.dataset.Time_Min,s),n.state.time[1]]}))}},n.handleSetEndDate=function(e){if(e.target.value){var a=e.target.value.split("-"),t=new Date(a[0],parseInt(a[1])-1,a[2]),r=new Date(n.props.dataset.Time_Min),o=new Date(n.props.dataset.Time_Max),s=t<r?r:t>o?o:t;n.setState(Object(u.a)(Object(u.a)({},n.state),{},{time:[n.state.time[0],Rm(n.props.dataset.Time_Min,s)]}))}},n.handleFullDatasetDownload=function(e){var a="select%20*%20from%20".concat(e),t=n.props.dataset.Long_Name;n.props.csvDownloadRequestSend(a,t,e)},n.handleSubsetDownload=function(e,a,t,r,o,s,i,l,c){var u=Boolean(n.props.dataset.Temporal_Resolution===Pe.monthlyClimatology),m=u?"month":"time",p=u?new Date(a).getMonth()+1:a,d=u?new Date(t).getMonth()+1:t,h="select * from ".concat(e," where ").concat(m," between '").concat(p,"' and '").concat(d,"' and ")+"lat between ".concat(r," and ").concat(o," and ")+"lon between ".concat(s," and ").concat(i);Boolean(n.props.dataset.Depth_Max)&&(h+=" and depth between ".concat(l," and ").concat(c));var b=n.props.dataset.Long_Name;n.props.csvDownloadRequestSend(h,b,e)},n.handleSliderChange=function(e,a){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{[e]:a}))};var r=Math.ceil((new Date(n.props.dataset.Time_Max).getTime()-new Date(n.props.dataset.Time_Min).getTime())/864e5);return n.state={lat:[Math.floor(10*n.props.dataset.Lat_Min)/10,Math.ceil(10*n.props.dataset.Lat_Max)/10],lon:[Math.floor(10*n.props.dataset.Lon_Min)/10,Math.ceil(10*n.props.dataset.Lon_Max)/10],time:n.props.dataset.Time_Min?[0,r]:[1,12],depth:[Math.floor(n.props.dataset.Depth_Min),Math.ceil(n.props.dataset.Depth_Max)],maxDays:r},n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.dataset,n=a.dialogOpen,o=a.handleClose,s=a.classes,i=t.Lat_Min,l=t.Lat_Max,c=t.Lon_Min,u=t.Lon_Max,m=t.Time_Min,p=t.Time_Max,d=t.Depth_Min,h=t.Depth_Max,b=(t.Spatial_Resolution,t.Temporal_Resolution),g=t.Table_Name,f=t.Row_Count,E=this.state,x=E.lat,v=E.lon,y=E.time,S=E.depth,O=parseFloat(i),w=parseFloat(l),C=parseFloat(c),_=parseFloat(u),k=Date.parse(m),T=Date.parse(p),j=x[0],A=x[1],N=v[0],R=v[1],D=y[0],L=y[1],I=b===Pe.monthlyClimatology;if(h)var P=parseFloat(d),M=parseFloat(h),F=S[0],z=S[1];var U,V=f*((t.Variables&&t.Variables.length)+(t.Depth_Max?1:0)+3),B=V<2e7;if(b===Pe.monthlyClimatology)U=(y[1]-y[0]+1)/12;else{var H=(T-k)/864e5||1,G=L-D<1?1:L-D;U=H>G?G/H:1}var W=w-O||1,q=(A-j||1/W)/W,Q=_-C||1,K=(R-N||1/Q)/Q,Y=1;if(h)if(qs.piscesTable.has(g))Y=qs.count({data:t},F,z)/qs.piscesDepths.length||1;else if(qs.darwinTable.has(g)){Y=qs.count({data:t},F,z)/qs.darwinDepths.length||1}else{var Z=M-P||1,$=z-F||1;Y=$>Z?1:$/Z}var J=Math.floor(V*U*q*K*Y),X=J<=2e7,ee=I?y[0]:Nm(m,D),ae=I?y[1]:Nm(m,L);return r.a.createElement(r.a.Fragment,null,r.a.createElement(bo.a,{PaperProps:{className:s.dialogPaper},open:n,onClose:o,maxWidth:!1},r.a.createElement(go.a,null,"Downloading ",t.Long_Name,r.a.createElement(ts,{title:"Downloading Data",content:r.a.createElement(jm,null),buttonClass:s.helpButton})),r.a.createElement(fo.a,{style:{padding:"0px 40px"},classes:{root:s.dialogRoot}},r.a.createElement(Vr.a,null,B?"The full dataset is available for download.":"The full dataset is too large for download."),r.a.createElement(Vr.a,null,X?"The subset described below is available for download.":"The subset described below contains approximately ".concat(J," data points. Maximum download size is 20000000. Please reduce the range of one or more parameters.")),I?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{container:!0,className:s.formGrid},r.a.createElement(Kr.a,{item:!0,xs:12,md:4},r.a.createElement(Vr.a,{className:s.formLabel},"Month")),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"Start",type:"number",inputProps:{min:1,max:12,className:s.input},InputLabelProps:{shrink:!0},value:y[0],onChange:function(a){return e.handleSliderChange("time",[""===a.target.value?"":Number(a.target.value),y[1]])}})),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"End",type:"number",inputProps:{min:1,max:12,className:s.input},InputLabelProps:{shrink:!0},value:y[1],onChange:function(a){return e.handleSliderChange("time",[y[0],""===a.target.value?"":Number(a.target.value)])}}))),r.a.createElement(Tm.a,{min:1,max:12,value:["number"===typeof y[0]?y[0]:1,"number"===typeof y[1]?y[1]:12],value:this.state.time,onChange:function(a,t){return e.handleSliderChange("time",t)},classes:{valueLabel:s.sliderValueLabel,thumb:s.sliderThumb,markLabel:s.markLabel},className:s.slider,marks:[{value:1,label:"1"},{value:12,label:"12"}]})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{container:!0,className:s.formGrid},r.a.createElement(Kr.a,{item:!0,xs:12,md:4},r.a.createElement(Vr.a,{className:s.formLabel},"Date")),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"Start",type:"date",inputProps:{className:s.input},InputLabelProps:{shrink:!0},value:Nm(m,this.state.time[0]),onChange:this.handleSetStartDate})),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"End",type:"date",inputProps:{className:s.input},InputLabelProps:{shrink:!0},value:Nm(m,this.state.time[1]),onChange:this.handleSetEndDate}))),r.a.createElement(Tm.a,{min:0,max:this.state.maxDays,value:this.state.time,onChange:function(a,t){return e.handleSliderChange("time",t)},classes:{valueLabel:s.sliderValueLabel,thumb:s.sliderThumb,markLabel:s.markLabel},className:s.slider,marks:[{value:0,label:Nm(m,0)},{value:this.state.maxDays,label:Nm(m,this.state.maxDays)}]})),r.a.createElement(Kr.a,{container:!0,className:s.formGrid},r.a.createElement(Kr.a,{item:!0,xs:12,md:4},r.a.createElement(Vr.a,{className:s.formLabel},"Latitude[","\xb0","]")),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"Start",type:"number",inputProps:{step:.1,min:Math.floor(10*i)/10,max:Math.ceil(10*l)/10,className:s.input},InputLabelProps:{shrink:!0},value:x[0],onChange:function(a){return e.handleSliderChange("lat",[""===a.target.value?"":Number(a.target.value),x[1]])}})),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"End",type:"number",inputProps:{step:.1,min:Math.floor(10*i)/10,max:Math.ceil(10*l)/10,className:s.input},InputLabelProps:{shrink:!0},value:x[1],onChange:function(a){return e.handleSliderChange("lat",[x[0],""===a.target.value?"":Number(a.target.value)])}}))),r.a.createElement(Tm.a,{min:Math.floor(10*i)/10,max:Math.ceil(10*l)/10,step:.1,value:["number"===typeof x[0]?x[0]:-90,"number"===typeof x[1]?x[1]:90],onChange:function(a,t){return e.handleSliderChange("lat",t)},classes:{valueLabel:s.sliderValueLabel,thumb:s.sliderThumb,markLabel:s.markLabel},className:s.slider,disabled:i===l,marks:[{value:Math.floor(10*i)/10,label:"".concat(Math.floor(10*i)/10)},{value:Math.ceil(10*l)/10,label:"".concat(Math.ceil(10*l)/10)}]}),r.a.createElement(Kr.a,{container:!0,className:s.formGrid},r.a.createElement(Kr.a,{item:!0,xs:12,md:4},r.a.createElement(Vr.a,{className:s.formLabel},"Longitude[","\xb0","]")),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"Start",type:"number",inputProps:{step:.1,min:Math.floor(10*c)/10,max:Math.ceil(10*u)/10,className:s.input},InputLabelProps:{shrink:!0},value:v[0],onChange:function(a){return e.handleSliderChange("lon",[""===a.target.value?"":Number(a.target.value),v[1]])}})),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"End",type:"number",inputProps:{step:.1,min:Math.floor(10*c)/10,max:Math.ceil(10*u)/10,className:s.input},InputLabelProps:{shrink:!0},value:v[1],onChange:function(a){return e.handleSliderChange("lon",[v[0],""===a.target.value?"":Number(a.target.value)])}}))),r.a.createElement(Tm.a,{min:Math.floor(10*c)/10,max:Math.ceil(10*u)/10,step:.1,value:["number"===typeof v[0]?v[0]:-90,"number"===typeof v[1]?v[1]:90],onChange:function(a,t){return e.handleSliderChange("lon",t)},classes:{valueLabel:s.sliderValueLabel,thumb:s.sliderThumb,markLabel:s.markLabel},className:s.slider,disabled:c===u,marks:[{value:Math.floor(10*c)/10,label:"".concat(Math.floor(10*c)/10)},{value:Math.ceil(10*u)/10,label:"".concat(Math.ceil(10*u)/10)}]}),h?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{container:!0,className:s.formGrid},r.a.createElement(Kr.a,{item:!0,xs:12,md:4},r.a.createElement(Vr.a,{className:s.formLabel},"Depth[m]")),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"Start",type:"number",inputProps:{min:Math.floor(d),max:Math.ceil(h),className:s.input},InputLabelProps:{shrink:!0},value:S[0],onChange:function(a){return e.handleSliderChange("depth",[""===a.target.value?"":Number(a.target.value),S[1]])}})),r.a.createElement(Kr.a,{item:!0,xs:6,md:4},r.a.createElement(Zr.a,{label:"End",type:"number",inputProps:{min:Math.floor(d),max:Math.ceil(h),className:s.input},InputLabelProps:{shrink:!0},value:S[1],onChange:function(a){return e.handleSliderChange("depth",[x[0],""===a.target.value?"":Number(a.target.value)])}}))),r.a.createElement(Tm.a,{min:Math.floor(d),max:Math.ceil(h),value:["number"===typeof S[0]?S[0]:-90,"number"===typeof S[1]?S[1]:90],onChange:function(a,t){return e.handleSliderChange("depth",t)},classes:{valueLabel:s.sliderValueLabel,thumb:s.sliderThumb,markLabel:s.markLabel},className:s.slider,marks:[{value:Math.floor(d),label:"".concat(Math.floor(d))},{value:Math.ceil(h),label:"".concat(Math.ceil(h))}]})):""),r.a.createElement(oc.a,{style:{marginTop:"8px"}},r.a.createElement($r.a,{onClick:o},"Cancel"),X&&r.a.createElement($r.a,{onClick:function(){return e.handleSubsetDownload(g,ee,ae,j,A,N,R,F,z)}},"Download Subset"),B&&r.a.createElement($r.a,{onClick:function(){return e.handleFullDatasetDownload(g)}},"Download Full Dataset"))))}}]),t}(n.Component),Lm=Object(l.b)((function(e,a){return{datasets:e.datasets,catalog:e.catalog}}),Am)(Object(zr.a)((function(e){return{dialogPaper:{backgroundColor:Pr.solidPaper,"@media (max-width: 600px)":{width:"100vw",margin:"12px"},width:"60vw"},sliderValueLabel:{top:-22,"& *":{background:"transparent",color:e.palette.primary.main},left:-14},slider:{margin:"4px 8px 8px 0px"},sliderThumb:{borderRadius:"0px",height:"16px",width:"3px",marginLeft:0,marginTop:"-7px"},dialogRoot:{overflowY:"visible"},markLabel:{top:30,fontSize:".7rem"},input:{fontSize:"13px",padding:"2px 0"},formGrid:{marginTop:"16px"},formLabel:{marginTop:"13px",fontSize:".92rem"},helpButton:{marginTop:"-2px"},closeDialogIcon:{float:"right",marginTop:"-12px",marginRight:"-8px"}}}))(Dm)),Im=t(851),Pm=function(e){return e.loading?r.a.createElement(r.a.Fragment,null,e.children.map((function(e,a){return r.a.createElement(Im.a,{key:a},e)}))):r.a.createElement(r.a.Fragment,null,e.children.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},e)})))},Mm={datasetFullPageDataFetch:function(e){return{type:"DATASET_FULL_PAGE_DATA_FETCH",payload:{shortname:e}}},datasetFullPageDataStore:F},Fm=Object(l.b)((function(e,a){return{datasetFullPageDataLoadingState:e.datasetFullPageDataLoadingState,datasetFullPageData:e.datasetFullPageData}}),Mm)(Object(zr.a)((function(e){return{stickyPaper:{position:"-webkit-sticky",maxHeight:"calc(100vh - 128px)",position:"sticky",top:"90px",width:"160px",marginLeft:"20px",paddingLeft:"12px",backgroundColor:"rgba(0,0,0,.4)",overflow:"auto"},guideSection:{width:"80%",margin:"20px auto 0 auto",textAlign:"left",padding:"12px 32px",[e.breakpoints.down("sm")]:{padding:"12px 12px",margin:"16px auto 16px auto",width:"90%"},fontFamily:'"roboto", Serif',backgroundColor:"rgba(0,0,0,.4)",marginBottom:"20px"},sectionHeader:{margin:"16px 0 2px 0",fontWeight:100,fontFamily:'"roboto", Serif'},"@media screen and (max-width: 1300px)":{stickyPaper:{display:"none"}},navListItem:{color:e.palette.primary.main,padding:"2px 10px 2px 6px"},navListItemText:{"&:hover":{textDecoration:"underline"}},doiListItem:{color:e.palette.primary.main,padding:"0 10px 0 6px",width:"max-content"},doiListItemText:{fontSize:"16px","&:hover":{textDecoration:"underline"}},doiListItemtextWrapper:{margin:"0"},navListItemtextWrapper:{margin:"2px 0"},subListText:{margin:0,"&:hover":{textDecoration:"underline"}},anchor:{display:"block",position:"relative",top:"-120px",visibility:"hidden"},divider:{backgroundColor:e.palette.primary.main,marginBottom:"8px"},sampleTableRow:{"& td":{padding:"10px 24px 10px 16px"}},navListSubItemText:{fontSize:".785rem"},navListSubSubItemText:{fontSize:".7rem"},outerContainer:{marginTop:"70px",color:"white"},markdown:{"& img":{maxWidth:"100%",margin:"20px auto 20px auto",display:"block"},"& a":{color:e.palette.primary.main,textDecoration:"none"},"& p":{fontSize:"1rem",fontFamily:'"Lato",sans-serif',fontWeight:400,lineHeight:1.5}},smallText:{fontSize:".8rem"},tableHead:{fontWeight:600},variableLongName:{color:e.palette.primary.main},pageHeader:{[e.breakpoints.down("sm")]:{fontSize:"1.4rem"}},helpIcon:{fontSize:"1.2rem"},helpButton:{padding:"12px 12px 12px 8px"},cartButtonClass:{textTransform:"none",color:e.palette.primary.main,marginTop:"16px"},cruiseLink:{display:"block",marginBottom:"3px",color:Pr.primary}}}))((function(e){var a=e.classes,t=e.datasetFullPageDataFetch,o=e.datasetFullPageDataStore,s=e.datasetFullPageData,i=e.datasetFullPageDataLoadingState,l=s.Variables,c=s.Acknowledgement,p=s.Data_Source,d=s.Depth_Max,h=s.Depth_Min,b=s.Description,g=s.Distributor,f=s.Lat_Max,E=s.Lat_Min,x=s.Lon_Max,v=s.Lon_Min,y=s.Long_Name,S=s.Short_Name,O=s.Table_Name,w=s.Time_Max,C=s.Time_Min,_=s.References,k=s.Make,T=s.Process_Level,j=s.Spatial_Resolution,A=s.Temporal_Resolution,N=s.Sensors,R=s.Cruises,D=i===m.inProgress,L=r.a.useState(!1),I=Object(ko.a)(L,2),P=I[0],M=I[1];Object(n.useEffect)((function(){return t(e.match.params.dataset),function(){return o({})}}),[]),Object(n.useEffect)((function(){return document.title=y||Xl.defaultTitle,document.description=b||Xl.default.description,function(){document.title=Xl.default.title,document.description=Xl.default.description}}),[y]);return r.a.createElement(Kr.a,{container:!0,className:a.outerContainer},P?r.a.createElement(Lm,{dialogOpen:P,dataset:s,handleClose:function(){return M(!1)}}):"",r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Ur.a,{className:a.guideSection,elevation:4},r.a.createElement(Pm,{loading:D},r.a.createElement("a",{className:a.anchor,id:"description"}),r.a.createElement(Vr.a,{variant:"h4",className:a.pageHeader,style:{color:"white"}},y),r.a.createElement(xo.a,{source:b,className:a.markdown}),r.a.createElement("a",{className:a.anchor,id:"info-table"}),r.a.createElement(Hr.a,{size:"small",style:{marginTop:"24px",maxWidth:"800px"}},r.a.createElement(Qr.a,null,r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Make"),r.a.createElement(qr.a,null,k)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Sensor",N&&N.length>1?"s":""),r.a.createElement(qr.a,null,N?N.join(", "):"")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Process Level"),r.a.createElement(qr.a,null,T)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Database Table Name"),r.a.createElement(qr.a,null,O)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Database Dataset Name"),r.a.createElement(qr.a,null,S)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Temporal Resolution"),r.a.createElement(qr.a,null,A)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Time Start*"),r.a.createElement(qr.a,null,C?C.slice(0,10):"NA")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Time End*"),r.a.createElement(qr.a,null,w?w.slice(0,10):"NA")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Spatial Resolution"),r.a.createElement(qr.a,null,j)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lat Start*"),r.a.createElement(qr.a,null,E,"\xb0")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lat End*"),r.a.createElement(qr.a,null,f,"\xb0")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lon Start*"),r.a.createElement(qr.a,null,v,"\xb0")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lon End*"),r.a.createElement(qr.a,null,x,"\xb0")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Depth Start*"),r.a.createElement(qr.a,null,d?h+"m":"Surface Only")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Depth End*"),r.a.createElement(qr.a,null,d?d+"m":"Surface Only")))),r.a.createElement(Vr.a,{variant:"caption",style:{margin:"4px 0 14px 4px",display:"inline-block",color:"white"}},"*Temporal and spatial coverage may differ between member variables"),r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{marginBottom:"16px",color:"white"}},r.a.createElement("a",{className:a.anchor,id:"variables"}),"Variables"),l?r.a.createElement(_m,{Variables:l}):"",p||D?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{color:"white"}},r.a.createElement("a",{className:a.anchor,id:"data-source"}),"Data Source"),r.a.createElement(Vr.a,{className:a.smallText,style:{color:"white"}},p)):"",g||D?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{color:"white"}},r.a.createElement("a",{className:a.anchor,id:"distributor"}),"Distributor"),r.a.createElement(Vr.a,{className:a.smallText,style:{color:"white"}},g)):"",c||D?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{color:"white"}},r.a.createElement("a",{className:a.anchor,id:"acknowledgement"}),"Acknowledgement"),r.a.createElement(Vr.a,{className:a.smallText,style:{color:"white"}},c)):"",_&&_.length||D?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{color:"white"}},r.a.createElement("a",{className:a.anchor,id:"references"}),"References"),D?"":_.map((function(e,t){return r.a.createElement(Vr.a,{className:a.smallText,key:t,style:{color:"white"}},e)}))):"",R&&R.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{color:"white"}},"Cruises contributing data to this dataset:"),R.map((function(e){return r.a.createElement(no.a,{component:Mr.b,to:"/catalog/cruises/".concat(e.Name),key:e.Name,className:a.cruiseLink},e.Name)}))):"",r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{color:"white"}},r.a.createElement("a",{className:a.anchor,id:"data-access"}),"Data Access"),r.a.createElement(no.a,{component:"button",onClick:function(){var e=Object(u.a)({},s);delete e.Variables;var a=Jc.a.utils.book_new();Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet([e]),"Dataset Metadata"),Jc.a.utils.book_append_sheet(a,Jc.a.utils.json_to_sheet(l),"Variable Metadata"),Jc.a.writeFile(a,"".concat(S,"_Metadata'.xlsx"))},style:{color:Pr.primary}},"Download Dataset Metadata"),r.a.createElement(ts,{title:"Downloading Metadata",content:r.a.createElement(Vr.a,null,"This link will download an xlsx workbook with a page containing the dataset's metadata, and a second page containing the metadata of its member variables."),iconClass:a.helpIcon,buttonClass:a.helpButton}),r.a.createElement(no.a,{component:"button",onClick:function(){return M(!0)},style:{color:Pr.primary,display:"block"}},"Download Data"),r.a.createElement(Yo,{dataset:s,cartButtonClass:a.cartButtonClass}),r.a.createElement("div",{style:{marginLeft:"-11px"}},r.a.createElement(Jo,{product:s})),!D&&s&&Object.keys(s).length?r.a.createElement(km,s):""))))}))),zm={recoverPasswordRequestSend:function(e){return{type:"RECOVER_PASSWORD_REQUEST_SEND",payload:{email:e}}}},Um=Object(l.b)(null,zm)(Object(zr.a)((function(e){return{paper:{width:"60%",margin:"10% auto",height:"40vh"},description:{paddingTop:"110px"},emailSentDescription:{padding:"140px 70px 0 70px"},sendButton:{marginLeft:"8px",marginTop:"9px",height:"41px"},formWrapper:{marginTop:"24px"}}}))((function(e){var a=e.classes,t=r.a.useState(""),n=Object(ko.a)(t,2),o=n[0],s=n[1],i=r.a.useState(!1),l=Object(ko.a)(i,2),c=l[0],u=l[1],m=function(a){u(!0),e.recoverPasswordRequestSend(o)},p=""===o||/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)\.([a-zA-Z]{2,5})$/.test(o);return r.a.createElement(Ur.a,{className:a.paper},c?r.a.createElement(Vr.a,{className:a.emailSentDescription},"An email has been sent to ",o,". If you don't receive anything from us within the next few minutes please check your spam folder."):r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{className:a.description},"Enter your email address below to recover your username and password."),r.a.createElement("div",{className:a.formWrapper},r.a.createElement(Zr.a,{autoFocus:!0,margin:"normal",id:"email",type:"text",variant:"outlined",name:"email",value:o,onChange:function(e){s(e.target.value)},error:!p,helperText:p?"":"Please enter a valid email address",onKeyPress:function(e){"Enter"===e.key&&m()}}),r.a.createElement($r.a,{color:"primary",variant:"contained",className:a.sendButton,onClick:m,disabled:Boolean(!p||!o.length)},"Submit"))))}))),Vm=t(424),Bm=t.n(Vm),Hm={choosePasswordRequestSend:function(e){return{type:"CHOOSE_PASSWORD_REQUEST_SEND",payload:{password:e.password,token:e.token}}},choosePasswordRequestReset:function(){return{type:"CHOOSE_PASSWORD_REQUEST_RESET"}}},Gm=r.a.createRef(),Wm=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(e){var n;Object(Ce.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.props.choosePasswordRequestReset()},n.handleChangePassword=function(e){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{password:e.target.value}))},n.handleSubmit=function(){n.props.choosePasswordRequestSend({password:n.state.password,token:n.state.token})},n.handleChangeConfirmPassword=function(e){n.setState(Object(u.a)(Object(u.a)({},n.state),{},{confirmPassword:e.target.value}))},n.handleKeyPress=function(e){"Enter"===e.key&&Gm.current.click()};var r=e.location.pathname.split("/")[2],o=Bm()(r),s=new Date(0);s.setUTCSeconds(o.exp);var i=new Date>s;return n.state={password:"",confirmPassword:"",expired:i,token:r,email:o.sub},n}return Object(_e.a)(t,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.choosePasswordState,n=this.state,o=n.password,s=n.confirmPassword,i=n.expired,l=/^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/.test(o),c=o===s,u=Boolean(0===o.length||!l||!c);return i?r.a.createElement(Ur.a,{className:a.paper},r.a.createElement(Vr.a,{className:a.description},"This link has expired. Click here to send a ",r.a.createElement(no.a,{component:Mr.b,to:{pathname:"/forgotpass"}},"new link"),".")):t===m.succeeded?r.a.createElement(Ur.a,{className:a.paper},r.a.createElement(Vr.a,{className:a.description},"Success! You can now log in using your new password.")):t===m.failed?r.a.createElement(Ur.a,{className:a.paper},r.a.createElement(Vr.a,{className:a.description},"We were unable to complete this request. Please try again.")):r.a.createElement(Ur.a,{className:a.paper},r.a.createElement(Vr.a,{className:a.description},"Please choose a password"),r.a.createElement(Kr.a,{direction:"column",justify:"space-evenly",className:a.formGrid,container:!0},r.a.createElement(Kr.a,{item:!0},r.a.createElement(Zr.a,{fullWidth:!0,autoFocus:!0,label:"Password",margin:"normal",id:"password",type:"password",variant:"outlined",name:"password",value:o,onChange:this.handleChangePassword,error:Boolean(!l&&o.length),helperText:"Must be 8 to 32 characters with 1 number and 1 special character.",onKeyPress:this.handleKeyPress,InputLabelProps:{shrink:!0}})),r.a.createElement(Kr.a,{item:!0},r.a.createElement(Zr.a,{fullWidth:!0,label:"Confirm Password",margin:"normal",id:"confirmPassword",type:"password",variant:"outlined",name:"confirmPassword",value:s,onChange:this.handleChangeConfirmPassword,error:!c,helperText:c?"":"Passwords must match",onKeyPress:this.handleKeyPress,InputLabelProps:{shrink:!0}})),r.a.createElement(Kr.a,{item:!0},r.a.createElement($r.a,{fullWidth:!0,variant:"outlined",color:"primary",disabled:u,onClick:this.handleSubmit,ref:Gm},"Submit"))))}}]),t}(n.Component),qm=Object(l.b)((function(e,a){return{choosePasswordState:e.choosePasswordState}}),Hm)(Object(Fr.f)(Object(zr.a)((function(e){return{paper:{width:"60%",margin:"120px auto",padding:"24px 12px"},textFields:{display:"block",width:"380px"},description:{marginBottom:"12px"},formGrid:{height:"270px",padding:"0 90px"},button:{width:"120px"}}}))(Wm))),Qm={cruiseFullPageDataFetch:function(e){return{type:"CRUISE_FULL_PAGE_DATA_FETCH",payload:{name:e}}},cruiseFullPageDataStore:U},Km=Object(l.b)((function(e,a){return{cruiseFullPageDataLoadingState:e.cruiseFullPageDataLoadingState,cruiseFullPageData:e.cruiseFullPageData}}),Qm)(Object(zr.a)((function(e){return{guideSection:{width:"80%",margin:"20px auto 0 auto",textAlign:"left",padding:"12px 32px",[e.breakpoints.down("sm")]:{padding:"12px 12px",margin:"16px auto 16px auto",width:"90%"},fontFamily:'"roboto", Serif',backgroundColor:"rgba(0,0,0,.4)",marginBottom:"20px"},sectionHeader:{margin:"16px 0 2px 0",fontWeight:100,fontFamily:'"roboto", Serif'},sampleTableRow:{"& td":{padding:"10px 24px 10px 16px"}},outerContainer:{marginTop:"70px",color:"white"},tableHead:{fontWeight:600},pageHeader:{[e.breakpoints.down("sm")]:{fontSize:"1.4rem"}},datasetLink:{display:"block",marginBottom:"3px"}}}))((function(e){var a=e.classes,t=e.cruiseFullPageDataFetch,o=e.cruiseFullPageDataStore,s=e.cruiseFullPageData,i=e.cruiseFullPageDataLoadingState,l=s.Nickname,c=s.Name,u=s.Ship_Name,p=s.Start_Time,d=s.End_Time,h=s.Lat_Min,b=s.Lat_Max,g=s.Lon_Min,f=s.Lon_Max,E=s.Chief_Name,x=s.datasets,v=i===m.inProgress;return Object(n.useEffect)((function(){return t(e.match.params.cruiseName),function(){return o({})}}),[]),Object(n.useEffect)((function(){return document.title=c||Xl.defaultTitle,document.description=c||Xl.default.description,function(){document.title=Xl.default.title,document.description=Xl.default.description}}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr.a,{container:!0,className:a.outerContainer},r.a.createElement(Kr.a,{item:!0,xs:12},r.a.createElement(Ur.a,{className:a.guideSection,elevation:4},r.a.createElement(Pm,{loading:v},r.a.createElement(Vr.a,{variant:"h4",className:a.pageHeader,style:{color:"white"}},c),r.a.createElement(Hr.a,{size:"small",style:{marginTop:"24px",maxWidth:"800px"}},r.a.createElement(Qr.a,null,r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Cruise Nickname"),r.a.createElement(qr.a,null,l)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Chief Scientist"),r.a.createElement(qr.a,null,E)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Ship Name"),r.a.createElement(qr.a,null,u)),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Start Time"),r.a.createElement(qr.a,null,p?p.slice(0,10):"NA")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"End Time"),r.a.createElement(qr.a,null,d?d.slice(0,10):"NA")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lat Min"),r.a.createElement(qr.a,null,h,"\xb0")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lat Max"),r.a.createElement(qr.a,null,b,"\xb0")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lon Min"),r.a.createElement(qr.a,null,g,"\xb0")),r.a.createElement(Wr.a,{className:a.sampleTableRow},r.a.createElement(qr.a,{className:a.tableHead},"Lon Max"),r.a.createElement(qr.a,null,f,"\xb0")))),x&&x.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr.a,{variant:"h5",className:a.sectionHeader,style:{margin:"24px 0 12px 0",color:"white"}},"Datasets containing data collected on this cruise:"),x.map((function(e){return r.a.createElement(no.a,{component:Mr.b,to:"/catalog/datasets/".concat(e.Dataset_Name),key:e.Dataset_Long_Name,className:a.datasetLink},e.Dataset_Long_Name)}))):"",r.a.createElement("div",{style:{margin:"12px 0 0 -11px"}},r.a.createElement(Jo,{product:s})))))))}))),Ym=Object(Rr.a)({typography:{useNextVariants:!0,fontFamily:['"Lato"',"sans-serif"].join(",")},palette:{primary:{contrastText:"#000000",main:Pr.primary},error:{main:Pr.errorYellow},secondary:{main:Pr.secondary},background:{default:Pr.backgroundGray,paper:Pr.backgroundGray},text:{primary:"#ffffff",secondary:Pr.primary}},overrides:{MuiIconButton:{root:{color:Pr.primary,borderRadius:"10%"}},MuiPaper:{root:{backgroundColor:"rgba(0,0,0,.3)"}},MuiListItemIcon:{root:{minWidth:"40px"}},MuiFormHelperText:{filled:{paddingLeft:"1px",paddingRight:"1px",fontSize:"13px"}},MuiListItem:{gutters:{paddingLeft:"6px",paddingRight:"10px"},root:{paddingTop:"4px",paddingBottom:"4px"}},MuiToolbar:{root:{backgroundColor:"transparent",color:Pr.primary}},MuiMenuItem:{root:{"&:hover":{backgroundColor:Pr.greenHover}}},MuiPickersBasePicker:{container:{backgroundColor:Pr.backgroundGray}},MuiOutlinedInput:{input:{padding:"12px 14px"},root:{"&$focused":{borderColor:Pr.primary}}},MuiSnackbarContent:{message:{margin:"auto"}},MuiButtonGroup:{groupedOutlined:{"&:not(:first-child)":{marginLeft:0}}},MuiTableCell:{root:{borderBottomColor:"rgba(0, 0, 0, 0.9)"}},MuiFormControl:{marginNormal:{marginTop:"8px"}},MuiDialogContentText:{root:{color:"white"}},MuiExpansionPanel:{root:{"&$expanded":{margin:0}}},MuiDialogTitle:{root:{color:Pr.primary}},MuiFilledInput:{input:{paddingLeft:"6px"},adornedEnd:{paddingRight:"6px"},root:{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"},"&:disabled":{backgroundColor:"transparent"}}},MuiPopover:{paper:{backgroundColor:"#1B4156"}}}}),Zm={initializeGoogleAuth:j,toggleShowHelp:K},$m=function(e){Object(Ar.a)(t,e);var a=Object(Nr.a)(t);function t(){var e;Object(Ce.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).componentDidMount=function(){e.props.initializeGoogleAuth()},e}return Object(_e.a)(t,[{key:"render",value:function(){return r.a.createElement(Lr.a,{utils:Ir.a},r.a.createElement("div",{className:"App"},r.a.createElement(Dr.a,{theme:Ym},r.a.createElement(Mr.a,null,r.a.createElement(vc,null),r.a.createElement(Mc,null),r.a.createElement(Fr.c,null,r.a.createElement(Fr.a,{exact:!0,path:"/apikeymanagement",component:lo}),r.a.createElement(Fr.a,{exact:!0,path:"/",component:Sc}),r.a.createElement(Fr.a,{exact:!0,path:"/catalog",component:gm}),r.a.createElement(Fr.a,{exact:!0,path:"/login",component:zc}),r.a.createElement(Fr.a,{exact:!0,path:"/register",component:vs}),r.a.createElement(Fr.a,{exact:!0,path:"/visualization",component:rc}),r.a.createElement(Fr.a,{exact:!0,path:"/profile",component:Zc}),r.a.createElement(Fr.a,{exact:!0,path:"/forgotpass",component:Um}),r.a.createElement(Fr.a,{path:"/datasubmission",component:nm}),r.a.createElement(Fr.a,{path:"/choosepassword",component:qm}),r.a.createElement(Fr.a,{exact:!0,path:"/contact",component:sm}),r.a.createElement(Fr.a,{path:"/community",component:im}),r.a.createElement(Fr.a,{path:"/catalog/searchresults",component:os}),r.a.createElement(Fr.a,{path:"/catalog/datasets/:dataset",component:Fm}),r.a.createElement(Fr.a,{path:"/catalog/cruises/:cruiseName",component:Km}))))))}}]),t}(n.Component),Jm=Object(l.b)((function(e,a){return{loadingMessage:e.loadingMessage}}),Zm)($m);i.LicenseManager.setLicenseKey("School_of_Oceanography_Simons_CMAP_1Devs_1Deployment_19_June_2020__MTU5MjUyMTIwMDAwMA==aec33f954c06d90afed06467402921bd");var Xm=document.getElementById("root");s.a.render(r.a.createElement(l.a,{store:jr},r.a.createElement(Jm,null)),Xm),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[450,1,2]]]);
//# sourceMappingURL=main.83b2fdbb.chunk.js.map