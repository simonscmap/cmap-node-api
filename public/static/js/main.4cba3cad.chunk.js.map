{"version":3,"sources":["serviceWorker.js","Redux/actionTypes/catalog.js","asyncRequestStates.js","Redux/actionTypes/user.js","Redux/Reducers/ui.js","Redux/actionTypes/visualization.js","Redux/Reducers/index.js","Redux/Reducers/catalog.js","Redux/Reducers/user.js","Redux/actionTypes/ui.js","Redux/Reducers/visualization.js","Redux/actions/user.js","Redux/actions/catalog.js","Redux/actions/ui.js","Redux/actions/visualization.js","config.js","Enums/spatialResolutions.js","Utility/mapSpatialResolutionToNumber.js","Utility/flattenArray.js","Utility/splitData.js","Utility/mergeArraysAndComputeMeans.js","Utility/mergeArrays.js","Enums/visualizationSubTypes.js","Enums/temporalResolutions.js","Classes/SpaceTimeData.js","Enums/storedProcedures.js","Classes/TimeSeriesData.js","Classes/DepthProfileData.js","Enums/months.js","Classes/SectionMapData.js","Classes/SparseData.js","api.js","Redux/sagas.js","Redux/store.js","Enums/colors.js","Components/LoadingSpinner.js","Components/ApiKeyManagement.js","Components/LoginRequiredPrompt.js","Components/TopNavBar.js","Components/Home.js","Components/GridDetail.js","Components/ConnectedTooltip.js","Components/AGGridWrapper.js","Components/Catalog.js","Components/RegistrationCard.js","Components/RegistrationStepper.js","Components/Register.js","Enums/regionRenderModes.js","Enums/validation.js","Components/TableStatsDialog.js","Utility/mapTemporalResolutionToNumber.js","Components/DataRetrievalForm.js","Utility/utcDateStringToLocal.js","Components/VizControlPanel.js","Utility/handleXTicks.js","Utility/handleChartDatestring.js","Utility/chartBase.js","Components/ChartComponents/ChartControlPanel.js","Components/ChartComponents/SpaceTimeChart.js","Components/ChartComponents/TimeSeriesChart.js","Components/ChartComponents/DepthProfileChart.js","Components/ChartComponents/SectionMapChart.js","Components/ChartComponents/SparseScatter.js","Components/ChartComponents/SparseMap.js","Components/Charts.js","Components/CruiseSelector.js","Components/MapContainer.js","Utility/cleanSPParams.js","Utility/localDateToString.js","Components/Visualization.js","Components/LoginDialog.js","Components/SnackbarWrapper.js","Components/LoadingOverlay.js","Components/GlobalUIComponentWrapper.js","Components/LandingPage.js","Components/NavDrawer.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","RETRIEVAL_REQUEST_SEND","states","inProgress","failed","succeeded","expired","LOG_OUT","LOGIN_REQUEST_SEND","REGISTRATION_REQUEST_SEND","VALIDATION_REQUEST_SEND","KEY_RETRIEVAL_REQUEST_SEND","KEY_CREATION_REQUEST_SEND","uiResetState","catalogRequestState","loginDialogIsOpen","registrationActiveStep","userLoginState","userLoginError","userValidationState","userValidationError","userRegistrationState","apiKeyRetrievalState","apiKeyCreationState","QUERY_REQUEST_SEND","STORED_PROCEDURE_REQUEST_SEND","CRUISE_TRAJECTORY_REQUEST_SEND","CRUISE_LIST_REQUEST_SEND","initialState","catalog","snackbarIsOpen","snackbarMessage","loadingMessage","showHelp","user","JSON","parse","Cookies","get","apiKeys","clearLoginDialog","maps","charts","getCruiseTrajectoryRequestState","cruiseTrajectory","sampleData","queryRequestState","storedProcedureRequestState","getTableStatsRequestState","cruiseList","getCruiseListRequestState","showChartsOnce","reducedReducer","reduceReducers","state","action","type","Object","objectSpread","payload","keys","message","layers","concat","toConsumableArray","newLayer","mapInfo","chartInfo","trajectory","userLoginRequestProcessing","userLoginRequestFailure","error","userLoginRequestSuccess","storeInfo","logOut","userActionTypes","destroyInfo","userValidationRequestProcessing","userValidationRequestFailure","userValidationRequestSuccess","userRegistrationRequestProcessing","userRegistrationRequestFailure","userRegistrationRequestSuccess","keyRetrievalRequestSend","keyRetrievalRequestSuccess","keyRetrievalRequestFailure","keyCreationRequestProcessing","keyCreationRequestSuccess","retrievalRequestSend","catalogActionTypes","retrievalRequestProcessing","retrievalRequestSuccess","retrievalRequestFailure","showLoginDialog","hideLoginDialog","registrationNextActiveStep","restoreInterfaceDefaults","snackbarOpen","setLoadingMessage","queryRequestSuccess","data","queryRequestProcessing","storedProcedureRequestSuccess","storedProcedureRequestFailure","storedProcedureRequestProcessing","storeSampleData","addChart","cruiseTrajectoryRequestSend","id","visualizationActionTypes","cruiseTrajectoryRequestSuccess","cruiseTrajectoryRequestProcessing","cruiseListRequestSend","cruiseListRequestSuccess","cruiseListRequestFailure","cruiseListRequestProcessing","triggerShowCharts","apiUrl","spatialResolutions","irregular","halfDegree","quarterDegree","twentyFifthDegree","fourKm","twelfthDegree","seventyKm","oneDegree","mapSpatialResolutionToNumber","resolution","_map","defineProperty","flattenArray","arr","flattenedArray","i","length","j","push","splitData","changeInterval","numDistinct","Math","floor","mergeArraysAndComputeMeans","mergeTargetDistance","nextMergeStartDistance","numArraysPerMerge","mergedArrays","travelDistance","subArray","sum","count","k","mergeArrays","subTypes","sectionMap","contourSectionMap","timeSeries","histogram","depthProfile","heatmap","contourMap","sparse","temporalResolutions","threeMinutes","sixHourly","daily","weekly","monthly","annual","monthlyClimatology","threeDay","eightDayRunning","eightDays","SpaceTimeData","_this","this","classCallCheck","generateCsv","dates","Array","from","depths","hasDepth","csvArray","parameters","fields","variableValues","lats","lons","isNaN","join","metadata","hasHours","isMonthly","Set","zMin","zMax","extent","indexAdjust","lonMin","lonMax","latMin","latMax","distinctLatCount","distinctLonCount","row","lat","parseFloat","_lon","lon","lon1","hasHour","Table_Name","Temporal_Resolution","time","value","add","Date","setUTCHours","toISOString","size","lonCount","latCount","quantile1","quantile","quantile2","undefined","toPrecision","spatialResolution","Spatial_Resolution","round","subType","splitByDate","splitByDepth","variableValueSubsets","_this2","depthInterval","dateInterval","map","subset","vizSubTypes","storedProcedures","spaceTime","TimeSeriesData","stds","depth","depthIndexAdjust","csvString","DepthProfileData","months","SectionMapData","lonInterval","latInterval","orientation","lonArray","max","apply","min","splitBySpace","spaceCount","SparseData","variableIndex","Depth_Min","times","latDistance","abs","lonDistance","distance","sqrt","console","log","_zoom","zoom","lonCenter","latCenter","center","fetchOptions","credentials","postOptions","method","headers","Content-Type","storedProcedureParametersToUri","reduce","queryString","key","api","login","fetch","body","stringify","logout","register","validate","retrieve","asyncToGenerator","regenerator_default","a","mark","_callee","decoder","csvParser","response","reader","readerIsDone","chunk","wrap","_context","prev","next","TextDecoder","CSVParser","columns","on","record","read","sent","ok","abrupt","getReader","done","write","decode","stop","keyRetrieval","_callee2","_context2","json","keyCreation","_ref3","_callee3","description","_context3","trim","_x","arguments","visualization","storedProcedureRequest","_ref4","_callee4","vizData","_context4","t0","spName","e","_x2","getTableStats","_ref5","_callee5","tableName","_context5","_x3","cruiseTrajectoryRequest","_ref6","_callee6","_context6","_x4","_callee7","_context7","userLogin","userLogout","userRegistration","userValidation","catalogRetrieval","queryRequest","cruiseListRequest","watchUserLogin","watchUserLogout","watchUserRegistration","watchUserValidation","watchCatalogRetrieval","watchKeyRetrieval","watchKeyCreationRequest","watchQueryRequest","watchStoredProcedureRequest","watchCruiseTrajectoryRequest","watchCruiseListRequest","rootSaga","userInfo","put","userActions","call","interfaceActions","_marked","_marked2","_marked3","result","_marked4","catalogActions","_marked5","_marked6","_marked7","_context8","visualizationActions","query","_marked8","_context9","delay","finalize","_marked9","_context10","_marked10","_context11","_marked11","_context12","takeLatest","_marked12","_context13","_marked13","_context14","_marked14","_context15","_marked15","_context16","_marked16","_context17","_marked17","_context18","_marked18","_context19","_marked19","_context20","_marked20","_context21","_marked21","_context22","_marked22","_context23","all","_marked23","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","run","colors","orange","backgroundGray","aqua","withStyles","theme","centered","position","top","props","classes","react_default","createElement","CircularProgress","className","customVariant","mapDispatchToProps","keyCreationRequestSend","ApiKeyManagement","possibleConstructorReturn","getPrototypeOf","componentDidMount","handleClick","handleChange","event","setState","target","wrapper","Paper","root","elevation","Typography","variant","apiKeyTableHeader","Divider","Table","table","TableHead","TableRow","TableCell","align","TableBody","apiKey","index","Description","showChildOnHover","keyTableCell","Api_Key","warningCaption","Grid","container","alignItems","justify","spacing","item","TextField","margin","name","onChange","placeholder","descriptionField","Button","disabled","color","onClick","Components_LoadingSpinner","Component","connect","ownProps","width","marginTop","paddingTop","minWidth","marginBottom","visibility","&:hover span","fontSize","useEffect","Link","component","RouterLink","to","pathname","toggleShowHelp","TopNavBar","handleLogOut","clearState","username","password","handleNavigate","route","history","handleOutsideNavigate","url","open","_this$props","navWrapper","navLink","rightNavLink","withRouter","appBar","backgroundColor","boxShadow","toolBar","zIndex","paddingLeft","textAlign","boxSizing","cursor","marginRight","&:hover","textDecoration","fontWeight","display","float","rightLinkWrapper","Home","Fragment","Components_TopNavBar","Components_ApiKeyManagement","Components_LoginRequiredPrompt","tableMapping","title","height","infoCard","padding","gridClass","gridItem","justifyContent","datasetDescriptionWrapper","whiteSpace","overflow","datasetDescription","vizSampleImage","variableDetailTable","marginLeft","variableDetailTableRow","variableDetailTableCell","borderBottomColor","xs","src","imageSource","alt","Dataset_Description","Data_Source","Distributor","tooltip","palette","secondary","main","opacity","Tooltip","placement","popper","children","detailCellRendererParams","template","columnDefs","headerName","field","sortable","filter","tooltipField","cellRenderer","cellStyle","hide","enableRowGroup","defaultColDef","resizable","autoGroupColumnDef","AGGridWrapper","filterText","gridApi","setQuickFilter","onGridReady","params","columnApi","sizeColumnsToFit","handleColumnRowGroupChanged","forEach","column","setColumnVisible","colId","render","gridPaper","Components_ConnectedTooltip","gridSearch","autoFocus","label","InputLabelProps","shrink","gridWrapper","ag_grid_react_main","rowData","suppressDragLeaveHidesColumns","rowGroupPanelShow","groupMultiAutoColumn","onColumnRowGroupChanged","enableBrowserTooltips","masterDetail","frameworkComponents","myDetailCellRenderer","GridDetail","detailCellRenderer","detailRowHeight","Catalog","determineContent","Components_AGGridWrapper","content","registrationCard","textField","inputFieldState","Card","inputFieldInfo","valid","helperText","requirement","registrationPreviousActiveStep","userRegistrationRequestSend","userValidationRequestSend","email","getCardInfo","firstName","optional","lastName","institute","department","country","confirmPassword","RegistrationStepper","validateField","rawValue","pattern","previousState","newCardState","cards","test","processStateToActionPayload","actionPayload","card","cardKey","currentCardIsValid","currentCard","handleNext","handleBack","newValue","fieldName","newCard","steps","activeStep","cardInfoArray","Stepper","Step","StepLabel","instructions","Components_RegistrationCard","button","buttonProgress","left","Register","Components_RegistrationStepper","regionRenderModes","draw","form","validation","depthOneIsLower","depthOneOutOfBounds","depthTwoOutOfBounds","negative","date","dateOneIsLater","dateOneOutOfBounds","dateTwoOutOfBounds","latOneIsHigher","latOneOutOfBounds","latTwoOutOfBounds","lonOneIsHigher","lonOneOutOfBounds","lonTwoOutOfBounds","dataIsIrregular","dateRangeRequired","depthRangeRequired","surfaceOnlyDataset","irregularOnly","dataSizeTooLarge","generic","invalid","dataSizeWarning","dataSizePrevent","Dialog","onClose","DialogTitle","Variable","DialogContent","DialogContentText","Long_Name","Sensor","Time_Min","slice","Time_Max","Lat_Min","Lat_Max","Lon_Min","Lon_Max","Depth_Max","Variable_Min","Unit","Variable_Max","Variable_Mean","Variable_Std","mapTemporalResolutionToNumber","reactWindowListRef","React","createRef","MenuList","componentDidUpdate","prevProps","prevState","findIndex","child","isFocused","current","scrollToItem","options","maxHeight","_getValue","getValue","slicedToArray","initialOffset","indexOf","dist_index_esm","style","itemCount","itemSize","initialScrollOffset","ref","_ref","DropdownIndicator","chunk_5d200a41_browser_esm","ArrowDropDown","SingleValue","assign","Option","DataRetrievalForm","search","addDocuments","handleTableStatsDialogClose","tableStatsDialogIsOpen","handleTableStatsDialogOpen","handleVisualizationSpeedDialClose","visualizationSpeedDialOpen","handleVisualizationSpeedDialOpen","handleVisualizationSpeedDialClick","getSelectOptionsFromCatalogItems","items","onAutoSuggestChange","searchString","searchField","estimateDataSize","_this2$props","dt1","dt2","lat1","lat2","lon2","selectedVizType","date1","date2","res","dayDiff","checkStartDepth","surfaceOnly","depth1","depth2","replace","toFixed","checkEndDepth","checkStartDate","checkEndDate","checkStartLat","checkEndLat","checkStartLon","checkEndLon","checkHeatmap","irregularSpatialResolution","checkContour","checkSection","checkHistogram","checkTimeSeries","checkDepthProfile","checkSparseMap","checkGeneralWarn","checkGeneralPrevent","JsSearch","searchIndex","addIndex","_this3","_this$state","_this$props2","_validations","fill","_validations2","startDepthMessage","endDepthMessage","startLatMessage","endLatMessage","startLonMessage","endLonMessage","heatmapMessage","contourMessage","sectionMapMessage","histogramMessage","timeSeriesMessage","depthProfileMessage","sparseMapMessage","generalWarnMessage","generalPreventMessage","parametersAreInvalid","some","showUI","displayNone","Components_TableStatsDialog","dataRetrievalFormPaper","shortenHeight","react_select_browser_esm","isLoading","components","IndicatorSeparator","isClearable","onInputChange","filterOption","variableSelect","escapeClearsValue","updateFields","styles","menu","provided","input","fontFamily","control","border","borderColor","&:focus-within","noOptionsMessage","option","_ref2",":active","&:after","singleValue","paddingRight","primary25","primary","IconButton","LibraryBooks","datePickerGridSection","material_ui_pickers_esm","format","minDate","maxDate","autoOk","handleStartDateChange","inputVariant","handleEndDateChange","FormControl","InputLabel","htmlFor","OutlinedInput","aria-describedby","labelWidth","FormHelperText","handleLatLonChange","vizTypeSelectFormControl","Select","inputProps","MenuItem","onVisualize","generalMessage","dataRetrievalFormField","retrieveDataButton","visualizationSpeedDial","visualizeButton","borderRadius","visualizeButtonText","dominantBaseline","textAnchor","vizSelect","utcDateStringToLocal","utcString","utcYear","getUTCFullYear","utcMonth","getUTCMonth","utcDate","getUTCDate","newDate","setFullYear","overrideDisabledStyle","clearCharts","ArrowRight","formatOptionLabel","meta","context","VizControlPanel","handleOpenControlPanel","showControlPanel","handleCloseControlPanel","stopPropagation","handleShowChartsAndResize","setTimeout","dispatchEvent","Event","handleShowCharts","showCharts","handleShowGlobe","closePanelChevron","aria-label","ChevronLeft","openPanelChevron","ChevronRight","Drawer","drawer","paper","drawerPaper","anchor","ButtonGroup","groupedButtons","depressed","Language","InsertChartOutlined","clearChartsButton","Delete","backdropFilter","valueContainer","borderBottom","&:active","tableStatsButton","datePicker","KeyboardButtonProps","datePickerInputAdornment","formGridItem","InputProps","padLeft","fullWidth","bottom","navDrawerWidth","controlPanelForm","borderLeft","&:disabled","fontVariant","handleXTicks","infoObject","sectionSize","lonRange","tickvals","ceil","ticktext","tickmode","handleChartDatestring","dateString","parseInt","chartBase","layout","font","paper_bgcolor","config","displaylogo","annotations","distributor","text","xref","yref","yshift","showarrow","colorscaleOptions","chartWrapper","popover","paddingBottom","iconButton","colorForm","lastIcon","borderTopRightRadius","borderBottomRightRadius","buttonGroup","maxWidth","colorscaleMenu","onToggleSplitByDate","onToggleSplitByDepth","onToggleSplitBySpace","switchOrientation","downloadCsv","handleZValueConfirm","zValues","markerOptions","handleMarkerOptionsConfirm","_useState","useState","_useState2","paletteAnchorElement","setPaletteAnchorElement","_React$useState","_React$useState2","zScalePopoverAnchorElement","setZScalePopoverAnchorElement","_React$useState3","_React$useState4","localZMin","setLocalZMin","_React$useState5","_React$useState6","localZMax","setLocalZMax","zScalePopoverOpen","zScalePopoverID","handleZScalePopoverClose","zScaleValidations","zMinMessage","zMaxMessage","_React$useState7","_React$useState8","markerOptionsAnchorElement","setMarkerOptionsAnchorElement","_React$useState9","_React$useState10","localMarkerOpacity","setLocalMarkerOpacity","_React$useState11","_React$useState12","localMarkerColor","setLocalMarkerColor","_React$useState13","_React$useState14","localMarkerSize","setLocalMarkerSize","markerPopoverOpen","markerPopoverID","handleMarkerOptionsClose","markerOptionsValidations","checkLocalMarkerOpacity","checkLocalMarkerSize","localMarkerOpacityMessage","localMarkerSizeMessage","DateRange","Waves","LineWeight","Rotate90DegreesCcw","CloudDownload","currentTarget","SwapVert","handlePaletteChoice","Palette","Gamepad","Menu","anchorEl","keepMounted","Popover","anchorOrigin","vertical","horizontal","transformOrigin","determineHeight","buttonBlock","iconButtonWrapper","plots","_props$chart","chart","setSplitByDate","_useState3","_useState4","setSplitByDepth","_useState5","_useState6","subTypeState","_useState7","_useState8","setPalette","_useState9","_useState10","setZValues","_zValues","subSets","generatePlotData","subsets","xTicks","variableName","handleDateString","hovertext","formatter","react_plotly_default","zauto","zmin","zmax","x","y","z","connectgaps","autocolorscale","colorscale","hoverinfo","contours","coloring","showlabels","labelfont","family","labelformat","colorbar","exponentformat","xaxis","yaxis","handleContourMap","zsmooth","handleHeatmap","handleHistogram","ChartComponents_ChartControlPanel","requestAnimationFrame","values","csv","blob","Blob","URL","createObjectURL","document","setAttribute","appendChild","click","removeChild","setMarkerOptions","mode","error_y","array","visible","line","marker","plot_bgcolor","error_x","autorange","setSplitBySpace","setOrientation","spaces","distinctMeridiansOrParallelsForSplitting","mergedOrSplitAxis","xAxis","spaceTitle","visualizationSubTypes","handleSectionMap","SparseScatter","xValues","yValues","xTitle","yTitle","tabProps","aria-controls","SparseTabPanel","selectedTab","controlPanelProps","hidden","tabs","tab","setTab","plot","mapbox","sourcetype","source","below","mapboxAccessToken","handleSparseMap","scatter","Tabs","indicatorColor","Tab","SparseMap_SparseTabPanel","ChartComponents_SparseScatter","Charts","chartPaper","ChartComponents_SparseMap","ChartComponents_SpaceTimeChart","ChartComponents_TimeSeriesChart","ChartComponents_DepthProfileChart","ChartComponents_SectionMapChart","chartsContainer","cruiseTrajectoryClear","esriFonts","CruiseSelector","getSelectOptionsFromCruiseList","list","Nickname","handleCruiseSelect","selection","ID","selectedCruise","outerDiv","blurEffectDiv","getCruiseListState","cruiseSelect","menuList","cruiseInfo","cruiseInfoCell","Name","Start_Time","End_Time","Chief_Name","Ship_Name","borderStyle","DrawButton","drawButton","helpText","cancelButton","polygonSymbol","symbolLayers","material","outline","UiComponents","shouldComponentUpdate","nextProps","nextState","view","esriModules","regionLayer","setShowHelp","drawMode","sketchModel","SketchViewModel","layer","defaultUpdateOptions","toggleToolOnClick","tool","getElementById","updateDomainFromGraphicExtent","Utils","webMercatorToGeographic","graphic","geometry","graphics","addEventListener","removeAll","create","cancel","ui","remove","TrajectoryController","memo","trajectoryLayer","polyLines","lineIndex","lonStart","latStart","maxDistance","_lonDistance","cruiseTrajectorySymbol","cap","cruiseTrajectoryGeometry","paths","Graphic","symbol","goTo","maxDuration","speedFactor","MapContainer","_this3$props","regionRenderMode","spParams","globeUIRef","_lon2","polygon","rings","regionGraphic","centroid","longitude","latitude","esm","mapProperties","basemap","viewProperties","MapContainer_UiComponents","updateDomainFromMap","measurementPositions","Components_CruiseSelector","GraphicsLayer","cleanSPParams","localDateToString","year","getFullYear","month","getMonth","day","getDate","toString","mapVizType","vizType","_mapping","sp","queryRequestSend","storedProcedureRequestSend","storedProcedureInfo","completedShowCharts","Visualization","filteredData","_this$state$spParams","mapping","toggleShowUI","coordinates","newCoordinates","ymin","ymax","xmin","xmax","esriModuleNames","loadModules","loadedModules","accumulator","currentValue","currentIndex","Components_DataRetrievalForm","Components_VizControlPanel","toggleChartView","Components_MapContainer","Components_Charts","background","userLoginRequestSend","LoginDialog","handleLogin","handleClose","aria-labelledby","onSubmit","preventDefault","DialogActions","snackbarClose","centerText","Snackbar","autoHideDuration","loader","right","loaderContent","flexDirection","alignItem","spinnerText","spinner","dist","fadeIn","loginDialogWasCleared","GlobalUIComponentWrapper","preProps","Components_LoginDialog","Components_SnackbarWrapper","Components_LoadingOverlay","inlineBlock","LandingPage","landingWrapper","welcomeMessage","primaryTypographyProps","nestedPrimaryTypographyProps","PermanentDrawerLeft","handleOpenDRForm","showDataRetrievalForm","handleCloseDRForm","List","ListItem","ListItemIcon","esm_Home","ListItemText","AccountCircle","CollectionsBookmark","Collapse","in","timeout","unmountOnExit","disablePadding","dense","nestedListItem","inset","drForm","drFormPaper","drFormHead","flexShrink","logo","moveRight","createMuiTheme","typography","useNextVariants","contrastText","default","overrides","MuiIconButton","MuiListItemIcon","MuiFormHelperText","filled","MuiListItem","gutters","MuiToolbar","MuiOutlinedInput","&$focused","MuiButtonGroup","groupedOutlined","&:not(:first-child)","MuiTableCell","MuiFormControl","marginNormal","MuiDialogContentText","MuiDialogTitle","MuiFilledInput","inputSelect","adornedEnd","App","vizRef","utils","DateFnsUtils","MuiThemeProvider","react_router_dom","Components_GlobalUIComponentWrapper","react_router","exact","path","LicenseManager","setLicenseKey","rootElement","ReactDOM","es","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4cba3cad.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const RETRIEVAL_REQUEST_SEND = 'CATALOG_RETRIEVAL_REQUEST_SEND';\r\nexport const RETRIEVAL_REQUEST_SUCCESS = 'CATALOG_RETRIEVAL_REQUEST_SUCCESS';\r\nexport const RETRIEVAL_REQUEST_FAILURE = 'CATALOG_RETRIEVAL_REQUEST_FAILURE';\r\nexport const RETRIEVAL_REQUEST_PROCESSING = 'CATALOG_RETRIEVAL_REQUEST_PROCESSING';","// Enum for async requests.\r\n\r\nconst states = {\r\n    inProgress: 'inProgress',\r\n    failed: 'failed',\r\n    succeeded: 'succeeded',\r\n    expired: 'expired'\r\n}\r\n\r\nexport default states;","export const LOG_OUT = \"LOG_OUT\";\r\n\r\nexport const STORE_INFO = 'STORE_INFO';\r\nexport const DESTROY_INFO = 'DESTROY_INFO';\r\nexport const LOGIN_DIALOG_WAS_CLEARED = 'LOGIN_DIALOG_WAS_CLEARED'\r\n\r\nexport const LOGIN_REQUEST_SEND = 'LOGIN_REQUEST_SEND';\r\nexport const LOGIN_REQUEST_PROCESSING = 'LOGIN_REQUEST_PROCESSING';\r\nexport const LOGIN_REQUEST_SUCCESS = 'LOGIN_REQUEST_SUCCESS';\r\nexport const LOGIN_REQUEST_FAILURE = 'LOGIN_REQUEST_FAILURE';\r\nexport const LOGIN_REQUEST_CLEAR_ERROR = 'LOGIN_REQUEST_CLEAR_ERROR';\r\n\r\nexport const REGISTRATION_REQUEST_SEND = 'REGISTRATION_REQUEST_SEND';\r\nexport const REGISTRATION_REQUEST_PROCESSING = 'REGISTRATION_REQUEST_PROCESSING';\r\nexport const REGISTRATION_REQUEST_SUCCESS = 'REGISTRATION_REQUEST_SUCCESS';\r\nexport const REGISTRATION_REQUEST_FAILURE = 'REGISTRATION_REQUEST_FAILURE';\r\n\r\nexport const VALIDATION_REQUEST_SEND = 'VALIDATION_REQUEST_SEND';\r\nexport const VALIDATION_REQUEST_PROCESSING = 'VALIDATION_REQUEST_PROCESSING';\r\nexport const VALIDATION_REQUEST_SUCCESS = 'VALIDATION_REQUEST_SUCCESS';\r\nexport const VALIDATION_REQUEST_FAILURE = 'VALIDATION_REQUEST_FAILURE';\r\n\r\nexport const KEY_RETRIEVAL_REQUEST_SEND = 'KEY_RETRIEVAL_REQUEST_SEND';\r\nexport const KEY_RETRIEVAL_REQUEST_SUCCESS = 'KEY_RETRIEVAL_REQUEST_SUCCESS';\r\nexport const KEY_RETRIEVAL_REQUEST_FAILURE = 'KEY_RETRIEVAL_REQUEST_FAILURE';\r\n\r\nexport const KEY_CREATION_REQUEST_SEND = 'KEY_CREATION_REQUEST_SEND';\r\nexport const KEY_CREATION_REQUEST_PROCESSING = 'KEY_CREATION_REQUEST_PROCESSING';\r\nexport const KEY_CREATION_REQUEST_SUCCESS = 'KEY_CREATION_REQUEST_SUCCESS';\r\nexport const KEY_CREATION_REQUEST_FAILURE = 'KEY_CREATION_REQUEST_FAILURE';","import * as interfaceActionTypes from '../actionTypes/ui';\r\n\r\nconst uiResetState = {\r\n  catalogRequestState: null,\r\n\r\n  loginDialogIsOpen: false,\r\n  registrationActiveStep: 0,\r\n\r\n  userLoginState: null,\r\n  userLoginError: null,\r\n\r\n  userValidationState: null,\r\n  userValidationError: null,\r\n\r\n  userRegistrationState: null,\r\n\r\n  apiKeyRetrievalState: null,\r\n  apiKeyCreationState: null\r\n}\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {\r\n    case interfaceActionTypes.INTERFACE_SHOW_LOGIN_DIALOG: return {...state, loginDialogIsOpen: true};\r\n    case interfaceActionTypes.INTERFACE_HIDE_LOGIN_DIALOG: return {...state, loginDialogIsOpen: false, userLoginError: null};\r\n    case interfaceActionTypes.REGISTRATION_NEXT_ACTIVE_STEP: return {...state, registrationActiveStep: state.registrationActiveStep + 1}\r\n    case interfaceActionTypes.REGISTRATION_PREVIOUS_ACTIVE_STEP: return {...state, registrationActiveStep: state.registrationActiveStep - 1}\r\n    case interfaceActionTypes.RESTORE_INTERFACE_DEFAULTS: return {\r\n      ...state,\r\n      ...uiResetState\r\n    }\r\n    case interfaceActionTypes.SNACKBAR_OPEN: return {\r\n      ...state,\r\n      snackbarIsOpen: true,\r\n      snackbarMessage: action.payload.message\r\n    }\r\n    case interfaceActionTypes.SNACKBAR_CLOSE: return {...state, snackbarIsOpen: false}\r\n    case interfaceActionTypes.SET_LOADING_MESSAGE: return {...state, loadingMessage: action.payload.message}\r\n    \r\n    case interfaceActionTypes.TOGGLE_SHOW_HELP: return {...state, showHelp: !state.showHelp}\r\n    \r\n    default: return state;\r\n  }\r\n}","export const QUERY_REQUEST_SEND = 'QUERY REQUEST SEND';\r\nexport const QUERY_REQUEST_SUCCESS = 'QUERY REQUEST SUCCESS';\r\nexport const QUERY_REQUEST_FAILURE = 'QUERY REQUEST FAILURE';\r\nexport const QUERY_REQUEST_PROCESSING = 'QUERY REQUEST PROCESSING';\r\n\r\nexport const STORED_PROCEDURE_REQUEST_SEND = 'STORED_PROCEDURE_REQUEST_SEND';\r\nexport const STORED_PROCEDURE_REQUEST_SUCCESS = 'STORED_PROCEDURE_REQUEST_SUCCESS';\r\nexport const STORED_PROCEDURE_REQUEST_FAILURE = 'STORED_PROCEDURE_REQUEST_FAILURE';\r\nexport const STORED_PROCEDURE_REQUEST_PROCESSING = 'STORED_PROCEDURE_REQUEST_PROCESSING';\r\n\r\nexport const ADD_MAP = 'ADD_MAP';\r\nexport const ADD_CHART = 'ADD_CHART';\r\n\r\nexport const ADD_LAYER = 'ADD_LAYER';\r\n\r\nexport const STORE_SAMPLE_DATA = 'STORE_SAMPLE_DATA';\r\n\r\nexport const CLEAR_CHARTS = 'CLEAR_CHARTS';\r\nexport const CLEAR_MAPS = 'CLEAR_MAPS';\r\n\r\nexport const GET_TABLE_STATS = 'GET_TABLE_STATS';\r\nexport const GET_TABLE_STATS_REQUEST_PROCESSING = 'GET_TABLE_STATS_REQUEST_PROCESSING';\r\nexport const STORE_TABLE_STATS = 'STORE_TABLE_STATS';\r\n\r\nexport const CRUISE_TRAJECTORY_REQUEST_SEND = 'CRUISE_TRAJECTORY_REQUEST_SEND';\r\nexport const CRUISE_TRAJECTORY_REQUEST_SUCCESS = 'CRUISE_TRAJECTORY_REQUEST_SUCCESS';\r\nexport const CRUISE_TRAJECTORY_REQUEST_FAILURE = 'CRUISE_TRAJECTORY_REQUEST_FAILURE';\r\nexport const CRUISE_TRAJECTORY_REQUEST_PROCESSING = 'CRUISE_TRAJECTORY_REQUEST_PROCESSING';\r\nexport const CRUISE_TRAJECTORY_CLEAR = 'CRUISE_TRAJECTORY_CLEAR';\r\n\r\nexport const CRUISE_LIST_REQUEST_SEND = 'CRUISE_LIST_REQUEST_SEND';\r\nexport const CRUISE_LIST_REQUEST_SUCCESS = 'CRUISE_LIST_REQUEST_SUCCESS';\r\nexport const CRUISE_LIST_REQUEST_FAILURE = 'CRUISE_LIST_REQUEST_FAILURE';\r\nexport const CRUISE_LIST_REQUEST_PROCESSING = 'CRUISE_LIST_REQUEST_PROCESSING';\r\n\r\nexport const TRIGGER_SHOW_CHARTS = 'TRIGGER_SHOW_CHARTS';\r\nexport const COMPLETED_SHOW_CHARTS = 'COMPLETED_SHOW_CHARTS';","import catalog from './catalog';\r\nimport user from './user';\r\nimport ui from './ui';\r\nimport visualization from './visualization';\r\nimport reduceReducers from 'reduce-reducers';\r\nimport Cookies from 'js-cookie';\r\n\r\n// Consider building this object from initial states from each reducer\r\n// ** When adding new keys to redux store consider whether they need to be\r\n// reset on navigation for UI purposes. If so, add them with a default state\r\n// to the uiResetState in the ui reducer **\r\nconst initialState = {\r\n    // Catalog state pieces\r\n    catalogRequestState: null,\r\n    catalog: null,\r\n\r\n    // Interface state pieces\r\n    loginDialogIsOpen: false,\r\n    registrationActiveStep: 0,\r\n    snackbarIsOpen: false,\r\n    snackbarMessage: null,\r\n    loadingMessage: '',\r\n    showHelp: false,\r\n\r\n    // User state pieces\r\n    user: JSON.parse(Cookies.get('UserInfo') || null),\r\n\r\n    apiKeys: null,\r\n    apiKeyRetrievalState: null,\r\n    apiKeyCreationState: null,\r\n\r\n    clearLoginDialog: false,\r\n\r\n    userLoginState: null,\r\n\r\n    userValidationState: null,\r\n\r\n    userRegistrationState: null,\r\n\r\n    // Visualization state pieces\r\n    maps: [],\r\n    charts: [],\r\n    getCruiseTrajectoryRequestState: null,\r\n    cruiseTrajectory: null,\r\n    sampleData: null,\r\n    queryRequestState: null,\r\n    storedProcedureRequestState: null,\r\n    getTableStatsRequestState: null,\r\n    cruiseList: [],\r\n    getCruiseListRequestState: null,\r\n    showChartsOnce: null\r\n}\r\n\r\nconst reducedReducer = reduceReducers(initialState, catalog, user, ui, visualization);\r\n\r\nexport default reducedReducer;","import * as catalogActionTypes from '../actionTypes/catalog';\r\n\r\nimport states from '../../asyncRequestStates';\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_SUCCESS: return {\r\n      ...state, \r\n      catalogRequestState: states.succeeded, \r\n      catalog: action.payload.catalog\r\n    }\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_FAILURE: return {...state, catalogRequestState: states.failed}\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_PROCESSING: return {...state, catalogRequestState: states.inProgress}\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}","import * as userActionTypes from '../actionTypes/user';\r\nimport states from '../../asyncRequestStates';\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {    \r\n\r\n    case userActionTypes.LOGIN_REQUEST_PROCESSING: return {...state, userLoginState: states.inProgress}\r\n    case userActionTypes.LOGIN_REQUEST_SUCCESS: return {...state, userLoginState: states.succeeded, userLoginError: null}\r\n    case userActionTypes.LOGIN_REQUEST_FAILURE: return {...state, userLoginState: states.failed}\r\n    case userActionTypes.LOGIN_REQUEST_CLEAR_ERROR: return {...state, userLoginError: null}\r\n\r\n    case userActionTypes.STORE_INFO: return {...state, user: action.payload.user}\r\n    case userActionTypes.DESTROY_INFO: return {...state, user: null, apiKeys: null, clearLoginDialog: true}\r\n    case userActionTypes.LOGIN_DIALOG_WAS_CLEARED: return {...state, clearLoginDialog: false}\r\n\r\n    case userActionTypes.VALIDATION_REQUEST_PROCESSING: return {...state, userValidationState: states.inProgress}\r\n    case userActionTypes.VALIDATION_REQUEST_FAILURE: return {...state, userValidationState: states.failed}\r\n    case userActionTypes.VALIDATION_REQUEST_SUCCESS: return {...state, userValidationState: null}\r\n\r\n    case userActionTypes.REGISTRATION_REQUEST_PROCESSING: return {...state, userRegistrationState: states.inProgress}\r\n    case userActionTypes.REGISTRATION_REQUEST_FAILURE: return {...state, userRegistrationState: states.failed}\r\n    case userActionTypes.REGISTRATION_REQUEST_SUCCESS: return {...state, userRegistrationState: states.succeeded}\r\n\r\n    case userActionTypes.KEY_RETRIEVAL_REQUEST_SUCCESS: return {...state, apiKeys: action.payload.keys}\r\n    case userActionTypes.KEY_RETRIEVAL_REQUEST_FAILURE: return {...state, apiKeyRetrievalState: states.failed}\r\n\r\n    case userActionTypes.KEY_CREATION_REQUEST_PROCESSING: return {...state, apiKeyCreationState: states.inProgress}\r\n    case userActionTypes.KEY_CREATION_REQUEST_FAILURE: return {...state, apiKeyCreationState: states.failed}\r\n    case userActionTypes.KEY_CREATION_REQUEST_SUCCESS: return {...state, apiKeyCreationState: states.succeeded}\r\n\r\n    default: return state;\r\n    }\r\n}","export const INTERFACE_SHOW_LOGIN_DIALOG = \"INTERFACE_SHOW_LOGIN_DIALOG\";\r\nexport const INTERFACE_HIDE_LOGIN_DIALOG = \"INTERFACE_HIDE_LOGIN_DIALOG\";\r\n\r\nexport const REGISTRATION_NEXT_ACTIVE_STEP = 'REGISTRATION_NEXT_ACTIVE_STEP';\r\nexport const REGISTRATION_PREVIOUS_ACTIVE_STEP = 'REGISTRATION_PREVIOUS_ACTIVE_STEP';\r\n\r\nexport const RESTORE_INTERFACE_DEFAULTS = 'RESTORE_INTERFACE_DEFAULTS';\r\n\r\nexport const SNACKBAR_OPEN = 'SNACKBAR_OPEN';\r\nexport const SNACKBAR_CLOSE = 'SNACKBAR_CLOSE';\r\n\r\nexport const SET_LOADING_MESSAGE = 'SET_LOADING_MESSAGE';\r\n\r\nexport const TOGGLE_SHOW_HELP = 'TOGGLE_SHOW_HELP';","import states from '../../asyncRequestStates';\r\nimport * as visualizationActionTypes from '../actionTypes/visualization';\r\n\r\nexport default function(state, action) {\r\n    switch(action.type) {\r\n        case visualizationActionTypes.QUERY_REQUEST_PROCESSING: return {...state, queryRequestState: states.inProgress};\r\n        case visualizationActionTypes.QUERY_REQUEST_FAILURE: return {...state, queryRequestState: states.failed};\r\n        case visualizationActionTypes.QUERY_REQUEST_SUCCESS: return {...state, queryRequestState: states.succeeded};\r\n        \r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_PROCESSING: return {...state, storedProcedureRequestState: states.inProgress}\r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_FAILURE: return {...state, storedProcedureRequestState: states.failed}\r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_SUCCESS: return {...state, storedProcedureRequestState: states.succeeded}\r\n\r\n\r\n        case visualizationActionTypes.ADD_LAYER: return { // Not currently in use\r\n            ...state,\r\n            layers: [...state.layers, action.payload.newLayer]\r\n        }\r\n\r\n        case visualizationActionTypes.STORE_SAMPLE_DATA: return {\r\n            ...state,\r\n            sampleData: action.payload.sampleData\r\n        }\r\n\r\n        case visualizationActionTypes.ADD_MAP: return {\r\n            ...state,\r\n            maps: [...state.maps, action.payload.mapInfo]\r\n        }\r\n\r\n        case visualizationActionTypes.ADD_CHART: return {\r\n            ...state,\r\n            charts: [...state.charts, action.payload.chartInfo]\r\n        }\r\n\r\n        case visualizationActionTypes.CLEAR_CHARTS: return {...state, charts: []}\r\n\r\n        case visualizationActionTypes.CLEAR_MAPS: return {...state, maps: []}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_PROCESSING: return {...state, getCruiseTrajectoryRequestState: states.inProgress}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SUCCESS: return {...state,\r\n            cruiseTrajectory: action.payload.trajectory,\r\n            getCruiseTrajectoryRequestState: states.succeeded\r\n        }\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_CLEAR: return {...state, cruiseTrajectory: null}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_FAILURE: return {...state, getCruiseTrajectoryRequestState: states.failed}\r\n\r\n        case visualizationActionTypes.CRUISE_LIST_REQUEST_PROCESSING: return {...state, getCruiseListRequestState: states.inProgress}\r\n\r\n        case visualizationActionTypes.CRUISE_LIST_REQUEST_SUCCESS: return {\r\n            ...state,\r\n            getCruiseListRequestState: states.succeeded,\r\n            cruiseList: action.payload.cruiseList\r\n        }\r\n\r\n        case visualizationActionTypes.TRIGGER_SHOW_CHARTS: return {...state, showChartsOnce: true}\r\n        case visualizationActionTypes.COMPLETED_SHOW_CHARTS: return {...state, showChartsOnce: false}\r\n\r\n        default: return state;\r\n    }\r\n}","import * as userActionTypes from '../actionTypes/user';\r\n\r\n// Login actions\r\nexport const userLoginRequestSend = (username, password) => ({\r\n    type: userActionTypes.LOGIN_REQUEST_SEND,\r\n    payload: {\r\n        username,\r\n        password\r\n    }\r\n});\r\n\r\nexport const userLoginRequestProcessing = () => {\r\n    return {type: userActionTypes.LOGIN_REQUEST_PROCESSING};\r\n};\r\n\r\nexport const userLoginRequestFailure = (error) => ({\r\n    type: userActionTypes.LOGIN_REQUEST_FAILURE,\r\n});\r\n\r\nexport const userLoginRequestSuccess = () => ({\r\n    type: userActionTypes.LOGIN_REQUEST_SUCCESS\r\n});\r\n\r\nexport const storeInfo = (user) => ({\r\n    type: userActionTypes.STORE_INFO,\r\n    payload: {\r\n        user\r\n    }\r\n})\r\n\r\nexport const userLoginRequestClearError = () => ({\r\n    type: userActionTypes.LOGIN_REQUEST_CLEAR_ERROR\r\n})\r\n\r\n// Log out actions\r\nexport const logOut = () => ({\r\n    type:userActionTypes.LOG_OUT\r\n});\r\n\r\nexport const destroyInfo = () => ({\r\n    type: userActionTypes.DESTROY_INFO\r\n})\r\n\r\nexport const loginDialogWasCleared = () => ({\r\n    type: userActionTypes.LOGIN_DIALOG_WAS_CLEARED\r\n})\r\n\r\n// Validation actions\r\nexport const userValidationRequestSend = (username, email) => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_SEND,\r\n    payload: {\r\n        username,\r\n        email\r\n    }\r\n});\r\n\r\nexport const userValidationRequestProcessing = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_PROCESSING\r\n})\r\n\r\nexport const userValidationRequestFailure = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_FAILURE\r\n})\r\n\r\nexport const userValidationRequestSuccess = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_SUCCESS\r\n})\r\n\r\n// Registration actions\r\nexport const userRegistrationRequestSend = (payload) => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_SEND,\r\n    payload\r\n});\r\n\r\nexport const userRegistrationRequestProcessing = () => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_PROCESSING\r\n});\r\n\r\nexport const userRegistrationRequestFailure = () => ({\r\n    type:userActionTypes.REGISTRATION_REQUEST_FAILURE\r\n});\r\n\r\nexport const userRegistrationRequestSuccess = () => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_SUCCESS\r\n});\r\n\r\n// Api key retrieval actions\r\nexport const keyRetrievalRequestSend = () => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_SEND\r\n})\r\n\r\nexport const keyRetrievalRequestSuccess = (keys) => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_SUCCESS,\r\n    payload: {\r\n        keys\r\n    }\r\n})\r\n\r\nexport const keyRetrievalRequestFailure = () => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_FAILURE\r\n})\r\n\r\nexport const keyCreationRequestSend = (description) => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_SEND,\r\n    payload: {\r\n        description\r\n    }\r\n})\r\n\r\nexport const keyCreationRequestProcessing = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_PROCESSING\r\n})\r\n\r\nexport const keyCreationRequestFailure = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_FAILURE\r\n})\r\n\r\nexport const keyCreationRequestSuccess = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_SUCCESS\r\n})\r\n","import * as catalogActionTypes from '../actionTypes/catalog';\r\n\r\nexport const retrievalRequestSend = () => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_SEND\r\n})\r\n\r\nexport const retrievalRequestProcessing = () => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_PROCESSING\r\n})\r\n\r\nexport const retrievalRequestSuccess = (catalog) => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_SUCCESS,\r\n    payload: {\r\n        catalog\r\n    }\r\n})\r\n\r\nexport const retrievalRequestFailure = () => ({\r\n    type:catalogActionTypes.RETRIEVAL_REQUEST_FAILURE\r\n})","import * as interfaceActionTypes from '../actionTypes/ui';\r\n\r\nexport const showLoginDialog = () => ({\r\n    type: interfaceActionTypes.INTERFACE_SHOW_LOGIN_DIALOG\r\n})\r\n\r\nexport const hideLoginDialog = () => ({\r\n    type: interfaceActionTypes.INTERFACE_HIDE_LOGIN_DIALOG\r\n})\r\n\r\nexport const registrationNextActiveStep = () => ({\r\n    type: interfaceActionTypes.REGISTRATION_NEXT_ACTIVE_STEP\r\n})\r\n\r\nexport const registrationPreviousActiveStep = () => ({\r\n    type: interfaceActionTypes.REGISTRATION_PREVIOUS_ACTIVE_STEP\r\n})\r\n\r\nexport const restoreInterfaceDefaults = () => ({\r\n    type: interfaceActionTypes.RESTORE_INTERFACE_DEFAULTS\r\n})\r\n\r\nexport const snackbarOpen = (message) => ({\r\n    type: interfaceActionTypes.SNACKBAR_OPEN,\r\n    payload: {\r\n        message\r\n    }\r\n})\r\n\r\nexport const snackbarClose = () => ({\r\n    type: interfaceActionTypes.SNACKBAR_CLOSE\r\n})\r\n\r\nexport const setLoadingMessage = (message) => ({\r\n    type:interfaceActionTypes.SET_LOADING_MESSAGE,\r\n    payload: {\r\n        message\r\n    }\r\n})\r\n\r\nexport const toggleShowHelp = () => ({\r\n    type: interfaceActionTypes.TOGGLE_SHOW_HELP\r\n})","import * as visualizationActionTypes from '../actionTypes/visualization';\r\n\r\nexport const queryRequestSend = (query) => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_SEND,\r\n    payload: {\r\n        query\r\n    }\r\n})\r\n\r\nexport const queryRequestSuccess = (data) => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_SUCCESS,\r\n    payload: {\r\n        data\r\n    }\r\n})\r\n\r\nexport const queryRequestFailure = () => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_FAILURE\r\n})\r\n\r\nexport const queryRequestProcessing = () => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_PROCESSING\r\n})\r\n\r\nexport const storedProcedureRequestSend = (storedProcedureInfo) => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_SEND,\r\n    payload: {...storedProcedureInfo}\r\n})\r\n\r\nexport const storedProcedureRequestSuccess = (data) => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_SUCCESS,\r\n    payload: {\r\n        data\r\n    }\r\n})\r\n\r\nexport const storedProcedureRequestFailure = () => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_FAILURE\r\n})\r\n\r\nexport const storedProcedureRequestProcessing = () => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_PROCESSING\r\n})\r\n\r\nexport const addLayer = (newLayer) => ({\r\n    type: visualizationActionTypes.ADD_LAYER,\r\n    payload: {\r\n        newLayer\r\n    }\r\n})\r\n\r\nexport const storeSampleData = sampleData => ({\r\n    type: visualizationActionTypes.STORE_SAMPLE_DATA,\r\n    payload: {\r\n        sampleData\r\n    }\r\n})\r\n\r\nexport const addMap = (mapInfo) => ({\r\n    type: visualizationActionTypes.ADD_MAP,\r\n    payload: {\r\n        mapInfo\r\n    }\r\n})\r\n\r\nexport const addChart = (chartInfo) => ({\r\n    type: visualizationActionTypes.ADD_CHART,\r\n    payload: {\r\n        chartInfo\r\n    }\r\n})\r\n\r\nexport const clearCharts = () => ({\r\n    type: visualizationActionTypes.CLEAR_CHARTS\r\n})\r\n\r\nexport const clearMaps = () => ({\r\n    type: visualizationActionTypes.CLEAR_MAPS\r\n})\r\n\r\nexport const getTableStats = (tableName) => ({\r\n    type: visualizationActionTypes.GET_TABLE_STATS,\r\n    payload: {\r\n        tableName\r\n    }\r\n})\r\n\r\nexport const getTableStatsRequestProcessing = () => ({\r\n    type: visualizationActionTypes.GET_TABLE_STATS_REQUEST_PROCESSING\r\n})\r\n\r\nexport const storeTableStats = (tableStats) => ({\r\n    type: visualizationActionTypes.STORE_TABLE_STATS,\r\n    payload: {\r\n        tableStats\r\n    }\r\n})\r\n\r\nexport const cruiseTrajectoryRequestSend = (id) => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SEND,\r\n    payload: {\r\n        id\r\n    }\r\n})\r\n\r\nexport const cruiseTrajectoryRequestSuccess = (trajectory) => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SUCCESS,\r\n    payload: {\r\n        trajectory\r\n    }\r\n})\r\n\r\nexport const cruiseTrajectoryRequestFailure = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_FAILURE,\r\n})\r\n\r\nexport const cruiseTrajectoryRequestProcessing = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_PROCESSING,\r\n})\r\n\r\nexport const cruiseTrajectoryClear = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_CLEAR\r\n})\r\n\r\nexport const cruiseListRequestSend = (id) => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_SEND,\r\n})\r\n\r\nexport const cruiseListRequestSuccess = (cruiseList) => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_SUCCESS,\r\n    payload: {\r\n        cruiseList\r\n    }\r\n})\r\n\r\nexport const cruiseListRequestFailure = () => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_FAILURE,\r\n})\r\n\r\nexport const cruiseListRequestProcessing = () => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_PROCESSING,\r\n})\r\n\r\nexport const triggerShowCharts = () => ({\r\n    type: visualizationActionTypes.TRIGGER_SHOW_CHARTS\r\n})\r\n\r\nexport const completedShowCharts = () => ({\r\n    type: visualizationActionTypes.COMPLETED_SHOW_CHARTS\r\n})","// export const apiUrl = 'https://simonscmap.com'\r\n// export const apiUrl = 'http://localhost:8080';\r\nexport const apiUrl = 'https://simonscmap.dev';","const spatialResolutions = {\r\n    irregular: 'Irregular',\r\n    halfDegree: '1/2° X 1/2°' ,\r\n    quarterDegree: '1/4° X 1/4°' ,\r\n    twentyFifthDegree: '1/25° X 1/25°' ,\r\n    fourKm: '4km X 4km',\r\n    twelfthDegree: '1/12° X 1/12°',\r\n    seventyKm: '70km X 70km',\r\n    oneDegree: '1° X 1°'\r\n}\r\n\r\nexport default spatialResolutions;","import spatialResolutions from '../Enums/spatialResolutions';\r\n\r\nconst mapSpatialResolutionToNumber = (resolution) => {\r\n    let map = {\r\n        [spatialResolutions.halfDegree] : .5,\r\n        [spatialResolutions.quarterDegree] : .25,\r\n        [spatialResolutions.twentyFifthDegree] : .04,\r\n        [spatialResolutions.fourKm] : .041672,\r\n        [spatialResolutions.twelfthDegree] : .083333,\r\n        [spatialResolutions.oneDegree] : 1,\r\n        [spatialResolutions.seventyKm] : .25\r\n    };\r\n\r\n    return map[resolution];\r\n}\r\n\r\nexport default mapSpatialResolutionToNumber;","// Flattens an array by 1 level\r\n// [[[],[]], [[],[]], [[],[]]] => [[], [], [], [], [], []]\r\n\r\nconst flattenArray = (arr) => {\r\n    let flattenedArray = [];\r\n\r\n    for(let i = 0; i < arr.length; i++){\r\n        for(let j = 0; j < arr[i].length; j++){\r\n            flattenedArray.push(arr[i][j]);\r\n        }\r\n    }\r\n\r\n    return flattenedArray;\r\n}\r\n\r\nexport default flattenArray;","// Interval is number of indices between changes in this parameter, or in order words\r\n// how many times will we see the same value for this parameter in a row before it changes\r\n// as we iterate through the values array.\r\n// We use modulo for cases where data.length / interval is larger than the number of \r\n// distinct values for that parameter.\r\n\r\nconst splitData = (data, changeInterval, numDistinct) => {\r\n    var splitData = [];\r\n\r\n    for(let i = 0; i < numDistinct; i++){\r\n        splitData.push([]);\r\n    }\r\n\r\n    for(let i = 0; i < data.length; i++){\r\n        let index = Math.floor(i / changeInterval) % numDistinct;\r\n        splitData[index].push(data[i]);\r\n    }\r\n\r\n    return splitData;\r\n}\r\n\r\nexport default splitData;","// mergeTargetDistance - number of hops between arrays being merged\r\n// mergeTargetNumber - number of arrays being merged - implicit\r\n// nextStartDistance - once a merge is complete how many hops to next start\r\nconst mergeArraysAndComputeMeans = (data, mergeTargetDistance, nextMergeStartDistance, numArraysPerMerge) => {\r\n    let mergedArrays = [];\r\n\r\n    let travelDistance = mergeTargetDistance * (numArraysPerMerge - 1);\r\n    \r\n    // Find each merging start point\r\n    for(let i = 0; i + travelDistance < data.length; i += nextMergeStartDistance){\r\n        let subArray = [];\r\n\r\n        // Iterate through each value in the first array of this merge. Count\r\n        // the number of values summed so we can ignore nulls and compute a mean.\r\n        for(let j = 0; j < data[i].length; j ++){\r\n            let sum = 0;\r\n            let count = 0;\r\n\r\n            // Aggregate values of all merge targets\r\n            for(let k = i; k < i + (mergeTargetDistance * numArraysPerMerge); k += mergeTargetDistance){\r\n                if(data[k][j] !== null) {\r\n                    sum += data[k][j];\r\n                    count ++;\r\n                };\r\n            }\r\n            subArray.push(count < 1 ? null : sum / (count));\r\n        }\r\n\r\n        mergedArrays.push(subArray)\r\n    }\r\n\r\n    return mergedArrays;\r\n}\r\n\r\nexport default mergeArraysAndComputeMeans;","const mergeArrays = (data, mergeTargetDistance, nextMergeStartDistance, numArraysPerMerge) => {\r\n    let mergedArrays = [];\r\n\r\n    let travelDistance = mergeTargetDistance * (numArraysPerMerge - 1);\r\n\r\n    // Find each merge start point\r\n    for(let i = 0; i + travelDistance < data.length; i += nextMergeStartDistance){\r\n        let subArray = [];\r\n\r\n        for(let j = i; j <= i + travelDistance; j += mergeTargetDistance){\r\n            subArray = [...subArray, ...data[j]];\r\n        }\r\n\r\n        mergedArrays.push(subArray);\r\n    }\r\n   \r\n    return mergedArrays;\r\n}\r\n\r\nexport default mergeArrays;\r\n\r\n","const subTypes= {\r\n    sectionMap: 'Section Map',\r\n    contourSectionMap: 'Contour Section Map',\r\n    timeSeries: 'Time Series',\r\n    histogram: 'Histogram',\r\n    depthProfile: 'Depth Profile',\r\n    heatmap: 'Heatmap',\r\n    contourMap: 'Contour Map',\r\n    sparse: 'Sparse'\r\n}\r\n\r\nexport default subTypes;","const temporalResolutions = {\r\n    threeMinutes: 'Three Minutes',\r\n    sixHourly: 'Six Hourly',\r\n    daily: 'Daily',\r\n    weekly: 'Weekly',\r\n    monthly: 'Monthly',\r\n    annual: 'Annual',\r\n    irregular: 'Irregular',\r\n    monthlyClimatology: 'Monthly Climatology',\r\n    threeDay: 'Three Days',\r\n    eightDayRunning: 'Eight Day Running',\r\n    eightDays: 'Eight Days '\r\n}\r\n\r\nexport default temporalResolutions;","import { quantile, extent } from 'd3-array';\r\n\r\nimport mapSpatialResolutionToNumber from '../Utility/mapSpatialResolutionToNumber';\r\nimport generateSpatialArray from '../Utility/GenerateSpatialArray';\r\nimport flattenArray from '../Utility/flattenArray';\r\nimport splitData from '../Utility/splitData';\r\nimport mergeArraysAndComputeMeans from '../Utility/mergeArraysAndComputeMeans';\r\nimport mergeArrays from '../Utility/mergeArrays';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\nimport temporalResolutions from '../Enums/temporalResolutions';\r\nimport spatialResolutions from '../Enums/spatialResolutions';\r\n\r\nclass SpaceTimeData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n\r\n        this.hasDepth = null;\r\n        this.hasHours = null;\r\n        this.isMonthly = null;\r\n\r\n        this.depths = new Set();\r\n        this.dates = new Set();\r\n        this.variableValues = [];\r\n\r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n        this.indexAdjust = null;\r\n        this.payload = payload;\r\n        this.lats = [];\r\n        this.lons = [];\r\n\r\n        this.lonMin = null;\r\n        this.lonMax = null;\r\n        this.latMin = null;\r\n        this.latMax = null;\r\n\r\n        this.distinctLatCount = null;\r\n        this.distinctLonCount = null;\r\n    }\r\n\r\n    add(row) {\r\n        \r\n        let lat = parseFloat(row[1]);\r\n        let _lon = parseFloat(row[2]);\r\n        let lon = _lon < this.parameters.lon1 ? _lon + 360 : _lon;\r\n\r\n        if(this.hasDepth === null) {\r\n            this.hasHour = this.metadata.Table_Name === 'tblWind_NRT';\r\n            this.isMonthly = this.metadata.Temporal_Resolution === temporalResolutions.monthlyClimatology;\r\n            this.hasDepth = row.length === 5 && !this.hasHour;\r\n            this.indexAdjust = this.hasDepth || this.hasHour? 1 : 0;\r\n            this.lonMin = lon;\r\n            this.lonMax = lon;\r\n            this.latMin = lat;\r\n            this.latMax = lat;\r\n        }\r\n\r\n        let value = parseFloat(row[3 + this.indexAdjust]);\r\n\r\n        if(this.hasDepth){\r\n            this.depths.add(row[3]);\r\n        }\r\n\r\n        var time;\r\n        if(this.hasHour){\r\n            time = new Date(row[0]);\r\n            time.setUTCHours(row[3])\r\n            time = time.toISOString();\r\n        } else time = row[0];\r\n        this.dates.add(time);\r\n        this.lats.push(lat);\r\n\r\n        this.lons.push(lon);\r\n\r\n        if(lon < this.lonMin) this.lonMin = lon;\r\n        if(lon > this.lonMax) this.lonMax = lon;\r\n        if(lat < this.latMin) this.latMin = lat;\r\n        if(lat > this.latMax) this.latMax = lat;\r\n\r\n        this.variableValues.push(value);\r\n    }\r\n\r\n    finalize() {\r\n\r\n        if(this.depths.size === 0) this.depths.add('Surface');\r\n\r\n        this.lonCount = this.lons.length / this.dates.size / this.depths.size;\r\n        this.latCount = this.lats.length / this.dates.size / this.depths.size;\r\n\r\n        let quantile1 = quantile(this.variableValues, .05);\r\n        let quantile2 = quantile(this.variableValues, .95);\r\n        this.zMin = quantile1 === undefined ? null : parseFloat(quantile1.toPrecision(4));\r\n        this.zMax = quantile2 === undefined ? null : parseFloat(quantile2.toPrecision(4));\r\n        this.extent = extent(this.variableValues);\r\n\r\n        let spatialResolution = mapSpatialResolutionToNumber(this.metadata.Spatial_Resolution);\r\n        \r\n        this.distinctLatCount = Math.round((this.latMax - this.latMin) / spatialResolution) + 1;\r\n        this.distinctLonCount = Math.round((this.lonMax - this.lonMin) / spatialResolution) + 1;\r\n    }\r\n\r\n    generatePlotData(subType, splitByDate, splitByDepth) {        \r\n\r\n        // Intervals are the number of indices between each change for that parameter\r\n        // Intervals can change if you split out of order\r\n        const latInterval = this.distinctLonCount;\r\n        const depthInterval = latInterval * this.distinctLatCount;\r\n        const dateInterval = depthInterval * this.depths.size;\r\n\r\n        // an array of arrays containing variable values, each of which will become a chart\r\n        var variableValueSubsets;\r\n        \r\n        variableValueSubsets = splitData(this.variableValues, dateInterval, this.dates.size);\r\n        variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, depthInterval, this.depths.size));\r\n        variableValueSubsets = flattenArray(variableValueSubsets);\r\n\r\n        // Contour and heatmap compute mean variable values per lat and lon\r\n        // when not split by date and/or time\r\n        if(subType === vizSubTypes.contourMap || subType === vizSubTypes.heatmap) {\r\n            if(splitByDate && splitByDepth) {\r\n                // pass\r\n            } else if (splitByDate){\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    1, \r\n                    this.depths.size, \r\n                    this.depths.size\r\n                    );\r\n    \r\n            } else if (splitByDepth){\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    this.depths.size, \r\n                    1, \r\n                    this.dates.size\r\n                    );\r\n    \r\n            } else {\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    1, \r\n                    variableValueSubsets.length, \r\n                    variableValueSubsets.length\r\n                    );            \r\n            }\r\n        } \r\n        \r\n        // Histograms split and aggregate without computing means\r\n        else if (subType === vizSubTypes.histogram) {\r\n            if(splitByDate && splitByDepth) {\r\n                // pass\r\n            } else if (splitByDate){\r\n                variableValueSubsets = mergeArrays(\r\n                    variableValueSubsets, \r\n                    1,\r\n                    this.depths.size,\r\n                    this.depths.size\r\n                    );\r\n            } else if (splitByDepth){\r\n                variableValueSubsets = mergeArrays(\r\n                    variableValueSubsets,\r\n                    this.depths.size,\r\n                    1,\r\n                    this.dates.size\r\n                );\r\n            } else {\r\n                variableValueSubsets = [this.variableValues];\r\n            }\r\n        }\r\n\r\n        // Nothing here yet\r\n        else {}\r\n\r\n        return variableValueSubsets;\r\n    }\r\n\r\n    generateCsv = () => {\r\n        let dates = Array.from(this.dates);\r\n        let depths = Array.from(this.depths);\r\n\r\n        if(this.hasDepth){\r\n            var csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${this.lats[i]},${this.lons[i] > 180 ? this.lons[i] - 360 : this.lons[i]},${depths[Math.floor(i / (this.variableValues.length / (dates.length * depths.length))) % depths.length]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n\r\n        } else {\r\n            var csvArray = [`time,lat,lon,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${this.lats[i]},${this.lons[i] > 180 ? this.lons[i] - 360 : this.lons[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SpaceTimeData;","const storedProcedures = {\r\n    sectionMap: 'uspSectionMap',\r\n    timeSeries: 'uspTimeSeries',\r\n    spaceTime: 'uspSpaceTime',\r\n    depthProfile: 'uspDepthProfile'\r\n}\r\n\r\nexport default storedProcedures;","class TimeSeriesData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.variableValues = [];\r\n        this.stds = [];\r\n        this.dates = [];\r\n        this.lat = null;\r\n        this.lon = null;\r\n        this.depth = null;\r\n        this.depthIndexAdjust = null;\r\n    }\r\n\r\n    add(row) {\r\n        if(this.lat === null){\r\n            this.depthIndexAdjust = row.length === 6 ? 1 : 0;\r\n            this.lat = row[1];\r\n            this.lon = row[2];\r\n            this.depth = row.length === 6 ? row[3] : false;\r\n        }\r\n\r\n        this.variableValues.push(row[3 + this.depthIndexAdjust]);\r\n        this.stds.push(row[4 + this.depthIndexAdjust]);\r\n        this.dates.push(row[0]);\r\n    }\r\n\r\n    finalize() {\r\n        if(this.depth === false) this.depth = 'Surface';\r\n    }\r\n\r\n    generatePlotData() {\r\n        return this.variableValues;\r\n    }    \r\n\r\n    generateCsv() {\r\n        let csvString = `time,${this.parameters.fields},${this.parameters.fields}_std`;\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvString += `\\n${this.dates[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]},${isNaN(this.stds[i]) ? '' : this.stds[i]}`;\r\n        }\r\n\r\n        return csvString;\r\n    }\r\n}\r\n\r\nexport default TimeSeriesData;","class DepthProfileData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.variableValues = [];\r\n        this.stds = [];\r\n        this.lat = null;\r\n        this.lon = null;\r\n        this.depths = [];\r\n    }\r\n\r\n    add(row) {\r\n        if(this.lat === null){\r\n            this.lat = parseFloat(row[0]);\r\n            this.lon = parseFloat(row[1]);\r\n        }\r\n\r\n        this.variableValues.push(parseFloat(row[2]));\r\n        this.stds.push(parseFloat(row[3]));\r\n        this.depths.push(parseFloat(row[4]));\r\n    }\r\n\r\n    finalize() {\r\n        // pass\r\n    }\r\n\r\n    generatePlotData() {\r\n        return this.variableValues;\r\n    }\r\n    \r\n    generateCsv() {\r\n        let csvString = `depth,${this.parameters.fields},${this.parameters.fields}_std`;\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvString += `\\n${this.depths[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]},${isNaN(this.stds[i]) ? '' : this.stds[i]}`;\r\n        }\r\n\r\n        return csvString;\r\n    }\r\n}\r\n\r\nexport default DepthProfileData;","export default [\r\n    null,\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December'\r\n]","import { quantile, extent } from 'd3-array';\r\n\r\nimport flattenArray from '../Utility/flattenArray';\r\nimport splitData from '../Utility/splitData';\r\nimport mergeArraysAndComputeMeans from '../Utility/mergeArraysAndComputeMeans';\r\nimport temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nimport months from '../Enums/months';\r\n\r\nclass SectionMapData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.subType = payload.subType\r\n        \r\n        this.dates = new Set();\r\n        this.depths = new Set();\r\n        this.lats = new Set();\r\n        this.lons = new Set();\r\n\r\n        this.lonMin = null;\r\n        this.lonMax = null;\r\n\r\n        this.variableValues = [];\r\n        \r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n\r\n        this.orientation = null;\r\n    }\r\n\r\n    // time, lat, lon, depth, value\r\n    add(row) {        \r\n        const time = row[0];\r\n        const lat = parseFloat(row[1]);\r\n        var _lon = parseFloat(row[2]);\r\n        const lon = _lon < this.parameters.lon1 ? _lon + 360 : _lon;\r\n        const depth = parseFloat(row[3]);\r\n        const value = parseFloat(row[4]);\r\n\r\n        if(this.variableValues.length === 0) {\r\n            this.isMonthly = this.metadata.Temporal_Resolution === temporalResolutions.monthlyClimatology;\r\n        }        \r\n\r\n        this.depths.add(depth);\r\n        this.dates.add(this.isMonthly ? months[time] : time);\r\n        this.lats.add(lat);\r\n        this.lons.add(lon);\r\n\r\n        this.variableValues.push(value);\r\n    }\r\n\r\n    finalize() {\r\n        let quantile1 = quantile(this.variableValues, .05);\r\n        let quantile2 = quantile(this.variableValues, .95);\r\n        this.zMin = quantile1 === undefined ? null : parseFloat(quantile1.toPrecision(4));\r\n        this.zMax = quantile2 === undefined ? null : parseFloat(quantile2.toPrecision(4));\r\n\r\n        this.extent = extent(this.variableValues);\r\n\r\n        this.orientation = this.lons.size > this.lats.size ? 'zonal' : 'meridional';\r\n\r\n        let lonArray = Array.from(this.lons);\r\n        this.lonMax = Math.max(...lonArray);\r\n        this.lonMin = Math.min(...lonArray);\r\n    }\r\n\r\n    // Direction is meridional or zonal\r\n    generatePlotData(orientation, splitByDate, splitBySpace) {\r\n        let latCount = this.lats.size;\r\n        let lonCount = this.lons.size;\r\n\r\n        // Intervals are the number of indices between each change for that parameter\r\n        // Intervals can change if you split out of order\r\n        const lonInterval = this.depths.size;\r\n        const latInterval = lonInterval * lonCount;\r\n        const dateInterval = latInterval * latCount;\r\n\r\n        var variableValueSubsets = splitData(this.variableValues, dateInterval, this.dates.size);\r\n\r\n        var spaceCount;\r\n\r\n        if(orientation === 'zonal') {\r\n            variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, latInterval, latCount));\r\n            variableValueSubsets = flattenArray(variableValueSubsets);\r\n            spaceCount = latCount;\r\n        }\r\n\r\n        else {\r\n            variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, lonInterval, lonCount));\r\n            variableValueSubsets = flattenArray(variableValueSubsets);\r\n            spaceCount = lonCount;\r\n        }\r\n\r\n        // console.log('Split by space');\r\n        // console.log(variableValueSubsets);\r\n\r\n        if(splitByDate && splitBySpace){\r\n            // pass\r\n        } else if (splitByDate){\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                1,\r\n                spaceCount,\r\n                spaceCount\r\n            )\r\n        } else if (splitBySpace) {\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                spaceCount,\r\n                1,\r\n                this.dates.size\r\n            )\r\n        } else {\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                1,\r\n                variableValueSubsets.length,\r\n                variableValueSubsets.length\r\n            )\r\n        }\r\n\r\n        return variableValueSubsets;\r\n    }\r\n\r\n    generateCsv = () => {\r\n        let dates = Array.from(this.dates);\r\n        let depths = Array.from(this.depths);\r\n        let lons = Array.from(this.lons);\r\n        let lats = Array.from(this.lats);\r\n\r\n        const lonInterval = depths.length;\r\n        const latInterval = lonInterval * lons.length;\r\n\r\n        var csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${lats[Math.floor(i / latInterval) % lats.length]},${lons[Math.floor(i / lonInterval) % lons.length]},${depths[i % depths.length]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SectionMapData;","import { quantile, extent } from 'd3-array';\r\n\r\nclass SparseData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.hasDepth = null;\r\n        this.variableIndex = payload.metadata.Depth_Min ? 4 : 3;\r\n        this.depths = [];\r\n        this.times = [];\r\n        this.variableValues = [];\r\n        this.lats = [];\r\n        this.lons = [];\r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n\r\n        this.latMin = null;\r\n        this.latMax = null;\r\n        this.lonMin = null;\r\n        this.lonMax = null;\r\n    }\r\n\r\n    add(row) {\r\n        let lat = parseFloat(row[1]);\r\n        let lon = parseFloat(row[2]);\r\n\r\n        if(this.hasDepth === null){\r\n            this.hasDepth = Boolean(this.metadata.Depth_Min);\r\n            this.latMin = lat;\r\n            this.latMax = lat;\r\n            this.lonMin = lon;\r\n            this.lonMax = lon;\r\n        }\r\n\r\n        if(row[this.variableIndex]){\r\n\r\n            this.times.push(row[0]);\r\n            this.lats.push(lat);\r\n            this.lons.push(lon);\r\n            if(this.hasDepth) this.depths.push(parseFloat(row[3]));\r\n            this.variableValues.push(parseFloat(row[this.variableIndex]));\r\n\r\n            if(lat < this.latMin) this.latMin = lat;\r\n            if(lat > this.latMax) this.latMax = lat;\r\n            \r\n            if(lon < this.lonMin) this.lonMin = lon;\r\n            if(lon > this.lonMax) this.lonMax = lon;\r\n        }\r\n    }\r\n\r\n    finalize() {\r\n\r\n        let quantile1 = quantile(this.variableValues, .05);\r\n        let quantile2 = quantile(this.variableValues, .95);\r\n        this.zMin = quantile1 === undefined ? null : quantile1.toPrecision(4);\r\n        this.zMax = quantile2 === undefined ? null : quantile2.toPrecision(4);\r\n\r\n        this.extent = extent(this.variableValues);\r\n\r\n        let latDistance = Math.abs(this.latMax - this.latMin);\r\n        let lonDistance = Math.abs(this.lonMax - this.lonMin);\r\n        let distance = Math.sqrt(latDistance * latDistance + lonDistance * lonDistance);\r\n\r\n        console.log('Distance: ', distance);\r\n\r\n        let _zoom = 4 - Math.floor(distance / 12);\r\n        this.zoom = _zoom < 0 ? 0 : _zoom;\r\n\r\n        let lonCenter = (this.lonMax + this.lonMin) / 2;\r\n        let latCenter = (this.latMax + this.latMin) / 2;\r\n        this.center = { \r\n            lon: lonCenter, \r\n            lat: latCenter\r\n        }\r\n\r\n        console.log(this);\r\n    }\r\n\r\n    generatePlotData(subType, splitByDate, splitByDepth) {\r\n        return this.variableValues;\r\n    }\r\n\r\n    generateCsv(){\r\n\r\n        if(this.hasDepth){\r\n            var csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${this.times[i]},${this.lats[i]},${this.lons[i]},${this.depths[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n\r\n        } else {\r\n            var csvArray = [`time,lat,lon,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${this.times[i]},${this.lats[i]},${this.lons[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SparseData;","import CSVParser from 'csv-parse';\r\n\r\nimport { apiUrl } from './config';\r\nimport SpaceTimeData from './Classes/SpaceTimeData';\r\n\r\nimport storedProcedures from './Enums/storedProcedures';\r\nimport TimeSeriesData from './Classes/TimeSeriesData';\r\nimport DepthProfileData from './Classes/DepthProfileData';\r\nimport SectionMapData from './Classes/SectionMapData';\r\nimport SparseData from './Classes/SparseData';\r\n\r\nconst fetchOptions = {\r\n    credentials: 'include'\r\n}\r\n\r\nconst postOptions = {\r\n    ...fetchOptions,\r\n    method: 'POST',\r\n    headers: {\"Content-Type\": \"application/json\"}\r\n}\r\n\r\nconst storedProcedureParametersToUri = (parameters) => {\r\n    return Object.keys(parameters).reduce(function (queryString, key, i) {\r\n        return `${queryString}${i===0 ? '' : '&&'}${key}=${parameters[key]}`;\r\n      }, '');\r\n}\r\n\r\nconst api = {};\r\napi.user = {};\r\napi.dataRetrieval = {};\r\napi.catalog = {};\r\napi.visualization = {};\r\n\r\napi.user.login = (user) => {\r\n    return fetch(apiUrl + '/user/signin', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    });\r\n}\r\n\r\napi.user.logout = () => {\r\n    return fetch(apiUrl + '/user/signout', fetchOptions);\r\n}\r\n\r\napi.user.register = (user) => {\r\n    return fetch(apiUrl + '/user/signup', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    })\r\n}\r\n\r\napi.user.validate = (user) => {\r\n    return fetch(apiUrl + '/user/validate', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    })\r\n}\r\n\r\napi.catalog.retrieve = async() => {\r\n\r\n    const decoder = new TextDecoder();\r\n    let catalog = [];\r\n\r\n    let csvParser = CSVParser({columns:true});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record\r\n        while (record = csvParser.read()) {\r\n            catalog.push(record)\r\n        }\r\n    })\r\n\r\n    let response = await fetch(apiUrl + '/api/catalog', fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n    return catalog;\r\n}\r\n\r\napi.user.keyRetrieval = async() => {\r\n    let response = await fetch(apiUrl + '/user/retrieveapikeys', fetchOptions);\r\n    if(!response.ok) return false;\r\n    return await response.json();\r\n}\r\n\r\napi.user.keyCreation = async(description) => {\r\n    return await fetch(apiUrl + `/user/generateapikey?description=${description.trim()}`, fetchOptions);\r\n}\r\n\r\napi.visualization.storedProcedureRequest = async(payload) => {\r\n    const decoder = new TextDecoder();\r\n    var vizData;\r\n\r\n    switch(payload.parameters.spName) {\r\n        case storedProcedures.spaceTime:\r\n            if(payload.subType === 'Sparse') vizData = new SparseData(payload);\r\n            else vizData = new SpaceTimeData(payload);\r\n            break;\r\n\r\n        case storedProcedures.timeSeries:\r\n            vizData = new TimeSeriesData(payload);\r\n            break;\r\n\r\n        case storedProcedures.depthProfile:\r\n            vizData = new DepthProfileData(payload);\r\n            break;\r\n\r\n        case storedProcedures.sectionMap:\r\n            vizData = new SectionMapData(payload);\r\n            break;\r\n\r\n        default:\r\n            console.log('Unknown sproc name');\r\n    }\r\n\r\n    let response = await fetch(apiUrl + '/api/data/sp?' + storedProcedureParametersToUri(payload.parameters), fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let csvParser = CSVParser({from: 2});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record;\r\n        while (record = csvParser.read()) {\r\n            vizData.add(record);\r\n        }\r\n    })\r\n\r\n    csvParser.on('error', (e) => {\r\n        console.log(e);\r\n    })\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n\r\n    return vizData;\r\n}\r\n\r\n\r\napi.visualization.getTableStats = async(tableName) => {\r\n    let response = await fetch(apiUrl + '/dataretrieval/tablestats?table=' + tableName, fetchOptions);\r\n    if(response.ok){\r\n        return await response.json();\r\n    } else return false;\r\n}\r\n\r\napi.visualization.cruiseTrajectoryRequest = async(payload) => {\r\n    const cruiseId = payload.id;\r\n    const decoder = new TextDecoder();\r\n    let trajectory = {lats: [], lons: []};\r\n\r\n    let response = await fetch(apiUrl + '/api/data/cruisetrajectory?' + `id=${payload.id}`, fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let csvParser = CSVParser({from: 2});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record;\r\n        while (record = csvParser.read()) {\r\n            trajectory.lats.push(parseFloat(record[1]));\r\n            trajectory.lons.push(parseFloat(record[2]));\r\n        }\r\n    })\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n\r\n    return trajectory;\r\n}\r\n\r\napi.visualization.cruiseList = async() => {\r\n    let response = await fetch(apiUrl + '/api/data/cruiselist', fetchOptions);\r\n\r\n    if(response.ok){\r\n        return await response.json();\r\n    } else return false;   \r\n}\r\n\r\nexport default api;","import { put, takeLatest, all, call, delay } from 'redux-saga/effects';\r\n// import { eventChannel } from 'redux-saga';\r\nimport Cookies from 'js-cookie';\r\n// import worker from '../worker';\r\n\r\nimport * as userActions from './actions/user';\r\nimport * as catalogActions from './actions/catalog';\r\nimport * as interfaceActions from './actions/ui';\r\nimport * as visualizationActions from './actions/visualization';\r\n\r\nimport * as userActionTypes from './actionTypes/user';\r\nimport * as catalogActionTypes from './actionTypes/catalog';\r\nimport * as visualizationActionTypes from './actionTypes/visualization';\r\n\r\nimport api from '../api';\r\n\r\nfunction* userLogin(action) {\r\n\r\n    yield put(userActions.userLoginRequestProcessing());\r\n    let result = yield call(api.user.login, action.payload);\r\n    \r\n    if(result.ok){\r\n        var userInfo = JSON.parse(Cookies.get('UserInfo'));\r\n        yield put(userActions.userLoginRequestSuccess());\r\n        yield put(interfaceActions.hideLoginDialog());\r\n        yield put(userActions.storeInfo(userInfo));\r\n        yield put(interfaceActions.snackbarOpen('Login was successful!'))\r\n    } else {\r\n        yield put(userActions.userLoginRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('Login failed.'));\r\n    }\r\n}\r\n\r\nfunction* userLogout(){    \r\n    yield call(api.user.logout);\r\n    yield put(userActions.destroyInfo());\r\n    yield put(interfaceActions.snackbarOpen('You have logged out.'))\r\n}\r\n\r\nfunction* userRegistration(action){\r\n    yield put(userActions.userRegistrationRequestProcessing());\r\n    let result = yield call(api.user.register, action.payload);\r\n    \r\n    if(result.ok){\r\n        yield put(interfaceActions.registrationNextActiveStep());\r\n        yield put(userActions.userRegistrationRequestSuccess());\r\n        yield put(interfaceActions.snackbarOpen('Registration was successful. Please log in.'));\r\n        yield put(interfaceActions.showLoginDialog());\r\n    } else {\r\n        yield put(userActions.userRegistrationRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('Registration failed.'))\r\n    }\r\n}\r\n\r\nfunction* userValidation(action){\r\n    yield put(userActions.userValidationRequestProcessing());\r\n    let result = yield call(api.user.validate, action.payload);\r\n    let isValid = yield result.json();\r\n    \r\n    if(isValid){\r\n        yield put(userActions.userValidationRequestSuccess());\r\n        yield put(interfaceActions.registrationNextActiveStep());\r\n    } else {\r\n        yield put(userActions.userValidationRequestFailure());\r\n    }\r\n}\r\n\r\nfunction* catalogRetrieval(action){\r\n    yield put(catalogActions.retrievalRequestProcessing());\r\n    let catalog = yield call(api.catalog.retrieve);\r\n    \r\n    if(!catalog) {\r\n        yield put(catalogActions.retrievalRequestFailure());\r\n    } else{\r\n        yield put(catalogActions.retrievalRequestSuccess(catalog));\r\n    }\r\n}\r\n\r\nfunction* keyRetrieval(action){\r\n    let result = yield call(api.user.keyRetrieval);\r\n    \r\n    if(!result){\r\n        yield put(userActions.keyRetrievalRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('API Key Retrieval Failed'));\r\n    } else {\r\n        yield put(userActions.keyRetrievalRequestSuccess(result.keys));\r\n    }\r\n}\r\n\r\nfunction* keyCreation(action){\r\n    yield put(userActions.keyCreationRequestProcessing());\r\n    let result = yield call(api.user.keyCreation, action.payload.description);\r\n    \r\n    if(!result.ok) yield put(interfaceActions.snackbarOpen(\"We were unable to create a new API key.\"));\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen(\"A new API key was created\"));\r\n        yield put(userActions.keyCreationRequestSuccess());\r\n        yield put(userActions.keyRetrievalRequestSend());        \r\n    }\r\n}\r\n\r\nfunction* queryRequest(action){\r\n    yield put(visualizationActions.queryRequestProcessing());\r\n    let result = yield call(api.visualization.queryRequest, action.payload.query);\r\n    yield put(visualizationActions.storeSampleData(result));\r\n    yield put(visualizationActions.queryRequestSuccess());\r\n}\r\n\r\nfunction* storedProcedureRequest(action){\r\n    yield put(visualizationActions.storedProcedureRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Data'));\r\n    let result = yield call(api.visualization.storedProcedureRequest, action.payload);\r\n    yield delay(50);\r\n    yield put(interfaceActions.setLoadingMessage('Processing Data'));\r\n    yield delay(70);\r\n    \r\n    // Result will be an object containing variable values and describing date shape\r\n    if(!result){\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(visualizationActions.storedProcedureRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen(\"Request failed\"));\r\n    } else {\r\n        if(result.variableValues.length > 0){\r\n            result.finalize();\r\n            yield put(interfaceActions.setLoadingMessage(''));\r\n            yield put(visualizationActions.storedProcedureRequestSuccess());\r\n            // yield put(interfaceActions.snackbarOpen(`${action.payload.subType} ${action.payload.parameters.fields} is ready`));\r\n            yield put(visualizationActions.triggerShowCharts());\r\n            yield put(visualizationActions.addChart({subType: action.payload.subType, data:result}));\r\n           \r\n        } else {\r\n            yield put(interfaceActions.setLoadingMessage(''));\r\n            yield put(interfaceActions.snackbarOpen(`No data found for ${action.payload.parameters.fields} in the requested ranges. Try selecting a different date or depth range.`));\r\n        }\r\n    }\r\n}\r\n\r\nfunction* cruiseTrajectoryRequest(action) {\r\n    yield put(visualizationActions.cruiseTrajectoryRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Cruise Data'));\r\n    let result = yield call(api.visualization.cruiseTrajectoryRequest, action.payload);\r\n\r\n    if(!result || !result.lats.length){\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(interfaceActions.snackbarOpen(`Unable to Fetch Cruise Data`));\r\n    } else {\r\n        yield put(visualizationActions.cruiseTrajectoryRequestSuccess(result));\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n    }\r\n}\r\n\r\nfunction* cruiseListRequest() {\r\n    yield put(visualizationActions.cruiseListRequestProcessing());\r\n    let cruiseList = yield call(api.visualization.cruiseList);\r\n\r\n    if(!cruiseList) {\r\n        yield put(visualizationActions.cruiseListRequestFailure());\r\n    } else{\r\n        yield put(visualizationActions.cruiseListRequestSuccess(cruiseList));\r\n    }\r\n}\r\n\r\nfunction* watchUserLogin() {\r\n    yield takeLatest(userActionTypes.LOGIN_REQUEST_SEND, userLogin);\r\n}\r\n\r\nfunction * watchUserLogout() {\r\n    yield takeLatest(userActionTypes.LOG_OUT, userLogout)\r\n}\r\n\r\nfunction* watchUserRegistration() {\r\n    yield takeLatest(userActionTypes.REGISTRATION_REQUEST_SEND, userRegistration);\r\n}\r\n\r\nfunction* watchUserValidation(){\r\n    yield takeLatest(userActionTypes.VALIDATION_REQUEST_SEND, userValidation);\r\n}\r\n\r\nfunction* watchCatalogRetrieval(){\r\n    yield takeLatest(catalogActionTypes.RETRIEVAL_REQUEST_SEND, catalogRetrieval);\r\n}\r\n\r\nfunction* watchKeyRetrieval(){\r\n    yield takeLatest(userActionTypes.KEY_RETRIEVAL_REQUEST_SEND, keyRetrieval);\r\n}\r\n\r\nfunction* watchKeyCreationRequest(){\r\n    yield takeLatest(userActionTypes.KEY_CREATION_REQUEST_SEND, keyCreation);\r\n}\r\n\r\nfunction* watchQueryRequest(){\r\n    yield takeLatest(visualizationActionTypes.QUERY_REQUEST_SEND, queryRequest);\r\n}\r\n\r\nfunction* watchStoredProcedureRequest(){\r\n    yield takeLatest(visualizationActionTypes.STORED_PROCEDURE_REQUEST_SEND, storedProcedureRequest);\r\n}\r\n\r\nfunction* watchCruiseTrajectoryRequest(){\r\n    yield takeLatest(visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SEND, cruiseTrajectoryRequest);\r\n}\r\n\r\nfunction* watchCruiseListRequest(){\r\n    yield takeLatest(visualizationActionTypes.CRUISE_LIST_REQUEST_SEND, cruiseListRequest);\r\n}\r\n\r\n// function createWorkerChannel(worker) {\r\n//     return eventChannel(emit => {\r\n//         worker.onmessage = message => {\r\n//             emit(message);\r\n//         }\r\n\r\n//         const unsubscribe = () => {\r\n//             worker.teminate();\r\n//         }\r\n      \r\n//         return unsubscribe;\r\n//     })\r\n// }\r\n\r\n// function* watchWorkerChannel(){\r\n//     const workerChannel = yield call(createWorkerChannel, worker);\r\n\r\n//     while (true) {\r\n//         const message = yield take(workerChannel);\r\n//         yield put(message.data.type, message.data.payload);\r\n//         //   yield put({ type: INCOMING_PONG_PAYLOAD, payload })\r\n//         //   yield fork(pong, socket)\r\n//       }\r\n// }\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        watchUserLogin(),\r\n        watchUserRegistration(),\r\n        watchUserValidation(),\r\n        watchUserLogout(),\r\n        watchCatalogRetrieval(),\r\n        watchKeyRetrieval(),\r\n        watchKeyCreationRequest(),\r\n        watchQueryRequest(),\r\n        watchStoredProcedureRequest(),\r\n        watchCruiseTrajectoryRequest(),\r\n        watchCruiseListRequest()\r\n        // watchWorkerChannel(),\r\n    ])\r\n}\r\n  ","import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"./Reducers\";\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from './sagas';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  applyMiddleware(sagaMiddleware)\r\n)\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;","const colors = {\r\n    orange: '#FF8000',\r\n    // orange: '#ffa245',\r\n    backgroundGray: '#424242',\r\n    aqua: '#22A3B9'\r\n}\r\n\r\nexport default colors;","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n    centered: {\r\n        position: 'fixed',\r\n        top: '300px'\r\n    }\r\n})\r\n\r\nconst LoadingSpinner = (props) => {\r\n    const { classes } = props;\r\n\r\n    return (\r\n    <CircularProgress size={props.size} className={classes[props.customVariant]}/>\r\n)}\r\n\r\nexport default withStyles(styles)(LoadingSpinner);","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { keyRetrievalRequestSend, keyCreationRequestSend } from '../Redux/actions/user';\r\n\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport states from '../asyncRequestStates';\r\nimport colors from '../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    apiKeys: state.apiKeys,\r\n    apiKeyCreationState: state.apiKeyCreationState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    keyRetrievalRequestSend,\r\n    keyCreationRequestSend\r\n}\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '800px',\r\n        marginTop: theme.spacing(3),\r\n        margin:'auto',\r\n        paddingTop: theme.spacing(2)\r\n      },\r\n    table: {\r\n        minWidth: 700,\r\n    },\r\n    apiKeyTableHeader: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    keyTableCell : {\r\n        visibility: 'hidden'\r\n    },\r\n    showChildOnHover: {\r\n        '&:hover span': {\r\n            visibility: 'visible'\r\n          },\r\n    },\r\n    warningCaption: {\r\n        color: colors.orange,\r\n        fontSize: '11px',\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n    wrapper: {\r\n        marginTop: theme.spacing(16)\r\n    }\r\n})\r\n\r\nclass ApiKeyManagement extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            description: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.apiKeys) this.props.keyRetrievalRequestSend();\r\n    }\r\n\r\n\r\n    handleClick = () => {\r\n        this.props.keyCreationRequestSend(this.state.description);\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({...this.state, description: event.target.value})\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            \r\n            <div className={classes.wrapper}>\r\n                {this.props.apiKeys ?\r\n                    <Paper className={classes.root} elevation={6}>             \r\n                        <Typography variant=\"subtitle1\" className={classes.apiKeyTableHeader}>\r\n                            Your API Key\r\n                        </Typography>\r\n                        <Divider/>\r\n                        <Table className={classes.table}>\r\n                            <TableHead>\r\n                            <TableRow>\r\n                                <TableCell variant='head' align='center'>Description</TableCell>\r\n                                <TableCell variant='head' align='center'>Key (hover mouse to view)</TableCell>\r\n                            </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>            \r\n                                {this.props.apiKeys.map((apiKey, index) => (\r\n                                    <TableRow key={index}>\r\n                                        <TableCell align='center'>{apiKey.Description}</TableCell>\r\n                                        <TableCell align='center' className={classes.showChildOnHover}><span className={classes.keyTableCell}>{apiKey.Api_Key}</span></TableCell>\r\n                                    </TableRow>\r\n                                ))   \r\n                                }  \r\n                            </TableBody>\r\n                        </Table>\r\n                        <Typography variant='caption' className={classes.warningCaption}>\r\n                            This API key is a unique identifier, and should not be shared.\r\n                        </Typography>\r\n                    </Paper>\r\n                    : ''\r\n                }\r\n                <Paper className={classes.root} elevation={6}>\r\n                    <Typography variant=\"body2\">\r\n                        Generate a new API key\r\n                    </Typography>\r\n                    <Grid container={true} alignItems='center' justify='center' spacing={4}>\r\n                        <Grid item>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                id=\"description\"\r\n                                type=\"text\"\r\n                                variant='outlined'\r\n                                name='filterText'\r\n                                value={this.state.description}\r\n                                onChange={this.handleChange}\r\n                                placeholder='Key Description'\r\n                                className={classes.descriptionField}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button variant=\"contained\" disabled={this.state.description.length < 1} color=\"primary\" onClick={this.handleClick}>\r\n                                Generate API Key\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                    \r\n                    {this.props.apiKeyCreationState === states.inProgress ? <LoadingSpinner size={18}/> : ''}\r\n                    {this.props.apiKeyCreationState === states.failed ? <span>Key creation failed</span> : ''}\r\n                </Paper>\r\n            </div>    \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ApiKeyManagement));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport { showLoginDialog } from '../Redux/actions/ui';\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog\r\n}\r\n\r\nconst LoginRequiredPrompt = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.showLoginDialog();\r\n    })\r\n    \r\n    return (\r\n        <p>This feature requires a user account. Please <Link component={RouterLink} to={{pathname: '/apikeymanagement'}} onClick={() => props.showLoginDialog()}> log in\r\n            </Link> or <Link component={RouterLink} to={{pathname: '/register'}}> register\r\n            </Link>.\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginRequiredPrompt);\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport Cookies from 'js-cookie';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { showLoginDialog, restoreInterfaceDefaults, snackbarOpen, toggleShowHelp } from '../Redux/actions/ui';\r\nimport { logOut } from '../Redux/actions/user';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n    appBar: {\r\n        backgroundColor: 'transparent',\r\n        boxShadow: 'none'\r\n    },\r\n\r\n    toolBar: {\r\n        backgroundColor: 'transparent',\r\n        boxShadow: 'none'\r\n    },\r\n\r\n    navWrapper: {\r\n        position: 'fixed',\r\n        width: '100vw',\r\n        top: '0px',\r\n        backgroundColor: 'transparent',\r\n        zIndex: 50,\r\n        paddingTop: '10px',\r\n        paddingLeft: '20px',\r\n        textAlign: 'left',\r\n        boxSizing: 'border-box'\r\n    },\r\n\r\n    navLink: {\r\n        cursor: 'pointer',\r\n        marginRight: 20,\r\n        color: 'white',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        },\r\n        fontSize: '13px',\r\n        fontWeight: 100,\r\n        display: 'inline-block'     \r\n    },\r\n\r\n    rightNavLink: {\r\n        float: 'right'\r\n    },\r\n\r\n    rightLinkWrapper: {\r\n        display:'inline-block',\r\n        textAlign: 'right'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user,\r\n    showHelp: state.showHelp\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog,\r\n    logOut,\r\n    restoreInterfaceDefaults,\r\n    snackbarOpen,\r\n    toggleShowHelp\r\n}\r\n\r\nclass TopNavBar extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        }\r\n        \r\n    }\r\n    \r\n    // Controls login dialog text fields to allow reset from logout button\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    };\r\n\r\n    handleLogOut = () => {\r\n        this.clearState();\r\n        this.props.logOut();\r\n        this.props.restoreInterfaceDefaults();\r\n    }\r\n\r\n    clearState = () => {\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        })\r\n    }\r\n\r\n    handleNavigate = (route) => {\r\n        this.props.restoreInterfaceDefaults()\r\n        this.props.history.push(route);\r\n    }\r\n\r\n    handleOutsideNavigate = (url) => {\r\n        window.open(url, '_blank')\r\n    }\r\n\r\n    render(){\r\n        const { classes, history, showHelp } = this.props;\r\n        const { pathname } = history.location;\r\n\r\n        return (\r\n            <div className={classes.navWrapper}>\r\n                <Typography variant='caption' onClick={() => this.handleNavigate('/')} className={classes.navLink}>Home</Typography>\r\n                <Typography variant='caption' onClick={() => this.handleNavigate('/catalog')} className={classes.navLink}>Catalog</Typography>\r\n                {pathname !== '/visualization' && <Typography variant='caption' onClick={() => this.handleNavigate('/apikeymanagement')} className={classes.navLink}>API Keys</Typography>}\r\n                {pathname !== '/visualization' && <Typography variant='caption' onClick={() => this.handleNavigate('/visualization')} className={classes.navLink}>Visualization</Typography>}\r\n                {this.props.user && <Typography variant='caption' onClick={() => this.handleLogOut()} className={`${classes.navLink} ${pathname === '/visualization' ? '' : classes.rightNavLink}`}>Log Out</Typography>}\r\n                {/* <Typography variant='caption' onClick={this.props.toggleShowHelp} className={classes.navLink}>{showHelp ? 'Hide Help' : 'Help(beta) '}</Typography> */}\r\n                {(!this.props.user && pathname !== '/visualization') && <Typography variant='caption' onClick={() => this.props.showLoginDialog()} className={`${classes.navLink} ${classes.rightNavLink}`}>Log In</Typography>}\r\n                {(!this.props.user && pathname !== '/visualization') && <Typography variant='caption' onClick={() => this.handleNavigate('/register')} className={`${classes.navLink} ${classes.rightNavLink}`}>Register</Typography>}\r\n            </div>        \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(TopNavBar)));","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { showLoginDialog } from '../Redux/actions/ui';\r\n\r\nimport ApiKeyManagement from './ApiKeyManagement';\r\nimport LoginRequiredPrompt from './LoginRequiredPrompt';\r\nimport TopNavBar from './TopNavBar';\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog\r\n}\r\n\r\nconst styles = theme => ({\r\n\r\n})\r\n\r\nclass Home extends Component {\r\n    // constructor(props){\r\n    //     super(props)\r\n    // }\r\n    componentDidMount(){\r\n        if(!this.props.user) this.props.showLoginDialog();\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <React.Fragment>\r\n                <TopNavBar/>\r\n                {this.props.user ? <ApiKeyManagement/> : <LoginRequiredPrompt/>}\r\n            </React.Fragment>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Home));","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n// import Card from '@material-ui/core/Card';\r\n// import Divider from '@material-ui/core/Divider';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { apiUrl } from '../config';\r\n\r\nconst imageSource = apiUrl + '/images/catalog/'\r\n\r\nconst tableMapping = [\r\n    ['Variable Name', 'Variable'],\r\n    ['Spatial Resolution', 'Spatial_Resolution'],\r\n    ['Temporal Resolution', 'Temporal_Resolution'],\r\n    ['Unit', 'Unit'],\r\n    ['Process Level', 'Process_Level'],\r\n    ['Study Domain', 'Study_Domain'],\r\n    ['SQL Table Name', 'Table_Name']\r\n]\r\n\r\nconst styles = (theme) => ({\r\n    title:{\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    wrapper: {\r\n        width: '90%',\r\n        margin: '-10px auto 0px auto',\r\n        height: '100%'\r\n    },\r\n    infoCard: {\r\n        padding: theme.spacing(2),\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    gridClass: {\r\n        marginTop: theme.spacing(2),\r\n        height: '100%'\r\n    },\r\n    gridItem: {\r\n        height: '90%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    datasetDescriptionWrapper: {\r\n        whiteSpace: 'normal',\r\n        height: '100%',\r\n        overflow: 'auto'\r\n    },\r\n    datasetDescription: {\r\n        marginBottom: theme.spacing(2),\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    vizSampleImage: {\r\n        width: '90%'\r\n    },\r\n    variableDetailTable: {\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    variableDetailTableRow: {\r\n        height: '32px'\r\n    },\r\n    variableDetailTableCell: {\r\n        color: '#FFF6EC',\r\n        borderBottomColor: 'black'\r\n    }\r\n})\r\n\r\nconst GridDetail = (props) => {\r\n    const {classes} = props;\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <Grid container spacing={8} className={classes.gridClass}>\r\n                <Grid item xs={3} className={classes.gridItem}>\r\n                    <img src={imageSource + 'viz_sample.png'} alt=\"Sample Visualization\" className={classes.vizSampleImage}/>\r\n                </Grid>\r\n                <Grid item xs={4} className={classes.gridItem}>\r\n                    <div className={classes.datasetDescriptionWrapper}>\r\n                        <Typography variant='body2' className={classes.datasetDescription}>\r\n                            {props.data.Dataset_Description}\r\n                        </Typography>\r\n                        <Typography variant='caption'>\r\n                            Source: {props.data.Data_Source}\r\n                        </Typography> <br></br>\r\n                        <Typography variant='caption'>\r\n                            Distributor: {props.data.Distributor}\r\n                        </Typography>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={5} className={classes.gridItem}>\r\n                    <Table className={classes.variableDetailTable} size='small'>\r\n                        <TableBody>\r\n                            {tableMapping.map((row, index) => (\r\n                                <TableRow key={index} className={classes.variableDetailTableRow}>\r\n                                    <TableCell className={classes.variableDetailTableCell}>{row[0]}</TableCell>\r\n                                    <TableCell className={classes.variableDetailTableCell}>{props.data[row[1]]}</TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default (withStyles(styles)(GridDetail));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst styles = theme => ({\r\n  tooltip: {\r\n      color: theme.palette.secondary.main,\r\n      opacity: 1\r\n  }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    showHelp: state.showHelp\r\n})\r\n\r\nconst ConnectedTooltip = (props) => {\r\n    const { classes, showHelp } = props;\r\n\r\n    if(!showHelp) {\r\n        return (\r\n            <React.Fragment>\r\n                {props.children}\r\n            </React.Fragment>\r\n        )}\r\n    else {\r\n        return (\r\n            <Tooltip \r\n                placement={props.placement} \r\n                open={showHelp} \r\n                title={props.title} \r\n                className={classes.tooltip}\r\n                classes={{\r\n                    popper: classes.tooltip\r\n                }}\r\n            >\r\n                {props.children}\r\n            </Tooltip>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(withStyles(styles)(ConnectedTooltip));","import React, { Component } from 'react';\r\n\r\nimport { AgGridReact } from 'ag-grid-react';\r\n// import 'ag-grid-community/dist/styles/ag-grid.css';\r\n// import 'ag-grid-community/dist/styles/ag-theme-material.css';\r\n\r\nimport GridDetail from './GridDetail';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Paper } from '@material-ui/core';\r\n\r\nimport ConnectedTooltip from './ConnectedTooltip';\r\n\r\nconst detailCellRendererParams = {\r\n  template:\r\n    '<div style=\"height: 100%; box-sizing: border-box\" class=\"testClass\">' +\r\n      '  <div style=\"height: 10%;\">Call Details</div>' +\r\n      '  <div ref=\"eDetailGrid\" style=\"height: 90%;\"></div>' +\r\n    \"</div>\"\r\n}\r\n\r\nconst columnDefs = [\r\n  {\r\n    headerName: \"Long Name\", \r\n    field: \"Long_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    tooltipField: 'longName',\r\n    cellRenderer: \"agGroupCellRenderer\",\r\n    cellStyle: {\r\n      textAlign:'left'\r\n    }\r\n  },\r\n  {\r\n    headerName: \"Variable\", \r\n    field: \"Variable\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true\r\n  },\r\n  {\r\n    headerName: \"Table Name\", \r\n    field: \"Table_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Dataset Name\", \r\n    field: \"Dataset_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true,\r\n    tooltipField: 'datasetName'\r\n  }, \r\n  {\r\n    headerName: \"Make\", \r\n    field: \"Make\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Sensor\", \r\n    field: \"Sensor\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Study Domain\", \r\n    field: \"Study_Domain\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Process Level\", \r\n    field: \"Process_Level\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Spatial Resolution\", \r\n    field: \"Spatial_Resolution\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Temporal Resolution\", \r\n    field: \"Temporal_Resolution\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Unit\", \r\n    field: \"Unit\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true\r\n  },\r\n  {\r\n    headerName: \"Key Words\",\r\n    field: 'Keywords',\r\n    hide: true\r\n  }\r\n]\r\n\r\nconst styles = (theme) => ({\r\n  gridWrapper: {\r\n    height: '60vh', \r\n    width: '90%',\r\n    margin: '0 auto'\r\n  },\r\n\r\n  gridSearch: {\r\n    margin: '0 auto 30px auto'\r\n  },\r\n\r\n  gridPaper: {\r\n    margin: '60px 5vw',\r\n    padding: '30px'\r\n  }\r\n})\r\n\r\nconst defaultColDef = {\r\n  resizable: true,\r\n}\r\n\r\nconst autoGroupColumnDef = {\r\n  cellStyle: {\r\n    textAlign:'left'\r\n  }\r\n}\r\n\r\nclass AGGridWrapper extends Component {\r\n  // const { classes } = props;\r\n\r\n  state = {\r\n    filterText: ''\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({...this.state, filterText: event.target.value})\r\n    this.gridApi.setQuickFilter(event.target.value);\r\n  }\r\n\r\n  onGridReady = (params) => {\r\n    this.gridApi = params.api;\r\n    this.columnApi = params.columnApi;\r\n\r\n    this.gridApi.sizeColumnsToFit();\r\n  }\r\n\r\n  handleColumnRowGroupChanged = (event) => {\r\n    event.columns.forEach(column => {\r\n      column.columnApi.setColumnVisible(column.colId, false);\r\n    })\r\n  }\r\n\r\n  render = () => {\r\n    const {classes} = this.props;\r\n\r\n    return (\r\n        <Paper elevation={12} className={classes.gridPaper}>\r\n          <ConnectedTooltip placement title='Enter one or more search terms.' placement='top'>\r\n            <TextField\r\n              className={classes.gridSearch}\r\n              autoFocus={true}\r\n              margin=\"normal\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              variant='outlined'\r\n              name='filterText'\r\n              value={this.state.filterText}\r\n              onChange={this.handleChange}\r\n              label=\"Variable Search\"\r\n              InputLabelProps={{\r\n                  shrink: true,\r\n              }}\r\n            />\r\n          </ConnectedTooltip>\r\n          <div className={classes.gridWrapper + \" ag-theme-material\"}>\r\n            <AgGridReact\r\n              // General settings\r\n              columnDefs={columnDefs}\r\n              defaultColDef={defaultColDef}\r\n              rowData={this.props.catalog}\r\n              onGridReady={this.onGridReady}\r\n              suppressDragLeaveHidesColumns= {true}\r\n\r\n              //Settings related to grouping functionality\r\n              rowGroupPanelShow='always'\r\n              groupMultiAutoColumn={true}\r\n              onColumnRowGroupChanged={this.handleColumnRowGroupChanged}\r\n              autoGroupColumnDef={autoGroupColumnDef}\r\n              enableBrowserTooltips={true}\r\n\r\n              // Settings related to master/detail\r\n              masterDetail={true}\r\n              frameworkComponents= {{ myDetailCellRenderer: GridDetail }}\r\n              detailCellRenderer=\"myDetailCellRenderer\"\r\n              detailRowHeight={280}\r\n              detailCellRendererParams={detailCellRendererParams}\r\n            />\r\n          </div>\r\n        </Paper>\r\n    )\r\n  }\r\n  \r\n}\r\n\r\nexport default (withStyles(styles)(AGGridWrapper));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport AGGridWrapper from './AGGridWrapper';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport TopNavBar from './TopNavBar';\r\n\r\nimport { retrievalRequestSend } from '../Redux/actions/catalog';\r\nimport states from '../asyncRequestStates';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    catalogRequestState: state.catalogRequestState,\r\n    catalog : state.catalog\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    retrievalRequestSend\r\n}\r\n\r\nconst styles = (theme) => ({\r\n\r\n})\r\n\r\nclass Catalog extends Component {\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.catalog) this.props.retrievalRequestSend();\r\n    }\r\n\r\n    determineContent = () => {\r\n        if(this.props.catalog) return <AGGridWrapper catalog={this.props.catalog}/>\r\n        else if(this.props.catalogRequestState === states.inProgress) return <LoadingSpinner size={24}/>\r\n        else if(this.props.catalogRequestState === states.failed) return <p>Failed to get catalog. Have you tried turning it off and then on again?</p>\r\n    }\r\n\r\n    render(){\r\n        let content = this.determineContent();\r\n        return (\r\n            <React.Fragment>\r\n                {content}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Catalog));","import { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import InputAdornment from '@material-ui/core/InputAdornment';\r\n\r\nimport React from 'react';\r\n\r\nconst styles = theme => ({\r\n    registrationCard: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n        height:'200px'\r\n    },\r\n\r\n    textField: {\r\n        margin:theme.spacing(1),\r\n        width: '80%'\r\n    }\r\n});\r\n\r\nconst RegistrationCard = (props) => {\r\n    const { classes } = props;\r\n    const fields = Object.keys(props.inputFieldState);\r\n\r\n    return (\r\n        <Card className={classes.registrationCard}>\r\n            <Grid container spacing={1}>\r\n            {\r\n                fields.map((field, index) => {\r\n                    return (\r\n                        <Grid key={index} item xs={fields.length > 2 ? 6 : 12}>\r\n                        <TextField\r\n                            key= {index}\r\n                            name= {props.inputFieldInfo[field].name}\r\n                            label= {props.inputFieldInfo[field].label}\r\n                            value={props.inputFieldState[field].value}\r\n                            className={classes.textField}\r\n                            onChange={props.onChange}\r\n                            type={props.inputFieldInfo[field].type}\r\n                            error={!props.inputFieldState[field].valid}                            \r\n                            helperText={props.inputFieldState[field].valid ? ' ' : props.inputFieldInfo[field].requirement}\r\n                            />\r\n                        </Grid>\r\n                    )\r\n                })\r\n            }                \r\n            </Grid>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(RegistrationCard);","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport RegistrationCard from './RegistrationCard';\r\nimport TopNavBar from './TopNavBar';\r\n\r\nimport { registrationNextActiveStep, registrationPreviousActiveStep } from '../Redux/actions/ui';\r\nimport { userRegistrationRequestSend, userValidationRequestSend } from '../Redux/actions/user';\r\n\r\nimport states from '../asyncRequestStates';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '60%',\r\n        margin: '5% auto'\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    registrationCard: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n\r\n    textField: {\r\n        margin:theme.spacing(1),\r\n        width: 200\r\n    },\r\n\r\n    buttonProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    registrationActiveStep: state.registrationActiveStep,\r\n    userValidationState: state.userValidationState,\r\n    userRegistrationState: state.userRegistrationState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    registrationNextActiveStep,\r\n    registrationPreviousActiveStep,\r\n\r\n    userRegistrationRequestSend,\r\n\r\n    userValidationRequestSend\r\n}\r\n\r\nconst getSteps = () => ['Your Information', 'Optional Organization Info', 'Security'];\r\nconst getCardInfo = () => ([\r\n    {\r\n        firstName: {\r\n            label:'First Name*',\r\n            name: 'firstName',\r\n            type: 'text',\r\n            requirement: 'Must be 2 or more alphabetical characters.',\r\n            optional: false\r\n        },\r\n        lastName: {\r\n            label:'Last Name*',\r\n            name: 'lastName',\r\n            type: 'text',\r\n            requirement: 'Must be 2 or more alphabetical characters.',\r\n            optional: false\r\n        },\r\n        username: {\r\n            label:'Username*',\r\n            name: 'username',\r\n            type: 'text',\r\n            requirement: 'Must be 6 to 20 alphanumeric characters.',\r\n            optional: false\r\n        },\r\n        email: {\r\n            label:'Email Address*',\r\n            name: 'email',\r\n            type: 'email',\r\n            requirement: 'Must be a valid email address.',\r\n            optional: false\r\n        }\r\n    },\r\n    {\r\n        institute: {\r\n            label:'Institute',\r\n            name: 'institute',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        },\r\n        department: {\r\n            label:'Department',\r\n            name: 'department',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        },\r\n        country: {\r\n            label:'Country',\r\n            name: 'country',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        }\r\n    },\r\n    {\r\n        password: {\r\n            label:'Password*',\r\n            name: 'password',\r\n            type: 'password',            \r\n            requirement: 'Must be 8 to 32 characters with 1 number and 1 special character.',\r\n            optional: false\r\n        },\r\n        confirmPassword: {\r\n            label:'Confirm Password*',\r\n            name: 'confirmPassword',\r\n            type: 'password',            \r\n            requirement: 'Passwords must match.',\r\n            optional: false\r\n        }\r\n    }\r\n])\r\n\r\nclass RegistrationStepper extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        let cards = []\r\n        getCardInfo().forEach(card => {\r\n            let newCard = {};\r\n            Object.keys(card).forEach(key => {\r\n                newCard[key] = {\r\n                    value: '',\r\n                    valid: true,\r\n                    optional: card[key].optional\r\n                }\r\n            })\r\n            cards.push(newCard);\r\n        })\r\n\r\n        this.state = {\r\n            cards\r\n        }\r\n    }\r\n\r\n    validateField = (name, rawValue) => {\r\n        let value = rawValue.trim();\r\n        let pattern = /$^/;\r\n        switch(name){\r\n            case 'firstName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'lastName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'username':\r\n                pattern = /^[A-Za-z0-9 ]{6,20}$/;\r\n                break;\r\n            case 'email':\r\n                pattern = /^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/;\r\n                break;\r\n            case 'institute':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'department':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'country':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'password':\r\n                pattern = /^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/\r\n                this.setState(previousState => {\r\n                    let newCardState = [...previousState.cards];\r\n                    newCardState[2].confirmPassword.valid = Boolean(newCardState[2].confirmPassword.value === value);\r\n                    return {cards: newCardState};\r\n                })\r\n                break;\r\n            case 'confirmPassword':\r\n                return this.state.cards[2].password.value === value;\r\n            default:\r\n                break;\r\n        }\r\n        return pattern.test(value);\r\n    }\r\n\r\n    processStateToActionPayload = () => {\r\n        let actionPayload = {};\r\n        this.state.cards.forEach(card => {\r\n            Object.keys(card).forEach(cardKey => {\r\n                actionPayload[cardKey] = card[cardKey].value;\r\n            })\r\n        })\r\n        console.log('action payload')\r\n        console.log(actionPayload)\r\n        return actionPayload;\r\n    }\r\n\r\n    currentCardIsValid = () => {\r\n        let currentCard = this.state.cards[this.props.registrationActiveStep];\r\n        for(let key in currentCard){\r\n            if(currentCard[key].optional) continue;\r\n            if(!currentCard[key].value || !currentCard[key].valid) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    handleNext = () => {\r\n        const activeStep = this.props.registrationActiveStep;\r\n        \r\n        switch(activeStep){\r\n            case 0:\r\n                // API request to validate username and email address\r\n                let username= this.state.cards[0].username.value;\r\n                let email= this.state.cards[0].email.value;\r\n                this.props.userValidationRequestSend(username, email);\r\n                break;\r\n            case 1:\r\n                this.props.registrationNextActiveStep();\r\n                break;\r\n            case 2:\r\n                // API request to register user\r\n                this.props.userRegistrationRequestSend(this.processStateToActionPayload())\r\n                break;\r\n            default:\r\n                this.props.registrationNextActiveStep();\r\n                break;\r\n\r\n\r\n        }\r\n    };\r\n\r\n    handleBack = () => {\r\n        this.props.registrationPreviousActiveStep();\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        let fieldName = event.target.name;\r\n        let valid = this.validateField(fieldName, newValue);\r\n        this.setState(previousState => {\r\n            let cards = [...previousState.cards];\r\n            cards[this.props.registrationActiveStep][fieldName] = {\r\n                ...cards[this.props.registrationActiveStep][fieldName],\r\n                value: newValue,\r\n                valid\r\n            }\r\n            return {cards};\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const steps = getSteps();\r\n        const activeStep = this.props.registrationActiveStep;\r\n        const cardInfoArray = getCardInfo();\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <TopNavBar/>\r\n                <div className={classes.root}>\r\n                    \r\n                    <Stepper activeStep={activeStep}>\r\n                    {steps.map((label, index) => {\r\n                        return (\r\n                        <Step key={label}>\r\n                            <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                        );\r\n                    })}\r\n                    </Stepper>\r\n                    <div>\r\n                    {activeStep === steps.length ? (\r\n                        <div>\r\n                        <Typography className={classes.instructions}>\r\n                            Registration Completed!\r\n                        </Typography>\r\n                        </div>\r\n                    ) : (\r\n                        <div>\r\n                            <RegistrationCard \r\n                                inputFieldState={{...this.state.cards[this.props.registrationActiveStep]}} \r\n                                inputFieldInfo={{...cardInfoArray[this.props.registrationActiveStep]}}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <div>\r\n                                <Button\r\n                                disabled={activeStep === 0}\r\n                                onClick={this.handleBack}\r\n                                className={classes.button}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={this.handleNext}\r\n                                    className={classes.button}\r\n                                    disabled={!this.currentCardIsValid() || this.props.userValidationState === states.inProgress}\r\n                                >\r\n                                    {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\r\n                                </Button>\r\n                                {this.props.userValidationState === states.inProgress && <CircularProgress size={24} className= {classes.buttonProgress} />}\r\n                                {this.props.userValidationState === states.failed && <p>That username or email is already in use. Please enter a different username or email address.</p>}\r\n                                {this.props.userRegistrationState === states.failed && <p>Registration failed. Please try again.</p>}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(RegistrationStepper));","import React, { Component } from 'react';\r\n\r\nimport RegistrationStepper from './RegistrationStepper';\r\n\r\nexport default class Register extends Component {\r\n    // constructor(props){\r\n    //     super(props)\r\n    // }\r\n\r\n    render(){\r\n        return (\r\n            <RegistrationStepper/>\r\n        )\r\n    }\r\n}","const regionRenderModes = {\r\n    draw: 'draw',\r\n    form: 'form'\r\n}\r\n\r\nexport default regionRenderModes;","const validation = {\r\n    depth: {\r\n        depthOneIsLower: 'Start cannot be larger than end',\r\n        depthOneOutOfBounds: 'Start must be smaller than $',\r\n        depthTwoOutOfBounds: 'End must be larger than $',\r\n        negative: 'Depth cannot be negative'\r\n    },\r\n\r\n    date: {\r\n        dateOneIsLater: 'Start cannot be later than end',\r\n        dateOneOutOfBounds: 'Start must be before $',\r\n        dateTwoOutOfBounds: 'End must be after $'\r\n    },\r\n\r\n    lat: {\r\n        latOneIsHigher: 'Start cannot be larger than end.',\r\n        latOneOutOfBounds: 'Start must be less than $',\r\n        latTwoOutOfBounds: 'End must be greater than $'\r\n    },\r\n\r\n    lon: {\r\n        lonOneIsHigher: 'Start cannot be larger than end.',\r\n        lonOneOutOfBounds: 'Start must be less than $',\r\n        lonTwoOutOfBounds: 'End must be greater than $'\r\n    },\r\n\r\n    type: {\r\n        dataIsIrregular: '$ is not available for sparse data',\r\n        dateRangeRequired: '$ requires a range of dates',\r\n        depthRangeRequired: '$ requires a range of depths',\r\n        surfaceOnlyDataset: '$ contains only surface data',\r\n        irregularOnly: 'Sparse map is only available for sparse data',\r\n        dataSizeTooLarge: 'Data set is too large for this visualization type.'\r\n    },\r\n\r\n    generic: {\r\n        invalid: 'Invalid input',\r\n        dataSizeWarning: 'Wait time and application performance may be poor due to size of data.',\r\n        dataSizePrevent: 'Data set is too large. Please reduce date range or area size.'\r\n    }\r\n}\r\n\r\nexport default validation;","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nconst styles = theme => ({\r\n\r\n})\r\n\r\nconst TableStatsDialog = (props) => {\r\n    const { data } = props;\r\n\r\n    if(!data) return '';\r\n\r\n    return (\r\n        <Dialog\r\n            open={props.open}\r\n            onClose={props.onClose}\r\n        >\r\n            <DialogTitle>{data.Variable}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {data.Long_Name}\r\n                </DialogContentText>\r\n                <Table size='small'>\r\n                    <TableBody>\r\n                            <TableRow>\r\n                                <TableCell>Sensor</TableCell>\r\n                                <TableCell>{data.Sensor}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Spatial Resolution</TableCell>\r\n                                <TableCell>{data.Spatial_Resolution}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Temporal Resolution</TableCell>\r\n                                <TableCell>{data.Temporal_Resolution}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Temporal Coverage Begin</TableCell>\r\n                                <TableCell>{data.Time_Min ? data.Time_Min.slice(0,10) : 'Irregular'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Temporal Coverage End</TableCell>\r\n                                <TableCell>{data.Time_Max ? data.Time_Max.slice(0,10) : 'Irregular'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lat Coverage Begin</TableCell>\r\n                                <TableCell>{`${data.Lat_Min}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n                            <TableRow>\r\n                                <TableCell>Lat Coverage End</TableCell>\r\n                                <TableCell>{`${data.Lat_Max}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lon Coverage Begin</TableCell>\r\n                                <TableCell>{`${data.Lon_Min}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lon Coverage End</TableCell>\r\n                                <TableCell>{`${data.Lon_Max}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Depth Coverage Begin</TableCell>\r\n                                <TableCell>{data.Depth_Min ? `${data.Depth_Min}(m)` : 'Surface Only'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Depth Coverage End</TableCell>\r\n                                <TableCell>{data.Depth_Max ? `${data.Depth_Max}(m)` : 'Surface Only'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            {data.Variable_Min &&\r\n                                <TableRow>\r\n                                    <TableCell>Minimum Value({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Min}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n\r\n                            {data.Variable_Max &&\r\n                                <TableRow>\r\n                                    <TableCell>Maximum Value({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Max}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n\r\n                            {data.Variable_Mean && \r\n                                <TableRow>\r\n                                    <TableCell>Mean Value({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Mean}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n\r\n                            {data.Variable_Std &&\r\n                                <TableRow>\r\n                                    <TableCell>Standard Deviation({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Std}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n                    </TableBody>\r\n                </Table>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(TableStatsDialog);\r\n\r\n// Variable_Max: \"4.999\"\r\n// Variable_Mean: \"-0.0000008547\"\r\n// Variable_Min: \"-4.9956\"\r\n// Variable_Std: \"0.1428013424\"","import temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nconst mapTemporalResolutionToNumber = (resolution) => {\r\n    let map = {\r\n        [temporalResolutions.threeMinutes] : 1,\r\n        [temporalResolutions.sixHourly] : 1,\r\n        [temporalResolutions.daily] : 1,\r\n        [temporalResolutions.weekly] : 7,\r\n        [temporalResolutions.monthly] : 30,\r\n        [temporalResolutions.annual] : 365,\r\n        [temporalResolutions.irregular] : null,\r\n        [temporalResolutions.monthlyClimatology]: 30,\r\n        [temporalResolutions.threeDay]: 3,\r\n        [temporalResolutions.eightDayRunning]: 8,\r\n        [temporalResolutions.eightDays]: 8\r\n    };\r\n\r\n    return map[resolution];\r\n}\r\n\r\nexport default mapTemporalResolutionToNumber;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport * as JsSearch from 'js-search';\r\nimport { FixedSizeList as ReactWindowList } from \"react-window\";\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MUISelect from '@material-ui/core/Select';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport { ArrowDropDown, LibraryBooks } from '@material-ui/icons';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\nimport states from '../asyncRequestStates';\r\nimport colors from '../Enums/colors';\r\nimport validation from '../Enums/validation';\r\nimport TableStatsDialog from './TableStatsDialog';\r\nimport mapTemporalResolutionToNumber from '../Utility/mapTemporalResolutionToNumber';\r\nimport mapSpatialResolutionToNumber from '../Utility/mapSpatialResolutionToNumber';\r\nimport spatialResolutions from '../Enums/spatialResolutions';\r\n\r\nimport { cruiseTrajectoryRequestSend } from '../Redux/actions/visualization';\r\n\r\n\r\nconst styles = (theme) => ({\r\n    dataRetrievalFormPaper: {\r\n        width: '1000px',\r\n        height: '260px',\r\n        padding: theme.spacing(2.5),\r\n        position:'fixed',\r\n        top: '10px',\r\n        left: '50%',\r\n        marginLeft: '-600px',\r\n        zIndex: 2,\r\n        paddingTop: theme.spacing(1.5),\r\n    },\r\n\r\n    dataRetrievalFormField: {\r\n        padding:`0px ${theme.spacing(1)}`\r\n    },\r\n\r\n    retrieveDataButton: {\r\n        margin:'10px auto'\r\n    },\r\n\r\n    variableSelect: {\r\n        margin: '0 30px 20px 30px'\r\n    },\r\n\r\n    visualizationSpeedDial: {\r\n        position: 'relative',\r\n        top: '5px',\r\n        left: '30px'\r\n    },\r\n\r\n    visualizeButton: {\r\n        borderRadius:'10%',\r\n        width: '100px',\r\n        height:'40px',\r\n        margin: 'auto 0',\r\n        backgroundColor: theme.palette\r\n    },\r\n\r\n    visualizeButtonText: {\r\n        dominantBaseline: \"middle\",\r\n        textAnchor: \"middle\"\r\n    },\r\n\r\n    displayNone: {\r\n        display: 'none'\r\n    },\r\n\r\n    datePickerGridSection: {\r\n        paddingLeft: '40px !important',\r\n        paddingRight: '40px !important'\r\n    },\r\n\r\n    shortenHeight: {\r\n        height: '60px'\r\n    },\r\n\r\n    vizSelect: {\r\n        minWidth: 120\r\n    },\r\n\r\n    gridItem: {\r\n        height: '48px'\r\n    },\r\n\r\n    generalMessage: {\r\n        textAlign: 'left'\r\n    },\r\n\r\n    vizTypeSelectFormControl: {\r\n        width: 150\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    catalog: state.catalog,\r\n    catalogRequestState: state.catalogRequestState,\r\n    cruiseTrajectory: state.cruiseTrajectory\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseTrajectoryRequestSend\r\n}\r\n\r\n// Replace react-select menulist with react-window (virtualized) fixed size list\r\nconst height = 35;\r\nconst reactWindowListRef = React.createRef();\r\nclass MenuList extends Component {\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if(!(this.props.children && this.props.children.length)) return;\r\n        let index = this.props.children.findIndex(child => child.props && child.props.isFocused);\r\n        reactWindowListRef.current.scrollToItem(index);\r\n    }\r\n\r\n    render() {\r\n        const { options, children, maxHeight, getValue } = this.props;\r\n        const [value] = getValue();\r\n        const initialOffset = options.indexOf(value) * height;\r\n        \r\n        return (\r\n            <ReactWindowList\r\n                style={{backgroundColor: colors.backgroundGray}}\r\n                height={(options.length === 0 ? 35 : maxHeight > height * options.length ? height * options.length : maxHeight) || 35}\r\n                itemCount={children.length}\r\n                itemSize={height}\r\n                initialScrollOffset={initialOffset || 0}\r\n                ref={reactWindowListRef}\r\n            >\r\n                {({ index, style }) => <div style={style}>{children[index]}</div>}\r\n            </ReactWindowList>\r\n        );\r\n    }\r\n}\r\n\r\n// Replace react-select dropdown area with material version\r\nconst DropdownIndicator = (props) => {\r\n    return (\r\n      <components.DropdownIndicator {...props}>\r\n        <ArrowDropDown />\r\n      </components.DropdownIndicator>\r\n    );\r\n  };\r\n\r\n// Replace react-select selected option\r\nconst SingleValue = (props) => {\r\n    return (\r\n        <components.SingleValue {...props} className={props.className + ' fa-icon-cmap'}/>\r\n    )\r\n}\r\n\r\n// Replace react-select option\r\nconst Option = (props) => {\r\n    return (\r\n        <components.Option {...props} className={props.className + ' fa-icon-cmap'}/>\r\n    )\r\n}\r\n\r\nclass DataRetrievalForm extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        var search = new JsSearch.Search('Variable');\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Variable');\r\n        search.addIndex('Make');\r\n        search.addIndex('Sensor');\r\n        search.addIndex('Data_Source');\r\n        search.addIndex('Process_Level');\r\n        search.addIndex('Long_Name');\r\n        search.addIndex('Keywords');\r\n        if(props.catalog) search.addDocuments(props.catalog);\r\n\r\n        this.state = {\r\n            visualizationSpeedDialOpen: false,\r\n            tableStatsDialogIsOpen: false,\r\n            search,\r\n            searchField: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.catalog && prevProps.catalog.length) && (this.props.catalog && this.props.catalog.length)){\r\n            this.state.search.addDocuments(this.props.catalog);\r\n            this.setState({search: this.state.search})\r\n        }\r\n    }\r\n\r\n    handleTableStatsDialogClose = () => {\r\n        this.setState({...this.state, tableStatsDialogIsOpen: false})\r\n    }\r\n\r\n    handleTableStatsDialogOpen = () => {\r\n        this.setState({...this.state, tableStatsDialogIsOpen: true});\r\n    }\r\n\r\n    handleVisualizationSpeedDialClose = () => {\r\n        this.setState({visualizationSpeedDialOpen: false});\r\n    }\r\n\r\n    handleVisualizationSpeedDialOpen = () => {\r\n        this.setState({visualizationSpeedDialOpen: true});\r\n    }\r\n\r\n    handleVisualizationSpeedDialClick = () => {\r\n        this.setState({visualizationSpeedDialOpen: !this.state.visualizationSpeedDialOpen});\r\n    }\r\n\r\n    getSelectOptionsFromCatalogItems = (items) => {\r\n        return items.map(item => ({\r\n            value: item.Variable,\r\n            label: item.Variable === item.Long_Name ? (item.Variable.length > 48 ? item.Variable.slice(0,45) + '...' : item.Variable) : (item.Variable.length > 23 ? item.Variable.slice(0,23) : item.Variable) + ' : ' + (item.Long_Name.length > 38 ? item.Long_Name.slice(0,35) + '...' : item.Long_Name),\r\n            data: item\r\n        })) || []\r\n    }\r\n\r\n    onAutoSuggestChange = (searchString, action) => {\r\n        if(action.action === 'input-change') this.setState({...this.state, searchField: searchString});\r\n        if(action.action ==='set-value' || action.action === 'menu-close') this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    estimateDataSize = () => {\r\n        const { dt1, dt2, lat1, lat2, lon1, lon2, fields, selectedVizType } = this.props;\r\n        if(!fields) return 0;\r\n        if(fields.data.Spatial_Resolution === spatialResolutions.irregular) return 0;\r\n        if(selectedVizType === vizSubTypes.timeSeries || selectedVizType === vizSubTypes.depthProfile) return 0;\r\n\r\n        const date1 = Date.parse(dt1);\r\n        const date2 = Date.parse(dt2);\r\n        const res = mapSpatialResolutionToNumber(fields.data.Spatial_Resolution);\r\n\r\n        const dayDiff = (date2 - date1) / 86400000;\r\n\r\n        const dateCount = Math.floor(dayDiff / mapTemporalResolutionToNumber(fields.data.Temporal_Resolution)) || 1;\r\n        const latCount = (lat2 - lat1) / res;\r\n        const lonCount = (lon2 - lon1) / res;\r\n\r\n        const pointCount = lonCount * latCount * dateCount;\r\n        return pointCount;\r\n    }\r\n\r\n    checkStartDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth1) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.fields.data.Depth_Max)) return validation.depth.depthOneOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Max).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkEndDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth2) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth2) < parseFloat(this.props.fields.data.Depth_Min)) return validation.depth.depthTwoOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Min).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkStartDate = () => {\r\n        if(this.props.dt1 < this.props.dt2) return validation.date.dateOneIsLater;\r\n        if(this.props.dt1 > this.props.fields.data.Time_Max) return validation.date.dateOneOutOfBounds.replace('$', this.props.fields.data.Time_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndDate = () => {\r\n        if(this.props.dt1 < this.props.dt2) return validation.date.dateOneIsLater;\r\n        if(this.props.dt2 < this.props.fields.data.Time_Min) return validation.date.dateTwoOutOfBounds.replace('$', this.props.fields.data.Time_Min);\r\n        return '';\r\n    }\r\n\r\n    checkStartLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) < -90 || parseFloat(this.props.lat1) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.lat2)) return validation.lat.latOneIsHigher;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.fields.data.Lat_Max)) return validation.lat.latOneOutOfBounds.replace('$', this.props.fields.data.Lat_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat2) < -90 || parseFloat(this.props.lat2) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.lat2)) return validation.lat.latOneIsHigher;\r\n        if(parseFloat(this.props.lat2) < parseFloat(this.props.fields.data.Lat_Min)) return validation.lat.latTwoOutOfBounds.replace('$', this.props.fields.data.Lat_Max);\r\n        return '';\r\n    }\r\n\r\n    checkStartLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) < -180 || parseFloat(this.props.lon1) > 180) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.lon2)) return validation.lon.lonOneIsHigher;\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.fields.data.Lon_Max)) return validation.lon.lonOneOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon2) < -180 || parseFloat(this.props.lon2) > 180) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.lon2)) return validation.lon.lonOneIsHigher;\r\n        if(parseFloat(this.props.lon2) < parseFloat(this.props.fields.data.Lon_Min)) return validation.lon.lonTwoOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkHeatmap = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Heatmap');\r\n        return '';\r\n    }\r\n\r\n    checkContour = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Contour');\r\n        return '';\r\n    }\r\n\r\n    checkSection = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Section Map');\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', \"Section Map\");\r\n        return '';\r\n    }\r\n\r\n    checkHistogram = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Histogram');\r\n        return '';\r\n    }\r\n\r\n    checkTimeSeries = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Time Series');\r\n        if(this.props.dt1 === this.props.dt2) return validation.type.dateRangeRequired.replace('$', 'Time Series');\r\n        return '';\r\n    }\r\n\r\n    checkDepthProfile = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Depth Profile');\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', 'Depth Profile');\r\n        return '';\r\n    }\r\n\r\n    checkSparseMap = () => {\r\n        if(!this.props.irregularSpatialResolution) return validation.type.irregularOnly;\r\n        return '';\r\n    }\r\n\r\n    checkGeneralWarn = () => {\r\n        if(this.estimateDataSize() > 1200000) return validation.generic.dataSizeWarning;\r\n        return ''\r\n    }\r\n\r\n    checkGeneralPrevent = () => {\r\n        if(this.estimateDataSize() > 50000000) return validation.generic.dataSizePrevent;\r\n        return ''\r\n    }\r\n    \r\n    render() {      \r\n        const { search, searchField } = this.state;\r\n        \r\n        const { classes, \r\n            fields, \r\n            depth1,\r\n            depth2,\r\n            dt1,\r\n            dt2,\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            selectedVizType,\r\n            catalog,\r\n            catalogRequestState,\r\n            surfaceOnly\r\n        } = this.props;\r\n\r\n        const options = searchField && catalog ? this.getSelectOptionsFromCatalogItems(search.search(searchField)) \r\n            : catalog ? this.getSelectOptionsFromCatalogItems(catalog) \r\n            : []\r\n\r\n        let validations;\r\n\r\n        if(fields) {\r\n            validations = [\r\n                this.checkStartDepth(),\r\n                this.checkEndDepth(),\r\n                this.checkStartDate(),\r\n                this.checkEndDate(),\r\n                this.checkStartLat(),\r\n                this.checkEndLat(),\r\n                this.checkStartLon(),\r\n                this.checkEndLon(),\r\n                this.checkHeatmap(),\r\n                this.checkContour(),\r\n                this.checkSection(),\r\n                this.checkHistogram(),\r\n                this.checkTimeSeries(),\r\n                this.checkDepthProfile(),\r\n                this.checkSparseMap(),\r\n                this.checkGeneralWarn(),\r\n                this.checkGeneralPrevent()\r\n            ];\r\n        } else validations = Array(17).fill('');\r\n\r\n        const [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startDateMessage,\r\n            endDateMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            heatmapMessage,\r\n            contourMessage,\r\n            sectionMapMessage,\r\n            histogramMessage,\r\n            timeSeriesMessage,\r\n            depthProfileMessage,\r\n            sparseMapMessage,\r\n            generalWarnMessage,\r\n            generalPreventMessage\r\n        ] = validations;\r\n\r\n        const parametersAreInvalid = [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            generalPreventMessage\r\n        ].some(message => message.length);\r\n\r\n        return (\r\n            <div className={this.props.showUI ? '' : classes.displayNone} id='drf'>\r\n                <TableStatsDialog\r\n                    open={this.state.tableStatsDialogIsOpen}\r\n                    onClose={this.handleTableStatsDialogClose}\r\n                    data={fields && fields.data}\r\n                />\r\n                <Paper className={classes.dataRetrievalFormPaper}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={11} className={classes.shortenHeight}>\r\n                            <Select\r\n                                isLoading = {catalogRequestState === states.inProgress}\r\n                                components={{\r\n                                    IndicatorSeparator:'',\r\n                                    DropdownIndicator,\r\n                                    Option,\r\n                                    MenuList,\r\n                                    SingleValue,\r\n                                }}\r\n                                isClearable\r\n                                onInputChange={this.onAutoSuggestChange}\r\n                                filterOption={null}\r\n                                className={classes.variableSelect}\r\n                                autoFocus\r\n                                escapeClearsValue\r\n                                name=\"fields\"\r\n                                label=\"Variables\"\r\n                                options={options}\r\n                                onChange={this.props.updateFields}\r\n                                value={fields}\r\n                                placeholder=\"Variable Search\"\r\n                                styles={{\r\n                                    menu: provided => ({ ...provided, zIndex: 9999 }),\r\n\r\n                                    input: provided => ({...provided,\r\n                                        color: 'white',\r\n                                        fontFamily: '\"Lato\", sans-serif'\r\n                                    }),\r\n\r\n                                    control: provided => ({...provided,\r\n                                        backgroundColor: '#424242',\r\n                                        border: '1px solid #333333',\r\n                                        '&:hover': { borderColor: 'white' },\r\n                                        '&:focus-within': { borderColor: colors.orange },\r\n                                    }),\r\n\r\n                                    placeholder: provided => ({...provided,\r\n                                        fontFamily: '\"Lato\", sans-serif',\r\n                                        color: colors.orange,\r\n                                        fontSize: '14px'\r\n                                    }),\r\n\r\n                                    noOptionsMessage: provided => ({...provided,\r\n                                        fontFamily: '\"Lato\", sans-serif',\r\n                                        color: colors.orange,\r\n                                        backgroundColor: colors.backgroundGray\r\n                                    }),\r\n\r\n                                    option: (provided, { data, isFocused }) => {\r\n                                        return ({...provided,\r\n                                        backgroundColor: isFocused ? '#383838' : '#424242',\r\n                                        color: data.data.Sensor === 'Satellite' ? '#1acf02' : data.data.Sensor === 'Blend' ? '#fce803' : '#009fd4',\r\n                                        '&:hover': { backgroundColor: '#383838' },\r\n                                        ':active': { backgroundColor: '#383838' },\r\n                                        '&:after': { \r\n                                            content: data.data.Sensor === 'Satellite' ? \"'\\f7bf'\" : data.data.Sensor === 'Blend' ? \"'\\f109'\" : \"'\\f21a'\",\r\n                                            float: 'left'\r\n                                        },\r\n                                    })},\r\n\r\n                                    singleValue: (provided, state) => ({...provided,\r\n                                        fontFamily: state.data.data.Sensor === 'Satellite' ? 'Font Awesome 5 Free': '\"Lato\", sans-serif',\r\n                                        color: state.data.data.Sensor === 'Satellite' ? '#1acf02' : state.data.data.Sensor === 'Blend' ? '#fce803' : '#009fd4',\r\n                                        paddingRight: '20px',\r\n                                        '&:after': { \r\n                                            content: state.data.data.Sensor === 'Satellite' ? \"'\\f7bf'\" : state.data.data.Sensor === 'Blend' ? \"'\\f109'\" : \"'\\f21a'\",\r\n                                            fontSize: '18px',\r\n                                            position: 'relative',\r\n                                            left: '8px',\r\n                                            top: '3px'\r\n                                        }\r\n                                    })\r\n                                }}\r\n                                theme={theme => ({\r\n                                    ...theme,\r\n                                    colors: {\r\n                                    ...theme.colors,\r\n                                    // Background color of hovered options\r\n                                    primary25: '#e0e0e0',\r\n                                    primary: '#212121',\r\n                                    },\r\n                                })}\r\n                            />\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={1}>\r\n                            <IconButton\r\n                                disabled={!fields}\r\n                                onClick={this.handleTableStatsDialogOpen}\r\n                            >\r\n                                <LibraryBooks/>\r\n                            </IconButton>\r\n                        </Grid>\r\n                        \r\n                            <Grid item xs={3} className={classes.datePickerGridSection}>\r\n                                <KeyboardDatePicker\r\n                                    placeholder='yyyy-MM-dd'\r\n                                    id=\"startDate\"\r\n                                    label=\"Start Date\"\r\n                                    name=\"dt1\"\r\n                                    format='yyyy-MM-dd'\r\n                                    minDate={fields ? fields.data.Time_Min : ''}\r\n                                    maxDate={fields ? fields.data.Time_Max : ''}\r\n                                    autoOk\r\n                                    value={dt1}\r\n                                    onChange={this.props.handleStartDateChange}\r\n                                    inputVariant='outlined'\r\n                                    variant='inline'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </Grid>  \r\n                            <Grid item xs={3} className={classes.datePickerGridSection}>\r\n                                <KeyboardDatePicker\r\n                                    placeholder='yyyy-MM-dd'\r\n                                    id=\"endDate\"\r\n                                    label=\"End Date\"\r\n                                    name=\"dt2\"\r\n                                    format='yyyy-MM-dd'\r\n                                    minDate={fields ? fields.data.Time_Min : ''}\r\n                                    maxDate={fields ? fields.data.Time_Max : ''}\r\n                                    autoOk\r\n                                    value={dt2}\r\n                                    onChange={this.props.handleEndDateChange}\r\n                                    inputVariant='outlined'\r\n                                    variant='inline'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </Grid>  \r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(startDepthMessage)} \r\n                                    disabled={!fields || surfaceOnly}\r\n                                >\r\n                                    <InputLabel htmlFor=\"depth1-input\" >Start Depth(m)</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"depth1-input\"\r\n                                        value={depth1}\r\n                                        onChange={this.props.handleChange}\r\n                                        aria-describedby=\"depth1-error\"\r\n                                        labelWidth={105}\r\n                                        name='depth1'\r\n                                    />\r\n                                    <FormHelperText id=\"depth1-error\">{startDepthMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>  \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(endDepthMessage)} \r\n                                    disabled={!fields || surfaceOnly}\r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"depth2-input\" >End Depth(m)</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"depth2-input\"\r\n                                        value={depth2}\r\n                                        onChange={this.props.handleChange}\r\n                                        aria-describedby=\"depth2-error\"\r\n                                        labelWidth={95}\r\n                                        name='depth2'\r\n                                    />\r\n                                    <FormHelperText id=\"depth2-error\">{endDepthMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(startLatMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lat1-input\" >{'Start Lat(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lat1-input\"\r\n                                        value={lat1}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lat1-error\"\r\n                                        labelWidth={80}\r\n                                        name='lat1'\r\n                                    />\r\n                                    <FormHelperText id=\"lat1-error\">{startLatMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>  \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(endLatMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lat2-input\" >{'End Lat(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lat2-input\"\r\n                                        value={lat2}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lat2-error\"\r\n                                        labelWidth={75}\r\n                                        name='lat2'\r\n                                    />\r\n                                    <FormHelperText id=\"lat2-error\">{endLatMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid> \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(startLonMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lon1-input\" >{'Start Lon(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lon1-input\"\r\n                                        value={lon1}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lon1-error\"\r\n                                        labelWidth={80}\r\n                                        name='lon1'\r\n                                    />\r\n                                    <FormHelperText id=\"lon1-error\">{startLonMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>  \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(endLonMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lon2-input\" >{'End Lon(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lon2-input\"\r\n                                        value={lon2}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lon2-error\"\r\n                                        labelWidth={75}\r\n                                        name='lon2'\r\n                                    />\r\n                                    <FormHelperText id=\"lon2-error\">{endLonMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid> \r\n\r\n                            <Grid item xs={2}>\r\n                                <FormControl variant='outlined' className={classes.vizTypeSelectFormControl}>\r\n                                    <InputLabel shrink htmlFor=\"vizSelector\" >Type</InputLabel>\r\n                                    <MUISelect\r\n                                        labelWidth={35}\r\n                                        value={selectedVizType}\r\n                                        variant='outlined'\r\n                                        onChange={this.props.handleChange}\r\n                                        inputProps={{\r\n                                            name: 'selectedVizType',\r\n                                            id: 'vizSelector',\r\n                                            variant: 'outlined'\r\n                                        }}\r\n                                        >\r\n                                        <MenuItem disabled={Boolean(heatmapMessage)} value={vizSubTypes.heatmap} title={heatmapMessage}>Heatmap</MenuItem>\r\n                                        <MenuItem disabled={Boolean(contourMessage)} value={vizSubTypes.contourMap}>Contour</MenuItem>\r\n                                        <MenuItem disabled={Boolean(sectionMapMessage)} value={vizSubTypes.sectionMap}>Section Map</MenuItem>\r\n                                        <MenuItem disabled={Boolean(histogramMessage)} value={vizSubTypes.histogram}>Histogram</MenuItem>                                    \r\n                                        <MenuItem disabled={Boolean(timeSeriesMessage)} value={vizSubTypes.timeSeries}>Time Series</MenuItem>\r\n                                        <MenuItem disabled={Boolean(depthProfileMessage)} value={vizSubTypes.depthProfile}>Depth Profile</MenuItem>\r\n                                        <MenuItem disabled={Boolean(sparseMapMessage)} value={vizSubTypes.sparse}>Sparse Map</MenuItem>\r\n                                    </MUISelect>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={2}>\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='secondary'\r\n                                    onClick={() => this.props.onVisualize()}\r\n                                    disabled={!selectedVizType || parametersAreInvalid || !fields}\r\n                                >\r\n                                    Visualize\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={3}>\r\n                                <Typography variant='caption' color='error' className={classes.generalMessage}>\r\n                                    {generalPreventMessage || generalWarnMessage}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                </Paper>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DataRetrievalForm));","const utcDateStringToLocal = (utcString) => {\r\n    let date = new Date(utcString);\r\n    let utcYear = date.getUTCFullYear();\r\n    let utcMonth = date.getUTCMonth();\r\n    let utcDate = date.getUTCDate();\r\n\r\n    let newDate = new Date();\r\n    newDate.setFullYear(utcYear, utcMonth, utcDate);\r\n    return newDate;\r\n}\r\n\r\nexport default utcDateStringToLocal;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport * as JsSearch from 'js-search';\r\nimport { FixedSizeList as ReactWindowList } from \"react-window\";\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MUISelect from '@material-ui/core/Select';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport { LibraryBooks, ArrowRight, ChevronLeft, ChevronRight, InsertChartOutlined, Language, Delete } from '@material-ui/icons';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\nimport states from '../asyncRequestStates';\r\nimport colors from '../Enums/colors';\r\nimport validation from '../Enums/validation';\r\nimport TableStatsDialog from './TableStatsDialog';\r\nimport mapTemporalResolutionToNumber from '../Utility/mapTemporalResolutionToNumber';\r\nimport mapSpatialResolutionToNumber from '../Utility/mapSpatialResolutionToNumber';\r\nimport spatialResolutions from '../Enums/spatialResolutions';\r\n\r\nimport { cruiseTrajectoryRequestSend, clearCharts } from '../Redux/actions/visualization';\r\n\r\nimport utcDateStringToLocal from '../Utility/utcDateStringToLocal';\r\nimport ConnectedTooltip from './ConnectedTooltip';\r\n\r\nconst navDrawerWidth = 260;\r\n\r\nconst styles = theme => ({\r\n  drawer: {\r\n    width: navDrawerWidth,\r\n    top: 32,\r\n    bottom: 'auto',\r\n    overflow: 'visible'\r\n  },\r\n\r\n  drawerPaper: {\r\n    width: navDrawerWidth,\r\n    height: '540px',\r\n    top: 'calc(50% - 270px)',\r\n    borderRadius: '0 4px 4px 0',\r\n    boxShadow: '2px 2px  2px 2px #242424',\r\n    border: 'none',\r\n    overflow: 'visible',\r\n    backgroundColor: '#424242'\r\n  },\r\n\r\n  openPanelChevron: {\r\n    position: 'fixed',\r\n    left: '5px',\r\n    top: 'calc(50% - 8px)',\r\n    zIndex: 1100\r\n  },\r\n\r\n  closePanelChevron: {\r\n    position: 'fixed',\r\n    left: navDrawerWidth + 5,\r\n    top: 'calc(50% - 8px)',\r\n    zIndex: 1100\r\n  },\r\n\r\n  groupedButtons: {\r\n      width: '50%',\r\n      border: '1px solid #313131',\r\n      borderRadius: 0,\r\n      backgroundColor: '#3c3c3c'\r\n  },\r\n\r\n  controlPanelForm: {\r\n      marginTop: theme.spacing(1)\r\n  },\r\n\r\n  tableStatsButton: {\r\n      borderRadius: 0,\r\n      paddingTop: '11px',\r\n      backgroundColor: '#424242'\r\n  },\r\n\r\n    formGridItem: {\r\n        borderLeft: '1px solid #313131',\r\n        backgroundColor: '#424242'\r\n    },\r\n\r\n  vizTypeSelectFormControl: {\r\n      width: '100%',\r\n      '&:disabled': {\r\n        backgroundColor: 'transparent'\r\n    }\r\n  },\r\n\r\n  depressed: {\r\n      boxShadow: 'inset 1px 1px 5px #1c1c1c'\r\n  },\r\n\r\n  padLeft: {\r\n      padding: '6px 0 2px 7px'\r\n  },\r\n\r\n  visualizeButton: {\r\n      height: '56px',\r\n      borderRadius: 0,\r\n      backgroundColor: '#424242',\r\n      color: theme.palette.primary.main,\r\n      fontVariant: 'normal',\r\n      '&:disabled': {\r\n        backgroundColor: 'transparent'\r\n    },\r\n      '&:hover': {backgroundColor: '#874400'}\r\n  },\r\n\r\n  datePickerInputAdornment: {\r\n      padding: 0\r\n  },\r\n\r\n  clearChartsButton: {\r\n      borderRadius: 0,\r\n      backgroundColor: '#3c3c3c'\r\n  },\r\n\r\n  datePicker: {\r\n      width: '100%'\r\n  }\r\n\r\n});\r\n\r\nconst overrideDisabledStyle = {\r\n    backgroundColor: 'transparent'\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    catalog: state.catalog,\r\n    catalogRequestState: state.catalogRequestState,\r\n    cruiseTrajectory: state.cruiseTrajectory,\r\n    showHelp: state.showHelp\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseTrajectoryRequestSend,\r\n    clearCharts\r\n}\r\n\r\n// Replace react-select menulist with react-window (virtualized) fixed size list\r\nconst height = 35;\r\nconst reactWindowListRef = React.createRef();\r\nclass MenuList extends Component {\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if(!(this.props.children && this.props.children.length)) return;\r\n        let index = this.props.children.findIndex(child => child.props && child.props.isFocused);\r\n        reactWindowListRef.current.scrollToItem(index);\r\n    }\r\n\r\n    render() {\r\n        const { options, children, maxHeight, getValue } = this.props;\r\n        const [value] = getValue();\r\n        const initialOffset = options.indexOf(value) * height;\r\n\r\n        return (\r\n            <ReactWindowList\r\n                height={(options.length == 0 ? 35 : maxHeight > height * options.length ? height * options.length : maxHeight) || 35}\r\n                itemCount={children.length}\r\n                itemSize={height}\r\n                initialScrollOffset={initialOffset || 0}\r\n                ref={reactWindowListRef}\r\n            >\r\n                {({ index, style }) => <div style={style}>{children[index]}</div>}\r\n            </ReactWindowList>\r\n        );\r\n    }\r\n}\r\n\r\n// Replace react-select dropdown area with material version\r\nconst DropdownIndicator = (props) => {\r\n    return (\r\n    <components.DropdownIndicator {...props}>\r\n        <ArrowRight/>\r\n    </components.DropdownIndicator>\r\n    );\r\n};\r\n\r\n// Replace react-select selected option\r\nconst SingleValue = (props) => {\r\n    return (\r\n        <components.SingleValue {...props} className={props.className + ' fa-icon-cmap'}></components.SingleValue>\r\n    )\r\n}\r\n\r\n// Replace react-select option\r\nconst Option = (props) => {\r\n    return (\r\n        <components.Option {...props} className={props.className + ' fa-icon-cmap'}/>\r\n    )\r\n}\r\n\r\nconst formatOptionLabel = (option, meta) => {\r\n    return meta.context === 'value' ? option.value : option.label;\r\n}\r\n\r\nclass VizControlPanel extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        var search = new JsSearch.Search('ID');\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Variable');\r\n        search.addIndex('Make');\r\n        search.addIndex('Sensor');\r\n        search.addIndex('Data_Source');\r\n        search.addIndex('Process_Level');\r\n        search.addIndex('Long_Name');\r\n        search.addIndex('Keywords');\r\n        search.addIndex('Table_Name');\r\n        search.addIndex('Dataset_Name');\r\n        search.addIndex('Study_Domain');\r\n        search.addIndex('Spatial_Resolution');\r\n        search.addIndex('Temporal_Resolution');\r\n        search.addIndex('Keywords');\r\n\r\n        if(props.catalog) search.addDocuments(props.catalog);\r\n\r\n        this.state = {\r\n            tableStatsDialogIsOpen: false,\r\n            search,\r\n            searchField: '',\r\n            showControlPanel: true\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.catalog && prevProps.catalog.length) && (this.props.catalog && this.props.catalog.length)){\r\n            this.state.search.addDocuments(this.props.catalog);\r\n            this.setState({search: this.state.search});\r\n        }\r\n    }\r\n\r\n    handleOpenControlPanel = () => {\r\n        this.setState({...this.state, showControlPanel: true})\r\n    }\r\n\r\n    handleCloseControlPanel = () => {\r\n        this.setState({...this.state, showControlPanel: false})\r\n    }      \r\n    \r\n    handleTableStatsDialogClose = () => {\r\n        this.setState({...this.state, tableStatsDialogIsOpen: false})\r\n    }\r\n\r\n    handleTableStatsDialogOpen = (event) => {\r\n        event.stopPropagation();\r\n        this.setState({...this.state, tableStatsDialogIsOpen: true});\r\n    }\r\n\r\n    handleVisualizationSpeedDialClose = () => {\r\n        this.setState({visualizationSpeedDialOpen: false});\r\n    }\r\n\r\n    handleVisualizationSpeedDialOpen = () => {\r\n        this.setState({visualizationSpeedDialOpen: true});\r\n    }\r\n\r\n    handleVisualizationSpeedDialClick = () => {\r\n        this.setState({visualizationSpeedDialOpen: !this.state.visualizationSpeedDialOpen});\r\n    }\r\n\r\n    getSelectOptionsFromCatalogItems = (items) => {\r\n        return items.map(item => ({\r\n            value: item.Variable,\r\n            label: item.Variable === item.Long_Name ? (item.Variable.length > 48 ? item.Variable.slice(0,45) + '...' : item.Variable) : (item.Variable.length > 23 ? item.Variable.slice(0,23) : item.Variable) + ' : ' + (item.Long_Name.length > 38 ? item.Long_Name.slice(0,35) + '...' : item.Long_Name),\r\n            data: item\r\n        })) || []\r\n    }\r\n\r\n    onAutoSuggestChange = (searchString, action) => {\r\n        if(action.action === 'input-change') this.setState({...this.state, searchField: searchString});\r\n        if(action.action ==='set-value' || action.action === 'menu-close') this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    estimateDataSize = () => {\r\n        const { dt1, dt2, lat1, lat2, lon1, lon2, fields, selectedVizType } = this.props;\r\n        if(!fields) return 0;\r\n        if(fields.data.Spatial_Resolution === spatialResolutions.irregular) return 0;\r\n        if(selectedVizType === vizSubTypes.timeSeries || selectedVizType === vizSubTypes.depthProfile) return 0;\r\n\r\n        const date1 = Date.parse(dt1);\r\n        const date2 = Date.parse(dt2);\r\n        const res = mapSpatialResolutionToNumber(fields.data.Spatial_Resolution);\r\n\r\n        const dayDiff = (date2 - date1) / 86400000;\r\n\r\n        const dateCount = Math.floor(dayDiff / mapTemporalResolutionToNumber(fields.data.Temporal_Resolution)) || 1;\r\n        const latCount = (lat2 - lat1) / res;\r\n        const lonCount = (lon2 - lon1) / res;\r\n\r\n        const pointCount = lonCount * latCount * dateCount;\r\n        return pointCount;\r\n    }\r\n\r\n    checkStartDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth1) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.fields.data.Depth_Max)) return validation.depth.depthOneOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Max).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkEndDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth2) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth2) < parseFloat(this.props.fields.data.Depth_Min)) return validation.depth.depthTwoOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Min).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkStartDate = () => {\r\n        if(this.props.dt1 < this.props.dt2) return validation.date.dateOneIsLater;\r\n        if(this.props.dt1 > this.props.fields.data.Time_Max) return validation.date.dateOneOutOfBounds.replace('$', this.props.fields.data.Time_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndDate = () => {\r\n        if(this.props.dt1 < this.props.dt2) return validation.date.dateOneIsLater;\r\n        if(this.props.dt2 < this.props.fields.data.Time_Min) return validation.date.dateTwoOutOfBounds.replace('$', this.props.fields.data.Time_Min);\r\n        return '';\r\n    }\r\n\r\n    checkStartLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) < -90 || parseFloat(this.props.lat1) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.lat2)) return validation.lat.latOneIsHigher;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.fields.data.Lat_Max)) return validation.lat.latOneOutOfBounds.replace('$', this.props.fields.data.Lat_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat2) < -90 || parseFloat(this.props.lat2) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.lat2)) return validation.lat.latOneIsHigher;\r\n        if(parseFloat(this.props.lat2) < parseFloat(this.props.fields.data.Lat_Min)) return validation.lat.latTwoOutOfBounds.replace('$', this.props.fields.data.Lat_Min);\r\n        return '';\r\n    }\r\n\r\n    checkStartLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) < -180 || parseFloat(this.props.lon1) > 180) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.fields.data.Lon_Max)) return validation.lon.lonOneOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon2) < -180 || parseFloat(this.props.lon2) > 180) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon2) < parseFloat(this.props.fields.data.Lon_Min)) return validation.lon.lonTwoOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkHeatmap = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Heatmap');\r\n        return '';\r\n    }\r\n\r\n    checkContour = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Contour');\r\n        return '';\r\n    }\r\n\r\n    checkSection = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Section Map');\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', \"Section Map\");\r\n        return '';\r\n    }\r\n\r\n    checkHistogram = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Histogram');\r\n        return '';\r\n    }\r\n\r\n    checkTimeSeries = () => {\r\n        if(this.props.dt1 === this.props.dt2) return validation.type.dateRangeRequired.replace('$', 'Time Series');\r\n        return '';\r\n    }\r\n\r\n    checkDepthProfile = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', 'Depth Profile');\r\n        return '';\r\n    }\r\n\r\n    checkSparseMap = () => {\r\n        if(!this.props.irregularSpatialResolution) return validation.type.irregularOnly;\r\n        return '';\r\n    }\r\n\r\n    checkGeneralWarn = () => {\r\n        if(this.estimateDataSize() > 1200000) return validation.generic.dataSizeWarning;\r\n        return ''\r\n    }\r\n\r\n    checkGeneralPrevent = () => {\r\n        if(this.estimateDataSize() > 50000000) return validation.generic.dataSizePrevent;\r\n        return ''\r\n    }\r\n\r\n    handleShowChartsAndResize = () => {\r\n        setTimeout(() => window.dispatchEvent(new Event('resize')), 30);\r\n        this.props.handleShowCharts();     \r\n    }\r\n    \r\n    render() {      \r\n        const { search, searchField, showControlPanel } = this.state;\r\n        \r\n        const { classes, \r\n            fields, \r\n            depth1,\r\n            depth2,\r\n            dt1,\r\n            dt2,\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            selectedVizType,\r\n            catalog,\r\n            catalogRequestState,\r\n            surfaceOnly,\r\n            showCharts,\r\n            handleShowGlobe,\r\n            handleChange,\r\n            handleLatLonChange\r\n        } = this.props;\r\n\r\n        const options = searchField && catalog ? this.getSelectOptionsFromCatalogItems(search.search(searchField)) \r\n            : catalog ? this.getSelectOptionsFromCatalogItems(catalog) \r\n            : []\r\n\r\n        let validations;\r\n\r\n        if(fields) {\r\n            validations = [\r\n                this.checkStartDepth(),\r\n                this.checkEndDepth(),\r\n                this.checkStartDate(),\r\n                this.checkEndDate(),\r\n                this.checkStartLat(),\r\n                this.checkEndLat(),\r\n                this.checkStartLon(),\r\n                this.checkEndLon(),\r\n                this.checkHeatmap(),\r\n                this.checkContour(),\r\n                this.checkSection(),\r\n                this.checkHistogram(),\r\n                this.checkTimeSeries(),\r\n                this.checkDepthProfile(),\r\n                this.checkSparseMap(),\r\n                this.checkGeneralWarn(),\r\n                this.checkGeneralPrevent()\r\n            ];\r\n        } else validations = Array(17).fill('');\r\n\r\n        const [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startDateMessage,\r\n            endDateMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            heatmapMessage,\r\n            contourMessage,\r\n            sectionMapMessage,\r\n            histogramMessage,\r\n            timeSeriesMessage,\r\n            depthProfileMessage,\r\n            sparseMapMessage,\r\n            generalWarnMessage,\r\n            generalPreventMessage\r\n        ] = validations;\r\n\r\n        const parametersAreInvalid = [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            generalPreventMessage\r\n        ].some(message => message.length);\r\n\r\n        return (\r\n            <div>\r\n                <TableStatsDialog\r\n                    open={this.state.tableStatsDialogIsOpen}\r\n                    onClose={this.handleTableStatsDialogClose}\r\n                    data={fields && fields.data}\r\n                />\r\n\r\n                { showControlPanel ? \r\n\r\n                        <IconButton \r\n                            className={classes.closePanelChevron} \r\n                            aria-label=\"toggle-panel\" \r\n                            color=\"primary\" \r\n                            onClick={this.handleCloseControlPanel}>\r\n                            <ChevronLeft />\r\n                        </IconButton>\r\n                :\r\n                    \r\n                        <IconButton \r\n                            className={classes.openPanelChevron} \r\n                            aria-label=\"toggle-panel\" \r\n                            color=\"primary\" \r\n                            onClick={this.handleOpenControlPanel}>\r\n                            <ChevronRight />\r\n                        </IconButton>\r\n                }\r\n\r\n                <Drawer\r\n                    className={classes.drawer}\r\n                    variant=\"persistent\"\r\n                    open={showControlPanel}\r\n                    classes={{\r\n                        paper: classes.drawerPaper,\r\n                    }}\r\n                    anchor=\"left\"\r\n                >\r\n                    <ButtonGroup>\r\n                        <Tooltip title='Show Globe' placement='top'>\r\n                            <IconButton \r\n                                className={`${classes.groupedButtons} ${!showCharts && classes.depressed}`} \r\n                                onClick={handleShowGlobe}\r\n                                color='inherit'\r\n                            >\r\n                                <Language/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        \r\n                        <Tooltip title='Show Charts' placement='top'>\r\n                            <IconButton \r\n                                className={`${classes.groupedButtons} ${showCharts && classes.depressed}`}\r\n                                onClick={this.handleShowChartsAndResize}\r\n                                color='inherit'\r\n                            >\r\n                                <InsertChartOutlined/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </ButtonGroup>\r\n\r\n                    <Tooltip title='Clear Charts' placement='right'>\r\n                        <IconButton color='inherit' onClick={this.props.clearCharts} className={classes.clearChartsButton}>\r\n                            <Delete/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <form>\r\n                        <Grid container>\r\n                            <Grid item xs={10}>\r\n                                <ConnectedTooltip placement='top' title='Enter one or more search terms.'>\r\n                                    <Select\r\n                                        formatOptionLabel={formatOptionLabel}\r\n                                        handleTableStatsDialogOpen={this.handleTableStatsDialogOpen}\r\n                                        isLoading = {catalogRequestState === states.inProgress}\r\n                                        components={{\r\n                                            IndicatorSeparator:'',\r\n                                            DropdownIndicator,\r\n                                            Option,\r\n                                            MenuList,\r\n                                            SingleValue,\r\n                                        }}\r\n                                        onInputChange={this.onAutoSuggestChange}\r\n                                        filterOption={null}\r\n                                        className={classes.variableSelect}\r\n                                        escapeClearsValue\r\n                                        name=\"fields\"\r\n                                        label=\"Variables\"\r\n                                        options={options}\r\n                                        onChange={this.props.updateFields}\r\n                                        value={fields}\r\n                                        placeholder=\"Variable Search\"\r\n                                        styles={{\r\n                                            menu: provided => ({\r\n                                                ...provided, \r\n                                                zIndex: 1300, \r\n                                                top: '-8px',\r\n                                                left: navDrawerWidth,\r\n                                                width: '980px',\r\n                                                borderRadius: '4px',\r\n                                                boxShadow: '2px 2px  2px 2px #242424',\r\n                                                overflow: 'hidden',\r\n                                                backgroundColor: 'rgba(0,0,0,.5)',\r\n                                                backdropFilter: 'blur(5px)',\r\n                                            }),\r\n\r\n                                            valueContainer: provided => ({\r\n                                                ...provided,\r\n                                                padding: '0 0 0 6px',\r\n                                                fontWeight: 100\r\n                                            }),\r\n\r\n                                            input: provided => ({...provided,\r\n                                                color: 'white',\r\n                                                fontFamily: '\"Lato\", sans-serif'\r\n                                            }),\r\n\r\n                                            control: provided => ({...provided,\r\n                                                backgroundColor: '#424242',\r\n                                                border: 'none',\r\n                                                borderBottom: '1px solid #333333',\r\n                                                borderRadius: 0,\r\n                                                '&:hover': { borderColor: 'white' },\r\n                                                '&:focus-within': { borderColor: colors.orange },\r\n                                                height: '56px'\r\n                                            }),\r\n\r\n                                            placeholder: provided => ({...provided,\r\n                                                fontFamily: '\"Lato\", sans-serif',\r\n                                                color: colors.orange,\r\n                                                fontSize: '14px',\r\n                                                fontWeight: 300\r\n                                            }),\r\n\r\n                                            noOptionsMessage: provided => ({...provided,\r\n                                                fontFamily: '\"Lato\", sans-serif',\r\n                                                color: colors.orange,\r\n                                                backgroundColor: colors.backgroundGray\r\n                                            }),\r\n\r\n                                            option: (provided, { data, isFocused }) => {\r\n                                                return ({...provided,\r\n                                                    fontWeight: 400,\r\n                                                    fontSize: '16px',\r\n                                                    backgroundColor: 'transparent',\r\n                                                    color: isFocused ? colors.orange : 'white',\r\n                                                    // color: data.data.Sensor === 'Satellite' ? '#1acf02' : data.data.Sensor === 'Blend' ? '#fce803' : '#009fd4',\r\n                                                    '&:hover': { color: colors.orange },\r\n                                                    '&:active': { backgroundColor: 'rgba(0,0,0,.5)', color: colors.orange},\r\n                                                    '&:after': { \r\n                                                        content: data.data.Sensor === 'Satellite' ? \"'\\f7bf'\" : data.data.Sensor === 'Blend' ? \"'\\f109'\" : \"'\\f21a'\",\r\n                                                        float: 'left'\r\n                                                    },\r\n                                            })},\r\n\r\n                                            singleValue: (provided, state) => ({...provided,\r\n                                                color: 'white',\r\n                                                fontWeight: 400\r\n                                            })\r\n                                        }}\r\n                                        theme={theme => ({\r\n                                            ...theme,\r\n                                            colors: {\r\n                                            ...theme.colors,\r\n                                            },\r\n                                        })}\r\n                                    />\r\n                                </ConnectedTooltip>\r\n                            </Grid>\r\n                            <Grid item xs={2} className={classes.tableStatsButton}>\r\n                                <IconButton \r\n                                    size='small' \r\n                                    onClick={this.handleTableStatsDialogOpen}                                     \r\n                                    disabled={!fields}\r\n                                >\r\n                                    <LibraryBooks/>\r\n                                </IconButton>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}>\r\n                                <KeyboardDatePicker\r\n                                    className={classes.datePicker}\r\n                                    placeholder='yyyy-MM-dd'\r\n                                    id=\"startDate\"\r\n                                    label=\"Start Date\"\r\n                                    name=\"dt1\"\r\n                                    format='yyyy-MM-dd'\r\n                                    maxDate={fields ? utcDateStringToLocal(fields.data.Time_Max) : ''}\r\n                                    autoOk\r\n                                    value={dt1}\r\n                                    onChange={this.props.handleStartDateChange}\r\n                                    inputVariant='filled'\r\n                                    variant='inline'\r\n                                    KeyboardButtonProps={{\r\n                                        className: classes.datePickerInputAdornment\r\n                                    }}\r\n                                />\r\n                            </Grid>  \r\n\r\n                            <Grid item xs={12}>\r\n                                <KeyboardDatePicker\r\n                                    className={classes.datePicker}\r\n                                    placeholder='yyyy-MM-dd'\r\n                                    id=\"endDate\"\r\n                                    label=\"End Date\"\r\n                                    name=\"dt2\"\r\n                                    format='yyyy-MM-dd'\r\n                                    minDate={fields ? utcDateStringToLocal(fields.data.Time_Min) : ''}\r\n                                    autoOk\r\n                                    value={dt2}\r\n                                    onChange={this.props.handleEndDateChange}\r\n                                    inputVariant='filled'\r\n                                    variant='inline'\r\n                                    KeyboardButtonProps={{\r\n                                        className: classes.datePickerInputAdornment\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} className={classes.formGridItem}>\r\n                                <TextField\r\n                                    id=\"lat1-input\"\r\n                                    error={Boolean(startLatMessage)}\r\n                                    label={\"Start Lat(\\xB0)\"}\r\n                                    className={classes.textField}\r\n                                    value={lat1}\r\n                                    onChange={handleLatLonChange}\r\n                                    helperText={startLatMessage}\r\n                                    name='lat1'\r\n                                    InputProps={{className:classes.padLeft}}\r\n                                    InputLabelProps={{className:classes.padLeft}}\r\n                                >\r\n                                </TextField>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} className={classes.formGridItem}>\r\n                                <TextField\r\n                                    id=\"lat2-input\"\r\n                                    error={Boolean(endLatMessage)}\r\n                                    label={\"End Lat(\\xB0)\"}\r\n                                    className={classes.textField}\r\n                                    value={lat2}\r\n                                    onChange={handleLatLonChange}\r\n                                    helperText={endLatMessage}\r\n                                    name='lat2'\r\n                                    InputProps={{className:classes.padLeft}}\r\n                                    InputLabelProps={{className:classes.padLeft}}\r\n                                >\r\n                                </TextField>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} className={classes.formGridItem}>\r\n                                <TextField\r\n                                    id=\"lon1-input\"\r\n                                    error={Boolean(startLonMessage)}\r\n                                    label={\"Start Lon(\\xB0)\"}\r\n                                    className={classes.textField}\r\n                                    value={lon1}\r\n                                    onChange={handleLatLonChange}\r\n                                    helperText={startLonMessage}\r\n                                    name='lon1'\r\n                                    InputProps={{className:classes.padLeft}}\r\n                                    InputLabelProps={{className:classes.padLeft}}\r\n                                >\r\n                                </TextField>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} className={classes.formGridItem}>\r\n                                <TextField\r\n                                    id=\"lon2-input\"\r\n                                    error={Boolean(endLonMessage)}\r\n                                    label={\"End Lon(\\xB0)\"}\r\n                                    className={classes.textField}\r\n                                    value={lon2}\r\n                                    onChange={handleLatLonChange}\r\n                                    helperText={endLonMessage}\r\n                                    name='lon2'\r\n                                    InputProps={{className:classes.padLeft}}\r\n                                    InputLabelProps={{className:classes.padLeft}}\r\n                                >\r\n                                </TextField>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} className={classes.formGridItem}>\r\n                                <TextField\r\n                                    disabled={!fields || surfaceOnly}\r\n                                    id=\"depth1-input\"\r\n                                    error={Boolean(startDepthMessage)}\r\n                                    label=\"Start Depth(m)\"\r\n                                    className={classes.textField}\r\n                                    value={depth1}\r\n                                    onChange={handleChange}\r\n                                    helperText={startDepthMessage}\r\n                                    name='depth1'\r\n                                    InputProps={{className:classes.padLeft}}\r\n                                    InputLabelProps={{className:classes.padLeft}}\r\n                                >\r\n                                </TextField>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} className={classes.formGridItem}>\r\n                                <TextField\r\n                                    disabled={!fields || surfaceOnly}\r\n                                    id=\"depth2-input\"\r\n                                    error={Boolean(endDepthMessage)}\r\n                                    label=\"End Depth(m)\"\r\n                                    className={classes.textField}\r\n                                    value={depth2}\r\n                                    onChange={handleChange}\r\n                                    helperText={endDepthMessage}\r\n                                    name='depth2'\r\n                                    InputProps={{className:classes.padLeft}}\r\n                                    InputLabelProps={{className:classes.padLeft}}\r\n                                >\r\n                                </TextField>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}>\r\n                                <FormControl variant='filled' className={classes.vizTypeSelectFormControl} disabled={!fields}>\r\n                                    <InputLabel shrink htmlFor=\"vizSelector\" >Type</InputLabel>\r\n                                    <MUISelect\r\n                                        className={classes.vizTypeSelectFormControl}\r\n                                        style={overrideDisabledStyle}\r\n                                        value={selectedVizType}\r\n                                        variant='filled'\r\n                                        onChange={this.props.handleChange}\r\n                                        inputProps={{\r\n                                            name: 'selectedVizType',\r\n                                            id: 'vizSelector',\r\n                                            variant: 'filled'\r\n                                        }}\r\n                                        >\r\n                                        <MenuItem disabled={Boolean(heatmapMessage)} value={vizSubTypes.heatmap} title={heatmapMessage}>Heatmap</MenuItem>\r\n                                        <MenuItem disabled={Boolean(contourMessage)} value={vizSubTypes.contourMap}>Contour Heatmap</MenuItem>\r\n                                        <MenuItem disabled={Boolean(sectionMapMessage)} value={vizSubTypes.sectionMap}>Section Map</MenuItem>\r\n                                        <MenuItem disabled={Boolean(contourMessage)} value={vizSubTypes.contourSectionMap}>Contour Section Map</MenuItem>\r\n                                        <MenuItem disabled={Boolean(histogramMessage)} value={vizSubTypes.histogram}>Histogram</MenuItem>                                    \r\n                                        <MenuItem disabled={Boolean(timeSeriesMessage)} value={vizSubTypes.timeSeries}>Time Series</MenuItem>\r\n                                        <MenuItem disabled={Boolean(depthProfileMessage)} value={vizSubTypes.depthProfile}>Depth Profile</MenuItem>\r\n                                        <MenuItem disabled={Boolean(sparseMapMessage)} value={vizSubTypes.sparse}>Sparse Map</MenuItem>\r\n                                    </MUISelect>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}>\r\n                                <Button\r\n                                    className={classes.visualizeButton}\r\n                                    variant='contained'\r\n                                    onClick={() => this.props.onVisualize()}\r\n                                    disabled={!selectedVizType || parametersAreInvalid || !fields}\r\n                                    fullWidth\r\n                                >\r\n                                    Visualize\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>                    \r\n                </Drawer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(VizControlPanel));","export default (infoObject) => {\r\n\r\n    let lonRange = infoObject.lonMax - infoObject.lonMin;\r\n\r\n    let sectionSize;\r\n    if(lonRange < 2){\r\n        sectionSize = (lonRange / 6).toFixed(2);\r\n    } else {\r\n        sectionSize = Math.floor(lonRange / 6);\r\n    }\r\n\r\n    let tickvals = Array.from(Array(5), (e, i) => Math.ceil(infoObject.lonMin + ((i + 1) * sectionSize)));\r\n    let ticktext = tickvals.map(e => e > 180 ? e - 360 : e);\r\n\r\n    return {\r\n        tickmode: 'array',\r\n        tickvals,\r\n        ticktext\r\n    }\r\n}","import months from '../Enums/months';\r\n\r\nexport default (dateString, hasHour, isMonthly) => isMonthly ? months[parseInt(dateString)] : hasHour ? dateString.slice(0,10) + ' ' + dateString.slice(11,16): dateString.slice(0,10);","import colors from '../Enums/colors';\r\n\r\nexport default {\r\n    layout: {\r\n        font: {color: '#ffffff'},\r\n        paper_bgcolor: colors.backgroundGray,\r\n        // plot_bgcolor: 'transparent'\r\n    },\r\n\r\n    config: {\r\n        displaylogo: false\r\n    },\r\n\r\n    annotations: (distributor, height) => (\r\n        [\r\n            {\r\n                text: `Source: ${distributor.length < 30 ? \r\n                    distributor : \r\n                    distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                font: {\r\n                    color: 'white',\r\n                    size: 10\r\n                },\r\n                xref: 'paper',\r\n                yref: 'paper',\r\n                yshift: height ? 0 - height + 160 : -290,\r\n                showarrow: false,\r\n            }\r\n        ]\r\n    )\r\n}","import React, { useState } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Button from '@material-ui/core/Button';\r\nimport { DateRange, Waves, CloudDownload, Palette, SwapVert, Gamepad, LineWeight, Rotate90DegreesCcw } from '@material-ui/icons';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport { ButtonGroup } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n\r\n    popover: {\r\n        width: '470px',\r\n        height: '120px',\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(1),\r\n        paddingLeft: theme.spacing(2.5),\r\n        paddingRight: theme.spacing(2.5)\r\n    },\r\n\r\n    iconButton: {\r\n        boxShadow: '0px 1px 1px 1px #242424',\r\n    },\r\n\r\n    colorForm: {\r\n        width: '100%'\r\n    },\r\n\r\n    lastIcon: {\r\n        borderTopRightRadius: '10%',\r\n        borderBottomRightRadius: '10%'\r\n    },\r\n\r\n    buttonGroup: {\r\n        display: 'block',\r\n        margin: '0px auto 8px auto',\r\n        maxWidth: '700px'\r\n    },\r\n\r\n    depressed: {\r\n        boxShadow: 'inset 1px 1px 5px #262626'\r\n    },\r\n\r\n    colorscaleMenu: {\r\n        maxHeight: '400px'\r\n    },\r\n})\r\n\r\nconst colorscaleOptions = [\r\n    'Default',\r\n    'Greys', \r\n    'YlGnBu', \r\n    'Greens', \r\n    'YlOrRd',\r\n    'Bluered',\r\n    'RdBu',\r\n    'Reds',\r\n    'Blues',\r\n    'Picnic',\r\n    'Rainbow',\r\n    'Portland',\r\n    'Jet',\r\n    'Hot',\r\n    'Blackbody',\r\n    'Earth',\r\n    'Electric',\r\n    'Viridis',\r\n    'Cividis'];\r\n\r\nconst ChartControlPanel = (props) => {\r\n\r\n    const { \r\n        classes, \r\n        onToggleSplitByDate,\r\n        splitByDate,\r\n        onToggleSplitByDepth,\r\n        splitByDepth,\r\n        onToggleSplitBySpace,\r\n        splitBySpace,\r\n        switchOrientation,\r\n        orientation, \r\n        downloadCsv, \r\n        handleZValueConfirm,\r\n        zValues,\r\n        markerOptions,\r\n        handleMarkerOptionsConfirm,\r\n    } = props;\r\n\r\n    const [paletteAnchorElement, setPaletteAnchorElement] = useState(null);\r\n\r\n    let handleOpenPalette = (event) => {\r\n        setPaletteAnchorElement(event.currentTarget);\r\n    }\r\n\r\n    // Local version, not from props\r\n    let handlePaletteChoice = (option) => {\r\n        setPaletteAnchorElement(null);\r\n        props.handlePaletteChoice(option);\r\n    }\r\n\r\n    const [zScalePopoverAnchorElement, setZScalePopoverAnchorElement] = React.useState(null);\r\n    const [localZMin, setLocalZMin] = React.useState(zValues && zValues[0]);\r\n    const [localZMax, setLocalZMax] = React.useState(zValues && zValues[1]);\r\n\r\n    const zScalePopoverOpen = Boolean(zScalePopoverAnchorElement);\r\n    const zScalePopoverID = zScalePopoverOpen ? 'zscale-popover' : undefined;\r\n\r\n    const handleZScalePopoverClose = () => {\r\n        setZScalePopoverAnchorElement(null);\r\n    };\r\n    \r\n    const checkLocalZMin = () => {\r\n        if(localZMin > localZMax) return `Min must be higher than max`;\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(localZMin)) return 'Invalid value';\r\n    }\r\n\r\n    const checkLocalZMax = () => {\r\n        if(localZMin > localZMax) return `Min must be higher than max`;\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(localZMax)) return 'Invalid value';\r\n    }\r\n\r\n    const zScaleValidations = [\r\n        checkLocalZMin(),\r\n        checkLocalZMax()\r\n    ];\r\n\r\n    const [\r\n        zMinMessage,\r\n        zMaxMessage\r\n    ] = zScaleValidations;\r\n\r\n    const handleLocalZConfirm = () => {\r\n        handleZValueConfirm([localZMin, localZMax]);\r\n        handleZScalePopoverClose();\r\n    }\r\n\r\n    const [markerOptionsAnchorElement, setMarkerOptionsAnchorElement] = React.useState(null);\r\n    const [localMarkerOpacity, setLocalMarkerOpacity] = React.useState(markerOptions && markerOptions.opacity);\r\n    const [localMarkerColor, setLocalMarkerColor] = React.useState(markerOptions && markerOptions.color);\r\n    const [localMarkerSize, setLocalMarkerSize] = React.useState(markerOptions && markerOptions.size);\r\n\r\n    const markerPopoverOpen = Boolean(markerOptionsAnchorElement);\r\n    const markerPopoverID = markerPopoverOpen ? 'marker-popover' : undefined;\r\n\r\n    const handleMarkerOptionsClose = () => {\r\n        setMarkerOptionsAnchorElement(null);\r\n    }\r\n\r\n    const checkLocalMarkerOpacity = () => {\r\n        if(localMarkerOpacity < 0.1 || localMarkerOpacity > 1 || !/^[-+]?[0-9]*\\.?[0-9]+$/.test(localMarkerOpacity)){\r\n            return 'Opacity should be 0.1 to 1'\r\n        }\r\n    }\r\n\r\n    const checkLocalMarkerSize = () => {\r\n        if(localMarkerSize < 1 || localMarkerSize > 18 || !/^[-+]?[0-9]*\\.?[0-9]+$/.test(localMarkerSize)){\r\n            return 'Size should be 1 to 18'\r\n        }\r\n    }\r\n\r\n    const markerOptionsValidations = [\r\n        checkLocalMarkerOpacity(),\r\n        checkLocalMarkerSize()\r\n    ]\r\n\r\n    const [\r\n        localMarkerOpacityMessage,\r\n        localMarkerSizeMessage\r\n    ] = markerOptionsValidations;\r\n\r\n    const handleLocalMarkerOptionsConfirm = () => {\r\n        handleMarkerOptionsConfirm({opacity: localMarkerOpacity, color: localMarkerColor, size: localMarkerSize});\r\n        handleMarkerOptionsClose();\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ButtonGroup className={classes.buttonGroup}>\r\n\r\n                {Boolean(onToggleSplitByDate) && \r\n                    <Tooltip placement='top' title='Split By Date'>\r\n                        <IconButton color='inherit' className={`${classes.iconButton} ${splitByDate && classes.depressed}`} \r\n                            onClick={onToggleSplitByDate}\r\n                        >\r\n                            <DateRange/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(onToggleSplitByDepth) && \r\n                    <Tooltip placement='top' title='Split By Depth'>\r\n                        <IconButton color='inherit' className={`${classes.iconButton} ${splitByDepth && classes.depressed}`} \r\n                            onClick={onToggleSplitByDepth}\r\n                        >\r\n                            <Waves/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(onToggleSplitBySpace) && \r\n                    <Tooltip placement='top' title={orientation === 'zonal' ? 'Split by Latitude' : 'Split by Longitude'}>\r\n                        <IconButton color='inherit' className={`${classes.iconButton} ${splitBySpace && classes.depressed}`} \r\n                            onClick={onToggleSplitBySpace}\r\n                        >\r\n                            <LineWeight/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(switchOrientation) && \r\n                    <Tooltip placement='top' title={orientation === 'zonal' ? 'Switch to Meridional' : 'Switch to Zonal'}>\r\n                        <IconButton color='inherit' className={classes.iconButton} \r\n                            onClick={switchOrientation}\r\n                        >\r\n                            <Rotate90DegreesCcw/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                <Tooltip placement='top' title='Download CSV'>\r\n                    <IconButton color='inherit' onClick={downloadCsv} className={classes.iconButton} >\r\n                        <CloudDownload/>\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                {Boolean(handleZValueConfirm) &&\r\n                    <Tooltip title='Change Colorscale Range' placement='top'>\r\n                        <IconButton color='inherit' onClick={(event) => setZScalePopoverAnchorElement(event.currentTarget)} className={classes.iconButton}>\r\n                            <SwapVert/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(props.handlePaletteChoice) &&\r\n                    <Tooltip title='Change Palette' placement='top'>\r\n                        <IconButton disabled={!Boolean(props.handlePaletteChoice)} color='inherit' onClick={handleOpenPalette} className={classes.iconButton}>\r\n                            <Palette/>\r\n                        </IconButton>                \r\n                    </Tooltip>      \r\n                }\r\n\r\n                {Boolean(props.handleMarkerOptionsConfirm) &&\r\n                    <Tooltip title='Marker Options' placement='top'>\r\n                        <IconButton color='inherit' onClick={(event) => setMarkerOptionsAnchorElement(event.currentTarget)} className={`${classes.iconButton} ${classes.lastIcon}`} >\r\n                            <Gamepad/>\r\n                        </IconButton>                \r\n                    </Tooltip>\r\n                }\r\n            </ButtonGroup>\r\n            \r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={paletteAnchorElement}\r\n                keepMounted\r\n                open={Boolean(paletteAnchorElement)}\r\n                onClose={() => setPaletteAnchorElement(null)}\r\n                className={classes.colorscaleMenu}\r\n            >\r\n                {colorscaleOptions.map((option, index) => (\r\n                    <MenuItem onClick={() => handlePaletteChoice(option === 'Default' ? 'heatmap' : option)} key={index}>{option}</MenuItem>\r\n                ))}\r\n                \r\n            </Menu>\r\n            \r\n            {/* zscale popover */}\r\n            <Popover\r\n                id={zScalePopoverID}\r\n                open={zScalePopoverOpen}\r\n                anchorEl={zScalePopoverAnchorElement}\r\n                onClose={handleZScalePopoverClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <div className={classes.popover}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(zMinMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='z-min-input' >Min</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='z-min-input'\r\n                                    value={localZMin}\r\n                                    onChange={(event) => setLocalZMin(event.target.value)}\r\n                                    aria-describedby='local-zmin-error'\r\n                                    labelWidth={36}\r\n                                    name='local-zmin'\r\n                                />\r\n                                <FormHelperText id='local-zmin-error'>{zMinMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(zMaxMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='z-max-input' >Max</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='z-max-input'\r\n                                    value={localZMax}\r\n                                    onChange={(event) => setLocalZMax(event.target.value)}\r\n                                    aria-describedby=\"local-zmax-error\"\r\n                                    labelWidth={36}\r\n                                    name='local-zmax'\r\n                                />\r\n                                <FormHelperText id=\"local-zmax-error\">{zMaxMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={7}>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button onClick={handleZScalePopoverClose}>\r\n                                Cancel\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button \r\n                                color='primary'\r\n                                onClick={handleLocalZConfirm}\r\n                                disabled={Boolean(zMinMessage || zMaxMessage)}\r\n                            >\r\n                                Confirm\r\n                            </Button>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={1}>\r\n                        </Grid>\r\n\r\n                    </Grid>                    \r\n                </div>\r\n            </Popover>\r\n                \r\n            {/* Marker popover */}\r\n            <Popover\r\n                id={markerPopoverID}\r\n                open={markerPopoverOpen}\r\n                anchorEl={markerOptionsAnchorElement}\r\n                onClose={handleMarkerOptionsClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <div className={classes.popover}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(localMarkerOpacityMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='local-marker-opacity' >Opacity</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='local-marker-opacity'\r\n                                    value={localMarkerOpacity}\r\n                                    onChange={(event) => setLocalMarkerOpacity(event.target.value)}\r\n                                    aria-describedby='local-marker-opacity'\r\n                                    labelWidth={44}\r\n                                    name='local-marker-opacity'\r\n                                />\r\n                            <FormHelperText id=\"local-marker-opacity-error\">{localMarkerOpacityMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                // error={Boolean(zMaxMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='local-marker-size' >Size</InputLabel>\r\n                                <OutlinedInput\r\n                                    error={Boolean(localMarkerSizeMessage)}\r\n                                    id='local-marker-size'\r\n                                    value={localMarkerSize}\r\n                                    onChange={(event) => setLocalMarkerSize(event.target.value)}\r\n                                    aria-describedby=\"local-marker-size\"\r\n                                    labelWidth={36}\r\n                                    name='local-marker-size'\r\n                                />\r\n                                <FormHelperText id=\"local-marker-size-error\">{localMarkerSizeMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                className={classes.colorForm}\r\n                            >\r\n                                <InputLabel htmlFor='z-min-input'>Color</InputLabel>\r\n                                <OutlinedInput\r\n                                    type='color'\r\n                                    id='marker-color'\r\n                                    value={localMarkerColor}\r\n                                    onChange={(event) => setLocalMarkerColor(event.target.value)}\r\n                                    aria-describedby='local-marker-color'\r\n                                    labelWidth={44}\r\n                                    name='local-marker-color'\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={1}></Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button onClick={handleMarkerOptionsClose}>\r\n                                Cancel\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button \r\n                                color='primary'\r\n                                onClick={handleLocalMarkerOptionsConfirm}\r\n                                disabled={Boolean(localMarkerOpacityMessage || localMarkerSizeMessage)}\r\n                            >\r\n                                Confirm\r\n                            </Button>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={1}>\r\n                        </Grid>\r\n\r\n                    </Grid>                    \r\n                </div>\r\n            </Popover>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(ChartControlPanel);","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport vizSubTypes from '../../Enums/visualizationSubTypes';\r\n\r\nimport handleXTicks from '../../Utility/handleXTicks';\r\nimport handleDateString from '../../Utility/handleChartDatestring';\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui'; \r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nconst determineHeight = (infoObject) => {\r\n    const latRange = infoObject.latMax - infoObject.latMin;\r\n    const lonRange = infoObject.lonMax - infoObject.lonMin;\r\n    return (((latRange / lonRange) * 800) * .83) + 60;\r\n}\r\n// equal 608 wide, 670 high\r\n// height half 608 / 267\r\n\r\nconst handleContourMap = (subsets, infoObject, splitByDate, splitByDepth, palette, zMin, zMax) => {\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n    \r\n    // Handle axis labels when crossing 180th meridian\r\n    let xTicks = infoObject.parameters.lon1 > infoObject.parameters.lon2 ? handleXTicks(infoObject) : {};\r\n\r\n    let height = determineHeight(infoObject);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n\r\n        const date = dates.length <= 1 ? handleDateString(dates[0], infoObject.hasHour, infoObject.isMonthly) :\r\n            !splitByDate ? infoObject.hasHour ? 'Merged times' : 'Merged Dates' : \r\n            splitByDepth ? handleDateString(dates[Math.floor(index/depths.length)], infoObject.hasHour, infoObject.isMonthly) : \r\n            handleDateString(dates[index], infoObject.hasHour, infoObject.isMonthly);\r\n\r\n        const depth = !infoObject.hasDepth ? 'Surface' :\r\n            depths.length === 1 ? depths[0] + 'm depth':\r\n            !splitByDepth ? 'Merged Depths' : \r\n            splitByDate ? depths[index % depths.length].toFixed(2) + 'm depth' : depths[index].toFixed(2) + 'm depth';\r\n\r\n        var hovertext = subset.map((value, i) => {\r\n            let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n            if(isNaN(value)) return `Lat: ${format('.2f')(infoObject.lats[i])}\\xb0` +\r\n                `<br>` +\r\n                `Lon: ${infoObject.lons[i] > 180 ? format('.2f')(infoObject.lons[i] - 360) : format('.2f')(infoObject.lons[i])}\\xb0`\r\n\r\n            return `Lat: ${format('.2f')(infoObject.lats[i])}\\xb0` +\r\n            `<br>` +\r\n            `Lon: ${infoObject.lons[i] > 180 ? format('.2f')(infoObject.lons[i] - 360) : format('.2f')(infoObject.lons[i])}\\xb0` + \r\n            '<br>' +\r\n            `${infoObject.parameters.fields}: ${format(formatter)(value)} [${infoObject.metadata.Unit}]`;\r\n        });\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n            \r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zMin,\r\n                    zmax: zMax,\r\n                    x: infoObject.lons,\r\n                    y: infoObject.lats,\r\n                    z: subset,\r\n                    connectgaps: false,\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n\r\n                    hoverinfo: 'text',\r\n                    hovertext,\r\n                    \r\n                    name: infoObject.parameters.fields,\r\n                    type: 'contour',\r\n                    contours: {\r\n                        coloring: palette,\r\n                        showlabels: true,\r\n                        labelfont: {\r\n                            family: 'Raleway',\r\n                            size: 12,\r\n                            color: 'white',\r\n                        },\r\n                        labelformat: '.2e'\r\n                    },\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat: 'power'\r\n                    }\r\n                }\r\n            ]}\r\n\r\n            config={{...chartBase.config}}\r\n            \r\n            key={index}\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                width: 800,\r\n                height,\r\n                title: {\r\n                    text: `${variableName}[${infoObject.metadata.Unit}]  ${depth}  ${date}`,\r\n                },\r\n                xaxis: {title: 'Longitude', color: '#ffffff', ...xTicks},\r\n                yaxis: {title: 'Latitude', color: '#ffffff'},\r\n                annotations: chartBase.annotations(infoObject.metadata.Distributor, height)\r\n            }}   \r\n        />)\r\n    })\r\n}\r\n\r\nconst handleHistogram = (subsets, infoObject, splitByDate, splitByDepth, palette) => {\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n\r\n        const date = dates.length <= 1 ? handleDateString(dates[0], infoObject.hasHour, infoObject.isMonthly) :\r\n            !splitByDate ? infoObject.hasHour ? 'Merged times' : 'Merged Dates' : \r\n            splitByDepth ? handleDateString(dates[Math.floor(index/depths.length)], infoObject.hasHour, infoObject.isMonthly) : \r\n            handleDateString(dates[index], infoObject.hasHour, infoObject.isMonthly);\r\n\r\n        const depth = !infoObject.hasDepth ? 'Surface' :\r\n            depths.length === 1 ? depths[0] + 'm depth':\r\n            !splitByDepth ? 'Merged Depths' : \r\n            splitByDate ? depths[index % depths.length].toFixed(2) + 'm depth' : depths[index].toFixed(2) + 'm depth';\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n\r\n            data={[\r\n                {\r\n                    x: subset,\r\n                    name: infoObject.parameters.fields,\r\n                    type: 'histogram'\r\n                }\r\n            ]}\r\n            \r\n            key={index}\r\n            layout= {{\r\n                width: 800,\r\n                height: 570,\r\n                ...chartBase.layout,\r\n                title: `${variableName}[${infoObject.metadata.Unit}]  ${depth}  ${date}`,\r\n                xaxis: {\r\n                    title: `${infoObject.parameters.fields} [${infoObject.metadata.Unit}]`,\r\n                    exponentformat: 'power',\r\n                    color: '#ffffff'\r\n                },\r\n                yaxis:{\r\n                    color: '#ffffff',\r\n                    title: 'Frequency'\r\n                },\r\n                annotations: chartBase.annotations(infoObject.metadata.Distributor)             \r\n            }}\r\n            config={{...chartBase.config}}\r\n        />)\r\n    })\r\n}\r\n\r\nconst handleHeatmap = (subsets, infoObject, splitByDate, splitByDepth, palette, zMin, zMax) => {\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n\r\n    let xTicks = infoObject.parameters.lon1 > infoObject.parameters.lon2 ? handleXTicks(infoObject) : {};\r\n\r\n    let height = determineHeight(infoObject);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n\r\n        const date = dates.length <= 1 ? handleDateString(dates[0], infoObject.hasHour, infoObject.isMonthly) :\r\n            !splitByDate ? infoObject.hasHour ? 'Merged times' : 'Merged Dates' : \r\n            splitByDepth ? handleDateString(dates[Math.floor(index/depths.length)], infoObject.hasHour, infoObject.isMonthly) : \r\n            handleDateString(dates[index], infoObject.hasHour, infoObject.isMonthly);\r\n\r\n        const depth = !infoObject.hasDepth ? 'Surface' :\r\n            depths.length === 1 ? depths[0] + 'm depth':\r\n            !splitByDepth ? 'Merged Depths' : \r\n            splitByDate ? depths[index % depths.length].toFixed(2) + 'm depth' : depths[index].toFixed(2) + 'm depth';\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n\r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zMin,\r\n                    zmax: zMax,\r\n                    zsmooth: subset.length < 20000 ? 'fast' : 'false',\r\n                    x: infoObject.lons,\r\n                    y: infoObject.lats,\r\n                    z: subset,\r\n                    connectgaps: false,\r\n                    name: infoObject.parameters.fields,\r\n                    type: 'heatmapgl',\r\n                    colorscale: palette,\r\n                    autocolorscale: false,\r\n\r\n                    // hoverinfo: 'text',\r\n                    // hovertext,\r\n\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat:'power'\r\n                    },\r\n                    \r\n                }\r\n            ]}                \r\n            key={index}\r\n\r\n            config={{...chartBase.config}}\r\n\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                width: 800,\r\n                height,\r\n                title: {\r\n                    text: `${variableName}[${infoObject.metadata.Unit}]  ${depth}  ${date}`,\r\n                    font: {\r\n                        size: 16\r\n                    }\r\n                },\r\n                xaxis: {\r\n                    title: 'Longitude[\\xB0]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    ...xTicks\r\n                },\r\n                yaxis: {\r\n                    title: 'Latitude[\\xB0]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                annotations: chartBase.annotations(infoObject.metadata.Distributor, height)\r\n            }}   \r\n        />)\r\n    })\r\n}\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    },\r\n    iconButtonWrapper: {\r\n        display: 'inline-block'\r\n    },    \r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst SpaceTimeChart = (props) => {\r\n\r\n    const { classes } = props;\r\n    const { data, subType } = props.chart;\r\n    const { dates, depths, extent } = data;\r\n\r\n    const [splitByDate, setSplitByDate] = useState(false);\r\n    const [splitByDepth, setSplitByDepth] = useState(false);\r\n    const [subTypeState, setSubTypeState] = useState(subType);\r\n    const [palette, setPalette] = useState('heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [zMin, zMax] = zValues;\r\n\r\n    const subSets = data.generatePlotData(subTypeState, splitByDate, splitByDepth);\r\n    var plots;\r\n\r\n    switch(subTypeState){\r\n        case vizSubTypes.contourMap:\r\n            plots = handleContourMap(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        case vizSubTypes.heatmap:\r\n            plots = handleHeatmap(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        case vizSubTypes.histogram:\r\n            plots = handleHistogram(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        default:\r\n            plots = '';\r\n            break;        \r\n\r\n    }\r\n\r\n    const onToggleSplitByDate = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitByDate(!splitByDate);\r\n        }, 100)\r\n    }\r\n\r\n    const onToggleSplitByDepth = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitByDepth(!splitByDepth);\r\n        }, 100)\r\n    }\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const downloadCsv = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n\r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ChartControlPanel\r\n                handlePaletteChoice={handlePaletteChoice}\r\n                onToggleSplitByDepth={depths.size===1 ? null : onToggleSplitByDepth}\r\n                onToggleSplitByDate={dates.size===1 ? null : onToggleSplitByDate}\r\n                splitByDepth={splitByDepth}\r\n                splitByDate={splitByDate}\r\n                handleZValueConfirm={handleZValueConfirm}\r\n                zValues={zValues}\r\n                extent={extent}\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            {plots}     \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SpaceTimeChart));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst TimeSeriesChart = (props) => {\r\n\r\n    const { classes } = props;\r\n    const { data } = props.chart;\r\n    const { stds, variableValues, dates, parameters, metadata } = data;\r\n\r\n    const [markerOptions, setMarkerOptions] = React.useState({opacity: .2, color:'#ff1493', size: 12})\r\n\r\n    const downloadCsv = () => {\r\n        setLoadingMessage('Processing Data');\r\n    \r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => setLoadingMessage(''));\r\n    \r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }\r\n\r\n    const handleMarkerOptionsConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setMarkerOptions(values);\r\n        }, 100)\r\n    }\r\n\r\n    let hovertext = variableValues.map((value, i) => {\r\n        return `Time: ${dates[i].slice(0,10)}<br>${parameters.fields}: ${format('.2e')(value)} \\xb1 ${format('.2e')(stds[i])} [${metadata.Unit}]`;\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <ChartControlPanel\r\n                downloadCsv={downloadCsv}\r\n                handleMarkerOptionsConfirm={handleMarkerOptionsConfirm}\r\n                markerOptions={markerOptions}\r\n            />\r\n            <Plot\r\n                style= {{\r\n                    position: 'relative',\r\n                    display:'inline-block'\r\n                }}\r\n\r\n                data={[\r\n                  {\r\n                        mode: 'lines+markers',\r\n                    x: dates,\r\n                    y: variableValues,\r\n                    error_y: {\r\n                        type: 'data',\r\n                        array: stds,\r\n                        opacity: 0.3,\r\n                        color: '#f2f2f2',\r\n                        visible: true\r\n                    },\r\n                    name: parameters.fields,\r\n                    type: 'scatter',\r\n                    line: {color: markerOptions.color},\r\n                    marker: {\r\n                        opacity: markerOptions.opacity,\r\n                        size: markerOptions.size,\r\n                        color: markerOptions.color\r\n                    },\r\n                    hoverinfo: 'text',\r\n                    hovertext\r\n                  },\r\n                ]}\r\n                config={{...chartBase.config}}\r\n                layout= {{\r\n                    ...chartBase.layout,\r\n                    plot_bgcolor: 'transparent',\r\n                    width: 800,\r\n                    height: 570,\r\n                    title: `${parameters.fields}[${metadata.Unit}]  ${parameters.dt1} to ${parameters.dt2}`,\r\n                  xaxis: {\r\n                      title: 'Time',\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  yaxis: {\r\n                      title: parameters.fields,\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  annotations: chartBase.annotations(metadata.Distributor)\r\n                }}\r\n                \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(TimeSeriesChart));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst DepthProfileChart = (props) => {\r\n\r\n    const { classes, setLoadingMessage } = props;\r\n    const { data } = props.chart;\r\n    const { stds, variableValues, depths, parameters, metadata } = data;\r\n\r\n    const [markerOptions, setMarkerOptions] = React.useState({opacity: .2, color:'#ff1493', size: 12})\r\n\r\n    let hovertext = variableValues.map((value, i) => {\r\n        return `Depth: ${format('.2f')(depths[i])} [m] <br>${parameters.fields}: ${format('.2e')(value)} \\xb1 ${format('.2e')(stds[i])} [${metadata.Unit}]`;\r\n    })\r\n\r\n    const downloadCsv = () => {\r\n        setLoadingMessage('Processing Data');\r\n    \r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => setLoadingMessage(''));\r\n    \r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }    \r\n\r\n    const handleMarkerOptionsConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setMarkerOptions(values);\r\n        }, 100)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <ChartControlPanel\r\n                downloadCsv={downloadCsv}\r\n                handleMarkerOptionsConfirm={handleMarkerOptionsConfirm}\r\n                markerOptions={markerOptions}\r\n            />\r\n            <Plot\r\n                style= {{\r\n                    position: 'relative',\r\n                    display:'inline-block'\r\n                }}\r\n\r\n                data={[\r\n                    {   \r\n                        mode: 'lines+markers',\r\n                        y: depths,\r\n                        x: variableValues,\r\n                        error_x: {\r\n                            type: 'data',\r\n                            array: stds,\r\n                            opacity: 0.3,\r\n                            color: '#f2f2f2',\r\n                            visible: true\r\n                        },\r\n                        name: parameters.fields,\r\n                        type: 'scatter',\r\n\r\n                        marker: {\r\n                            line: {color: markerOptions.color},\r\n                            opacity: markerOptions.opacity,\r\n                            size: markerOptions.size,\r\n                            color: markerOptions.color\r\n                        },\r\n\r\n                        hoverinfo: 'text',\r\n                        hovertext\r\n                    },\r\n                ]}\r\n                config={{...chartBase.config}}\r\n                layout= {{\r\n                    ...chartBase.layout,\r\n                    plot_bgcolor: 'transparent',\r\n                    width: 800,\r\n                    height: 570,\r\n                    title: `${parameters.fields}[${metadata.Unit}]  ${parameters.depth1} to ${parameters.depth2} meters`,\r\n                  yaxis: {\r\n                      title: 'Depth[m]',\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power',\r\n                      autorange:'reversed'\r\n                    },\r\n                  xaxis: {\r\n                      title: `${parameters.fields}[${metadata.Unit}]`,\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  annotations: chartBase.annotations(metadata.Distributor)\r\n                }}\r\n                \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(DepthProfileChart));","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport visualizationSubTypes from '../../Enums/visualizationSubTypes';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nimport handleXTicks from '../../Utility/handleXTicks';\r\n\r\nconst handleSectionMap = (subsets, infoObject, splitByDate, splitBySpace, orientation, palette) => {\r\n\r\n    const dates = Array.from(infoObject.dates);\r\n    const depths = Array.from(infoObject.depths);\r\n    const lats = Array.from(infoObject.lats);\r\n    const lons = Array.from(infoObject.lons);\r\n\r\n    const distinctMeridiansOrParallelsForSplitting = \r\n        orientation === 'zonal' ?\r\n        lats : \r\n        lons;\r\n\r\n    const mergedOrSplitAxis = \r\n        orientation === 'zonal' ?\r\n        'Latitude' :\r\n        'Longitude';\r\n\r\n    const xAxis = orientation === 'zonal' ?\r\n        'Longitude' :\r\n        'Latitude';\r\n\r\n    let xTicks = infoObject.parameters.lon1 > infoObject.parameters.lon2 && orientation === 'zonal' ? handleXTicks(infoObject) : {};\r\n\r\n\r\n    return subsets.map((subset, index) => {\r\n        let z = subset;\r\n        let x = [];\r\n        let y = [];\r\n\r\n        if(orientation === 'zonal'){\r\n            for(let i = 0; i < subset.length; i++){\r\n                x.push(lons[Math.floor(i / depths.length)])\r\n            }\r\n        } else {\r\n            for(let i = 0; i < subset.length; i++){\r\n                x.push(lats[Math.floor(i / depths.length)])\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < subset.length; i++){\r\n            y.push(depths[i % depths.length]);\r\n        }\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n        const date = dates.length < 2 ?\r\n            dates[0].slice(0,10) :\r\n            !splitByDate ? \r\n                'Merged Dates' : \r\n                splitBySpace ? \r\n                    dates[Math.floor(index/distinctMeridiansOrParallelsForSplitting.length)].slice(0, 10) : \r\n                    dates[index].slice(0,10);\r\n                \r\n        const spaceTitle = distinctMeridiansOrParallelsForSplitting.length <= 1 ? `${orientation === 'zonal' ? 'Lat' : 'Lon'} ${distinctMeridiansOrParallelsForSplitting[0]}\\xb0` : \r\n            !splitBySpace ? `Merged ${mergedOrSplitAxis}s` : \r\n            `${orientation === 'zonal' ? 'Lat' : 'Lon'} ${distinctMeridiansOrParallelsForSplitting[index % distinctMeridiansOrParallelsForSplitting.length]}\\xb0`;\r\n\r\n        let hovertext = z.map((value, i) => {\r\n            \r\n            if(orientation === 'zonal'){\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                if(isNaN(value)) return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                    `<br>` +\r\n                    `Lon: ${format('.2f')(x[i] > 180 ? x[i] - 360 : x[i])}\\xb0`\r\n    \r\n                return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                `<br>` +\r\n                `Lon: ${format('.2f')(x[i] > 180 ? x[i] - 360 : x[i])}\\xb0` + \r\n                '<br>' +\r\n                `${infoObject.parameters.fields}: ${format(formatter)(value)} [${infoObject.metadata.Unit}]`;\r\n            } else {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                if(isNaN(value)) return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                    `<br>` +\r\n                    `Lat: ${format('.2f')(x[i])}\\xb0`\r\n    \r\n                return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                `<br>` +\r\n                `Lat: ${format('.2f')(x[i])}\\xb0` + \r\n                '<br>' +\r\n                `${infoObject.parameters.fields}: ${format(formatter)(value)} [${infoObject.metadata.Unit}]`;\r\n            }\r\n        });\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n\r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: infoObject.zMin,\r\n                    zmax: infoObject.zMax,\r\n\r\n                    connectgaps: false,\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n                    zsmooth: subset.length < 20000 ? 'best' : 'fast',\r\n                    x,\r\n                    y,\r\n                    z,\r\n                    name: infoObject.parameters.fields,\r\n                    type: infoObject.subType === visualizationSubTypes.contourSectionMap ? 'contour' : 'heatmap',\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat:'power'\r\n                    },\r\n\r\n                    contours: {\r\n                        coloring: palette,\r\n                        showlabels: true,\r\n                        labelfont: {\r\n                            family: 'Raleway',\r\n                            size: 12,\r\n                            color: 'white',\r\n                        },\r\n                        labelformat: '.2e'\r\n                    },\r\n\r\n                    hoverinfo: 'text',\r\n                    hovertext\r\n                }\r\n            ]}                \r\n            key={index}\r\n\r\n            layout= {{\r\n                font: {color: '#ffffff'},\r\n                title: `${variableName}[${infoObject.metadata.Unit}] ${spaceTitle} ${date}`,\r\n                xaxis: {\r\n                    title: `${xAxis}[\\xB0]`, \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    ...xTicks\r\n                },\r\n                yaxis: {\r\n                    title: 'Depth[m]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    autorange: 'reversed'\r\n                },\r\n                paper_bgcolor: colors.backgroundGray,\r\n                annotations: [\r\n                    {\r\n                        text: `Source: ${infoObject.metadata.Distributor.length < 30 ? \r\n                            infoObject.metadata.Distributor : \r\n                            infoObject.metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n\r\n            }}   \r\n        />\r\n        )\r\n    })\r\n}\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst SectionMapChart = (props) => {\r\n\r\n    const { classes } = props;\r\n    const { data } = props.chart;\r\n    const { dates, extent, lats, lons } = data;\r\n\r\n    const [splitByDate, setSplitByDate] = useState(false);\r\n    const [splitBySpace, setSplitBySpace] = useState(false);\r\n    const [orientation, setOrientation] = useState(data.orientation);\r\n    const [palette, setPalette] = useState('heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [zMin, zMax] = zValues;\r\n\r\n    var spaces = orientation === 'zonal' ? lats : lons;\r\n\r\n    const subsets = data.generatePlotData(orientation, splitByDate, splitBySpace);\r\n    var plots = handleSectionMap(subsets, data, splitByDate, splitBySpace, orientation, palette);\r\n\r\n    const downloadCsv = () => {\r\n        setLoadingMessage('Processing Data');\r\n    \r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => setLoadingMessage(''));\r\n    \r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const onToggleSplitBySpace = () => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitBySpace(!splitBySpace);\r\n        }, 100)\r\n    }\r\n\r\n    const onToggleSplitByDate = () => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitByDate(!splitByDate);\r\n        }, 100)\r\n    }\r\n\r\n    const switchOrientation = () => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setOrientation(orientation === 'zonal' ? 'meridional' : 'zonal');\r\n        }, 100)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.buttonBlock}>\r\n            <ChartControlPanel\r\n                orientation={orientation}\r\n                switchOrientation={switchOrientation}\r\n                onToggleSplitBySpace={spaces.size === 1 ? null : onToggleSplitBySpace}\r\n                splitBySpace={splitBySpace}\r\n                onToggleSplitByDate={dates.size === 1 ? null : onToggleSplitByDate}\r\n                splitByDate={splitByDate}\r\n                handlePaletteChoice={handlePaletteChoice}\r\n                downloadCsv={downloadCsv}\r\n                handleZValueConfirm={handleZValueConfirm}\r\n                zValues={zValues}\r\n                extent={extent}\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            </div>\r\n            {plots}      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SectionMapChart));","import React from 'react';\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nconst SparseScatter = (props) => {\r\n    const {\r\n        xValues,\r\n        yValues,\r\n        markerOptions,\r\n        infoObject,\r\n        xTitle,\r\n        yTitle,\r\n        type\r\n    } = props;\r\n\r\n    const { parameters, metadata, hasDepth, variableValues, times, lats, lons, depths } = infoObject;\r\n    const { dt1, dt2, lat1, lat2, lon1, lon2, depth1, depth2 } = parameters;\r\n\r\n    const title = `${parameters.fields}[${metadata.Unit}]`;\r\n    \r\n    var hovertext;\r\n\r\n    console.log(type);\r\n\r\n    switch(type){\r\n        case 'time':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                let time= times[i].slice(0,20);\r\n                time = time.replace('T', ' ');\r\n                return `Time: ${time}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        case 'latitude':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                return `Lat: ${lats[i].toFixed(2)}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        case 'longitude':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                return `Lon: ${lons[i].toFixed(2)}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        case 'depth':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                return `Depth: ${depths[i].toFixed(2)}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        default:\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                let time= times[i].slice(0,20);\r\n                time = time.replace('T', ' ');\r\n                return `Time: ${time}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n        }\r\n\r\n    return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n    \r\n            data={[\r\n                {\r\n                    x: xValues,\r\n                    y: yValues,\r\n                    mode: 'markers',\r\n                    name: parameters.fields,\r\n                    type: variableValues.length > 1000 ? 'scattergl' : 'scatter',\r\n                    marker: {\r\n                        opacity: markerOptions.opacity,\r\n                        size: markerOptions.size,\r\n                        color: markerOptions.color\r\n                    },\r\n                    hoverinfo: 'text',\r\n                    hovertext\r\n                },\r\n            ]}\r\n            config={{...chartBase.config}}\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                plot_bgcolor: 'transparent',\r\n                width: 800,\r\n                height: 570,\r\n                title,\r\n                xaxis: {\r\n                    title: xTitle,\r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                yaxis: {\r\n                    title: yTitle,\r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    autorange: type === 'depth' ? 'reversed' : true\r\n                },\r\n                annotations: chartBase.annotations(metadata.Distributor)\r\n            }}            \r\n        />\r\n    )\r\n}\r\n\r\nexport default SparseScatter;","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui'; \r\nimport SparseScatter from './SparseScatter';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nconst handleSparseMap = (infoObject, palette, zValues) => {\r\n\r\n    var hovertext = infoObject.variableValues.map((value, i) => {\r\n        let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n\r\n        return `Lat: ${format('.2f')(infoObject.lats[i])}\\xb0` +\r\n        `<br>` +\r\n        `Lon: ${format('.2f')(infoObject.lons[i])}\\xb0` + \r\n        '<br>' +\r\n        `${infoObject.parameters.fields}: ${format(formatter)(value)} [${infoObject.metadata.Unit}]`;\r\n    });\r\n\r\n    console.log(hovertext);\r\n\r\n    return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n            \r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zValues[0],\r\n                    zmax: zValues[1],\r\n                    lon: infoObject.lons,\r\n                    lat: infoObject.lats,\r\n                    z: infoObject.variableValues,\r\n                    zmin:'',\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n                    radius: 6,                    \r\n                    name: infoObject.parameters.fields,\r\n                    type: 'densitymapbox',\r\n                    \r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat: 'power'\r\n                    },\r\n                }\r\n            ]}\r\n\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                width: 800,\r\n                height: 570,\r\n                title: `${infoObject.parameters.fields} [${infoObject.metadata.Unit}]`,\r\n                mapbox: {\r\n                    style: \"white-bg\",\r\n                    layers: [\r\n                        {\r\n                            sourcetype: \"raster\",\r\n                            source: [\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"],\r\n                            below: \"traces\"\r\n                        }\r\n                    ],\r\n                    center: infoObject.center,\r\n                    zoom: infoObject.zoom\r\n                },\r\n\r\n                annotations: chartBase.annotations(infoObject.metadata.Distributor)\r\n            }}\r\n            \r\n            config={{\r\n                ...chartBase.config,\r\n                mapboxAccessToken:\r\n                  \"pk.eyJ1IjoiZGVuaG9sdHoiLCJhIjoiY2p1ZW9obTNhMDVxZjQzcDRvMmdlcDN2aiJ9.HvLaX2bcradeE5T-lpTc8w\",\r\n                \r\n              }}\r\n        />)\r\n}\r\n\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n\r\n    buttonBlock: {\r\n        display:'block'\r\n    },\r\n\r\n    tabs: {\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    tab: {\r\n        boxShadow: '1px 1px 1px 1px #242424'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nfunction tabProps(index) {\r\n    return {\r\n      id: `sparse-tab-${index}`,\r\n      'aria-controls': `sparse-tab-${index}`,\r\n    };\r\n  }\r\n\r\nconst SparseTabPanel = (props) => {\r\n    const { children, selectedTab, index, controlPanelProps, } = props;\r\n\r\n    return (\r\n        <div hidden={selectedTab !== index}>\r\n            <ChartControlPanel\r\n                // handlePaletteChoice={handlePaletteChoice}\r\n                // handleZValueConfirm={handleZValueConfirm}\r\n                // zValues={zValues}\r\n                // extent={data.extent}\r\n                // downloadCsv={downloadCsv}\r\n                {...controlPanelProps}\r\n            />\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst SparseMap = (props) => {\r\n\r\n    const { classes } = props;\r\n\r\n    const { data } = props.chart;\r\n\r\n    const [palette, setPalette] = useState('Heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [markerOptions, setMarkerOptions] = useState({opacity: .2, color:'#ff1493', size: 12});\r\n    const [tab, setTab] = useState(0);\r\n\r\n    const plot = handleSparseMap(data, palette, zValues)\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const handleTabChange = (event, newValue) => {\r\n        setTab(newValue)\r\n    }\r\n\r\n    const downloadCsv = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n\r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }\r\n\r\n    const handleMarkerOptionsConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setMarkerOptions(values);\r\n        }, 100)\r\n    }\r\n\r\n    const forceResize = () => {\r\n        setTimeout(() => window.dispatchEvent(new Event('resize')), 30);        \r\n    }\r\n\r\n    const controlPanelProps = {\r\n        map: {\r\n            palette,\r\n            handlePaletteChoice,\r\n            zValues,\r\n            handleZValueConfirm,\r\n            downloadCsv\r\n        },\r\n\r\n        scatter: {\r\n            downloadCsv,\r\n            markerOptions,\r\n            setMarkerOptions,\r\n            handleMarkerOptionsConfirm\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tabs \r\n                value={tab} \r\n                onChange={handleTabChange} \r\n                aria-label=\"Sparse tabs\" \r\n                centered\r\n                indicatorColor='primary'\r\n                className={classes.tabs}\r\n            >\r\n                <Tab label=\"Map\" {...tabProps(0)} className={classes.tab} onClick={forceResize}/>\r\n                <Tab label=\"Time Scatter\" {...tabProps(1)} className={classes.tab}/>\r\n                <Tab label=\"Lat Scatter\" {...tabProps(2)} className={classes.tab}/>\r\n                <Tab label=\"Lon Scatter\" {...tabProps(3)} className={classes.tab}/>\r\n                {data.hasDepth && <Tab label=\"Depth Scatter\" {...tabProps(4)} className={classes.tab}/>}\r\n            </Tabs>\r\n            <SparseTabPanel selectedTab={tab} index={0} controlPanelProps={controlPanelProps.map}>\r\n                {plot}\r\n            </SparseTabPanel>\r\n            \r\n            <SparseTabPanel selectedTab={tab} index={1} controlPanelProps={controlPanelProps.scatter}>\r\n                <SparseScatter\r\n                    xValues={data.times}\r\n                    yValues={data.variableValues}\r\n                    markerOptions={markerOptions}\r\n                    infoObject={data}\r\n                    xTitle='Time'\r\n                    yTitle={data.parameters.fields}\r\n                    type='time'\r\n                />\r\n            </SparseTabPanel>\r\n\r\n            <SparseTabPanel selectedTab={tab} index={2} controlPanelProps={controlPanelProps.scatter}>\r\n                <SparseScatter\r\n                    xValues={data.lats}\r\n                    yValues={data.variableValues}\r\n                    markerOptions={markerOptions}\r\n                    infoObject={data}\r\n                    xTitle='Latitude'\r\n                    yTitle={data.parameters.fields}\r\n                    type='latitude'\r\n                />\r\n            </SparseTabPanel>\r\n\r\n            <SparseTabPanel selectedTab={tab} index={3} controlPanelProps={controlPanelProps.scatter}>\r\n                <SparseScatter\r\n                    xValues={data.lons}\r\n                    yValues={data.variableValues}\r\n                    markerOptions={markerOptions}\r\n                    infoObject={data}\r\n                    xTitle='Longitude'\r\n                    yTitle={data.parameters.fields}\r\n                    type='longitude'\r\n                />\r\n            </SparseTabPanel>\r\n\r\n            {data.hasDepth &&\r\n                <SparseTabPanel selectedTab={tab} index={4} controlPanelProps={controlPanelProps.scatter}>\r\n                    <SparseScatter\r\n                        xValues={data.variableValues}\r\n                        yValues={data.depths}\r\n                        markerOptions={markerOptions}\r\n                        infoObject={data}\r\n                        xTitle={data.parameters.fields}\r\n                        yTitle='Depth'\r\n                        type='depth'\r\n                    />\r\n                </SparseTabPanel>            \r\n            }\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SparseMap));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../Enums/colors';\r\nimport storedProcedures from '../Enums/storedProcedures';\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\n\r\nimport SpaceTimeChart from './ChartComponents/SpaceTimeChart';\r\nimport TimeSeriesChart from './ChartComponents/TimeSeriesChart';\r\nimport DepthProfileChart from './ChartComponents/DepthProfileChart';\r\nimport SectionMapChart from './ChartComponents/SectionMapChart';\r\nimport SparseMap from './ChartComponents/SparseMap';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    charts: state.charts\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    chartsContainer: {\r\n        margin: '300px 0 0 100px'\r\n    },\r\n\r\n    chartPaper: {\r\n      margin: '60px auto 0px auto',\r\n      width: '1000px',\r\n      paddingTop: '16px'\r\n  },\r\n\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white',\r\n    }\r\n})\r\n\r\nconst SamplePlot = () => {\r\n  let x = [0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4];\r\n  let y = [0,1,2,5,9,0,1,2,5,9,0,1,2,5,9,0,1,2,5,9,0,1,2,5,9,];\r\n  let z = [0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,1,2,3,4,5,6,7,8,9];\r\n  // z = z.map(() => Math.floor(Math.random() * 100));\r\n  return (\r\n\r\n      <Plot\r\n      style= {{\r\n          position: 'relative',\r\n          display:'inline-block',\r\n          marginTop: '50px'\r\n      }}\r\n      \r\n      data={[\r\n          {   \r\n              x,\r\n              y,\r\n              z,\r\n              connectgaps: false,\r\n              zsmooth: 'best',\r\n              \r\n              name: 'Test',\r\n              type: 'heatmap',\r\n              contours: {\r\n                  showlabels: true,\r\n                  labelfont: {\r\n                      family: 'Raleway',\r\n                      size: 12,\r\n                      color: 'white',\r\n                  },\r\n                  labelformat: '.2e'\r\n              },\r\n              colorbar: {\r\n                  title: {\r\n                      text: `test`\r\n                  },\r\n                  exponentformat: 'power'\r\n              }\r\n          }\r\n      ]}\r\n      \r\n      layout= {{\r\n          font: {color: '#ffffff'},\r\n          margin: {\r\n            t: 50\r\n          },\r\n          title: {\r\n              text: `A sample chart title`,\r\n              // yanchor: 'bottom',\r\n              // y: .9,\r\n              // yref: 'container',\r\n              font: {\r\n                size: 18\r\n              }\r\n          },\r\n          paper_bgcolor: colors.backgroundGray,\r\n          xaxis: {title: 'Longitude', color: '#ffffff'},\r\n          yaxis: {title: 'Latitude', color: '#ffffff'},\r\n          annotations: [\r\n              {\r\n                  text: `test`,\r\n                      font: {\r\n                          color: 'white',\r\n                          size: 10\r\n                      },\r\n                      xref: 'paper',\r\n                      yref: 'paper',\r\n                      yshift: -202,\r\n                      showarrow: false,\r\n                  }\r\n              ]\r\n              \r\n          }}   \r\n          />\r\n          )\r\n      }\r\n      \r\n\r\nclass Charts extends Component {\r\n\r\n    render(){\r\n        const { classes, charts } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n              {/* <SamplePlot/>  */}\r\n                {charts.map((chart, index) => {\r\n                    switch(chart.data.parameters.spName){\r\n                        case storedProcedures.spaceTime:\r\n                          if(chart.subType === vizSubTypes.sparse) {\r\n                            return (\r\n                              <Paper elevation={12} className={classes.chartPaper} key={index}>\r\n                                <SparseMap chart={chart}/>\r\n                              </Paper>\r\n                            )\r\n                          }\r\n                          else return (\r\n                            <Paper elevation={12} className={classes.chartPaper} key={index}>\r\n                              <SpaceTimeChart chart={chart}/>\r\n                            </Paper>\r\n                          )\r\n\r\n                        case storedProcedures.timeSeries:\r\n                          return (\r\n                            <Paper elevation={12} className={classes.chartPaper} key={index}>\r\n                              <TimeSeriesChart chart={chart}/>\r\n                            </Paper>\r\n                          )\r\n\r\n                        case storedProcedures.depthProfile:\r\n                          return (\r\n                            <Paper elevation={12} className={classes.chartPaper} key={index}>\r\n                              <DepthProfileChart chart={chart}/>\r\n                            </Paper>\r\n                          )\r\n\r\n                        case storedProcedures.sectionMap:\r\n                          return (\r\n                            <Paper elevation={12} className={classes.chartPaper} key={index}>\r\n                              <SectionMapChart chart={chart}/>\r\n                            </Paper>\r\n                          )\r\n                        \r\n                        default:\r\n                          return '';\r\n                  }\r\n                })}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Charts));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport * as JsSearch from 'js-search';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nimport { cruiseListRequestSend, cruiseTrajectoryRequestSend, cruiseTrajectoryClear } from '../Redux/actions/visualization';\r\n\r\nimport states from '../asyncRequestStates';\r\nimport colors from '../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    cruiseList: state.cruiseList,\r\n    getCruiseListState: state.getCruiseListState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseListRequestSend,\r\n    cruiseTrajectoryRequestSend,\r\n    cruiseTrajectoryClear\r\n}\r\n\r\nconst esriFonts = '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif';\r\nconst esriFontColor = 'white';\r\nconst esriBackgroundColor = '#424242';\r\nconst esriHoverFontColor = '#242424';\r\nconst esriHoverBackgroundColor = '#949393';\r\n\r\nconst styles = theme => ({\r\n    outerDiv: {\r\n        padding:'12px',\r\n        maxWidth: '260px',\r\n        backgroundColor: 'transparent',\r\n        color: esriFontColor,\r\n        borderRadius: '4px',\r\n        boxShadow: '2px',\r\n        position: 'relative',\r\n        backdropFilter: 'blur(2px)'\r\n    },\r\n\r\n    cruiseSelect: {\r\n        width: '260px',\r\n        borderRadius: '4px',\r\n    },\r\n\r\n    cruiseInfo: {\r\n        color: esriFontColor,\r\n        fontFamily: esriFonts,\r\n        margin: '12px auto 0 auto',\r\n    },\r\n\r\n    cruiseInfoCell: {\r\n        color: esriFontColor,\r\n        fontFamily: esriFonts,\r\n        borderStyle: 'none',\r\n    },\r\n\r\n    // blurEffectDiv: {\r\n    //     filter: 'blur(5px)',\r\n    //     position: 'absolute',\r\n    //     top: '0px',\r\n    //     left: '0px',\r\n    //     right: '0px',\r\n    //     bottom: '0px',\r\n    //     zIndex: 99999999\r\n    // }\r\n})\r\n\r\n// Replace react-select selected option\r\nconst SingleValue = (props) => {\r\n    return (\r\n        <components.SingleValue {...props} className={props.className}/>\r\n    )\r\n}\r\n\r\n// Replace react-select option\r\nconst Option = (props) => {\r\n    return (\r\n        <components.Option {...props} className={props.className}/>\r\n    )\r\n}\r\n\r\nclass CruiseSelector extends Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n\r\n        var search = new JsSearch.Search('ID');\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Nickname');\r\n        search.addIndex('Name');\r\n        search.addIndex('Chief_Name');\r\n        search.addIndex('Keywords');\r\n        try{\r\n            if(props.cruiseList && props.cruiseList.length) search.addDocuments(props.cruiseList);\r\n        } catch(e) {\r\n            console.log(e);\r\n            console.log(props.cruiseList);\r\n        }\r\n\r\n        this.state = {\r\n            search,\r\n            searchField: '',\r\n            selectedCruise: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.cruiseList || !this.props.cruiseList.length) this.props.cruiseListRequestSend();\r\n    }\r\n\r\n    getSelectOptionsFromCruiseList = (list) => {\r\n        return list.map(item => ({\r\n            value: item.Nickname,\r\n            label: item.Nickname,\r\n            data: item\r\n        })) || []\r\n    }\r\n\r\n    handleCruiseSelect = (selection) => {\r\n        if(selection && selection.data){\r\n            const id = selection.data.ID;\r\n            this.props.cruiseTrajectoryRequestSend(id);\r\n        } else {this.props.cruiseTrajectoryClear()}\r\n\r\n        this.setState({...this.state, selectedCruise: selection});\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.cruiseList && prevProps.cruiseList.length) && (this.props.cruiseList && this.props.cruiseList.length)){\r\n            this.state.search.addDocuments(this.props.cruiseList);\r\n            this.setState({search: this.state.search})\r\n        }\r\n    }\r\n\r\n    onAutoSuggestChange = (searchString, action) => {\r\n        if(action.action === 'input-change') this.setState({...this.state, searchField: searchString});\r\n        if(action.action ==='set-value' || action.action === 'menu-close') this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    render(){\r\n\r\n        const { search, searchField, selectedCruise } = this.state;\r\n\r\n        const { classes, cruiseList} = this.props;\r\n\r\n        const options = searchField && cruiseList ? this.getSelectOptionsFromCruiseList(search.search(searchField)) \r\n            : cruiseList ? this.getSelectOptionsFromCruiseList(cruiseList) \r\n            : []\r\n\r\n        return (\r\n            <div id='cruise-selector' className={classes.outerDiv}>\r\n                <div className={classes.blurEffectDiv}></div>\r\n                <Select\r\n                    isLoading={this.props.getCruiseListState === states.inProgress}\r\n                    components={{\r\n                        IndicatorSeparator:'',\r\n                        Option,\r\n                        SingleValue,\r\n                    }}\r\n                    isClearable\r\n                    onInputChange={this.onAutoSuggestChange}\r\n                    filterOption={null}\r\n                    className={classes.cruiseSelect}\r\n                    escapeClearsValue\r\n                    label=\"Cruise\"\r\n                    options={options}\r\n                    onChange={this.handleCruiseSelect}\r\n                    value={this.state.selectedCruise}\r\n                    placeholder=\"Search Cruises\"\r\n                    styles={{\r\n                        menu: provided => ({ ...provided, zIndex: 9999 }),\r\n\r\n                        menuList: provided => ({...provided, backgroundColor: esriBackgroundColor}),\r\n\r\n                        input: provided => ({...provided,\r\n                            color: 'inherit',\r\n                            fontFamily: esriFonts\r\n                        }),\r\n\r\n                        control: provided => ({...provided,\r\n                            backgroundColor: esriBackgroundColor,\r\n                            border: 'none',\r\n                            boxShadow: '1px 1px 1px 1px #242424',\r\n                            color: esriFontColor,\r\n                            borderRadius: 4,\r\n                            '&:hover': { \r\n                                border: `1px solid white`,\r\n                            },\r\n                            '&:focus-within': {\r\n                                borderColor: colors.orange\r\n                            }\r\n                        }),\r\n\r\n                        placeholder: provided => ({...provided,\r\n                            fontFamily: esriFonts,\r\n                            color: colors.orange,\r\n                            fontSize: '14px'\r\n                        }),\r\n\r\n                        noOptionsMessage: provided => ({...provided,\r\n                            fontFamily: esriFonts,\r\n                            color: esriFontColor,\r\n                            backgroundColor: esriBackgroundColor\r\n                        }),\r\n\r\n                        option: (provided, state) => ({...provided,\r\n                            backgroundColor: esriBackgroundColor,\r\n                            color: esriFontColor,\r\n                            '&:hover': { \r\n                                color: '#242424',\r\n                                backgroundColor: '#949393'\r\n                            },\r\n                        }),\r\n\r\n                        singleValue: (provided, state) => ({...provided,\r\n                            fontFamily: esriFonts,\r\n                            color: 'inherit',\r\n                            paddingRight: '20px',\r\n                        })\r\n                    }}\r\n                    theme={theme => ({\r\n                        ...theme,\r\n                        colors: {\r\n                            ...theme.colors,\r\n                            // Background color of hovered options\r\n                            primary25: '#e0e0e0',\r\n                            primary: '#212121',\r\n                        },\r\n                    })}\r\n                />\r\n                {selectedCruise &&\r\n                    <Table size='small' className={classes.cruiseInfo}>\r\n                        <TableBody>\r\n                            <TableRow>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    Cruise:\r\n                                </TableCell>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    {selectedCruise.data.Name}\r\n                                </TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    Nickname:\r\n                                </TableCell>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    {selectedCruise.data.Nickname}\r\n                                </TableCell>\r\n                            </TableRow>\r\n\r\n                            {\r\n                                selectedCruise.data.Start_Time &&\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Start Date:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Start_Time.slice(0,10)}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            }\r\n\r\n                            {\r\n                                selectedCruise.data.End_Time &&\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        End Date:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.End_Time.slice(0,10)}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            }\r\n\r\n                            {\r\n                                selectedCruise.data.Chief_Name &&\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Chief Scientist:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Chief_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            }\r\n\r\n                            {\r\n                                selectedCruise.data.Ship_Name &&\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Ship:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Ship_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            }\r\n                        </TableBody>\r\n                    </Table>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(CruiseSelector));","import React, { Component } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Scene } from '@esri/react-arcgis';\r\nimport regionRenderModes from '../Enums/regionRenderModes';\r\n\r\nimport CruiseSelector from './CruiseSelector';\r\nimport colors from '../Enums/colors';\r\n\r\nconst styles = (theme) => ({\r\n    container: {\r\n        margin: '0 auto 0 auto',\r\n        width: '100vw',\r\n        height: '100vh',\r\n    }\r\n})\r\n\r\nconst drawButtonStyles = (theme) => ({\r\n    outerDiv: {\r\n        // padding:'12px 0 12px 0',\r\n        backgroundColor: 'transparent',\r\n        // width: '180px',\r\n        borderRadius: '4px',\r\n        marginRight: '20px'\r\n    },\r\n\r\n    drawButton: {\r\n        // border: '1px solid #333333',\r\n        border: `1px solid #333333`,\r\n        borderRadius: '4px',\r\n        color: colors.orange,\r\n        cursor: 'pointer',\r\n        padding: '6px',\r\n        width: '160px',\r\n        fontSize:'14px',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: '1px 1px 1px 1px #242424',\r\n        // backgroundColor: 'rgba(255, 128, 0, .8)',\r\n        // backgroundColor: 'transparent',\r\n        fontFamily: '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif',\r\n        '&:hover': { \r\n            borderColor: 'white'\r\n        },\r\n    },\r\n\r\n    helpText: {\r\n        marginTop: 0,\r\n        color: 'white',\r\n        fontFamily: '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif'\r\n    },\r\n\r\n    cancelButton: {\r\n        display: 'none',\r\n        color: 'white'\r\n    }\r\n})\r\n\r\nconst DrawButtonRaw = (props) => {\r\n    const { classes, showHelp } = props;\r\n\r\n    return (\r\n        <div className={classes.outerDiv} id='draw-region-div'>\r\n            {showHelp && <p className={classes.helpText}>Click once to draw <br/>and again to finish</p>}\r\n            <button id='draw-button' className={classes.drawButton}>\r\n                Select Region\r\n            </button>\r\n            <button id='cancel-button' className={`${classes.drawButton} ${classes.cancelButton}`}>\r\n                Cancel\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst DrawButton = withStyles(drawButtonStyles)(DrawButtonRaw);\r\n\r\nconst polygonSymbol = {\r\n    type: \"polygon-3d\",\r\n    symbolLayers: [\r\n        {\r\n            type: \"fill\",\r\n            material: {\r\n            color: [255, 128, 0, .3]\r\n            },\r\n            outline: {\r\n                color: [255, 128, 0, 1],\r\n                size: '2px'\r\n            }\r\n        }\r\n    ]\r\n};\r\n\r\nclass UiComponents extends React.Component {\r\n\r\n    shouldComponentUpdate = (nextProps, nextState) => {\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        const { view, esriModules, regionLayer, setShowHelp, drawMode } = this.props;\r\n\r\n        const updateOptions = {\r\n            toggleToolOnClick: false,\r\n            tool: \"transform\"\r\n        }\r\n\r\n        var sketchModel = new esriModules.SketchViewModel({\r\n            layer: regionLayer,\r\n            view,\r\n            polygonSymbol,\r\n            defaultUpdateOptions: updateOptions\r\n        })\r\n\r\n        var drawButton = document.getElementById('draw-button');\r\n        var cancelButton = document.getElementById('cancel-button');\r\n\r\n        sketchModel.on(\"create\", (event) => {\r\n            if (event.state === \"complete\") {\r\n                setShowHelp(false);\r\n                this.props.updateDomainFromGraphicExtent(esriModules.Utils.webMercatorToGeographic(event.graphic.geometry.extent));\r\n                drawButton.style.display = 'inline-block';\r\n                cancelButton.style.display = 'none';\r\n            }\r\n        });        \r\n\r\n        sketchModel.on('update', (event) => {\r\n            this.props.updateDomainFromGraphicExtent(esriModules.Utils.webMercatorToGeographic(event.graphics[0].geometry.extent));\r\n            drawButton.style.display = 'inline-block';\r\n            cancelButton.style.display = 'none';\r\n        })       \r\n        \r\n        drawButton.addEventListener(\"click\", (event) => {\r\n                drawMode();\r\n                regionLayer.removeAll();\r\n                setShowHelp(true);\r\n                sketchModel.create('rectangle', {\r\n                    mode:'click'            \r\n                });\r\n                drawButton.style.display = 'none';\r\n                cancelButton.style.display = 'inline-block';\r\n        });\r\n\r\n        cancelButton.addEventListener('click', (event) => {\r\n            sketchModel.cancel();\r\n            setShowHelp(false);\r\n            drawButton.style.display = 'inline-block';\r\n            cancelButton.style.display = 'none';\r\n        })\r\n\r\n        view.ui.add('draw-region-div', 'bottom-right');\r\n        view.ui.add('cruise-selector', 'top-right');\r\n\r\n        view.ui.remove('zoom');\r\n        view.ui.remove('navigation-toggle');\r\n        view.ui.remove('compass');\r\n        view.ui.remove('attribution');\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nconst TrajectoryController = React.memo((props) => {\r\n    const { cruiseTrajectory, trajectoryLayer, esriModules } = props;\r\n    \r\n    if(cruiseTrajectory){\r\n        const { lons, lats } = cruiseTrajectory;\r\n\r\n        trajectoryLayer.removeAll();\r\n\r\n        var polyLines = [[]];\r\n        var lineIndex = 0;\r\n\r\n        let lonStart = lons[0];\r\n        let latStart = lats[0];\r\n        let maxDistance = 0;\r\n\r\n        // Create a new path array each time 180 lon is crossed\r\n        lons.forEach((lon, i) => {\r\n            let lat = lats[i];\r\n\r\n            let latDistance = Math.abs(lat - latStart);\r\n            let _lonDistance = Math.abs(lon - lonStart);\r\n            let lonDistance = _lonDistance > 180? 360 - _lonDistance : _lonDistance;\r\n\r\n            let distance = Math.sqrt(latDistance * latDistance + lonDistance * lonDistance);\r\n            maxDistance = distance > maxDistance ? distance : maxDistance;\r\n\r\n            polyLines[lineIndex].push([lon, lat]);\r\n\r\n            if(i < lons.length - 1){\r\n                if((lon > 160 && lon < 180) && (lons[i + 1] > -180 && lons[i + 1] < -160)){\r\n                    polyLines.push([]);\r\n                    lineIndex ++;\r\n                }\r\n\r\n                if((lon > -180 && lon < -160) && (lon[i + 1] > 160 && lon[i + 1] < 180)){\r\n                    polyLines.push([]);\r\n                    lineIndex ++;\r\n                }\r\n            }\r\n        })\r\n\r\n        var cruiseTrajectorySymbol = {\r\n            type: 'line-3d',\r\n            symbolLayers: [{\r\n                type: 'line',\r\n                material: { color: [255, 128, 0, 1] },\r\n                cap:  'round',\r\n                join: 'round',\r\n                size: 2\r\n            }]\r\n        }\r\n\r\n        polyLines.forEach(line => {\r\n\r\n            let cruiseTrajectoryGeometry = {\r\n                type: 'polyline',\r\n                paths: line\r\n            }\r\n\r\n            let graphic = new esriModules.Graphic({\r\n                geometry: cruiseTrajectoryGeometry,\r\n                symbol: cruiseTrajectorySymbol\r\n            });\r\n\r\n            trajectoryLayer.add(graphic);\r\n        })\r\n\r\n        try {\r\n            const center = [lons[0], lats[0]];\r\n\r\n            var zoom = 7 - Math.floor(maxDistance / 10);            \r\n    \r\n            props.view.goTo({\r\n                target: center,\r\n                zoom\r\n            }, {\r\n                maxDuration: 2500,\r\n                speedFactor: .5\r\n            });    \r\n\r\n        } catch(e) {console.log(e)}\r\n\r\n    } else {\r\n        trajectoryLayer.removeAll();\r\n\r\n        props.view.goTo({\r\n            target: [-140, 30],\r\n            zoom: 3\r\n        }, {\r\n            maxDuration: 2500,\r\n            speedFactor: .5\r\n        }); \r\n    }\r\n    return '';\r\n})\r\n\r\nclass MapContainer extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showHelp: false\r\n        }\r\n        this.regionLayer = new props.esriModules.GraphicsLayer();\r\n        this.trajectoryLayer = new props.esriModules.GraphicsLayer();\r\n    }\r\n\r\n    render = () => {\r\n        const { classes, esriModules, regionRenderMode, spParams, cruiseTrajectory, globeUIRef } = this.props;\r\n        const lat1 = parseFloat(spParams.lat1);\r\n        const lat2 = parseFloat(spParams.lat2);\r\n        const lon1 = parseFloat(spParams.lon1);\r\n        let _lon2 = parseFloat(spParams.lon2);\r\n        const lon2 = _lon2 < lon1 ? _lon2 + 360 : _lon2;\r\n\r\n        if(regionRenderMode === regionRenderModes.form){\r\n            this.regionLayer.removeAll();\r\n\r\n            var polygon = {\r\n                type: 'polygon', \r\n                rings: [\r\n                    [lon1, lat1],\r\n                    [lon2, lat1],\r\n                    [lon2, lat2],\r\n                    [lon1, lat2],\r\n                    [lon1, lat1]\r\n                ]\r\n            };\r\n\r\n            let regionGraphic = new esriModules.Graphic({\r\n                geometry: polygon,\r\n                symbol: polygonSymbol\r\n            })\r\n\r\n            this.regionLayer.add(regionGraphic);\r\n\r\n            globeUIRef.current.props.view.goTo({\r\n                target: [regionGraphic.geometry.centroid.longitude, regionGraphic.geometry.centroid.latitude],\r\n                zoom: 3\r\n            }, {\r\n                maxDuration: 1800,\r\n                speedFactor: .5\r\n            }); \r\n        }\r\n        \r\n        return (\r\n            <div className={classes.container}>\r\n                <Scene\r\n                    mapProperties={{ \r\n                        basemap: 'satellite',\r\n                        layers: [\r\n                            this.regionLayer,\r\n                            this.trajectoryLayer\r\n                        ]\r\n                    }}\r\n                    viewProperties={{\r\n                        center: [-140, 30],\r\n                        zoom: 3\r\n                    }}\r\n                >\r\n                    <TrajectoryController \r\n                        cruiseTrajectory={cruiseTrajectory}\r\n                        trajectoryLayer={this.trajectoryLayer}\r\n                        esriModules={esriModules}\r\n                    />\r\n                    <UiComponents\r\n                        updateDomainFromMap={this.props.updateDomainFromMap}\r\n                        updateDomainFromGraphicExtent = {this.props.updateDomainFromGraphicExtent}\r\n                        esriModules={esriModules}\r\n                        measurementPositions={this.props.measurementPositions}\r\n                        regionLayer={this.regionLayer}\r\n                        setShowHelp={(showHelp) => this.setState({...this.state, showHelp})}\r\n                        ref={this.props.globeUIRef}\r\n                        drawMode={this.props.drawMode}\r\n                    />\r\n                </Scene>\r\n                <DrawButton showHelp={this.state.showHelp}/>\r\n                <CruiseSelector/>\r\n            </div>            \r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(MapContainer);","const cleanSPParams = ({depth1, depth2, dt1, dt2, fields, lat1, lat2, lon1, lon2, spName, tableName}) => ({\r\n    depth1: parseFloat(depth1),\r\n    depth2: parseFloat(depth2),\r\n    dt1,\r\n    dt2,\r\n    fields,\r\n    lat1: parseFloat(lat1),\r\n    lat2: parseFloat(lat2),\r\n    lon1: parseFloat(lon1),\r\n    lon2: parseFloat(lon2),\r\n    spName,\r\n    tableName,\r\n})\r\n\r\nexport default cleanSPParams;","const localDateToString = (date) => {\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate()\r\n\r\n    let nYear = year.toString();\r\n    let nMonth = month < 10 ? '0' + month.toString() : month.toString();\r\n    let nDay = day < 10 ? '0' + day.toString() : day.toString();\r\n\r\n    return nYear + '-' + nMonth + '-' + nDay;\r\n}\r\n\r\nexport default localDateToString;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\nimport storedProcedures from '../Enums/storedProcedures';\r\nimport regionRenderModes from '../Enums/regionRenderModes';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport LoginRequiredPrompt from './LoginRequiredPrompt';\r\n// import VisualizationController from './VisualizationController';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport DataRetrievalForm from './DataRetrievalForm';\r\nimport VizControlPanel from './VizControlPanel';\r\n\r\nimport { showLoginDialog, snackbarOpen } from '../Redux/actions/ui';\r\nimport { queryRequestSend, storedProcedureRequestSend, cruiseListRequestSend, triggerShowCharts, completedShowCharts } from '../Redux/actions/visualization';\r\nimport { retrievalRequestSend } from '../Redux/actions/catalog';\r\n\r\nimport states from '../asyncRequestStates';\r\n\r\nimport { loadModules } from 'esri-loader';\r\n\r\n// import {COORDINATE_SYSTEM} from '@deck.gl/core';\r\n// import DeckGL, {GeoJsonLayer, ColumnLayer, GridLayer, PointCloudLayer} from 'deck.gl';\r\n// import {AmbientLight, LightingEffect} from '@deck.gl/core';\r\n// import {HexagonLayer} from '@deck.gl/aggregation-layers';\r\n\r\nimport Charts from './Charts';\r\nimport MapContainer from './MapContainer';\r\nimport colors from '../Enums/colors'\r\nimport cleanSPParams from '../Utility/cleanSPParams';\r\nimport localDateToString from '../Utility/localDateToString';\r\nimport utcDateStringToLocal from '../Utility/utcDateStringToLocal';\r\nimport TopNavBar from './TopNavBar';\r\nimport temporalResolutions from '../Enums/temporalResolutions';\r\n// import subTypes from '../Enums/visualizationSubTypes';\r\n\r\nconst mapVizType = (vizType) => {\r\n    const mapping = {\r\n        [vizSubTypes.sectionMap]: {\r\n            sp: storedProcedures.sectionMap,\r\n            subType: vizSubTypes.sectionMap\r\n        },\r\n        [vizSubTypes.contourSectionMap]: {\r\n            sp: storedProcedures.sectionMap,\r\n            subType: vizSubTypes.contourSectionMap\r\n        },\r\n        [vizSubTypes.timeSeries]: {\r\n            sp: storedProcedures.timeSeries,\r\n            subType: vizSubTypes.timeSeries\r\n        },\r\n        [vizSubTypes.histogram]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.histogram\r\n        },\r\n        [vizSubTypes.depthProfile]: {\r\n            sp: storedProcedures.depthProfile,\r\n            subType: vizSubTypes.depthProfile\r\n        },\r\n        [vizSubTypes.heatmap]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.heatmap\r\n        },\r\n        [vizSubTypes.contourMap]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.contourMap\r\n        },\r\n        [vizSubTypes.sparse]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.sparse\r\n        }\r\n    }\r\n\r\n    return mapping[vizType];\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user,\r\n    sampleData: state.sampleData,\r\n    queryRequestState: state.queryRequestState,\r\n    maps: state.maps,\r\n    charts: state.charts,\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    loadingMessage: state.loadingMessage,\r\n    cruiseTrajectory: state.cruiseTrajectory,\r\n    cruiseList: state.cruiseList,\r\n    showChartsOnce: state.showChartsOnce\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog,\r\n    queryRequestSend,\r\n    retrievalRequestSend,\r\n    storedProcedureRequestSend,\r\n    snackbarOpen,\r\n    cruiseListRequestSend,\r\n    completedShowCharts\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    displayNone: {\r\n        display: 'none'\r\n    },\r\n\r\n    background: {\r\n        backgroundColor: colors.backgroundGray\r\n    },\r\n\r\n    showCharts: {\r\n        display: 'inline-block'\r\n    }\r\n})\r\n\r\nclass Visualization extends Component {\r\n    globeUIRef = React.createRef();\r\n\r\n    state = {\r\n        filteredData: [],\r\n        opacity: 1,\r\n        showCharts: false,\r\n        showUI: false,\r\n        surfaceOnly: false,\r\n        irregularSpatialResolution: false,\r\n\r\n        regionRenderMode: regionRenderModes.draw,\r\n        \r\n        spParams: {\r\n            tableName: '',\r\n            fields: null,\r\n            depth1: 0,\r\n            depth2: 0,\r\n            dt1: new Date(),\r\n            dt2: new Date(),\r\n            lat1: 0,\r\n            lat2: 0,\r\n            lon1: 0,\r\n            lon2: 0,\r\n            selectedVizType: ''\r\n        }\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        if(!this.props.catalog) this.props.retrievalRequestSend();\r\n        if(!this.props.cruiseList) this.props.cruiseListRequestSend();\r\n\r\n        const esriModuleNames = [\r\n            'AreaMeasurement3D',\r\n            'Search',\r\n            'GraphicsLayer',\r\n            'SketchViewModel',\r\n            'Utils',\r\n            'Graphic',\r\n            'Sketch'\r\n        ];\r\n\r\n        var loadedModules = await loadModules([\r\n            'esri/widgets/AreaMeasurement3D',\r\n            'esri/widgets/Search',\r\n            'esri/layers/GraphicsLayer',\r\n            'esri/widgets/Sketch/SketchViewModel',\r\n            'esri/geometry/support/webMercatorUtils',\r\n            'esri/Graphic',\r\n            \"esri/widgets/Sketch\",\r\n        ]);\r\n\r\n        var esriModules = esriModuleNames.reduce((accumulator, currentValue, currentIndex) => {\r\n            accumulator[currentValue] = loadedModules[currentIndex];\r\n            return accumulator;\r\n        }, {});\r\n\r\n        this.setState({...this.state, esriModules});\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(this.props.showChartsOnce) {\r\n            this.props.completedShowCharts();\r\n            this.setState({...this.state, showCharts: true})\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({...this.state, spParams: {...this.state.spParams, [event.target.name]: event.target.value}})\r\n    };\r\n\r\n    handleLatLonChange = (event) => {\r\n        this.setState({\r\n            ...this.state, \r\n            spParams: {...this.state.spParams, [event.target.name]: event.target.value},\r\n            regionRenderMode: regionRenderModes.form\r\n        })\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        if(date){\r\n            let newDate = new Date();\r\n            newDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\r\n            this.setState({...this.state, spParams: {...this.state.spParams, dt1:newDate}});\r\n        }\r\n    }\r\n\r\n    handleEndDateChange = (date) => {\r\n        if(date){\r\n            let newDate = new Date();\r\n            newDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\r\n            this.setState({...this.state, spParams: {...this.state.spParams, dt2:newDate}});\r\n        }\r\n    }\r\n\r\n    onVisualize = () => {\r\n        const { depth1, depth2, dt1, dt2, lat1, lat2, lon1, lon2, selectedVizType } = this.state.spParams;\r\n\r\n        let mapping = mapVizType(selectedVizType);\r\n        let parameters = cleanSPParams({\r\n            depth1,\r\n            depth2,\r\n            dt1: localDateToString(dt1),\r\n            dt2: localDateToString(dt2),\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            fields: this.state.spParams.fields && this.state.spParams.fields.value,\r\n            tableName: this.state.spParams.fields && this.state.spParams.tableName,\r\n            spName: mapping.sp\r\n        });\r\n\r\n        let payload = {\r\n            parameters,\r\n            subType: mapping.subType,\r\n            metadata: this.state.spParams.fields && this.state.spParams.fields.data\r\n        }\r\n    \r\n        this.props.storedProcedureRequestSend(payload);\r\n    }\r\n\r\n    // Update the \"fields\" state piece when the variables input changes\r\n    // Field in this case refers to a react-select option, which contains catalog metadata\r\n    updateFields = (fields) => {\r\n        if(fields) {\r\n            let surfaceOnly = !fields.data.Depth_Min;\r\n            let irregularSpatialResolution = fields.data.Spatial_Resolution === 'Irregular';\r\n\r\n            let dt1 = fields.data.Temporal_Resolution === temporalResolutions.monthlyClimatology ?\r\n                this.state.spParams.dt1 : utcDateStringToLocal(fields.data.Time_Min);\r\n            let dt2 = fields.data.Temporal_Resolution === temporalResolutions.monthlyClimatology ?\r\n                this.state.spParams.dt2 : \r\n                irregularSpatialResolution ? utcDateStringToLocal(fields.data.Time_Max) :\r\n                utcDateStringToLocal(fields.data.Time_Min);\r\n\r\n            let regionRenderMode = irregularSpatialResolution ? regionRenderModes.form : this.state.regionRenderMode;\r\n\r\n            let lat1 = irregularSpatialResolution ? fields.data.Lat_Min : this.state.spParams.lat1;\r\n            let lat2 = irregularSpatialResolution ? fields.data.Lat_Max : this.state.spParams.lat2;\r\n            let lon1 = irregularSpatialResolution ? fields.data.Lon_Min : this.state.spParams.lon1;\r\n            let lon2 = irregularSpatialResolution ? fields.data.Lon_Max : this.state.spParams.lon2;\r\n            let depth1 = irregularSpatialResolution ? fields.data.Depth_Min : this.state.spParams.depth1;\r\n            let depth2 = irregularSpatialResolution ? fields.data.Depth_Max : this.state.spParams.depth2;\r\n\r\n            let tableName = fields.data.Table_Name;\r\n            \r\n            this.setState({...this.state,\r\n                surfaceOnly,\r\n                irregularSpatialResolution,\r\n                regionRenderMode,\r\n                spParams: {...this.state.spParams, \r\n                    fields,\r\n                    dt1,\r\n                    dt2,\r\n                    lat1,\r\n                    lat2,\r\n                    lon1,\r\n                    lon2,\r\n                    depth1,\r\n                    depth2,\r\n                    tableName\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({...this.state, spParams: {...this.state.spParams, fields, tableName: ''}})\r\n        }\r\n    }\r\n\r\n    handleShowCharts = () => {\r\n        this.setState({...this.state, showCharts: true})\r\n    }\r\n\r\n    handleShowGlobe = () => {\r\n        this.setState({...this.state, showCharts: false})\r\n    }\r\n\r\n    toggleShowUI = () => {\r\n        this.setState({...this.state, showUI: !this.state.showUI});\r\n    }\r\n\r\n    updateDomainFromMap = (coordinates) => {\r\n        if(!coordinates || !coordinates.length) return null;\r\n        \r\n        var lons = coordinates.map(a => a[0]);\r\n        var lats = coordinates.map(a => a[1]);\r\n\r\n        var newCoordinates = {\r\n            lat1: Math.min(...lats).toFixed(3),\r\n            lat2: Math.max(...lats).toFixed(3),\r\n            lon1: Math.min(...lons).toFixed(3),\r\n            lon2: Math.max(...lons).toFixed(3)\r\n        };\r\n\r\n        this.setState({...this.state, spParams: {...this.state.spParams, ...newCoordinates}});\r\n    }\r\n\r\n    updateDomainFromGraphicExtent = (extent) => {\r\n        var newCoordinates = {\r\n            lat1: extent.ymin.toFixed(3),\r\n            lat2: extent.ymax.toFixed(3),\r\n            lon1: extent.xmin.toFixed(3),\r\n            lon2: extent.xmax.toFixed(3)\r\n        };\r\n\r\n        this.setState({...this.state, spParams: {...this.state.spParams, ...newCoordinates}});\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        if(!this.props.user) return <LoginRequiredPrompt/>\r\n\r\n        return (\r\n            <div>\r\n                <TopNavBar/>\r\n                <DataRetrievalForm \r\n                    handleChange={this.handleChange}\r\n                    handleLatLonChange={this.handleLatLonChange}\r\n                    handleStartDateChange={this.handleStartDateChange} \r\n                    handleEndDateChange={this.handleEndDateChange} \r\n                    showUI={this.state.showUI}\r\n                    onVisualize={this.onVisualize}\r\n                    updateFields={this.updateFields}\r\n                   {...this.state.spParams}\r\n                   surfaceOnly={this.state.surfaceOnly}\r\n                   irregularSpatialResolution={this.state.irregularSpatialResolution}\r\n                />\r\n                <VizControlPanel\r\n                    toggleChartView={this.toggleChartView}\r\n                    toggleShowUI={this.toggleShowUI}\r\n                    showCharts={this.state.showCharts}\r\n                    handleChange={this.handleChange}\r\n                    handleLatLonChange={this.handleLatLonChange}\r\n                    handleStartDateChange={this.handleStartDateChange} \r\n                    handleEndDateChange={this.handleEndDateChange} \r\n                    showUI={this.state.showUI}\r\n                    onVisualize={this.onVisualize}\r\n                    updateFields={this.updateFields}\r\n                    {...this.state.spParams}\r\n                    surfaceOnly={this.state.surfaceOnly}\r\n                    irregularSpatialResolution={this.state.irregularSpatialResolution}\r\n                    showCharts={this.state.showCharts}\r\n                    handleShowCharts={this.handleShowCharts}\r\n                    handleShowGlobe={this.handleShowGlobe}\r\n                />\r\n                { this.state.esriModules &&\r\n                    <div className={`${this.state.showCharts ? classes.displayNone : ''}`}>\r\n                        <MapContainer\r\n                            globeUIRef={this.globeUIRef}\r\n                            updateDomainFromMap={this.updateDomainFromMap}\r\n                            updateDomainFromGraphicExtent={this.updateDomainFromGraphicExtent}\r\n                            drawMode={() => this.setState({...this.state, regionRenderMode: regionRenderModes.draw})}\r\n                            esriModules={this.state.esriModules}\r\n                            regionRenderMode={this.state.regionRenderMode}\r\n                            spParams={this.state.spParams}\r\n                            cruiseTrajectory={this.props.cruiseTrajectory}\r\n                        />\r\n                    </div>\r\n                }\r\n\r\n                <div className={this.state.showCharts ? classes.showCharts : classes.displayNone}>\r\n                    <Charts/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Visualization));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport Link from '@material-ui/core/Link';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport states from '../asyncRequestStates';\r\n\r\nimport { showLoginDialog, hideLoginDialog, restoreInterfaceDefaults } from '../Redux/actions/ui';\r\nimport { logOut, userLoginRequestSend } from '../Redux/actions/user';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        loginDialogIsOpen: state.loginDialogIsOpen,\r\n        userLoginState: state.userLoginState,\r\n        userLoginError: state.userLoginError\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    hideLoginDialog,\r\n    showLoginDialog,\r\n    logOut,\r\n    userLoginRequestSend,\r\n    restoreInterfaceDefaults\r\n}\r\n\r\nconst styles = theme => ({\r\n    wrapper: {\r\n        margin: theme.spacing(1),\r\n        position: 'relative',\r\n    },\r\n\r\n    buttonProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n})\r\n\r\nclass LoginDialog extends Component{\r\n    // Text input state is managed in the TopNavBar component\r\n\r\n    handleLogin = (event) => {\r\n        this.props.userLoginRequestSend(this.props.username, this.props.password);\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.props.clearState();\r\n        this.props.hideLoginDialog();\r\n        this.props.restoreInterfaceDefaults();\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n        return (\r\n            <Dialog\r\n                open={this.props.loginDialogIsOpen}\r\n                onClose={this.handleClose}\r\n                aria-labelledby=\"form-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                    Please enter your username and password, or <Link onClick={this.handleClose} component={RouterLink} to={{pathname: '/register'}}>Register.</Link>\r\n                    </DialogContentText>\r\n                    <form onSubmit={e => (e.preventDefault())}>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"normal\"\r\n                            id=\"username\"\r\n                            label=\"Username\"\r\n                            type=\"text\"\r\n                            variant='outlined'\r\n                            name='username'\r\n                            value={this.props.username}\r\n                            onChange={this.props.handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id=\"name\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='password'\r\n                            value={this.props.password}\r\n                            onChange={this.props.handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n\r\n                        <DialogActions>\r\n                            <Button onClick={this.handleClose} color=\"primary\">\r\n                                Cancel\r\n                            </Button>\r\n\r\n                            <div className={classes.wrapper}>\r\n                                <Button color=\"primary\" type='submit' onClick={this.handleLogin} disabled={!this.props.username || !this.props.password}>\r\n                                    Log In\r\n                                </Button>\r\n                                {this.props.userLoginState === states.inProgress && <CircularProgress size={24} className= {classes.buttonProgress} />}\r\n                            </div>\r\n                        </DialogActions>\r\n                    </form>\r\n                    {this.props.userLoginState === states.failed ?\r\n                    <DialogContentText>\r\n                        Login failed. Please try again.\r\n                    </DialogContentText>\r\n                    : ''               \r\n                    }\r\n                </DialogContent>\r\n                \r\n            </Dialog>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LoginDialog));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { snackbarClose } from '../Redux/actions/ui';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    snackbarIsOpen: state.snackbarIsOpen,\r\n    snackbarMessage: state.snackbarMessage\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    snackbarClose,\r\n}\r\n\r\nconst styles = (theme) => {\r\n    return ({\r\n        centerText: {\r\n            textAlign: 'center'\r\n        }\r\n    })\r\n}\r\n\r\nconst SnackbarWrapper = (props) => {\r\n    const { classes } = props;\r\n    return (\r\n        \r\n        <React.Fragment>\r\n            <Snackbar \r\n                className={classes.centerText}\r\n                autoHideDuration={4000} \r\n                message={props.snackbarMessage}\r\n                onClose={props.snackbarClose}\r\n                open={props.snackbarIsOpen}\r\n                anchorOrigin={{horizontal:'center', vertical:'top'}}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SnackbarWrapper));","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport * as Spinner from 'react-spinkit';\r\n\r\nconst styles = theme => ({\r\n    loader: {\r\n        backgroundColor: '#000000',\r\n        position: 'fixed',\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        opacity: 0.5,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '100vw',\r\n        height: '100vh',\r\n        zIndex: 9998\r\n    },\r\n\r\n    loaderContent: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItem: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 9999,\r\n        opacity: 1\r\n    },\r\n\r\n    spinnerText: {\r\n        zIndex: 10000,\r\n        color: '#FF8000',\r\n        marginTop: '25px',\r\n        opacity: 1\r\n    },\r\n\r\n    spinner: {\r\n        opacity: 1\r\n    }\r\n})\r\n\r\nconst LoadingOverlay = (props) => {\r\n    const { classes, loadingMessage } = props;\r\n\r\n    if(loadingMessage && loadingMessage.length){\r\n        return (\r\n            <div className={classes.loader}>\r\n                <div className={classes.loaderContent}>\r\n                    <Spinner className={classes.spinner} color='#FF8000' name=\"ball-pulse-rise\" fadeIn='quarter'/>\r\n                    <Typography variant='h6' className={classes.spinnerText}>{loadingMessage}</Typography>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else return '';\r\n\r\n}\r\n\r\nexport default withStyles(styles)(LoadingOverlay);","// This component is a wrapper and control center for\r\n// UI components that need to be accessible anywhere\r\n// in the application such as login dialog and snackbar.\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport LoginDialog from './LoginDialog';\r\nimport SnackbarWrapper from './SnackbarWrapper';\r\nimport LoadingOverlay from './LoadingOverlay';\r\n\r\nimport { loginDialogWasCleared } from '../Redux/actions/user';\r\n\r\nconst styles = theme => ({\r\n    inlineBlock: {\r\n        display: 'inline-block'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    clearLoginDialog: state.clearLoginDialog,\r\n    loadingMessage: state.loadingMessage\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    loginDialogWasCleared\r\n}\r\n\r\nclass GlobalUIComponentWrapper extends Component {\r\n\r\n    state = {\r\n        // Login dialog\r\n        username: '',\r\n        password: ''\r\n    }\r\n    \r\n    // Controls login dialog text fields to allow reset from logout button\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    };\r\n\r\n    handleLogOut = () => {\r\n        this.clearState();\r\n    }\r\n\r\n    clearState = () => {\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        });\r\n        this.props.loginDialogWasCleared();\r\n    }\r\n\r\n    componentDidUpdate = (preProps) => {\r\n        if(this.props.clearLoginDialog) {\r\n            this.clearState();\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        // const { classes } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>    \r\n                <LoginDialog clearState={this.clearState} username={this.state.username} password={this.state.password} handleChange={this.handleChange}/>\r\n                <SnackbarWrapper/>\r\n                <LoadingOverlay loadingMessage={this.props.loadingMessage}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(GlobalUIComponentWrapper));","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport TopNavBar from './TopNavBar';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nconst styles = theme => ({\r\n    landingWrapper: {\r\n        margin: '15vh auto'\r\n    },\r\n\r\n    welcomeMessage: {\r\n        color: '#ffffff',\r\n        maxWidth: '500px',\r\n        margin: `${theme.spacing(2)}px auto`\r\n    }\r\n})\r\n\r\nclass LandingPage extends Component {\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <div className={classes.landingWrapper}>\r\n                <img \r\n                    src='/images/large_cmap_logo.png'\r\n                    height='290'\r\n                    width='600'\r\n                />\r\n                <Typography variant=\"body2\" component=\"p\" className={classes.welcomeMessage}>\r\n                    Welcome to Simons CMAP. This application is currently under heavy development, and some features may be incomplete.\r\n                </Typography>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LandingPage));","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { Home, CollectionsBookmark, AccountCircle, InsertChartOutlined, ChevronLeft } from '@material-ui/icons';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst navDrawerWidth = 150;\r\n\r\nconst styles = theme => ({\r\n  drawer: {\r\n    width: navDrawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n\r\n  drawerPaper: {\r\n    width: navDrawerWidth,\r\n  },\r\n\r\n  drForm: {\r\n      width: 180,\r\n      boxShadow: '0px 0px 0px 2px rgba(0,0,0,0.2)'\r\n  },\r\n\r\n  drFormPaper: {\r\n      width: 180,\r\n      left: navDrawerWidth,\r\n      boxShadow: '0px 0px 0px 2px rgba(0,0,0,0.2)'\r\n    //   boxShadow: theme.sha\r\n  },\r\n\r\n  drFormHead: {\r\n    alignItems: 'center',\r\n  },\r\n\r\n  nestedListItem: {\r\n      paddingLeft: theme.spacing(1),\r\n      paddingTop: 0,\r\n      marginTop: '-10px',\r\n  },\r\n\r\n  logo: {\r\n    margin: '10px auto 20px auto',\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n\r\n  moveRight: {\r\n      position: 'relative',\r\n      left: '160px'\r\n  }\r\n});\r\n\r\nconst primaryTypographyProps = {\r\n    variant: 'subtitle2'\r\n}\r\n\r\nconst nestedPrimaryTypographyProps = {\r\n    variant: 'caption'\r\n}\r\n\r\nclass PermanentDrawerLeft extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showDataRetrievalForm: false\r\n        }\r\n    }\r\n\r\n    handleOpenDRForm = () => {\r\n        this.setState({...this.state, showDataRetrievalForm: true})\r\n    }\r\n\r\n    handleCloseDRForm = () => {\r\n        this.setState({...this.state, showDataRetrievalForm: false})\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { pathname } = this.props.location;\r\n\r\n        return (\r\n            <div>\r\n                <Drawer\r\n                    className={classes.drawer}\r\n                    variant=\"permanent\"\r\n                    classes={{\r\n                        paper: classes.drawerPaper,\r\n                    }}\r\n                    anchor=\"left\"\r\n                >\r\n                    <List>\r\n                        <ListItem button>\r\n                            <ListItemIcon><Home/></ListItemIcon>\r\n                            <ListItemText primary='Home' primaryTypographyProps={primaryTypographyProps}/>\r\n                        </ListItem>\r\n\r\n                        <ListItem button>\r\n                            <ListItemIcon><AccountCircle/></ListItemIcon>\r\n                            <ListItemText primary='Account' primaryTypographyProps={primaryTypographyProps}/>\r\n                        </ListItem>\r\n\r\n                        <ListItem button>\r\n                            <ListItemIcon><CollectionsBookmark/></ListItemIcon>\r\n                            <ListItemText primary='Catalog' primaryTypographyProps={primaryTypographyProps}/>\r\n                        </ListItem>\r\n\r\n                        <ListItem button>\r\n                            <ListItemIcon><InsertChartOutlined/></ListItemIcon>\r\n                            <ListItemText primary='Visualization' primaryTypographyProps={primaryTypographyProps}/>\r\n                        </ListItem>\r\n\r\n                        <Collapse \r\n                            in={pathname==='/visualization'}\r\n                            timeout=\"auto\" \r\n                            unmountOnExit\r\n                        >\r\n                            <List component=\"div\" disablePadding dense>\r\n                                <ListItem \r\n                                    button \r\n                                    className={classes.nestedListItem}\r\n                                    onClick={this.handleOpenDRForm}\r\n                                >\r\n                                    <ListItemText inset primary=\"New\" primaryTypographyProps={nestedPrimaryTypographyProps}/>\r\n                                </ListItem>\r\n                            </List>\r\n\r\n                            <List component=\"div\" disablePadding>\r\n                                <ListItem button className={classes.nestedListItem}>\r\n                                    <ListItemText inset primary=\"Charts\" primaryTypographyProps={nestedPrimaryTypographyProps}/>\r\n                                </ListItem>\r\n                            </List>\r\n                        </Collapse>\r\n                    </List>\r\n                </Drawer>\r\n\r\n                <Drawer\r\n                    className={classes.drForm}\r\n                    open={this.state.showDataRetrievalForm}\r\n                    variant=\"persistent\"\r\n                    classes={{\r\n                        paper: classes.drFormPaper,\r\n                    }}\r\n                    anchor=\"left\"\r\n                >             \r\n\r\n                    <div className={classes.drFormHead}>\r\n                        <IconButton onClick={this.handleCloseDRForm}>\r\n                            <ChevronLeft color='action'/>\r\n                        </IconButton>\r\n                    </div>     \r\n                </Drawer>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(withStyles(styles)(PermanentDrawerLeft));\r\n\r\n// import { makeStyles, useTheme } from '@material-ui/core/styles';\r\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n\r\n// const useStyles = makeStyles(theme => ({\r\n//   root: {\r\n//     display: 'flex',\r\n//   },\r\n//   appBar: {\r\n//     transition: theme.transitions.create(['margin', 'width'], {\r\n//       easing: theme.transitions.easing.sharp,\r\n//       duration: theme.transitions.duration.leavingScreen,\r\n//     }),\r\n//   },\r\n//   appBarShift: {\r\n//     width: `calc(100% - ${drawerWidth}px)`,\r\n//     marginLeft: drawerWidth,\r\n//     transition: theme.transitions.create(['margin', 'width'], {\r\n//       easing: theme.transitions.easing.easeOut,\r\n//       duration: theme.transitions.duration.enteringScreen,\r\n//     }),\r\n//   },\r\n//   menuButton: {\r\n//     marginRight: theme.spacing(2),\r\n//   },\r\n//   hide: {\r\n//     display: 'none',\r\n//   },\r\n//   drawer: {\r\n//     width: drawerWidth,\r\n//     flexShrink: 0,\r\n//   },\r\n//   drawerPaper: {\r\n//     width: drawerWidth,\r\n//   },\r\n//   drawerHeader: {\r\n//     display: 'flex',\r\n//     alignItems: 'center',\r\n//     padding: theme.spacing(0, 1),\r\n//     ...theme.mixins.toolbar,\r\n//     justifyContent: 'flex-end',\r\n//   },\r\n//   content: {\r\n//     flexGrow: 1,\r\n//     padding: theme.spacing(3),\r\n//     transition: theme.transitions.create('margin', {\r\n//       easing: theme.transitions.easing.sharp,\r\n//       duration: theme.transitions.duration.leavingScreen,\r\n//     }),\r\n//     marginLeft: -drawerWidth,\r\n//   },\r\n//   contentShift: {\r\n//     transition: theme.transitions.create('margin', {\r\n//       easing: theme.transitions.easing.easeOut,\r\n//       duration: theme.transitions.duration.enteringScreen,\r\n//     }),\r\n//     marginLeft: 0,\r\n//   },\r\n// }));\r\n\r\n// export default function PersistentDrawerLeft() {\r\n//   const classes = useStyles();\r\n//   const theme = useTheme();\r\n//   const [open, setOpen] = React.useState(false);\r\n\r\n//   const handleDrawerOpen = () => {\r\n//     setOpen(true);\r\n//   };\r\n\r\n//   const handleDrawerClose = () => {\r\n//     setOpen(false);\r\n//   };\r\n\r\n//   return (\r\n//     <div className={classes.root}>\r\n//       <Drawer\r\n//         className={classes.drawer}\r\n//         variant=\"persistent\"\r\n//         anchor=\"left\"\r\n//         open={open}\r\n//         classes={{\r\n//           paper: classes.drawerPaper,\r\n//         }}\r\n//       >\r\n//         <div className={classes.drawerHeader}>\r\n//           <IconButton onClick={handleDrawerClose}>\r\n//             {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n//           </IconButton>\r\n//         </div>\r\n//         <Divider />\r\n//         <List>\r\n//           {['Inbox', 'Starred', 'Send email', 'Drafts'].map((text, index) => (\r\n//             <ListItem button key={text}>\r\n//               <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n//               <ListItemText primary={text} />\r\n//             </ListItem>\r\n//           ))}\r\n//         </List>\r\n//         <Divider />\r\n//         <List>\r\n//           {['All mail', 'Trash', 'Spam'].map((text, index) => (\r\n//             <ListItem button key={text}>\r\n//               <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n//               <ListItemText primary={text} />\r\n//             </ListItem>\r\n//           ))}\r\n//         </List>\r\n//       </Drawer>\r\n//     </div>\r\n//   );\r\n// }","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport './App.scss';\n\nimport colors from './Enums/colors';\n\nimport { Route, BrowserRouter, Switch } from 'react-router-dom'\n\nimport Home from './Components/Home';\nimport Catalog from './Components/Catalog';\nimport Register from './Components/Register';\nimport Visualization from './Components/Visualization';\nimport GlobalUIComponentWrapper from './Components/GlobalUIComponentWrapper';\nimport LandingPage from './Components/LandingPage';\nimport NavDrawer from './Components/NavDrawer';\nimport TopNavBar from './Components/TopNavBar';\n\n\nconst theme = createMuiTheme({\n  // aqua: #22A3B9\n  // orange: #FF8000\n\n  typography: {\n    useNextVariants: true,\n    fontFamily: [\n      '\"Lato\"',\n      'sans-serif'\n    ].join(',')\n  },\n\n  palette: {\n    primary: {\n      contrastText: '#000000',\n      main: colors.orange\n    },\n\n    secondary: {\n      main: colors.aqua,\n      // contrastText: '#fff700',\n    },\n\n    background: {\n      default: colors.backgroundGray,\n      paper: colors.backgroundGray\n    },\n\n    text: {\n      primary: '#ffffff',\n      secondary: colors.orange\n    }\n  },\n\n  overrides: {\n    MuiIconButton: {\n      root: {\n        color: colors.orange,\n        borderRadius: '10%'\n      }\n    },\n\n    MuiListItemIcon: {\n      root: {\n        minWidth: '40px'\n      }\n    },\n\n    MuiFormHelperText: {\n      filled: {\n        paddingLeft: '1px',\n        paddingRight: '1px',\n        fontSize: '13px'\n      }\n    },\n\n    MuiListItem: {\n      gutters: {\n        paddingLeft: '6px',\n        paddingRight: '10px'\n      },\n\n      root: {\n        paddingTop: '4px',\n        paddingBottom: '4px'\n      }\n    },\n\n    MuiToolbar: {\n      root: {\n        backgroundColor: 'transparent',\n        color: colors.orange\n      }\n    },\n\n    MuiOutlinedInput: {\n      input: {\n        padding: '12px 14px'\n      },\n\n      root: {\n        \"&$focused\": {\n          \"borderColor\": colors.orange\n        }\n      }\n    },\n\n    MuiButtonGroup: {\n      groupedOutlined: {\n        '&:not(:first-child)': {\n          marginLeft: 0\n        }\n      }\n    },\n\n    MuiTableCell: {\n      root: {\n        borderBottomColor: \"rgba(0, 0, 0, 0.9)\"\n      }\n    },\n\n    MuiFormControl: {\n      marginNormal: {\n        marginTop: '8px'\n      }\n    },\n\n    MuiDialogContentText: {\n      root: {\n        color: 'white'\n      }\n    },\n\n    MuiDialogTitle: {\n      root: {\n        color: colors.orange\n      }\n    },\n\n    MuiFilledInput: {\n      input: {\n        paddingLeft: '6px',\n      },\n\n      inputSelect: {\n        paddingBottom: '6px'\n      },\n\n      adornedEnd: {\n        paddingRight: '6px'\n      },\n\n      root: {\n        backgroundColor: 'transparent',\n        '&:hover': {\n          backgroundColor: 'transparent',\n        },\n        '&:disabled': {\n          backgroundColor: 'transparent',\n        }\n      }\n    }\n  }\n});\n\nconst mapStateToProps = (state, ownProps) => ({\n  loadingMessage: state.loadingMessage\n})\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.vizRef = React.createRef();\n  }\n\nrender() {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <div className=\"App\">\n        <MuiThemeProvider theme={theme}>\n        <BrowserRouter>\n          <GlobalUIComponentWrapper/>\n          <TopNavBar/>\n          <Switch>          \n            <Route exact path='/apikeymanagement' component={ Home } />\n            <Route exact path='/' component={ LandingPage } />\n            <Route exact path='/catalog' component={ Catalog } />\n            <Route exact path='/register' component={ Register } />\n            <Route exact path='/visualization' component={Visualization} />\n          </Switch>\n        </BrowserRouter>\n        </MuiThemeProvider>\n      </div>\n    </MuiPickersUtilsProvider>\n  );\n}\n}\n\nexport default connect(mapStateToProps, null)(App);","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css';\nimport 'ag-grid-enterprise';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport store from './Redux/store';\n\nimport App from './App'\n\nimport {LicenseManager} from \"ag-grid-enterprise\";\n\nLicenseManager.setLicenseKey(\"School_of_Oceanography_Simons_CMAP_1Devs_1Deployment_19_June_2020__MTU5MjUyMTIwMDAwMA==aec33f954c06d90afed06467402921bd\");\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  rootElement\n)\n\nserviceWorker.unregister();\n"],"sourceRoot":""}