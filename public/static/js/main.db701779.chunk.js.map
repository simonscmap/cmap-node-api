{"version":3,"sources":["serviceWorker.js","Redux/actionTypes/catalog.js","asyncRequestStates.js","Redux/actionTypes/user.js","Redux/Reducers/ui.js","Redux/actionTypes/visualization.js","Redux/Reducers/index.js","Redux/Reducers/catalog.js","Redux/Reducers/user.js","Redux/actionTypes/ui.js","Redux/Reducers/visualization.js","Redux/actions/user.js","Redux/actions/catalog.js","Redux/actions/ui.js","Redux/actions/visualization.js","config.js","Enums/spatialResolutions.js","Utility/mapSpatialResolutionToNumber.js","Utility/GenerateSpatialArray.js","Utility/flattenArray.js","Utility/splitData.js","Utility/mergeArraysAndComputeMeans.js","Utility/mergeArrays.js","Enums/visualizationSubTypes.js","Classes/SpaceTimeData.js","Enums/storedProcedures.js","Classes/TimeSeriesData.js","Classes/DepthProfileData.js","Classes/SectionMapData.js","Classes/SparseData.js","api.js","Redux/sagas.js","Redux/store.js","Components/LoadingSpinner.js","Enums/colors.js","Components/ApiKeyManagement.js","Components/LoginRequiredPrompt.js","Components/TopNavBar.js","Components/Home.js","Components/GridDetail.js","Components/AGGridWrapper.js","Components/Catalog.js","Components/RegistrationCard.js","Components/RegistrationStepper.js","Components/Register.js","Enums/regionRenderModes.js","Enums/validation.js","Components/TableStatsDialog.js","Enums/temporalResolutions.js","Utility/mapTemporalResolutionToNumber.js","Components/DataRetrievalForm.js","Components/VizControlPanel.js","Components/ChartComponents/PaletteControls.js","Components/ChartComponents/ZValueControls.js","Components/ChartComponents/ChartControlPanel.js","Components/ChartComponents/SpaceTimeChart.js","Components/ChartComponents/TimeSeriesChart.js","Components/ChartComponents/DepthProfileChart.js","Components/ChartComponents/SectionMapChart.js","Components/ChartComponents/SparseMap.js","Components/Charts.js","Components/CruiseSelector.js","Components/MapContainer.js","Utility/cleanSPParams.js","Components/Visualization.js","Components/LoginDialog.js","Components/SnackbarWrapper.js","Components/LoadingOverlay.js","Components/GlobalUIComponentWrapper.js","Components/LandingPage.js","routes.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","RETRIEVAL_REQUEST_SEND","states","inProgress","failed","succeeded","expired","LOG_OUT","LOGIN_REQUEST_SEND","REGISTRATION_REQUEST_SEND","VALIDATION_REQUEST_SEND","KEY_RETRIEVAL_REQUEST_SEND","KEY_CREATION_REQUEST_SEND","uiResetState","catalogRequestState","loginDialogIsOpen","registrationActiveStep","userLoginState","userLoginError","userValidationState","userValidationError","userRegistrationState","apiKeyRetrievalState","apiKeyCreationState","QUERY_REQUEST_SEND","STORED_PROCEDURE_REQUEST_SEND","CRUISE_TRAJECTORY_REQUEST_SEND","CRUISE_LIST_REQUEST_SEND","initialState","catalog","snackbarIsOpen","snackbarMessage","loadingMessage","user","JSON","parse","Cookies","get","apiKeys","clearLoginDialog","maps","charts","getCruiseTrajectoryRequestState","cruiseTrajectory","sampleData","queryRequestState","storedProcedureRequestState","getTableStatsRequestState","cruiseList","getCruiseListRequestState","reducedReducer","reduceReducers","state","action","type","Object","objectSpread","payload","keys","message","layers","concat","toConsumableArray","newLayer","mapInfo","chartInfo","trajectory","userLoginRequestProcessing","userLoginRequestFailure","error","userLoginRequestSuccess","storeInfo","logOut","userActionTypes","destroyInfo","userValidationRequestProcessing","userValidationRequestFailure","userValidationRequestSuccess","userRegistrationRequestProcessing","userRegistrationRequestFailure","userRegistrationRequestSuccess","keyRetrievalRequestSend","keyRetrievalRequestSuccess","keyRetrievalRequestFailure","keyCreationRequestProcessing","keyCreationRequestSuccess","retrievalRequestSend","catalogActionTypes","retrievalRequestProcessing","retrievalRequestSuccess","retrievalRequestFailure","showLoginDialog","hideLoginDialog","registrationNextActiveStep","restoreInterfaceDefaults","snackbarOpen","setLoadingMessage","queryRequestSuccess","data","queryRequestProcessing","storedProcedureRequestSuccess","storedProcedureRequestFailure","storedProcedureRequestProcessing","storeSampleData","addChart","cruiseTrajectoryRequestSend","id","visualizationActionTypes","cruiseTrajectoryRequestSuccess","cruiseTrajectoryRequestProcessing","cruiseListRequestSend","cruiseListRequestSuccess","cruiseListRequestFailure","cruiseListRequestProcessing","apiUrl","spatialResolutions","irregular","halfDegree","quarterDegree","twentyFifthDegree","fourKm","twelfthDegree","seventyKm","oneDegree","mapSpatialResolutionToNumber","resolution","_map","defineProperty","generateSpatialArray","start","end","arr","i","push","flattenArray","flattenedArray","length","j","splitData","changeInterval","numDistinct","Math","floor","mergeArraysAndComputeMeans","mergeTargetDistance","nextMergeStartDistance","numArraysPerMerge","mergedArrays","travelDistance","subArray","sum","count","k","mergeArrays","subTypes","sectionMap","timeSeries","histogram","depthProfile","heatmap","contourMap","sparse","SpaceTimeData","_this","this","classCallCheck","generateCsv","dates","Array","from","console","log","depths","hasDepth","csvArray","parameters","fields","variableValues","lats","lons","join","metadata","Set","lonStart","latStart","lonCount","latCount","zMin","zMax","extent","depthIndexAdjust","row","parseFloat","add","spatialResolution","Spatial_Resolution","lonsList","lon2","latsList","lat2","quantile","subType","splitByDate","splitByDepth","_this2","size","variableValueSubsets","depthInterval","dateInterval","map","subset","vizSubTypes","storedProcedures","spaceTime","TimeSeriesData","stds","lat","lon","depth","csvString","DepthProfileData","SectionMapData","orientation","latsDistinct","lonsDistinct","zonalPlotDepths","meridionalPlotDepths","depthsList","splitBySpace","spaceCount","lonInterval","latInterval","SparseData","Depth_Min","variableIndex","times","fetchOptions","credentials","postOptions","method","headers","Content-Type","storedProcedureParametersToUri","reduce","queryString","key","api","login","fetch","body","stringify","logout","register","validate","retrieve","asyncToGenerator","regenerator_default","a","mark","_callee","decoder","csvParser","response","reader","readerIsDone","chunk","wrap","_context","prev","next","TextDecoder","CSVParser","columns","on","record","read","sent","ok","abrupt","getReader","done","write","decode","value","stop","keyRetrieval","_callee2","_context2","json","keyCreation","_ref3","_callee3","description","_context3","trim","_x","apply","arguments","visualization","storedProcedureRequest","_ref4","_callee4","vizData","_context4","t0","spName","_x2","getTableStats","_ref5","_callee5","tableName","_context5","_x3","cruiseTrajectoryRequest","_ref6","_callee6","_context6","_x4","_callee7","_context7","userLogin","userLogout","userRegistration","userValidation","catalogRetrieval","queryRequest","cruiseListRequest","watchUserLogin","watchUserLogout","watchUserRegistration","watchUserValidation","watchCatalogRetrieval","watchKeyRetrieval","watchKeyCreationRequest","watchQueryRequest","watchStoredProcedureRequest","watchCruiseTrajectoryRequest","watchCruiseListRequest","rootSaga","userInfo","put","userActions","call","interfaceActions","_marked","_marked2","_marked3","result","_marked4","catalogActions","_marked5","_marked6","_marked7","_context8","visualizationActions","query","_marked8","_context9","delay","finalize","_marked9","_context10","_marked10","_context11","_marked11","_context12","takeLatest","_marked12","_context13","_marked13","_context14","_marked14","_context15","_marked15","_context16","_marked16","_context17","_marked17","_context18","_marked18","_context19","_marked19","_context20","_marked20","_context21","_marked21","_context22","_marked22","_context23","all","_marked23","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","run","withStyles","theme","centered","position","top","props","classes","react_default","createElement","CircularProgress","className","customVariant","colors","orange","backgroundGray","aqua","mapDispatchToProps","keyCreationRequestSend","ApiKeyManagement","possibleConstructorReturn","getPrototypeOf","componentDidMount","handleClick","handleChange","event","setState","target","Fragment","Paper","root","elevation","Typography","variant","apiKeyTableHeader","Divider","Table","table","TableHead","TableRow","TableCell","align","TableBody","apiKey","index","Description","showChildOnHover","keyTableCell","Api_Key","warningCaption","Grid","container","alignItems","justify","spacing","item","TextField","margin","name","onChange","placeholder","descriptionField","Button","disabled","color","onClick","Components_LoadingSpinner","Component","connect","ownProps","width","marginTop","paddingTop","minWidth","marginBottom","visibility","&:hover span","fontSize","useEffect","Link","component","RouterLink","to","pathname","TopNavBar","handleLogOut","clearState","username","password","getCurrentPath","AppBar","Toolbar","Tabs","Tab","label","firstName","lastName","withRouter","inlineBlock","display","Home","Components_TopNavBar","Components_ApiKeyManagement","Components_LoginRequiredPrompt","tableMapping","title","wrapper","height","infoCard","padding","gridClass","gridItem","justifyContent","datasetDescriptionWrapper","whiteSpace","overflow","datasetDescription","vizSampleImage","variableDetailTable","marginLeft","marginRight","variableDetailTableRow","variableDetailTableCell","borderBottomColor","xs","src","imageSource","alt","Dataset_Description","Data_Source","Distributor","detailCellRendererParams","template","columnDefs","headerName","field","sortable","filter","tooltipField","cellRenderer","cellStyle","textAlign","hide","enableRowGroup","defaultColDef","resizable","autoGroupColumnDef","AGGridWrapper","filterText","gridApi","setQuickFilter","onGridReady","params","columnApi","sizeColumnsToFit","handleColumnRowGroupChanged","forEach","column","setColumnVisible","colId","render","gridPaper","gridSearch","autoFocus","InputLabelProps","shrink","gridWrapper","ag_grid_react_main","rowData","suppressDragLeaveHidesColumns","rowGroupPanelShow","groupMultiAutoColumn","onColumnRowGroupChanged","enableBrowserTooltips","masterDetail","frameworkComponents","myDetailCellRenderer","GridDetail","detailCellRenderer","detailRowHeight","Catalog","determineContent","Components_AGGridWrapper","content","registrationCard","textField","inputFieldState","Card","inputFieldInfo","valid","helperText","requirement","registrationPreviousActiveStep","userRegistrationRequestSend","userValidationRequestSend","email","getCardInfo","optional","institute","department","country","confirmPassword","RegistrationStepper","validateField","rawValue","pattern","previousState","newCardState","cards","test","processStateToActionPayload","actionPayload","card","cardKey","currentCardIsValid","currentCard","handleNext","handleBack","newValue","fieldName","newCard","steps","activeStep","cardInfoArray","Stepper","Step","StepLabel","instructions","Components_RegistrationCard","button","buttonProgress","left","Register","Components_RegistrationStepper","regionRenderModes","draw","form","validation","depthOneIsLower","depthOneOutOfBounds","depthTwoOutOfBounds","negative","date","dateOneIsLater","dateOneOutOfBounds","dateTwoOutOfBounds","latOneIsHigher","latOneOutOfBounds","latTwoOutOfBounds","lonOneIsHigher","lonOneOutOfBounds","lonTwoOutOfBounds","dataIsIrregular","dateRangeRequired","depthRangeRequired","surfaceOnlyDataset","irregularOnly","dataSizeTooLarge","generic","invalid","dataSizeWarning","dataSizePrevent","Dialog","open","onClose","DialogTitle","Variable","DialogContent","DialogContentText","Long_Name","Sensor","Temporal_Resolution","Time_Min","slice","Time_Max","Lat_Min","Lat_Max","Lon_Min","Depth_Max","temporalResolutions","threeMinutes","sixHourly","daily","weekly","monthly","annual","monthlyClimatology","threeDay","eightDayRunning","eightDays","mapTemporalResolutionToNumber","MenuList","_this$props","options","children","maxHeight","_getValue","getValue","slicedToArray","initialOffset","indexOf","dist_index_esm","style","backgroundColor","itemCount","itemSize","initialScrollOffset","_ref","DropdownIndicator","chunk_5d200a41_browser_esm","ArrowDropDown","SingleValue","assign","Option","DataRetrievalForm","componentDidUpdate","prevProps","search","addDocuments","handleTableStatsDialogClose","tableStatsDialogIsOpen","handleTableStatsDialogOpen","handleVisualizationSpeedDialClose","visualizationSpeedDialOpen","handleVisualizationSpeedDialOpen","handleVisualizationSpeedDialClick","getSelectOptionsFromCatalogItems","items","onAutoSuggestChange","searchString","searchField","estimateDataSize","_this$props2","dt1","dt2","lat1","lon1","selectedVizType","date1","Date","date2","res","dayDiff","checkStartDepth","surfaceOnly","depth1","depth2","replace","toFixed","checkEndDepth","checkStartDate","checkEndDate","checkStartLat","checkEndLat","checkStartLon","Lon_Max","checkEndLon","checkHeatmap","irregularSpatialResolution","checkContour","checkSection","checkHistogram","checkTimeSeries","checkDepthProfile","checkSparseMap","checkGeneralWarn","checkGeneralPrevent","JsSearch","searchIndex","addIndex","_this$state","_this$props3","_validations","fill","_validations2","startDepthMessage","endDepthMessage","startLatMessage","endLatMessage","startLonMessage","endLonMessage","heatmapMessage","contourMessage","sectionMapMessage","histogramMessage","timeSeriesMessage","depthProfileMessage","sparseMapMessage","generalWarnMessage","generalPreventMessage","parametersAreInvalid","some","showUI","displayNone","Components_TableStatsDialog","dataRetrievalFormPaper","shortenHeight","react_select_browser_esm","isLoading","components","IndicatorSeparator","isClearable","onInputChange","filterOption","variableSelect","escapeClearsValue","updateFields","styles","menu","provided","zIndex","input","fontFamily","control","border","&:hover","borderColor","&:focus-within","noOptionsMessage","option","&:after","float","singleValue","paddingRight","primary25","primary","IconButton","LibraryBooks","datePickerGridSection","material_ui_pickers_esm","format","minDate","maxDate","autoOk","handleStartDateChange","inputVariant","handleEndDateChange","FormControl","InputLabel","htmlFor","OutlinedInput","aria-describedby","labelWidth","FormHelperText","handleLatLonChange","vizTypeSelectFormControl","Select","inputProps","MenuItem","onVisualize","generalMessage","dataRetrievalFormField","retrieveDataButton","visualizationSpeedDial","visualizeButton","borderRadius","palette","visualizeButtonText","dominantBaseline","textAnchor","paddingLeft","vizSelect","clearCharts","panelPaper","bottom","textDecoration","cursor","iconButton","direction","Tooltip","toggleShowUI","Web","showCharts","toggleChartView","Language","InsertChartOutlined","Delete","colorscaleOptions","colorscaleMenu","iconButtonWrapper","_useState","useState","_useState2","paletteAnchorElement","setPaletteAnchorElement","handleOpenPalette","Palette","currentTarget","Menu","anchorEl","keepMounted","handlePaletteChoice","popover","paddingBottom","zValues","handleZValueConfirm","SwapVert","_React$useState","React","_React$useState2","popoverAnchorElement","setPopoverAnchorElement","_React$useState3","_React$useState4","localZMin","setLocalZMin","_React$useState5","_React$useState6","localZMax","setLocalZMax","handleClose","validations","zMinMessage","zMaxMessage","undefined","Popover","anchorOrigin","vertical","horizontal","transformOrigin","chartWrapper","boxShadow","buttonBlock","onToggleSplitByDate","onToggleSplitByDepth","downloadCsv","DateRange","Waves","CloudDownload","ChartComponents_ZValueControls","ChartComponents_PaletteControls","plots","_props$chart","chart","setSplitByDate","_useState3","_useState4","setSplitByDepth","_useState5","_useState6","subTypeState","_useState7","_useState8","setPalette","_useState9","_useState10","setZValues","_zValues","subSets","generatePlotData","subsets","infoObject","variableName","react_plotly_default","zauto","zmin","zmax","x","y","z","connectgaps","autocolorscale","colorscale","contours","coloring","showlabels","labelfont","family","labelformat","colorbar","text","Unit","exponentformat","layout","font","xaxis","yaxis","paper_bgcolor","annotations","xref","yref","yshift","showarrow","handleContourMap","zsmooth","handleHeatmap","handleHistogram","ChartComponents_ChartControlPanel","setTimeout","requestAnimationFrame","values","csv","blob","Blob","url","URL","createObjectURL","document","setAttribute","appendChild","click","removeChild","error_y","array","opacity","visible","line","distinctMeridiansOrParallelsForSplitting","xAxisLabel","spaceTitle","handleSectionMap","plot","mapbox","center","config","mapboxAccessToken","handleSparseMap","Charts","chartsContainer","ChartComponents_SparseMap","ChartComponents_SpaceTimeChart","ChartComponents_TimeSeriesChart","ChartComponents_DepthProfileChart","ChartComponents_SectionMapChart","cruiseTrajectoryClear","esriFonts","CruiseSelector","getSelectOptionsFromCruiseList","list","Nickname","handleCruiseSelect","selection","ID","selectedCruise","e","outerDiv","getCruiseListState","cruiseSelect","menuList","cruiseInfo","cruiseInfoCell","Name","Start_Time","Chief_Name","Ship_Name","maxWidth","borderStyle","DrawButton","innerDiv","drawButton","helpText","cancelButton","showHelp","polygonSymbol","symbolLayers","material","outline","UiComponents","shouldComponentUpdate","nextProps","nextState","view","esriModules","regionLayer","setShowHelp","drawMode","sketchModel","SketchViewModel","layer","defaultUpdateOptions","toggleToolOnClick","tool","getElementById","updateDomainFromGraphicExtent","Utils","webMercatorToGeographic","graphic","geometry","graphics","addEventListener","removeAll","create","mode","cancel","ui","remove","TrajectoryController","memo","trajectoryLayer","cruiseTrajectoryGeometry","paths","Graphic","symbol","cap","xSize","xmax","xmin","ySize","ymax","ymin","graphicSize","zoom","goTo","maxDuration","speedFactor","MapContainer","_this3","_this3$props","regionRenderMode","spParams","polygon","rings","esm","mapProperties","basemap","viewProperties","MapContainer_UiComponents","updateDomainFromMap","measurementPositions","ref","globeUIRef","Components_CruiseSelector","GraphicsLayer","cleanSPParams","mapVizType","vizType","_mapping","sp","queryRequestSend","storedProcedureRequestSend","storedProcedureInfo","parseDate","mm","getUTCMonth","dd","getUTCDate","getUTCFullYear","Visualization","createRef","filteredData","dateString","_this$state$spParams","mapping","Table_Name","coordinates","newCoordinates","min","max","esriModuleNames","loadModules","loadedModules","accumulator","currentValue","currentIndex","background","Components_DataRetrievalForm","Components_VizControlPanel","Components_MapContainer","Components_Charts","userLoginRequestSend","LoginDialog","handleLogin","aria-labelledby","onSubmit","preventDefault","DialogActions","snackbarClose","centerText","Snackbar","autoHideDuration","loader","right","loaderContent","flexDirection","alignItem","spinnerText","spinner","dist","fadeIn","loginDialogWasCleared","GlobalUIComponentWrapper","preProps","Components_LoginDialog","Components_SnackbarWrapper","Components_LoadingOverlay","LandingPage","landingWrapper","welcomeMessage","routes","react_router_dom","Components_GlobalUIComponentWrapper","react_router","exact","path","createMuiTheme","typography","useNextVariants","contrastText","main","secondary","default","grey","paper","overrides","MuiIconButton","MuiToolbar","MuiOutlinedInput","&$focused","MuiTableCell","MuiFormControl","marginNormal","MuiDialogContentText","MuiDialogTitle","App","componentDidCatch","info","utils","DateFnsUtils","MuiThemeProvider","hasError","LicenseManager","setLicenseKey","rootElement","ReactDOM","es","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.db701779.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const RETRIEVAL_REQUEST_SEND = 'CATALOG_RETRIEVAL_REQUEST_SEND';\r\nexport const RETRIEVAL_REQUEST_SUCCESS = 'CATALOG_RETRIEVAL_REQUEST_SUCCESS';\r\nexport const RETRIEVAL_REQUEST_FAILURE = 'CATALOG_RETRIEVAL_REQUEST_FAILURE';\r\nexport const RETRIEVAL_REQUEST_PROCESSING = 'CATALOG_RETRIEVAL_REQUEST_PROCESSING';","// Enum for async requests.\r\n\r\nconst states = {\r\n    inProgress: 'inProgress',\r\n    failed: 'failed',\r\n    succeeded: 'succeeded',\r\n    expired: 'expired'\r\n}\r\n\r\nexport default states;","export const LOG_OUT = \"LOG_OUT\";\r\n\r\nexport const STORE_INFO = 'STORE_INFO';\r\nexport const DESTROY_INFO = 'DESTROY_INFO';\r\nexport const LOGIN_DIALOG_WAS_CLEARED = 'LOGIN_DIALOG_WAS_CLEARED'\r\n\r\nexport const LOGIN_REQUEST_SEND = 'LOGIN_REQUEST_SEND';\r\nexport const LOGIN_REQUEST_PROCESSING = 'LOGIN_REQUEST_PROCESSING';\r\nexport const LOGIN_REQUEST_SUCCESS = 'LOGIN_REQUEST_SUCCESS';\r\nexport const LOGIN_REQUEST_FAILURE = 'LOGIN_REQUEST_FAILURE';\r\nexport const LOGIN_REQUEST_CLEAR_ERROR = 'LOGIN_REQUEST_CLEAR_ERROR';\r\n\r\nexport const REGISTRATION_REQUEST_SEND = 'REGISTRATION_REQUEST_SEND';\r\nexport const REGISTRATION_REQUEST_PROCESSING = 'REGISTRATION_REQUEST_PROCESSING';\r\nexport const REGISTRATION_REQUEST_SUCCESS = 'REGISTRATION_REQUEST_SUCCESS';\r\nexport const REGISTRATION_REQUEST_FAILURE = 'REGISTRATION_REQUEST_FAILURE';\r\n\r\nexport const VALIDATION_REQUEST_SEND = 'VALIDATION_REQUEST_SEND';\r\nexport const VALIDATION_REQUEST_PROCESSING = 'VALIDATION_REQUEST_PROCESSING';\r\nexport const VALIDATION_REQUEST_SUCCESS = 'VALIDATION_REQUEST_SUCCESS';\r\nexport const VALIDATION_REQUEST_FAILURE = 'VALIDATION_REQUEST_FAILURE';\r\n\r\nexport const KEY_RETRIEVAL_REQUEST_SEND = 'KEY_RETRIEVAL_REQUEST_SEND';\r\nexport const KEY_RETRIEVAL_REQUEST_SUCCESS = 'KEY_RETRIEVAL_REQUEST_SUCCESS';\r\nexport const KEY_RETRIEVAL_REQUEST_FAILURE = 'KEY_RETRIEVAL_REQUEST_FAILURE';\r\n\r\nexport const KEY_CREATION_REQUEST_SEND = 'KEY_CREATION_REQUEST_SEND';\r\nexport const KEY_CREATION_REQUEST_PROCESSING = 'KEY_CREATION_REQUEST_PROCESSING';\r\nexport const KEY_CREATION_REQUEST_SUCCESS = 'KEY_CREATION_REQUEST_SUCCESS';\r\nexport const KEY_CREATION_REQUEST_FAILURE = 'KEY_CREATION_REQUEST_FAILURE';","import * as interfaceActionTypes from '../actionTypes/ui';\r\n\r\nconst uiResetState = {\r\n  catalogRequestState: null,\r\n\r\n  loginDialogIsOpen: false,\r\n  registrationActiveStep: 0,\r\n\r\n  userLoginState: null,\r\n  userLoginError: null,\r\n\r\n  userValidationState: null,\r\n  userValidationError: null,\r\n\r\n  userRegistrationState: null,\r\n\r\n  apiKeyRetrievalState: null,\r\n  apiKeyCreationState: null\r\n}\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {\r\n    case interfaceActionTypes.INTERFACE_SHOW_LOGIN_DIALOG: return {...state, loginDialogIsOpen: true};\r\n    case interfaceActionTypes.INTERFACE_HIDE_LOGIN_DIALOG: return {...state, loginDialogIsOpen: false, userLoginError: null};\r\n    case interfaceActionTypes.REGISTRATION_NEXT_ACTIVE_STEP: return {...state, registrationActiveStep: state.registrationActiveStep + 1}\r\n    case interfaceActionTypes.REGISTRATION_PREVIOUS_ACTIVE_STEP: return {...state, registrationActiveStep: state.registrationActiveStep - 1}\r\n    case interfaceActionTypes.RESTORE_INTERFACE_DEFAULTS: return {\r\n      ...state,\r\n      ...uiResetState\r\n    }\r\n    case interfaceActionTypes.SNACKBAR_OPEN: return {\r\n      ...state,\r\n      snackbarIsOpen: true,\r\n      snackbarMessage: action.payload.message\r\n    }\r\n    case interfaceActionTypes.SNACKBAR_CLOSE: return {...state, snackbarIsOpen: false}\r\n    case interfaceActionTypes.SET_LOADING_MESSAGE: return {...state, loadingMessage: action.payload.message}\r\n    default: return state;\r\n  }\r\n}","export const QUERY_REQUEST_SEND = 'QUERY REQUEST SEND';\r\nexport const QUERY_REQUEST_SUCCESS = 'QUERY REQUEST SUCCESS';\r\nexport const QUERY_REQUEST_FAILURE = 'QUERY REQUEST FAILURE';\r\nexport const QUERY_REQUEST_PROCESSING = 'QUERY REQUEST PROCESSING';\r\n\r\nexport const STORED_PROCEDURE_REQUEST_SEND = 'STORED_PROCEDURE_REQUEST_SEND';\r\nexport const STORED_PROCEDURE_REQUEST_SUCCESS = 'STORED_PROCEDURE_REQUEST_SUCCESS';\r\nexport const STORED_PROCEDURE_REQUEST_FAILURE = 'STORED_PROCEDURE_REQUEST_FAILURE';\r\nexport const STORED_PROCEDURE_REQUEST_PROCESSING = 'STORED_PROCEDURE_REQUEST_PROCESSING';\r\n\r\nexport const ADD_MAP = 'ADD_MAP';\r\nexport const ADD_CHART = 'ADD_CHART';\r\n\r\nexport const ADD_LAYER = 'ADD_LAYER';\r\n\r\nexport const STORE_SAMPLE_DATA = 'STORE_SAMPLE_DATA';\r\n\r\nexport const CLEAR_CHARTS = 'CLEAR_CHARTS';\r\nexport const CLEAR_MAPS = 'CLEAR_MAPS';\r\n\r\nexport const GET_TABLE_STATS = 'GET_TABLE_STATS';\r\nexport const GET_TABLE_STATS_REQUEST_PROCESSING = 'GET_TABLE_STATS_REQUEST_PROCESSING';\r\nexport const STORE_TABLE_STATS = 'STORE_TABLE_STATS';\r\n\r\nexport const CRUISE_TRAJECTORY_REQUEST_SEND = 'CRUISE_TRAJECTORY_REQUEST_SEND';\r\nexport const CRUISE_TRAJECTORY_REQUEST_SUCCESS = 'CRUISE_TRAJECTORY_REQUEST_SUCCESS';\r\nexport const CRUISE_TRAJECTORY_REQUEST_FAILURE = 'CRUISE_TRAJECTORY_REQUEST_FAILURE';\r\nexport const CRUISE_TRAJECTORY_REQUEST_PROCESSING = 'CRUISE_TRAJECTORY_REQUEST_PROCESSING';\r\nexport const CRUISE_TRAJECTORY_CLEAR = 'CRUISE_TRAJECTORY_CLEAR';\r\n\r\nexport const CRUISE_LIST_REQUEST_SEND = 'CRUISE_LIST_REQUEST_SEND';\r\nexport const CRUISE_LIST_REQUEST_SUCCESS = 'CRUISE_LIST_REQUEST_SUCCESS';\r\nexport const CRUISE_LIST_REQUEST_FAILURE = 'CRUISE_LIST_REQUEST_FAILURE';\r\nexport const CRUISE_LIST_REQUEST_PROCESSING = 'CRUISE_LIST_REQUEST_PROCESSING';","import catalog from './catalog';\r\nimport user from './user';\r\nimport ui from './ui';\r\nimport visualization from './visualization';\r\nimport reduceReducers from 'reduce-reducers';\r\nimport Cookies from 'js-cookie';\r\n\r\n// Consider building this object from initial states from each reducer\r\n// ** When adding new keys to redux store consider whether they need to be\r\n// reset on navigation for UI purposes. If so, add them with a default state\r\n// to the uiResetState in the ui reducer **\r\nconst initialState = {\r\n    // Catalog state pieces\r\n    catalogRequestState: null,\r\n    catalog: null,\r\n\r\n    // Interface state pieces\r\n    loginDialogIsOpen: false,\r\n    registrationActiveStep: 0,\r\n    snackbarIsOpen: false,\r\n    snackbarMessage: null,\r\n    loadingMessage: '',\r\n\r\n    // User state pieces\r\n    user: JSON.parse(Cookies.get('UserInfo') || null),\r\n\r\n    apiKeys: null,\r\n    apiKeyRetrievalState: null,\r\n    apiKeyCreationState: null,\r\n\r\n    clearLoginDialog: false,\r\n\r\n    userLoginState: null,\r\n\r\n    userValidationState: null,\r\n\r\n    userRegistrationState: null,\r\n\r\n    // Visualization state pieces\r\n    maps: [],\r\n    charts: [],\r\n    getCruiseTrajectoryRequestState: null,\r\n    cruiseTrajectory: null,\r\n    sampleData: null,\r\n    queryRequestState: null,\r\n    storedProcedureRequestState: null,\r\n    getTableStatsRequestState: null,\r\n    cruiseList: [],\r\n    getCruiseListRequestState: null\r\n}\r\n\r\nconst reducedReducer = reduceReducers(initialState, catalog, user, ui, visualization);\r\n\r\nexport default reducedReducer;","import * as catalogActionTypes from '../actionTypes/catalog';\r\n\r\nimport states from '../../asyncRequestStates';\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_SUCCESS: return {\r\n      ...state, \r\n      catalogRequestState: states.succeeded, \r\n      catalog: action.payload.catalog\r\n    }\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_FAILURE: return {...state, catalogRequestState: states.failed}\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_PROCESSING: return {...state, catalogRequestState: states.inProgress}\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}","import * as userActionTypes from '../actionTypes/user';\r\nimport states from '../../asyncRequestStates';\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {    \r\n\r\n    case userActionTypes.LOGIN_REQUEST_PROCESSING: return {...state, userLoginState: states.inProgress}\r\n    case userActionTypes.LOGIN_REQUEST_SUCCESS: return {...state, userLoginState: states.succeeded, userLoginError: null}\r\n    case userActionTypes.LOGIN_REQUEST_FAILURE: return {...state, userLoginState: states.failed}\r\n    case userActionTypes.LOGIN_REQUEST_CLEAR_ERROR: return {...state, userLoginError: null}\r\n\r\n    case userActionTypes.STORE_INFO: return {...state, user: action.payload.user}\r\n    case userActionTypes.DESTROY_INFO: return {...state, user: null, apiKeys: null, clearLoginDialog: true}\r\n    case userActionTypes.LOGIN_DIALOG_WAS_CLEARED: return {...state, clearLoginDialog: false}\r\n\r\n    case userActionTypes.VALIDATION_REQUEST_PROCESSING: return {...state, userValidationState: states.inProgress}\r\n    case userActionTypes.VALIDATION_REQUEST_FAILURE: return {...state, userValidationState: states.failed}\r\n    case userActionTypes.VALIDATION_REQUEST_SUCCESS: return {...state, userValidationState: null}\r\n\r\n    case userActionTypes.REGISTRATION_REQUEST_PROCESSING: return {...state, userRegistrationState: states.inProgress}\r\n    case userActionTypes.REGISTRATION_REQUEST_FAILURE: return {...state, userRegistrationState: states.failed}\r\n    case userActionTypes.REGISTRATION_REQUEST_SUCCESS: return {...state, userRegistrationState: states.succeeded}\r\n\r\n    case userActionTypes.KEY_RETRIEVAL_REQUEST_SUCCESS: return {...state, apiKeys: action.payload.keys}\r\n    case userActionTypes.KEY_RETRIEVAL_REQUEST_FAILURE: return {...state, apiKeyRetrievalState: states.failed}\r\n\r\n    case userActionTypes.KEY_CREATION_REQUEST_PROCESSING: return {...state, apiKeyCreationState: states.inProgress}\r\n    case userActionTypes.KEY_CREATION_REQUEST_FAILURE: return {...state, apiKeyCreationState: states.failed}\r\n    case userActionTypes.KEY_CREATION_REQUEST_SUCCESS: return {...state, apiKeyCreationState: states.succeeded}\r\n\r\n    default: return state;\r\n    }\r\n}","export const INTERFACE_SHOW_LOGIN_DIALOG = \"INTERFACE_SHOW_LOGIN_DIALOG\";\r\nexport const INTERFACE_HIDE_LOGIN_DIALOG = \"INTERFACE_HIDE_LOGIN_DIALOG\";\r\n\r\nexport const REGISTRATION_NEXT_ACTIVE_STEP = 'REGISTRATION_NEXT_ACTIVE_STEP';\r\nexport const REGISTRATION_PREVIOUS_ACTIVE_STEP = 'REGISTRATION_PREVIOUS_ACTIVE_STEP';\r\n\r\nexport const RESTORE_INTERFACE_DEFAULTS = 'RESTORE_INTERFACE_DEFAULTS';\r\n\r\nexport const SNACKBAR_OPEN = 'SNACKBAR_OPEN';\r\nexport const SNACKBAR_CLOSE = 'SNACKBAR_CLOSE';\r\n\r\nexport const SET_LOADING_MESSAGE = 'SET_LOADING_MESSAGE';","import states from '../../asyncRequestStates';\r\nimport * as visualizationActionTypes from '../actionTypes/visualization';\r\n\r\nexport default function(state, action) {\r\n    switch(action.type) {\r\n        case visualizationActionTypes.QUERY_REQUEST_PROCESSING: return {...state, queryRequestState: states.inProgress};\r\n        case visualizationActionTypes.QUERY_REQUEST_FAILURE: return {...state, queryRequestState: states.failed};\r\n        case visualizationActionTypes.QUERY_REQUEST_SUCCESS: return {...state, queryRequestState: states.succeeded};\r\n        \r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_PROCESSING: return {...state, storedProcedureRequestState: states.inProgress}\r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_FAILURE: return {...state, storedProcedureRequestState: states.failed}\r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_SUCCESS: return {...state, storedProcedureRequestState: states.succeeded}\r\n\r\n\r\n        case visualizationActionTypes.ADD_LAYER: return { // Not currently in use\r\n            ...state,\r\n            layers: [...state.layers, action.payload.newLayer]\r\n        }\r\n\r\n        case visualizationActionTypes.STORE_SAMPLE_DATA: return {\r\n            ...state,\r\n            sampleData: action.payload.sampleData\r\n        }\r\n\r\n        case visualizationActionTypes.ADD_MAP: return {\r\n            ...state,\r\n            maps: [...state.maps, action.payload.mapInfo]\r\n        }\r\n\r\n        case visualizationActionTypes.ADD_CHART: return {\r\n            ...state,\r\n            charts: [...state.charts, action.payload.chartInfo]\r\n        }\r\n\r\n        case visualizationActionTypes.CLEAR_CHARTS: return {...state, charts: []}\r\n\r\n        case visualizationActionTypes.CLEAR_MAPS: return {...state, maps: []}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_PROCESSING: return {...state, getCruiseTrajectoryRequestState: states.inProgress}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SUCCESS: return {...state,\r\n            cruiseTrajectory: action.payload.trajectory,\r\n            getCruiseTrajectoryRequestState: states.succeeded\r\n        }\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_CLEAR: return {...state, cruiseTrajectory: null}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_FAILURE: return {...state, getCruiseTrajectoryRequestState: states.failed}\r\n\r\n        case visualizationActionTypes.CRUISE_LIST_REQUEST_PROCESSING: return {...state, getCruiseListRequestState: states.inProgress}\r\n\r\n        case visualizationActionTypes.CRUISE_LIST_REQUEST_SUCCESS: return {\r\n            ...state,\r\n            getCruiseListRequestState: states.succeeded,\r\n            cruiseList: action.payload.cruiseList\r\n        }\r\n\r\n        default: return state;\r\n    }\r\n}","import * as userActionTypes from '../actionTypes/user';\r\n\r\n// Login actions\r\nexport const userLoginRequestSend = (username, password) => ({\r\n    type: userActionTypes.LOGIN_REQUEST_SEND,\r\n    payload: {\r\n        username,\r\n        password\r\n    }\r\n});\r\n\r\nexport const userLoginRequestProcessing = () => {\r\n    return {type: userActionTypes.LOGIN_REQUEST_PROCESSING};\r\n};\r\n\r\nexport const userLoginRequestFailure = (error) => ({\r\n    type: userActionTypes.LOGIN_REQUEST_FAILURE,\r\n});\r\n\r\nexport const userLoginRequestSuccess = () => ({\r\n    type: userActionTypes.LOGIN_REQUEST_SUCCESS\r\n});\r\n\r\nexport const storeInfo = (user) => ({\r\n    type: userActionTypes.STORE_INFO,\r\n    payload: {\r\n        user\r\n    }\r\n})\r\n\r\nexport const userLoginRequestClearError = () => ({\r\n    type: userActionTypes.LOGIN_REQUEST_CLEAR_ERROR\r\n})\r\n\r\n// Log out actions\r\nexport const logOut = () => ({\r\n    type:userActionTypes.LOG_OUT\r\n});\r\n\r\nexport const destroyInfo = () => ({\r\n    type: userActionTypes.DESTROY_INFO\r\n})\r\n\r\nexport const loginDialogWasCleared = () => ({\r\n    type: userActionTypes.LOGIN_DIALOG_WAS_CLEARED\r\n})\r\n\r\n// Validation actions\r\nexport const userValidationRequestSend = (username, email) => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_SEND,\r\n    payload: {\r\n        username,\r\n        email\r\n    }\r\n});\r\n\r\nexport const userValidationRequestProcessing = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_PROCESSING\r\n})\r\n\r\nexport const userValidationRequestFailure = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_FAILURE\r\n})\r\n\r\nexport const userValidationRequestSuccess = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_SUCCESS\r\n})\r\n\r\n// Registration actions\r\nexport const userRegistrationRequestSend = (payload) => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_SEND,\r\n    payload\r\n});\r\n\r\nexport const userRegistrationRequestProcessing = () => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_PROCESSING\r\n});\r\n\r\nexport const userRegistrationRequestFailure = () => ({\r\n    type:userActionTypes.REGISTRATION_REQUEST_FAILURE\r\n});\r\n\r\nexport const userRegistrationRequestSuccess = () => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_SUCCESS\r\n});\r\n\r\n// Api key retrieval actions\r\nexport const keyRetrievalRequestSend = () => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_SEND\r\n})\r\n\r\nexport const keyRetrievalRequestSuccess = (keys) => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_SUCCESS,\r\n    payload: {\r\n        keys\r\n    }\r\n})\r\n\r\nexport const keyRetrievalRequestFailure = () => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_FAILURE\r\n})\r\n\r\nexport const keyCreationRequestSend = (description) => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_SEND,\r\n    payload: {\r\n        description\r\n    }\r\n})\r\n\r\nexport const keyCreationRequestProcessing = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_PROCESSING\r\n})\r\n\r\nexport const keyCreationRequestFailure = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_FAILURE\r\n})\r\n\r\nexport const keyCreationRequestSuccess = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_SUCCESS\r\n})\r\n","import * as catalogActionTypes from '../actionTypes/catalog';\r\n\r\nexport const retrievalRequestSend = () => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_SEND\r\n})\r\n\r\nexport const retrievalRequestProcessing = () => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_PROCESSING\r\n})\r\n\r\nexport const retrievalRequestSuccess = (catalog) => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_SUCCESS,\r\n    payload: {\r\n        catalog\r\n    }\r\n})\r\n\r\nexport const retrievalRequestFailure = () => ({\r\n    type:catalogActionTypes.RETRIEVAL_REQUEST_FAILURE\r\n})","import * as interfaceActionTypes from '../actionTypes/ui';\r\n\r\nexport const showLoginDialog = () => ({\r\n    type: interfaceActionTypes.INTERFACE_SHOW_LOGIN_DIALOG\r\n})\r\n\r\nexport const hideLoginDialog = () => ({\r\n    type: interfaceActionTypes.INTERFACE_HIDE_LOGIN_DIALOG\r\n})\r\n\r\nexport const registrationNextActiveStep = () => ({\r\n    type: interfaceActionTypes.REGISTRATION_NEXT_ACTIVE_STEP\r\n})\r\n\r\nexport const registrationPreviousActiveStep = () => ({\r\n    type: interfaceActionTypes.REGISTRATION_PREVIOUS_ACTIVE_STEP\r\n})\r\n\r\nexport const restoreInterfaceDefaults = () => ({\r\n    type: interfaceActionTypes.RESTORE_INTERFACE_DEFAULTS\r\n})\r\n\r\nexport const snackbarOpen = (message) => ({\r\n    type: interfaceActionTypes.SNACKBAR_OPEN,\r\n    payload: {\r\n        message\r\n    }\r\n})\r\n\r\nexport const snackbarClose = () => ({\r\n    type: interfaceActionTypes.SNACKBAR_CLOSE\r\n})\r\n\r\nexport const setLoadingMessage = (message) => ({\r\n    type:interfaceActionTypes.SET_LOADING_MESSAGE,\r\n    payload: {\r\n        message\r\n    }\r\n})","import * as visualizationActionTypes from '../actionTypes/visualization';\r\n\r\nexport const queryRequestSend = (query) => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_SEND,\r\n    payload: {\r\n        query\r\n    }\r\n})\r\n\r\nexport const queryRequestSuccess = (data) => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_SUCCESS,\r\n    payload: {\r\n        data\r\n    }\r\n})\r\n\r\nexport const queryRequestFailure = () => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_FAILURE\r\n})\r\n\r\nexport const queryRequestProcessing = () => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_PROCESSING\r\n})\r\n\r\nexport const storedProcedureRequestSend = (storedProcedureInfo) => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_SEND,\r\n    payload: {...storedProcedureInfo}\r\n})\r\n\r\nexport const storedProcedureRequestSuccess = (data) => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_SUCCESS,\r\n    payload: {\r\n        data\r\n    }\r\n})\r\n\r\nexport const storedProcedureRequestFailure = () => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_FAILURE\r\n})\r\n\r\nexport const storedProcedureRequestProcessing = () => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_PROCESSING\r\n})\r\n\r\nexport const addLayer = (newLayer) => ({\r\n    type: visualizationActionTypes.ADD_LAYER,\r\n    payload: {\r\n        newLayer\r\n    }\r\n})\r\n\r\nexport const storeSampleData = sampleData => ({\r\n    type: visualizationActionTypes.STORE_SAMPLE_DATA,\r\n    payload: {\r\n        sampleData\r\n    }\r\n})\r\n\r\nexport const addMap = (mapInfo) => ({\r\n    type: visualizationActionTypes.ADD_MAP,\r\n    payload: {\r\n        mapInfo\r\n    }\r\n})\r\n\r\nexport const addChart = (chartInfo) => ({\r\n    type: visualizationActionTypes.ADD_CHART,\r\n    payload: {\r\n        chartInfo\r\n    }\r\n})\r\n\r\nexport const clearCharts = () => ({\r\n    type: visualizationActionTypes.CLEAR_CHARTS\r\n})\r\n\r\nexport const clearMaps = () => ({\r\n    type: visualizationActionTypes.CLEAR_MAPS\r\n})\r\n\r\nexport const getTableStats = (tableName) => ({\r\n    type: visualizationActionTypes.GET_TABLE_STATS,\r\n    payload: {\r\n        tableName\r\n    }\r\n})\r\n\r\nexport const getTableStatsRequestProcessing = () => ({\r\n    type: visualizationActionTypes.GET_TABLE_STATS_REQUEST_PROCESSING\r\n})\r\n\r\nexport const storeTableStats = (tableStats) => ({\r\n    type: visualizationActionTypes.STORE_TABLE_STATS,\r\n    payload: {\r\n        tableStats\r\n    }\r\n})\r\n\r\nexport const cruiseTrajectoryRequestSend = (id) => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SEND,\r\n    payload: {\r\n        id\r\n    }\r\n})\r\n\r\nexport const cruiseTrajectoryRequestSuccess = (trajectory) => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SUCCESS,\r\n    payload: {\r\n        trajectory\r\n    }\r\n})\r\n\r\nexport const cruiseTrajectoryRequestFailure = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_FAILURE,\r\n})\r\n\r\nexport const cruiseTrajectoryRequestProcessing = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_PROCESSING,\r\n})\r\n\r\nexport const cruiseTrajectoryClear = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_CLEAR\r\n})\r\n\r\nexport const cruiseListRequestSend = (id) => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_SEND,\r\n})\r\n\r\nexport const cruiseListRequestSuccess = (cruiseList) => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_SUCCESS,\r\n    payload: {\r\n        cruiseList\r\n    }\r\n})\r\n\r\nexport const cruiseListRequestFailure = () => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_FAILURE,\r\n})\r\n\r\nexport const cruiseListRequestProcessing = () => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_PROCESSING,\r\n})","export const apiUrl = 'https://simonscmap.com'\r\n// export const apiUrl = 'http://localhost:8080';\r\n// export const apiUrl = 'https://simonscmap.dev';","const spatialResolutions = {\r\n    irregular: 'Irregular',\r\n    halfDegree: '1/2° X 1/2°' ,\r\n    quarterDegree: '1/4° X 1/4°' ,\r\n    twentyFifthDegree: '1/25° X 1/25°' ,\r\n    fourKm: '4km X 4km',\r\n    twelfthDegree: '1/12° X 1/12°',\r\n    seventyKm: '70km X 70km',\r\n    oneDegree: '1° X 1°'\r\n}\r\n\r\nexport default spatialResolutions;","import spatialResolutions from '../Enums/spatialResolutions';\r\n\r\nconst mapSpatialResolutionToNumber = (resolution) => {\r\n    let map = {\r\n        [spatialResolutions.halfDegree] : .5,\r\n        [spatialResolutions.quarterDegree] : .25,\r\n        [spatialResolutions.twentyFifthDegree] : .04,\r\n        [spatialResolutions.fourKm] : .041672,\r\n        [spatialResolutions.twelfthDegree] : .083333,\r\n        [spatialResolutions.oneDegree] : 1,\r\n        [spatialResolutions.seventyKm] : .25\r\n    };\r\n\r\n    return map[resolution];\r\n}\r\n\r\nexport default mapSpatialResolutionToNumber;","const generateSpatialArray = (start, resolution, end) => {\r\n    let arr = [];\r\n\r\n    for(let i = start; i <= end; i += resolution){\r\n        arr.push(i);\r\n    }\r\n\r\n    return arr;\r\n}\r\n\r\nexport default generateSpatialArray;","// Flattens an array by 1 level\r\n// [[[],[]], [[],[]], [[],[]]] => [[], [], [], [], [], []]\r\n\r\nconst flattenArray = (arr) => {\r\n    let flattenedArray = [];\r\n\r\n    for(let i = 0; i < arr.length; i++){\r\n        for(let j = 0; j < arr[i].length; j++){\r\n            flattenedArray.push(arr[i][j]);\r\n        }\r\n    }\r\n\r\n    return flattenedArray;\r\n}\r\n\r\nexport default flattenArray;","// Interval number of indices between changes in this parameter, or in order words\r\n// how many times will we see the same value for this parameter in a row before it changes\r\n// as we iterate through the values array.\r\n// We use modulo for cases where data.length / interval is larger than the number of \r\n// distinct values for that parameter.\r\n\r\nconst splitData = (data, changeInterval, numDistinct) => {\r\n    var splitData = [];\r\n\r\n    for(let i = 0; i < numDistinct; i++){\r\n        splitData.push([]);\r\n    }\r\n\r\n    for(let i = 0; i < data.length; i++){\r\n        let index = Math.floor(i / changeInterval) % numDistinct;\r\n        splitData[index].push(data[i]);\r\n    }\r\n\r\n    return splitData;\r\n}\r\n\r\nexport default splitData;","// mergeTargetDistance - number of hops between arrays being merged\r\n// mergeTargetNumber - number of arrays being merged - implicit\r\n// nextStartDistance - once a merge is complete how many hops to next start\r\nconst mergeArraysAndComputeMeans = (data, mergeTargetDistance, nextMergeStartDistance, numArraysPerMerge) => {\r\n    let mergedArrays = [];\r\n\r\n    let travelDistance = mergeTargetDistance * (numArraysPerMerge - 1);\r\n    \r\n    // Find each merging start point\r\n    for(let i = 0; i + travelDistance < data.length; i += nextMergeStartDistance){\r\n        let subArray = [];\r\n\r\n        // Iterate through each value in the first array of this merge. Count\r\n        // the number of values summed so we can ignore nulls and compute a mean.\r\n        for(let j = 0; j < data[i].length; j ++){\r\n            let sum = 0;\r\n            let count = 0;\r\n\r\n            // Aggregate values of all merge targets\r\n            for(let k = i; k < i + (mergeTargetDistance * numArraysPerMerge); k += mergeTargetDistance){\r\n                if(data[k][j] !== null) {\r\n                    sum += data[k][j];\r\n                    count ++;\r\n                };\r\n            }\r\n            subArray.push(count < 1 ? null : sum / (count));\r\n        }\r\n\r\n        mergedArrays.push(subArray)\r\n    }\r\n\r\n    return mergedArrays;\r\n}\r\n\r\nexport default mergeArraysAndComputeMeans;","const mergeArrays = (data, mergeTargetDistance, nextMergeStartDistance, numArraysPerMerge) => {\r\n    let mergedArrays = [];\r\n\r\n    let travelDistance = mergeTargetDistance * (numArraysPerMerge - 1);\r\n\r\n    // Find each merge start point\r\n    for(let i = 0; i + travelDistance < data.length; i += nextMergeStartDistance){\r\n        let subArray = [];\r\n\r\n        for(let j = i; j <= i + travelDistance; j += mergeTargetDistance){\r\n            subArray = [...subArray, ...data[j]];\r\n        }\r\n\r\n        mergedArrays.push(subArray);\r\n    }\r\n   \r\n    return mergedArrays;\r\n}\r\n\r\nexport default mergeArrays;\r\n\r\n","const subTypes= {\r\n    sectionMap: 'Section Map',\r\n    timeSeries: 'Time Series',\r\n    histogram: 'Histogram',\r\n    depthProfile: 'Depth Profile',\r\n    heatmap: 'Heatmap',\r\n    contourMap: 'Contour Map',\r\n    sparse: 'Sparse'\r\n}\r\n\r\nexport default subTypes;","import { quantile, extent } from 'd3-array';\r\n\r\nimport mapSpatialResolutionToNumber from '../Utility/mapSpatialResolutionToNumber';\r\nimport generateSpatialArray from '../Utility/GenerateSpatialArray';\r\nimport flattenArray from '../Utility/flattenArray';\r\nimport splitData from '../Utility/splitData';\r\nimport mergeArraysAndComputeMeans from '../Utility/mergeArraysAndComputeMeans';\r\nimport mergeArrays from '../Utility/mergeArrays';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\n\r\n\r\nclass SpaceTimeData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.hasDepth = null;\r\n        this.depths = new Set();\r\n        this.dates = new Set();\r\n        this.variableValues = [];\r\n        this.lonStart = null;\r\n        this.latStart = null;\r\n        this.lonCount = null;\r\n        this.latCount = null;\r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n        this.depthIndexAdjust = null;\r\n    }\r\n\r\n    add(row) {\r\n        // Only on first row\r\n        if(this.hasDepth === null) {\r\n            this.hasDepth = row.length === 5;\r\n            this.lonStart = parseFloat(row[2]);\r\n            this.latStart = parseFloat(row[1]);\r\n            this.depthIndexAdjust = this.hasDepth ? 1 : 0;\r\n        }\r\n\r\n        if(this.hasDepth){\r\n            this.depths.add(row[3]);\r\n        }\r\n\r\n        this.dates.add(row[0]);\r\n\r\n        this.variableValues.push(parseFloat(row[3 + this.depthIndexAdjust]));\r\n    }\r\n\r\n    finalize() {\r\n        const spatialResolution = mapSpatialResolutionToNumber(this.metadata.Spatial_Resolution);\r\n\r\n        // Simple arrays of lats and lons\r\n        let lonsList = generateSpatialArray(this.lonStart, spatialResolution, this.parameters.lon2);\r\n        let latsList = generateSpatialArray(this.latStart, spatialResolution, this.parameters.lat2);\r\n\r\n        this.lonCount = lonsList.length;\r\n        this.latCount = latsList.length;\r\n\r\n        this.zMin = quantile(this.variableValues, .05);\r\n        this.zMax = quantile(this.variableValues, .95);\r\n        this.extent = extent(this.variableValues);\r\n\r\n        // Expanded arrays to be used in plots\r\n        let lats = [];\r\n        let lons = []\r\n\r\n        for(let i = 0; i < latsList.length; i ++){\r\n            for(let j = 0; j < lonsList.length; j++){\r\n                lats.push(latsList[i]);\r\n                lons.push(lonsList[j]);\r\n            }\r\n        }\r\n\r\n        this.lats = lats;\r\n        this.lons = lons;\r\n    }\r\n\r\n    generatePlotData(subType, splitByDate, splitByDepth) {\r\n        if(this.depths.size === 0) this.depths.add('Surface');\r\n\r\n        // Intervals are the number of indices between each change for that parameter\r\n        // Intervals can change if you split out of order\r\n        const latInterval = this.lonCount;\r\n        const depthInterval = latInterval * this.latCount;\r\n        const dateInterval = depthInterval * this.depths.size;\r\n\r\n        // an array of arrays containing variable values, each of which will become a chart\r\n        var variableValueSubsets;\r\n        \r\n        variableValueSubsets = splitData(this.variableValues, dateInterval, this.dates.size);\r\n        variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, depthInterval, this.depths.size));\r\n        variableValueSubsets = flattenArray(variableValueSubsets);\r\n\r\n        // Contour and heatmap compute mean variable values per lat and lon\r\n        // when not split by date and/or time\r\n        if(subType === vizSubTypes.contourMap || subType === vizSubTypes.heatmap) {\r\n            if(splitByDate && splitByDepth) {\r\n                // pass\r\n            } else if (splitByDate){\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    1, \r\n                    this.depths.size, \r\n                    this.depths.size\r\n                    );\r\n    \r\n            } else if (splitByDepth){\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    this.depths.size, \r\n                    1, \r\n                    this.dates.size\r\n                    );\r\n    \r\n            } else {\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    1, \r\n                    variableValueSubsets.length, \r\n                    variableValueSubsets.length\r\n                    );            \r\n            }\r\n        } \r\n        \r\n        // Histograms split and aggregate without computing means\r\n        else if (subType === vizSubTypes.histogram) {\r\n            if(splitByDate && splitByDepth) {\r\n                // pass\r\n            } else if (splitByDate){\r\n                variableValueSubsets = mergeArrays(\r\n                    variableValueSubsets, \r\n                    1,\r\n                    this.depths.size,\r\n                    this.depths.size\r\n                    );\r\n            } else if (splitByDepth){\r\n                variableValueSubsets = mergeArrays(\r\n                    variableValueSubsets,\r\n                    this.depths.size,\r\n                    1,\r\n                    this.dates.size\r\n                );\r\n            } else {\r\n                variableValueSubsets = [this.variableValues];\r\n            }\r\n        }\r\n\r\n        // Nothing here yet\r\n        else {}\r\n\r\n        return variableValueSubsets;\r\n    }\r\n\r\n    generateCsv = () => {\r\n        let dates = Array.from(this.dates);\r\n        console.log(dates);\r\n        let depths = Array.from(this.depths);\r\n\r\n        if(this.hasDepth){\r\n            var csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${this.lats[i]},${this.lons[i]},${depths[Math.floor(i / (this.variableValues.length / (dates.length * depths.length))) % depths.length]},${this.variableValues[i]}`);\r\n            }\r\n\r\n        } else {\r\n            var csvArray = [`time,lat,lon,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${this.lats[i]},${this.lons[i]},${this.variableValues[i]}`);\r\n            }\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SpaceTimeData;","const storedProcedures = {\r\n    sectionMap: 'uspSectionMap',\r\n    timeSeries: 'uspTimeSeries',\r\n    spaceTime: 'uspSpaceTime',\r\n    depthProfile: 'uspDepthProfile'\r\n}\r\n\r\nexport default storedProcedures;","class TimeSeriesData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.variableValues = [];\r\n        this.stds = [];\r\n        this.dates = [];\r\n        this.lat = null;\r\n        this.lon = null;\r\n        this.depth = null;\r\n        this.depthIndexAdjust = null;\r\n    }\r\n\r\n    add(row) {\r\n        if(this.lat === null){\r\n            this.depthIndexAdjust = row.length === 6 ? 1 : 0;\r\n            this.lat = row[1];\r\n            this.lon = row[2];\r\n            this.depth = row.length === 6 ? row[3] : false;\r\n        }\r\n\r\n        this.variableValues.push(row[3 + this.depthIndexAdjust]);\r\n        this.stds.push(row[4 + this.depthIndexAdjust]);\r\n        this.dates.push(row[0]);\r\n    }\r\n\r\n    finalize() {\r\n        if(this.depth === false) this.depth = 'Surface';\r\n    }\r\n\r\n    generatePlotData() {\r\n        return this.variableValues;\r\n    }    \r\n\r\n    generateCsv() {\r\n        let csvString = `time,${this.parameters.fields},${this.parameters.fields}_std`;\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvString += `\\n${this.dates[i]},${this.variableValues[i]},${this.stds[i]}`;\r\n        }\r\n\r\n        return csvString;\r\n    }\r\n}\r\n\r\nexport default TimeSeriesData;","class DepthProfileData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.variableValues = [];\r\n        this.stds = [];\r\n        this.lat = null;\r\n        this.lon = null;\r\n        this.depths = [];\r\n    }\r\n\r\n    add(row) {\r\n        if(this.lat === null){\r\n            this.lat = parseFloat(row[0]);\r\n            this.lon = parseFloat(row[1]);\r\n        }\r\n\r\n        this.variableValues.push(parseFloat(row[2]));\r\n        this.stds.push(parseFloat(row[3]));\r\n        this.depths.push(parseFloat(row[4]));\r\n    }\r\n\r\n    finalize() {\r\n        // pass\r\n    }\r\n\r\n    generatePlotData() {\r\n        return this.variableValues;\r\n    }\r\n    \r\n    generateCsv() {\r\n        let csvString = `depth,${this.parameters.fields},${this.parameters.fields}_std`;\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvString += `\\n${this.depths[i]},${this.variableValues[i]},${this.stds[i]}`;\r\n        }\r\n\r\n        return csvString;\r\n    }\r\n}\r\n\r\nexport default DepthProfileData;","import { quantile, extent } from 'd3-array';\r\n\r\nimport mapSpatialResolutionToNumber from '../Utility/mapSpatialResolutionToNumber';\r\nimport generateSpatialArray from '../Utility/GenerateSpatialArray';\r\nimport flattenArray from '../Utility/flattenArray';\r\nimport splitData from '../Utility/splitData';\r\nimport mergeArraysAndComputeMeans from '../Utility/mergeArraysAndComputeMeans';\r\n\r\nclass SectionMapData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        \r\n        this.depths = new Set();\r\n        this.dates = new Set();\r\n        this.variableValues = [];\r\n        \r\n        this.lonStart = null;\r\n        this.latStart = null;\r\n        this.lonCount = null;\r\n        this.latCount = null;\r\n        \r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n\r\n        this.orientation = null;\r\n        \r\n        this.latsDistinct = null;\r\n        this.lonsDistinct = null;\r\n\r\n        this.lats = null;\r\n        this.lons = null;\r\n        this.zonalPlotDepths = null;\r\n        this.meridionalPlotDepths = null;\r\n    }\r\n\r\n    // time, lat, lon, depth, value\r\n    add(row) {\r\n        // Only on first row\r\n        if(this.latStart === null) {\r\n            this.latStart = parseFloat(row[1]);\r\n            this.lonStart = parseFloat(row[2]);\r\n        }\r\n\r\n        this.depths.add(row[3]);\r\n        this.dates.add(row[0]);\r\n\r\n        this.variableValues.push(parseFloat(row[4]));\r\n    }\r\n\r\n    finalize() {\r\n        const spatialResolution = mapSpatialResolutionToNumber(this.metadata.Spatial_Resolution);\r\n\r\n        // Simple arrays of lats and lons\r\n        let lonsList = generateSpatialArray(this.lonStart, spatialResolution, this.parameters.lon2);\r\n        let latsList = generateSpatialArray(this.latStart, spatialResolution, this.parameters.lat2);\r\n\r\n        this.lonCount = lonsList.length;\r\n        this.latCount = latsList.length;\r\n\r\n        this.lonsDistinct = lonsList;\r\n        this.latsDistinct = latsList;\r\n\r\n        this.zMin = quantile(this.variableValues, .05);\r\n        this.zMax = quantile(this.variableValues, .95);\r\n        this.extent = extent(this.variableValues);\r\n\r\n        // Expanded arrays to be used in plots\r\n        let lats = [];\r\n        let lons = []\r\n\r\n        for(let i = 0; i < latsList.length; i ++){\r\n            for(let j = 0; j < this.depths.size; j++){\r\n                lats.push(latsList[i]);\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < lonsList.length; i ++){\r\n            for(let j = 0; j < this.depths.size; j++){\r\n                lons.push(lonsList[i]);\r\n            }\r\n        }\r\n\r\n        this.lats = lats;\r\n        this.lons = lons;\r\n\r\n        let zonalPlotDepths = [];\r\n        let meridionalPlotDepths = [];\r\n        let depthsList = Array.from(this.depths).map(depth => parseFloat(depth));\r\n\r\n        for(let i = 0; i < this.latsDistinct.length; i++){\r\n            for(let j = depthsList.length - 1; j > -1; j--){\r\n                meridionalPlotDepths.push(depthsList[j]);\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < this.lonsDistinct.length; i++){\r\n            for(let j = depthsList.length - 1; j > -1; j--){\r\n                zonalPlotDepths.push(depthsList[j]);\r\n            }\r\n        }\r\n\r\n        this.zonalPlotDepths = zonalPlotDepths;\r\n        this.meridionalPlotDepths = meridionalPlotDepths;\r\n        \r\n        this.orientation = this.lonCount > this.latCount ? 'zonal' : 'meridional';\r\n    }\r\n\r\n    // Direction is meridional or zonal\r\n    generatePlotData(orientation, splitByDate, splitBySpace) {\r\n\r\n        // Intervals are the number of indices between each change for that parameter\r\n        // Intervals can change if you split out of order\r\n        const lonInterval = this.depths.size;\r\n        const latInterval = lonInterval * this.lonCount;\r\n        const dateInterval = latInterval * this.latCount;\r\n\r\n        // // an array of arrays containing variable values, each of which will become a chart\r\n        var variableValueSubsets;\r\n        \r\n        variableValueSubsets = splitData(this.variableValues, dateInterval, this.dates.size);\r\n\r\n        // either latCount or lonCount depending on orientation\r\n        let spaceCount;\r\n\r\n        if(orientation === 'zonal') {\r\n            variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, latInterval, this.latCount));\r\n            variableValueSubsets = flattenArray(variableValueSubsets);\r\n            spaceCount = this.latCount;\r\n        }\r\n\r\n        else {\r\n            variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, lonInterval, this.lonCount));\r\n            variableValueSubsets = flattenArray(variableValueSubsets);\r\n            spaceCount = this.lonCount;\r\n        }\r\n\r\n        if(splitByDate && splitBySpace){\r\n            // pass\r\n        } else if (splitByDate){\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                1,\r\n                spaceCount,\r\n                spaceCount\r\n            )\r\n        } else if (splitBySpace) {\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                spaceCount,\r\n                1,\r\n                this.dates.size\r\n            )\r\n        } else {\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                1,\r\n                variableValueSubsets.length,\r\n                variableValueSubsets.length\r\n            )\r\n        }\r\n\r\n        return variableValueSubsets;\r\n    }\r\n\r\n    generateCsv = () => {\r\n        let dates = Array.from(this.dates);\r\n        let depths = Array.from(this.depths);\r\n\r\n        var csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${this.lats[i]},${this.lons[i]},${depths[i % depths.length]},${this.variableValues[i]}`);\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SectionMapData;","import { quantile, extent } from 'd3-array';\r\n\r\nclass SparseData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.hasDepth = Boolean(payload.metadata.Depth_Min);\r\n        this.variableIndex = payload.metadata.Depth_Min ? 4 : 3;\r\n        this.depths = [];\r\n        this.times = [];\r\n        this.variableValues = [];\r\n        this.lats = [];\r\n        this.lons = [];\r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n    }\r\n\r\n    add(row) {\r\n        if(row[this.variableIndex]){\r\n            this.times.push(row[0]);\r\n            this.lats.push(parseFloat(row[1]));\r\n            this.lons.push(parseFloat(row[2]));\r\n            if(this.hasDepth) this.depths.push(parseFloat(row[3]));\r\n            this.variableValues.push(parseFloat(row[this.variableIndex]));\r\n        }\r\n    }\r\n\r\n    finalize() {\r\n        this.zMin = quantile(this.variableValues, .05);\r\n        this.zMax = quantile(this.variableValues, .95);\r\n        this.extent = extent(this.variableValues);\r\n    }\r\n\r\n    generatePlotData(subType, splitByDate, splitByDepth) {\r\n        return this.variableValues;\r\n    }\r\n\r\n    generateCsv(){\r\n\r\n        if(this.hasDepth){\r\n            var csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${this.times[i]},${this.lats[i]},${this.lons[i]},${this.depths[i]},${this.variableValues[i]}`);\r\n            }\r\n\r\n        } else {\r\n            var csvArray = [`time,lat,lon,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${this.times[i]},${this.lats[i]},${this.lons[i]},${this.variableValues[i]}`);\r\n            }\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SparseData;","import CSVParser from 'csv-parse';\r\n\r\nimport { apiUrl } from './config';\r\nimport SpaceTimeData from './Classes/SpaceTimeData';\r\n\r\nimport storedProcedures from './Enums/storedProcedures';\r\nimport TimeSeriesData from './Classes/TimeSeriesData';\r\nimport DepthProfileData from './Classes/DepthProfileData';\r\nimport SectionMapData from './Classes/SectionMapData';\r\nimport SparseData from './Classes/SparseData';\r\n\r\nconst fetchOptions = {\r\n    credentials: 'include'\r\n}\r\n\r\nconst postOptions = {\r\n    ...fetchOptions,\r\n    method: 'POST',\r\n    headers: {\"Content-Type\": \"application/json\"}\r\n}\r\n\r\nconst storedProcedureParametersToUri = (parameters) => {\r\n    return Object.keys(parameters).reduce(function (queryString, key, i) {\r\n        return `${queryString}${i===0 ? '' : '&&'}${key}=${parameters[key]}`;\r\n      }, '');\r\n}\r\n\r\nconst api = {};\r\napi.user = {};\r\napi.dataRetrieval = {};\r\napi.catalog = {};\r\napi.visualization = {};\r\n\r\napi.user.login = (user) => {\r\n    return fetch(apiUrl + '/user/signin', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    });\r\n}\r\n\r\napi.user.logout = () => {\r\n    return fetch(apiUrl + '/user/signout', fetchOptions);\r\n}\r\n\r\napi.user.register = (user) => {\r\n    return fetch(apiUrl + '/user/signup', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    })\r\n}\r\n\r\napi.user.validate = (user) => {\r\n    return fetch(apiUrl + '/user/validate', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    })\r\n}\r\n\r\napi.catalog.retrieve = async() => {\r\n\r\n    const decoder = new TextDecoder();\r\n    let catalog = [];\r\n\r\n    let csvParser = CSVParser({columns:true});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record\r\n        while (record = csvParser.read()) {\r\n            catalog.push(record)\r\n        }\r\n    })\r\n\r\n    let response = await fetch(apiUrl + '/api/catalog', fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n    return catalog;\r\n}\r\n\r\napi.user.keyRetrieval = async() => {\r\n    let response = await fetch(apiUrl + '/user/retrieveapikeys', fetchOptions);\r\n    if(!response.ok) return false;\r\n    return await response.json();\r\n}\r\n\r\napi.user.keyCreation = async(description) => {\r\n    return await fetch(apiUrl + `/user/generateapikey?description=${description.trim()}`, fetchOptions);\r\n}\r\n\r\napi.visualization.storedProcedureRequest = async(payload) => {\r\n    const decoder = new TextDecoder();\r\n    var vizData;\r\n\r\n    switch(payload.parameters.spName) {\r\n        case storedProcedures.spaceTime:\r\n            if(payload.subType === 'Sparse') vizData = new SparseData(payload);\r\n            else vizData = new SpaceTimeData(payload);\r\n            break;\r\n\r\n        case storedProcedures.timeSeries:\r\n            vizData = new TimeSeriesData(payload);\r\n            break;\r\n\r\n        case storedProcedures.depthProfile:\r\n            vizData = new DepthProfileData(payload);\r\n            break;\r\n\r\n        case storedProcedures.sectionMap:\r\n            vizData = new SectionMapData(payload);\r\n            break;\r\n\r\n        default:\r\n            console.log('Unknown sproc name');\r\n    }\r\n\r\n    let response = await fetch(apiUrl + '/api/data/sp?' + storedProcedureParametersToUri(payload.parameters), fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let csvParser = CSVParser({from: 2});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record;\r\n        while (record = csvParser.read()) {\r\n            vizData.add(record);\r\n        }\r\n    })\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n\r\n    return vizData;\r\n}\r\n\r\n\r\napi.visualization.getTableStats = async(tableName) => {\r\n    let response = await fetch(apiUrl + '/dataretrieval/tablestats?table=' + tableName, fetchOptions);\r\n    if(response.ok){\r\n        return await response.json();\r\n    } else return false;\r\n}\r\n\r\napi.visualization.cruiseTrajectoryRequest = async(payload) => {\r\n    const cruiseId = payload.id;\r\n    const decoder = new TextDecoder();\r\n    let trajectory = {lats: [], lons: []};\r\n\r\n    let response = await fetch(apiUrl + '/api/data/cruisetrajectory?' + `id=${payload.id}`, fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let csvParser = CSVParser({from: 2});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record;\r\n        while (record = csvParser.read()) {\r\n            trajectory.lats.push(parseFloat(record[1]));\r\n            trajectory.lons.push(parseFloat(record[2]));\r\n        }\r\n    })\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n\r\n    return trajectory;\r\n}\r\n\r\napi.visualization.cruiseList = async() => {\r\n    let response = await fetch(apiUrl + '/api/data/cruiselist', fetchOptions);\r\n\r\n    if(response.ok){\r\n        return await response.json();\r\n    } else return false;   \r\n}\r\n\r\nexport default api;\r\n\r\n// Test for splitData\r\n// let depthMap = {};\r\n//     let dateMap = {};\r\n\r\n//     let depthCount = 0;\r\n//     vizData.depths.forEach(depth => {\r\n//         depthMap[depth] = depthCount;\r\n//         depthCount ++;\r\n//     })\r\n\r\n//     let dateCount = 0;\r\n//     vizData.dates.forEach(date => {\r\n//         dateMap[date] = dateCount;\r\n//         dateCount ++;\r\n//     })\r\n    \r\n//     let splitData = vizData.generatePlotData(true,true);\r\n//     console.log(splitData);\r\n//     for(let i = 0; i < tempArr.length; i++){\r\n//         let theValue = tempArr[i].Fe\r\n//         let theIndex = dateMap[tempArr[i].time] * vizData.depths.size + depthMap[tempArr[i].depth];\r\n//         console.log(splitData[theIndex]);\r\n//         console.log(theValue);\r\n//         if(splitData[theIndex].includes(theValue)) console.log('correct');\r\n//         else {\r\n//             console.log('Incorrect'); \r\n//             return;\r\n//         }\r\n//     }\r\n\r\n//     console.log(depthMap);\r\n//     console.log(dateMap);","import { put, takeLatest, all, call, delay } from 'redux-saga/effects';\r\n// import { eventChannel } from 'redux-saga';\r\nimport Cookies from 'js-cookie';\r\n// import worker from '../worker';\r\n\r\nimport * as userActions from './actions/user';\r\nimport * as catalogActions from './actions/catalog';\r\nimport * as interfaceActions from './actions/ui';\r\nimport * as visualizationActions from './actions/visualization';\r\n\r\nimport * as userActionTypes from './actionTypes/user';\r\nimport * as catalogActionTypes from './actionTypes/catalog';\r\nimport * as visualizationActionTypes from './actionTypes/visualization';\r\n\r\nimport api from '../api';\r\n\r\nfunction* userLogin(action) {\r\n\r\n    yield put(userActions.userLoginRequestProcessing());\r\n    let result = yield call(api.user.login, action.payload);\r\n    \r\n    if(result.ok){\r\n        var userInfo = JSON.parse(Cookies.get('UserInfo'));\r\n        yield put(userActions.userLoginRequestSuccess());\r\n        yield put(interfaceActions.hideLoginDialog());\r\n        yield put(userActions.storeInfo(userInfo));\r\n        yield put(interfaceActions.snackbarOpen('Login was successful!'))\r\n    } else {\r\n        yield put(userActions.userLoginRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('Login failed.'));\r\n    }\r\n}\r\n\r\nfunction* userLogout(){    \r\n    yield call(api.user.logout);\r\n    yield put(userActions.destroyInfo());\r\n    yield put(interfaceActions.snackbarOpen('You have logged out.'))\r\n}\r\n\r\nfunction* userRegistration(action){\r\n    yield put(userActions.userRegistrationRequestProcessing());\r\n    let result = yield call(api.user.register, action.payload);\r\n    \r\n    if(result.ok){\r\n        yield put(interfaceActions.registrationNextActiveStep());\r\n        yield put(userActions.userRegistrationRequestSuccess());\r\n        yield put(interfaceActions.snackbarOpen('Registration was successful. Please log in.'));\r\n        yield put(interfaceActions.showLoginDialog());\r\n    } else {\r\n        yield put(userActions.userRegistrationRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('Registration failed.'))\r\n    }\r\n}\r\n\r\nfunction* userValidation(action){\r\n    yield put(userActions.userValidationRequestProcessing());\r\n    let result = yield call(api.user.validate, action.payload);\r\n    let isValid = yield result.json();\r\n    \r\n    if(isValid){\r\n        yield put(userActions.userValidationRequestSuccess());\r\n        yield put(interfaceActions.registrationNextActiveStep());\r\n    } else {\r\n        yield put(userActions.userValidationRequestFailure());\r\n    }\r\n}\r\n\r\nfunction* catalogRetrieval(action){\r\n    yield put(catalogActions.retrievalRequestProcessing());\r\n    let catalog = yield call(api.catalog.retrieve);\r\n    \r\n    if(!catalog) {\r\n        yield put(catalogActions.retrievalRequestFailure());\r\n    } else{\r\n        yield put(catalogActions.retrievalRequestSuccess(catalog));\r\n    }\r\n}\r\n\r\nfunction* keyRetrieval(action){\r\n    let result = yield call(api.user.keyRetrieval);\r\n    \r\n    if(!result){\r\n        yield put(userActions.keyRetrievalRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('API Key Retrieval Failed'));\r\n    } else {\r\n        yield put(userActions.keyRetrievalRequestSuccess(result.keys));\r\n    }\r\n}\r\n\r\nfunction* keyCreation(action){\r\n    yield put(userActions.keyCreationRequestProcessing());\r\n    let result = yield call(api.user.keyCreation, action.payload.description);\r\n    \r\n    if(!result.ok) yield put(interfaceActions.snackbarOpen(\"We were unable to create a new API key.\"));\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen(\"A new API key was created\"));\r\n        yield put(userActions.keyCreationRequestSuccess());\r\n        yield put(userActions.keyRetrievalRequestSend());        \r\n    }\r\n}\r\n\r\nfunction* queryRequest(action){\r\n    yield put(visualizationActions.queryRequestProcessing());\r\n    let result = yield call(api.visualization.queryRequest, action.payload.query);\r\n    yield put(visualizationActions.storeSampleData(result));\r\n    yield put(visualizationActions.queryRequestSuccess());\r\n}\r\n\r\nfunction* storedProcedureRequest(action){\r\n    yield put(visualizationActions.storedProcedureRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Data'));\r\n    let result = yield call(api.visualization.storedProcedureRequest, action.payload);\r\n    yield delay(50);\r\n    yield put(interfaceActions.setLoadingMessage('Processing Data'));\r\n    yield delay(70);\r\n    \r\n    // Result will be an object containing variable values and describing date shape\r\n    if(!result){\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(visualizationActions.storedProcedureRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen(\"Request failed\"));\r\n    } else {\r\n        if(result.variableValues.length > 0){\r\n            result.finalize();\r\n            yield put(interfaceActions.setLoadingMessage(''));\r\n            yield put(visualizationActions.storedProcedureRequestSuccess());\r\n            yield put(interfaceActions.snackbarOpen(`${action.payload.subType} ${action.payload.parameters.fields} is ready`));\r\n            yield put(visualizationActions.addChart({subType: action.payload.subType, data:result}));\r\n           \r\n        } else {\r\n            yield put(interfaceActions.setLoadingMessage(''));\r\n            yield put(interfaceActions.snackbarOpen(`No data found for ${action.payload.parameters.fields} in the requested ranges. Try selecting a different date or depth range.`));\r\n        }\r\n    }\r\n}\r\n\r\nfunction* cruiseTrajectoryRequest(action) {\r\n    yield put(visualizationActions.cruiseTrajectoryRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Cruise Data'));\r\n    let result = yield call(api.visualization.cruiseTrajectoryRequest, action.payload);\r\n\r\n    if(!result || !result.lats.length){\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(interfaceActions.snackbarOpen(`Unable to Fetch Cruise Data`));\r\n    } else {\r\n        yield put(visualizationActions.cruiseTrajectoryRequestSuccess(result));\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n    }\r\n}\r\n\r\nfunction* cruiseListRequest() {\r\n    yield put(visualizationActions.cruiseListRequestProcessing());\r\n    let cruiseList = yield call(api.visualization.cruiseList);\r\n\r\n    if(!cruiseList) {\r\n        yield put(visualizationActions.cruiseListRequestFailure());\r\n    } else{\r\n        yield put(visualizationActions.cruiseListRequestSuccess(cruiseList));\r\n    }\r\n}\r\n\r\nfunction* watchUserLogin() {\r\n    yield takeLatest(userActionTypes.LOGIN_REQUEST_SEND, userLogin);\r\n}\r\n\r\nfunction * watchUserLogout() {\r\n    yield takeLatest(userActionTypes.LOG_OUT, userLogout)\r\n}\r\n\r\nfunction* watchUserRegistration() {\r\n    yield takeLatest(userActionTypes.REGISTRATION_REQUEST_SEND, userRegistration);\r\n}\r\n\r\nfunction* watchUserValidation(){\r\n    yield takeLatest(userActionTypes.VALIDATION_REQUEST_SEND, userValidation);\r\n}\r\n\r\nfunction* watchCatalogRetrieval(){\r\n    yield takeLatest(catalogActionTypes.RETRIEVAL_REQUEST_SEND, catalogRetrieval);\r\n}\r\n\r\nfunction* watchKeyRetrieval(){\r\n    yield takeLatest(userActionTypes.KEY_RETRIEVAL_REQUEST_SEND, keyRetrieval);\r\n}\r\n\r\nfunction* watchKeyCreationRequest(){\r\n    yield takeLatest(userActionTypes.KEY_CREATION_REQUEST_SEND, keyCreation);\r\n}\r\n\r\nfunction* watchQueryRequest(){\r\n    yield takeLatest(visualizationActionTypes.QUERY_REQUEST_SEND, queryRequest);\r\n}\r\n\r\nfunction* watchStoredProcedureRequest(){\r\n    yield takeLatest(visualizationActionTypes.STORED_PROCEDURE_REQUEST_SEND, storedProcedureRequest);\r\n}\r\n\r\nfunction* watchCruiseTrajectoryRequest(){\r\n    yield takeLatest(visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SEND, cruiseTrajectoryRequest);\r\n}\r\n\r\nfunction* watchCruiseListRequest(){\r\n    yield takeLatest(visualizationActionTypes.CRUISE_LIST_REQUEST_SEND, cruiseListRequest);\r\n}\r\n\r\n// function createWorkerChannel(worker) {\r\n//     return eventChannel(emit => {\r\n//         worker.onmessage = message => {\r\n//             emit(message);\r\n//         }\r\n\r\n//         const unsubscribe = () => {\r\n//             worker.teminate();\r\n//         }\r\n      \r\n//         return unsubscribe;\r\n//     })\r\n// }\r\n\r\n// function* watchWorkerChannel(){\r\n//     const workerChannel = yield call(createWorkerChannel, worker);\r\n\r\n//     while (true) {\r\n//         const message = yield take(workerChannel);\r\n//         yield put(message.data.type, message.data.payload);\r\n//         //   yield put({ type: INCOMING_PONG_PAYLOAD, payload })\r\n//         //   yield fork(pong, socket)\r\n//       }\r\n// }\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        watchUserLogin(),\r\n        watchUserRegistration(),\r\n        watchUserValidation(),\r\n        watchUserLogout(),\r\n        watchCatalogRetrieval(),\r\n        watchKeyRetrieval(),\r\n        watchKeyCreationRequest(),\r\n        watchQueryRequest(),\r\n        watchStoredProcedureRequest(),\r\n        watchCruiseTrajectoryRequest(),\r\n        watchCruiseListRequest()\r\n        // watchWorkerChannel(),\r\n    ])\r\n}\r\n  ","import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"./Reducers\";\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from './sagas';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  applyMiddleware(sagaMiddleware)\r\n)\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n    centered: {\r\n        position: 'fixed',\r\n        top: '300px'\r\n    }\r\n})\r\n\r\nconst LoadingSpinner = (props) => {\r\n    const { classes } = props;\r\n\r\n    return (\r\n    <CircularProgress size={props.size} className={classes[props.customVariant]}/>\r\n)}\r\n\r\nexport default withStyles(styles)(LoadingSpinner);","const colors = {\r\n    orange: '#FF8000',\r\n    backgroundGray: '#424242',\r\n    aqua: '#22A3B9'\r\n}\r\n\r\nexport default colors;","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { keyRetrievalRequestSend, keyCreationRequestSend } from '../Redux/actions/user';\r\n\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport states from '../asyncRequestStates';\r\nimport colors from '../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    apiKeys: state.apiKeys,\r\n    apiKeyCreationState: state.apiKeyCreationState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    keyRetrievalRequestSend,\r\n    keyCreationRequestSend\r\n}\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '800px',\r\n        marginTop: theme.spacing(3),\r\n        margin:'auto',\r\n        paddingTop: theme.spacing(2)\r\n      },\r\n    table: {\r\n        minWidth: 700,\r\n    },\r\n    apiKeyTableHeader: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    keyTableCell : {\r\n        visibility: 'hidden'\r\n    },\r\n    showChildOnHover: {\r\n        '&:hover span': {\r\n            visibility: 'visible'\r\n          },\r\n    },\r\n    warningCaption: {\r\n        color: colors.orange,\r\n        fontSize: '11px',\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2)\r\n    }\r\n})\r\n\r\nclass ApiKeyManagement extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            description: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.apiKeys) this.props.keyRetrievalRequestSend();\r\n    }\r\n\r\n\r\n    handleClick = () => {\r\n        this.props.keyCreationRequestSend(this.state.description);\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({...this.state, description: event.target.value})\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>      \r\n                {this.props.apiKeys ?\r\n                    <Paper className={classes.root} elevation={6}>             \r\n                        <Typography variant=\"subtitle1\" className={classes.apiKeyTableHeader}>\r\n                            Your API Key\r\n                        </Typography>\r\n                        <Divider/>\r\n                        <Table className={classes.table}>\r\n                            <TableHead>\r\n                            <TableRow>\r\n                                <TableCell variant='head' align='center'>Description</TableCell>\r\n                                <TableCell variant='head' align='center'>Key (hover mouse to view)</TableCell>\r\n                            </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>            \r\n                                {this.props.apiKeys.map((apiKey, index) => (\r\n                                    <TableRow key={index}>\r\n                                        <TableCell align='center'>{apiKey.Description}</TableCell>\r\n                                        <TableCell align='center' className={classes.showChildOnHover}><span className={classes.keyTableCell}>{apiKey.Api_Key}</span></TableCell>\r\n                                    </TableRow>\r\n                                ))   \r\n                                }  \r\n                            </TableBody>\r\n                        </Table>\r\n                        <Typography variant='caption' className={classes.warningCaption}>\r\n                            This API key is a unique identifier, and should not be shared.\r\n                        </Typography>\r\n                    </Paper>\r\n                    : ''\r\n                }\r\n                <Paper className={classes.root} elevation={6}>\r\n                    <Typography variant=\"body2\">\r\n                        Generate a new API key\r\n                    </Typography>\r\n                    <Grid container={true} alignItems='center' justify='center' spacing={4}>\r\n                        <Grid item>\r\n                            <TextField\r\n                                margin=\"normal\"\r\n                                id=\"description\"\r\n                                type=\"text\"\r\n                                variant='outlined'\r\n                                name='filterText'\r\n                                value={this.state.description}\r\n                                onChange={this.handleChange}\r\n                                placeholder='Key Description'\r\n                                className={classes.descriptionField}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button variant=\"contained\" disabled={this.state.description.length < 1} color=\"primary\" onClick={this.handleClick}>\r\n                                Generate API Key\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                    \r\n                    {this.props.apiKeyCreationState === states.inProgress ? <LoadingSpinner size={18}/> : ''}\r\n                    {this.props.apiKeyCreationState === states.failed ? <span>Key creation failed</span> : ''}\r\n            </Paper>\r\n            </React.Fragment>\r\n\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ApiKeyManagement));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport { showLoginDialog } from '../Redux/actions/ui';\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog\r\n}\r\n\r\nconst LoginRequiredPrompt = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.showLoginDialog();\r\n    })\r\n    \r\n    return (\r\n        <p>This feature requires a user account. Please <Link component={RouterLink} to={{pathname: '/apikeymanagement'}} onClick={() => props.showLoginDialog()}> log in\r\n            </Link> or <Link component={RouterLink} to={{pathname: '/register'}}> register\r\n            </Link>.\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginRequiredPrompt);\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport Cookies from 'js-cookie';\r\n\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport { showLoginDialog, restoreInterfaceDefaults, snackbarOpen } from '../Redux/actions/ui';\r\nimport { logOut } from '../Redux/actions/user';\r\n\r\nconst styles = theme => ({\r\n    inlineBlock: {\r\n        display: 'inline-block'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog,\r\n    logOut,\r\n    restoreInterfaceDefaults,\r\n    snackbarOpen\r\n}\r\n\r\nclass TopNavBar extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        }\r\n        \r\n    }\r\n    \r\n    // Controls login dialog text fields to allow reset from logout button\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    };\r\n\r\n    handleLogOut = () => {\r\n        this.clearState();\r\n        this.props.logOut();\r\n        this.props.restoreInterfaceDefaults();\r\n    }\r\n\r\n    clearState = () => {\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        })\r\n    }\r\n\r\n    getCurrentPath = () => {\r\n        switch(this.props.location.pathname){\r\n            case '/apikeymanagement': return 1;\r\n            case '/catalog': return 2;\r\n            case '/visualization': return 3;\r\n            default: return 0;\r\n        }\r\n    };\r\n\r\n    render(){\r\n\r\n        // const { classes } = this.props;\r\n\r\n        return (\r\n            <AppBar position=\"sticky\">\r\n                <Toolbar>\r\n                    <Tabs value={this.getCurrentPath() || 0} onChange={this.handleChange}>\r\n                        <Tab key='0' component={Link} to={{pathname: '/'}} label='Home' onClick={this.props.restoreInterfaceDefaults}/>\r\n                        <Tab key='1' component={Link} to={{pathname: '/apikeymanagement'}} label='API Keys' onClick={this.props.restoreInterfaceDefaults}/>\r\n                        <Tab key='2' component={Link} to={{pathname: '/catalog'}} label='Catalog' onClick={this.props.restoreInterfaceDefaults}/>\r\n                        <Tab key='3' component={Link} to={{pathname: '/visualization'}} label='Visualization' onClick={this.props.restoreInterfaceDefaults}/>\r\n                        {this.props.user ? '' : <Tab key='4' component={Link} to={{pathname: '/register'}} label='Register' onClick={this.props.restoreInterfaceDefaults}/>}\r\n                        {this.props.user ? '' : <Tab key='5' label='Log In' onClick={this.props.showLoginDialog}/>}\r\n                        {this.props.user ? <Tab key='6' label={`Welcome ${this.props.user.firstName} ${this.props.user.lastName}!`}/> : ''}\r\n                        {this.props.user ? <Tab key='7' label='Log Out' onClick={this.handleLogOut}/> : ''}                        \r\n                    </Tabs>                    \r\n                </Toolbar>\r\n                {/* <LoginDialog clearState={this.clearState} username={this.state.username} password={this.state.password} handleChange={this.handleChange}/> */}\r\n            </AppBar>            \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(TopNavBar)));","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { showLoginDialog } from '../Redux/actions/ui';\r\n\r\nimport ApiKeyManagement from './ApiKeyManagement';\r\nimport LoginRequiredPrompt from './LoginRequiredPrompt';\r\nimport TopNavBar from './TopNavBar';\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog\r\n}\r\n\r\nconst styles = theme => ({\r\n\r\n})\r\n\r\nclass Home extends Component {\r\n    // constructor(props){\r\n    //     super(props)\r\n    // }\r\n    componentDidMount(){\r\n        if(!this.props.user) this.props.showLoginDialog();\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <React.Fragment>\r\n                <TopNavBar/>\r\n                {this.props.user ? <ApiKeyManagement/> : <LoginRequiredPrompt/>}\r\n            </React.Fragment>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Home));","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n// import Card from '@material-ui/core/Card';\r\n// import Divider from '@material-ui/core/Divider';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { apiUrl } from '../config';\r\n\r\nconst imageSource = apiUrl + '/images/catalog/'\r\n\r\nconst tableMapping = [\r\n    ['Variable Name', 'Variable'],\r\n    ['Spatial Resolution', 'Spatial_Resolution'],\r\n    ['Temporal Resolution', 'Temporal_Resolution'],\r\n    ['Unit', 'Unit'],\r\n    ['Process Level', 'Process_Level'],\r\n    ['Study Domain', 'Study_Domain'],\r\n    ['SQL Table Name', 'Table_Name']\r\n]\r\n\r\nconst styles = (theme) => ({\r\n    title:{\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    wrapper: {\r\n        width: '90%',\r\n        margin: '-10px auto 0px auto',\r\n        height: '100%'\r\n    },\r\n    infoCard: {\r\n        padding: theme.spacing(2),\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    gridClass: {\r\n        marginTop: theme.spacing(2),\r\n        height: '100%'\r\n    },\r\n    gridItem: {\r\n        height: '90%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    datasetDescriptionWrapper: {\r\n        whiteSpace: 'normal',\r\n        height: '100%',\r\n        overflow: 'auto'\r\n    },\r\n    datasetDescription: {\r\n        marginBottom: theme.spacing(2),\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    vizSampleImage: {\r\n        width: '90%'\r\n    },\r\n    variableDetailTable: {\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    variableDetailTableRow: {\r\n        height: '32px'\r\n    },\r\n    variableDetailTableCell: {\r\n        color: '#FFF6EC',\r\n        borderBottomColor: 'black'\r\n    }\r\n})\r\n\r\nconst GridDetail = (props) => {\r\n    const {classes} = props;\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <Grid container spacing={8} className={classes.gridClass}>\r\n                <Grid item xs={3} className={classes.gridItem}>\r\n                    <img src={imageSource + 'viz_sample.png'} alt=\"Sample Visualization\" className={classes.vizSampleImage}/>\r\n                </Grid>\r\n                <Grid item xs={4} className={classes.gridItem}>\r\n                    <div className={classes.datasetDescriptionWrapper}>\r\n                        <Typography variant='body2' className={classes.datasetDescription}>\r\n                            {props.data.Dataset_Description}\r\n                        </Typography>\r\n                        <Typography variant='caption'>\r\n                            Source: {props.data.Data_Source}\r\n                        </Typography> <br></br>\r\n                        <Typography variant='caption'>\r\n                            Distributor: {props.data.Distributor}\r\n                        </Typography>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={5} className={classes.gridItem}>\r\n                    <Table className={classes.variableDetailTable} size='small'>\r\n                        <TableBody>\r\n                            {tableMapping.map((row, index) => (\r\n                                <TableRow key={index} className={classes.variableDetailTableRow}>\r\n                                    <TableCell className={classes.variableDetailTableCell}>{row[0]}</TableCell>\r\n                                    <TableCell className={classes.variableDetailTableCell}>{props.data[row[1]]}</TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default (withStyles(styles)(GridDetail));","import React, { Component } from 'react';\r\n\r\nimport { AgGridReact } from 'ag-grid-react';\r\n// import 'ag-grid-community/dist/styles/ag-grid.css';\r\n// import 'ag-grid-community/dist/styles/ag-theme-material.css';\r\n\r\nimport GridDetail from './GridDetail';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Paper } from '@material-ui/core';\r\n\r\nconst detailCellRendererParams = {\r\n  template:\r\n    '<div style=\"height: 100%; box-sizing: border-box\" class=\"testClass\">' +\r\n      '  <div style=\"height: 10%;\">Call Details</div>' +\r\n      '  <div ref=\"eDetailGrid\" style=\"height: 90%;\"></div>' +\r\n    \"</div>\"\r\n}\r\n\r\nconst columnDefs = [\r\n  {\r\n    headerName: \"Long Name\", \r\n    field: \"Long_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    tooltipField: 'longName',\r\n    cellRenderer: \"agGroupCellRenderer\",\r\n    cellStyle: {\r\n      textAlign:'left'\r\n    }\r\n  },\r\n  {\r\n    headerName: \"Variable\", \r\n    field: \"Variable\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true\r\n  },\r\n  {\r\n    headerName: \"Table Name\", \r\n    field: \"Table_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Dataset Name\", \r\n    field: \"Dataset_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true,\r\n    tooltipField: 'datasetName'\r\n  }, \r\n  {\r\n    headerName: \"Make\", \r\n    field: \"Make\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Sensor\", \r\n    field: \"Sensor\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Study Domain\", \r\n    field: \"Study_Domain\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Process Level\", \r\n    field: \"Process_Level\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Spatial Resolution\", \r\n    field: \"Spatial_Resolution\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Temporal Resolution\", \r\n    field: \"Temporal_Resolution\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Unit\", \r\n    field: \"Unit\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true\r\n  },\r\n  {\r\n    headerName: \"Key Words\",\r\n    field: 'Keywords',\r\n    hide: true\r\n  }\r\n]\r\n\r\nconst styles = (theme) => ({\r\n  gridWrapper: {\r\n    height: '60vh', \r\n    width: '90%',\r\n    margin: '0 auto'\r\n  },\r\n\r\n  gridSearch: {\r\n    margin: '0 auto 30px auto'\r\n  },\r\n\r\n  gridPaper: {\r\n    margin: '60px 5vw',\r\n    padding: '30px'\r\n  }\r\n})\r\n\r\nconst defaultColDef = {\r\n  resizable: true,\r\n}\r\n\r\nconst autoGroupColumnDef = {\r\n  cellStyle: {\r\n    textAlign:'left'\r\n  }\r\n}\r\n\r\nclass AGGridWrapper extends Component {\r\n  // const { classes } = props;\r\n\r\n  state = {\r\n    filterText: ''\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({...this.state, filterText: event.target.value})\r\n    this.gridApi.setQuickFilter(event.target.value);\r\n  }\r\n\r\n  onGridReady = (params) => {\r\n    this.gridApi = params.api;\r\n    this.columnApi = params.columnApi;\r\n\r\n    this.gridApi.sizeColumnsToFit();\r\n  }\r\n\r\n  handleColumnRowGroupChanged = (event) => {\r\n    event.columns.forEach(column => {\r\n      column.columnApi.setColumnVisible(column.colId, false);\r\n    })\r\n  }\r\n\r\n  render = () => {\r\n    const {classes} = this.props;\r\n\r\n    return (\r\n        <Paper elevation={12} className={classes.gridPaper}>\r\n          <TextField\r\n            className={classes.gridSearch}\r\n            autoFocus={true}\r\n            margin=\"normal\"\r\n            id=\"name\"\r\n            type=\"text\"\r\n            variant='outlined'\r\n            name='filterText'\r\n            value={this.state.filterText}\r\n            onChange={this.handleChange}\r\n            label=\"Variable Search\"\r\n            InputLabelProps={{\r\n                shrink: true,\r\n            }}\r\n          />\r\n          <div className={classes.gridWrapper + \" ag-theme-material\"}>\r\n            <AgGridReact\r\n              // General settings\r\n              columnDefs={columnDefs}\r\n              defaultColDef={defaultColDef}\r\n              rowData={this.props.catalog}\r\n              onGridReady={this.onGridReady}\r\n              suppressDragLeaveHidesColumns= {true}\r\n\r\n              //Settings related to grouping functionality\r\n              rowGroupPanelShow='always'\r\n              groupMultiAutoColumn={true}\r\n              onColumnRowGroupChanged={this.handleColumnRowGroupChanged}\r\n              autoGroupColumnDef={autoGroupColumnDef}\r\n              enableBrowserTooltips={true}\r\n\r\n              // Settings related to master/detail\r\n              masterDetail={true}\r\n              frameworkComponents= {{ myDetailCellRenderer: GridDetail }}\r\n              detailCellRenderer=\"myDetailCellRenderer\"\r\n              detailRowHeight={280}\r\n              detailCellRendererParams={detailCellRendererParams}\r\n            />\r\n          </div>\r\n        </Paper>\r\n    )\r\n  }\r\n  \r\n}\r\n\r\nexport default (withStyles(styles)(AGGridWrapper));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport AGGridWrapper from './AGGridWrapper';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport TopNavBar from './TopNavBar';\r\n\r\nimport { retrievalRequestSend } from '../Redux/actions/catalog';\r\nimport states from '../asyncRequestStates';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    catalogRequestState: state.catalogRequestState,\r\n    catalog : state.catalog\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    retrievalRequestSend\r\n}\r\n\r\nconst styles = (theme) => ({\r\n\r\n})\r\n\r\nclass Catalog extends Component {\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.catalog) this.props.retrievalRequestSend();\r\n    }\r\n\r\n    determineContent = () => {\r\n        if(this.props.catalog) return <AGGridWrapper catalog={this.props.catalog}/>\r\n        else if(this.props.catalogRequestState === states.inProgress) return <LoadingSpinner size={24}/>\r\n        else if(this.props.catalogRequestState === states.failed) return <p>Failed to get catalog. Have you tried turning it off and then on again?</p>\r\n        else return <p>I don't know how we got here. Please debug the catalog retrieval process.</p>\r\n    }\r\n\r\n    render(){\r\n        let content = this.determineContent();\r\n        return (\r\n            <React.Fragment>\r\n                <TopNavBar/>\r\n                {content}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Catalog));","import { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import InputAdornment from '@material-ui/core/InputAdornment';\r\n\r\nimport React from 'react';\r\n\r\nconst styles = theme => ({\r\n    registrationCard: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n        height:'200px'\r\n    },\r\n\r\n    textField: {\r\n        margin:theme.spacing(1),\r\n        width: '80%'\r\n    }\r\n});\r\n\r\nconst RegistrationCard = (props) => {\r\n    const { classes } = props;\r\n    const fields = Object.keys(props.inputFieldState);\r\n\r\n    return (\r\n        <Card className={classes.registrationCard}>\r\n            <Grid container spacing={1}>\r\n            {\r\n                fields.map((field, index) => {\r\n                    return (\r\n                        <Grid key={index} item xs={fields.length > 2 ? 6 : 12}>\r\n                        <TextField\r\n                            key= {index}\r\n                            name= {props.inputFieldInfo[field].name}\r\n                            label= {props.inputFieldInfo[field].label}\r\n                            value={props.inputFieldState[field].value}\r\n                            className={classes.textField}\r\n                            onChange={props.onChange}\r\n                            type={props.inputFieldInfo[field].type}\r\n                            error={!props.inputFieldState[field].valid}                            \r\n                            helperText={props.inputFieldState[field].valid ? ' ' : props.inputFieldInfo[field].requirement}\r\n                            />\r\n                        </Grid>\r\n                    )\r\n                })\r\n            }                \r\n            </Grid>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(RegistrationCard);","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport RegistrationCard from './RegistrationCard';\r\nimport TopNavBar from './TopNavBar';\r\n\r\nimport { registrationNextActiveStep, registrationPreviousActiveStep } from '../Redux/actions/ui';\r\nimport { userRegistrationRequestSend, userValidationRequestSend } from '../Redux/actions/user';\r\n\r\nimport states from '../asyncRequestStates';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '60%',\r\n        margin: '5% auto'\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    registrationCard: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n\r\n    textField: {\r\n        margin:theme.spacing(1),\r\n        width: 200\r\n    },\r\n\r\n    buttonProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    registrationActiveStep: state.registrationActiveStep,\r\n    userValidationState: state.userValidationState,\r\n    userRegistrationState: state.userRegistrationState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    registrationNextActiveStep,\r\n    registrationPreviousActiveStep,\r\n\r\n    userRegistrationRequestSend,\r\n\r\n    userValidationRequestSend\r\n}\r\n\r\nconst getSteps = () => ['Your Information', 'Optional Organization Info', 'Security'];\r\nconst getCardInfo = () => ([\r\n    {\r\n        firstName: {\r\n            label:'First Name*',\r\n            name: 'firstName',\r\n            type: 'text',\r\n            requirement: 'Must be 2 or more alphabetical characters.',\r\n            optional: false\r\n        },\r\n        lastName: {\r\n            label:'Last Name*',\r\n            name: 'lastName',\r\n            type: 'text',\r\n            requirement: 'Must be 2 or more alphabetical characters.',\r\n            optional: false\r\n        },\r\n        username: {\r\n            label:'Username*',\r\n            name: 'username',\r\n            type: 'text',\r\n            requirement: 'Must be 6 to 20 alphanumeric characters.',\r\n            optional: false\r\n        },\r\n        email: {\r\n            label:'Email Address*',\r\n            name: 'email',\r\n            type: 'email',\r\n            requirement: 'Must be a valid email address.',\r\n            optional: false\r\n        }\r\n    },\r\n    {\r\n        institute: {\r\n            label:'Institute',\r\n            name: 'institute',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        },\r\n        department: {\r\n            label:'Department',\r\n            name: 'department',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        },\r\n        country: {\r\n            label:'Country',\r\n            name: 'country',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        }\r\n    },\r\n    {\r\n        password: {\r\n            label:'Password*',\r\n            name: 'password',\r\n            type: 'password',            \r\n            requirement: 'Must be 8 to 32 characters with 1 number and 1 special character.',\r\n            optional: false\r\n        },\r\n        confirmPassword: {\r\n            label:'Confirm Password*',\r\n            name: 'confirmPassword',\r\n            type: 'password',            \r\n            requirement: 'Passwords must match.',\r\n            optional: false\r\n        }\r\n    }\r\n])\r\n\r\nclass RegistrationStepper extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        let cards = []\r\n        getCardInfo().forEach(card => {\r\n            let newCard = {};\r\n            Object.keys(card).forEach(key => {\r\n                newCard[key] = {\r\n                    value: '',\r\n                    valid: true,\r\n                    optional: card[key].optional\r\n                }\r\n            })\r\n            cards.push(newCard);\r\n        })\r\n\r\n        this.state = {\r\n            cards\r\n        }\r\n    }\r\n\r\n    validateField = (name, rawValue) => {\r\n        let value = rawValue.trim();\r\n        let pattern = /$^/;\r\n        switch(name){\r\n            case 'firstName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'lastName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'username':\r\n                pattern = /^[A-Za-z0-9 ]{6,20}$/;\r\n                break;\r\n            case 'email':\r\n                pattern = /^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/;\r\n                break;\r\n            case 'institute':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'department':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'country':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'password':\r\n                pattern = /^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/\r\n                this.setState(previousState => {\r\n                    let newCardState = [...previousState.cards];\r\n                    newCardState[2].confirmPassword.valid = Boolean(newCardState[2].confirmPassword.value === value);\r\n                    return {cards: newCardState};\r\n                })\r\n                break;\r\n            case 'confirmPassword':\r\n                return this.state.cards[2].password.value === value;\r\n            default:\r\n                break;\r\n        }\r\n        return pattern.test(value);\r\n    }\r\n\r\n    processStateToActionPayload = () => {\r\n        let actionPayload = {};\r\n        this.state.cards.forEach(card => {\r\n            Object.keys(card).forEach(cardKey => {\r\n                actionPayload[cardKey] = card[cardKey].value;\r\n            })\r\n        })\r\n        console.log('action payload')\r\n        console.log(actionPayload)\r\n        return actionPayload;\r\n    }\r\n\r\n    currentCardIsValid = () => {\r\n        let currentCard = this.state.cards[this.props.registrationActiveStep];\r\n        for(let key in currentCard){\r\n            if(currentCard[key].optional) continue;\r\n            if(!currentCard[key].value || !currentCard[key].valid) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    handleNext = () => {\r\n        const activeStep = this.props.registrationActiveStep;\r\n        \r\n        switch(activeStep){\r\n            case 0:\r\n                // API request to validate username and email address\r\n                let username= this.state.cards[0].username.value;\r\n                let email= this.state.cards[0].email.value;\r\n                this.props.userValidationRequestSend(username, email);\r\n                break;\r\n            case 1:\r\n                this.props.registrationNextActiveStep();\r\n                break;\r\n            case 2:\r\n                // API request to register user\r\n                this.props.userRegistrationRequestSend(this.processStateToActionPayload())\r\n                break;\r\n            default:\r\n                this.props.registrationNextActiveStep();\r\n                break;\r\n\r\n\r\n        }\r\n    };\r\n\r\n    handleBack = () => {\r\n        this.props.registrationPreviousActiveStep();\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        let fieldName = event.target.name;\r\n        let valid = this.validateField(fieldName, newValue);\r\n        this.setState(previousState => {\r\n            let cards = [...previousState.cards];\r\n            cards[this.props.registrationActiveStep][fieldName] = {\r\n                ...cards[this.props.registrationActiveStep][fieldName],\r\n                value: newValue,\r\n                valid\r\n            }\r\n            return {cards};\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const steps = getSteps();\r\n        const activeStep = this.props.registrationActiveStep;\r\n        const cardInfoArray = getCardInfo();\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <TopNavBar/>\r\n                <div className={classes.root}>\r\n                    \r\n                    <Stepper activeStep={activeStep}>\r\n                    {steps.map((label, index) => {\r\n                        return (\r\n                        <Step key={label}>\r\n                            <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                        );\r\n                    })}\r\n                    </Stepper>\r\n                    <div>\r\n                    {activeStep === steps.length ? (\r\n                        <div>\r\n                        <Typography className={classes.instructions}>\r\n                            Registration Completed!\r\n                        </Typography>\r\n                        </div>\r\n                    ) : (\r\n                        <div>\r\n                            <RegistrationCard \r\n                                inputFieldState={{...this.state.cards[this.props.registrationActiveStep]}} \r\n                                inputFieldInfo={{...cardInfoArray[this.props.registrationActiveStep]}}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <div>\r\n                                <Button\r\n                                disabled={activeStep === 0}\r\n                                onClick={this.handleBack}\r\n                                className={classes.button}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={this.handleNext}\r\n                                    className={classes.button}\r\n                                    disabled={!this.currentCardIsValid() || this.props.userValidationState === states.inProgress}\r\n                                >\r\n                                    {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\r\n                                </Button>\r\n                                {this.props.userValidationState === states.inProgress && <CircularProgress size={24} className= {classes.buttonProgress} />}\r\n                                {this.props.userValidationState === states.failed && <p>That username or email is already in use. Please enter a different username or email address.</p>}\r\n                                {this.props.userRegistrationState === states.failed && <p>Registration failed. Please try again.</p>}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(RegistrationStepper));","import React, { Component } from 'react';\r\n\r\nimport RegistrationStepper from './RegistrationStepper';\r\n\r\nexport default class Register extends Component {\r\n    // constructor(props){\r\n    //     super(props)\r\n    // }\r\n\r\n    render(){\r\n        return (\r\n            <RegistrationStepper/>\r\n        )\r\n    }\r\n}","const regionRenderModes = {\r\n    draw: 'draw',\r\n    form: 'form'\r\n}\r\n\r\nexport default regionRenderModes;","const validation = {\r\n    depth: {\r\n        depthOneIsLower: 'Start cannot be larger than end',\r\n        depthOneOutOfBounds: 'Start must be smaller than $',\r\n        depthTwoOutOfBounds: 'End must be larger than $',\r\n        negative: 'Depth cannot be negative'\r\n    },\r\n\r\n    date: {\r\n        dateOneIsLater: 'Start cannot be later than end',\r\n        dateOneOutOfBounds: 'Start must be before $',\r\n        dateTwoOutOfBounds: 'End must be after $'\r\n    },\r\n\r\n    lat: {\r\n        latOneIsHigher: 'Start cannot be larger than end.',\r\n        latOneOutOfBounds: 'Start must be less than $',\r\n        latTwoOutOfBounds: 'End must be greater than $'\r\n    },\r\n\r\n    lon: {\r\n        lonOneIsHigher: 'Start cannot be larger than end.',\r\n        lonOneOutOfBounds: 'Start must be less than $',\r\n        lonTwoOutOfBounds: 'End must be greater than $'\r\n    },\r\n\r\n    type: {\r\n        dataIsIrregular: '$ is not available for sparse data',\r\n        dateRangeRequired: '$ requires a range of dates',\r\n        depthRangeRequired: '$ requires a range of depths',\r\n        surfaceOnlyDataset: '$ contains only surface data',\r\n        irregularOnly: 'Sparse map is only available for sparse data',\r\n        dataSizeTooLarge: 'Data set is too large for this visualization type.'\r\n    },\r\n\r\n    generic: {\r\n        invalid: 'Invalid input',\r\n        dataSizeWarning: 'Wait time and application performance may be poor due to size of data.',\r\n        dataSizePrevent: 'Data set is too large. Please reduce date range or area size.'\r\n    }\r\n}\r\n\r\nexport default validation;","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nconst styles = theme => ({\r\n\r\n})\r\n\r\nconst TableStatsDialog = (props) => {\r\n    const { data } = props;\r\n\r\n    if(!data) return '';\r\n\r\n    return (\r\n        <Dialog\r\n            open={props.open}\r\n            onClose={props.onClose}\r\n        >\r\n            <DialogTitle>{data.Variable}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {data.Long_Name}\r\n                </DialogContentText>\r\n                <Table size='small'>\r\n                    <TableBody>\r\n                            <TableRow>\r\n                                <TableCell>Sensor</TableCell>\r\n                                <TableCell>{data.Sensor}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Spatial Resolution</TableCell>\r\n                                <TableCell>{data.Spatial_Resolution}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Temporal Resolution</TableCell>\r\n                                <TableCell>{data.Temporal_Resolution}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Temporal Coverage Begin</TableCell>\r\n                                <TableCell>{data.Time_Min ? data.Time_Min.slice(0,10) : 'Irregular'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Temporal Coverage End</TableCell>\r\n                                <TableCell>{data.Time_Max ? data.Time_Max.slice(0,10) : 'Irregular'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lat Coverage Begin</TableCell>\r\n                                <TableCell>{`${data.Lat_Min}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n                            <TableRow>\r\n                                <TableCell>Lat Coverage End</TableCell>\r\n                                <TableCell>{`${data.Lat_Max}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lon Coverage Begin</TableCell>\r\n                                <TableCell>{`${data.Lon_Min}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lon Coverage End</TableCell>\r\n                                <TableCell>{`${data.Lon_Min}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Depth Coverage Begin</TableCell>\r\n                                <TableCell>{data.Depth_Min ? `${data.Depth_Min}(m)` : 'Surface Only'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Depth Coverage End</TableCell>\r\n                                <TableCell>{data.Depth_Max ? `${data.Depth_Max}(m)` : 'Surface Only'}</TableCell>\r\n                            </TableRow>\r\n                    </TableBody>\r\n                </Table>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(TableStatsDialog);","const temporalResolutions = {\r\n    threeMinutes: 'Three Minutes',\r\n    sixHourly: 'Six Hourly',\r\n    daily: 'Daily',\r\n    weekly: 'Weekly',\r\n    monthly: 'Monthly',\r\n    annual: 'Annual',\r\n    irregular: 'Irregular',\r\n    monthlyClimatology: 'Monthly Climatology',\r\n    threeDay: 'Three Days',\r\n    eightDayRunning: 'Eight Day Running',\r\n    eightDays: 'Eight Days '\r\n}\r\n\r\nexport default temporalResolutions;","import temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nconst mapTemporalResolutionToNumber = (resolution) => {\r\n    let map = {\r\n        [temporalResolutions.threeMinutes] : 1,\r\n        [temporalResolutions.sixHourly] : 1,\r\n        [temporalResolutions.daily] : 1,\r\n        [temporalResolutions.weekly] : 7,\r\n        [temporalResolutions.monthly] : 30,\r\n        [temporalResolutions.annual] : 365,\r\n        [temporalResolutions.irregular] : null,\r\n        [temporalResolutions.monthlyClimatology]: 30,\r\n        [temporalResolutions.threeDay]: 3,\r\n        [temporalResolutions.eightDayRunning]: 8,\r\n        [temporalResolutions.eightDays]: 8\r\n    };\r\n\r\n    return map[resolution];\r\n}\r\n\r\nexport default mapTemporalResolutionToNumber;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport * as JsSearch from 'js-search';\r\nimport { FixedSizeList as List } from \"react-window\";\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MUISelect from '@material-ui/core/Select';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport { ArrowDropDown, LibraryBooks } from '@material-ui/icons';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\nimport states from '../asyncRequestStates';\r\nimport colors from '../Enums/colors';\r\nimport validation from '../Enums/validation';\r\nimport TableStatsDialog from './TableStatsDialog';\r\nimport mapTemporalResolutionToNumber from '../Utility/mapTemporalResolutionToNumber';\r\nimport mapSpatialResolutionToNumber from '../Utility/mapSpatialResolutionToNumber';\r\nimport spatialResolutions from '../Enums/spatialResolutions';\r\n\r\nimport { cruiseTrajectoryRequestSend } from '../Redux/actions/visualization';\r\n\r\n\r\nconst styles = (theme) => ({\r\n    dataRetrievalFormPaper: {\r\n        width: '1000px',\r\n        height: '260px',\r\n        padding: theme.spacing(2.5),\r\n        position:'fixed',\r\n        top: '10px',\r\n        left: '50%',\r\n        marginLeft: '-600px',\r\n        zIndex: 2,\r\n        paddingTop: theme.spacing(1.5),\r\n    },\r\n\r\n    dataRetrievalFormField: {\r\n        padding:`0px ${theme.spacing(1)}`\r\n    },\r\n\r\n    retrieveDataButton: {\r\n        margin:'10px auto'\r\n    },\r\n\r\n    variableSelect: {\r\n        margin: '0 30px 20px 30px'\r\n    },\r\n\r\n    visualizationSpeedDial: {\r\n        position: 'relative',\r\n        top: '5px',\r\n        left: '30px'\r\n    },\r\n\r\n    visualizeButton: {\r\n        borderRadius:'10%',\r\n        width: '100px',\r\n        height:'40px',\r\n        margin: 'auto 0',\r\n        backgroundColor: theme.palette\r\n    },\r\n\r\n    visualizeButtonText: {\r\n        dominantBaseline: \"middle\",\r\n        textAnchor: \"middle\"\r\n    },\r\n\r\n    displayNone: {\r\n        display: 'none'\r\n    },\r\n\r\n    datePickerGridSection: {\r\n        paddingLeft: '40px !important',\r\n        paddingRight: '40px !important'\r\n    },\r\n\r\n    shortenHeight: {\r\n        height: '60px'\r\n    },\r\n\r\n    vizSelect: {\r\n        minWidth: 120\r\n    },\r\n\r\n    gridItem: {\r\n        height: '48px'\r\n    },\r\n\r\n    generalMessage: {\r\n        textAlign: 'left'\r\n    },\r\n\r\n    vizTypeSelectFormControl: {\r\n        width: 150\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    catalog: state.catalog,\r\n    catalogRequestState: state.catalogRequestState,\r\n    cruiseTrajectory: state.cruiseTrajectory\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseTrajectoryRequestSend\r\n}\r\n\r\n// Replace react-select menulist with react-window (virtualized) fixed size list\r\nconst height = 35;\r\nclass MenuList extends Component {\r\n    render() {\r\n        const { options, children, maxHeight, getValue } = this.props;\r\n        const [value] = getValue();\r\n        const initialOffset = options.indexOf(value) * height;\r\n        \r\n        return (\r\n            <List\r\n                style={{backgroundColor: colors.backgroundGray}}\r\n                height={(options.length === 0 ? 35 : maxHeight > height * options.length ? height * options.length : maxHeight) || 35}\r\n                itemCount={children.length}\r\n                itemSize={height}\r\n                initialScrollOffset={initialOffset || 0}\r\n            >\r\n                {({ index, style }) => <div style={style}>{children[index]}</div>}\r\n            </List>\r\n        );\r\n    }\r\n}\r\n\r\n// Replace react-select dropdown area with material version\r\nconst DropdownIndicator = (props) => {\r\n    return (\r\n      <components.DropdownIndicator {...props}>\r\n        <ArrowDropDown />\r\n      </components.DropdownIndicator>\r\n    );\r\n  };\r\n\r\n// Replace react-select selected option\r\nconst SingleValue = (props) => {\r\n    return (\r\n        <components.SingleValue {...props} className={props.className + ' fa-icon-cmap'}/>\r\n    )\r\n}\r\n\r\n// Replace react-select option\r\nconst Option = (props) => {\r\n    return (\r\n        <components.Option {...props} className={props.className + ' fa-icon-cmap'}/>\r\n    )\r\n}\r\n\r\nclass DataRetrievalForm extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        var search = new JsSearch.Search('Variable');\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Variable');\r\n        search.addIndex('Make');\r\n        search.addIndex('Sensor');\r\n        search.addIndex('Data_Source');\r\n        search.addIndex('Process_Level');\r\n        search.addIndex('Long_Name');\r\n        search.addIndex('Keywords');\r\n        if(props.catalog) search.addDocuments(props.catalog);\r\n\r\n        this.state = {\r\n            visualizationSpeedDialOpen: false,\r\n            tableStatsDialogIsOpen: false,\r\n            search,\r\n            searchField: ''\r\n        }\r\n    }\r\n\r\n    // When we get the catalog add them to the search\r\n    // This is not reactive - it mutates the search piece of state in \r\n    // a way that is not visible to react and will not trigger a re-render.\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.catalog && prevProps.catalog.length) && (this.props.catalog && this.props.catalog.length)){\r\n            this.state.search.addDocuments(this.props.catalog);\r\n            this.setState({search: this.state.search})\r\n        }\r\n    }\r\n\r\n    handleTableStatsDialogClose = () => {\r\n        this.setState({...this.state, tableStatsDialogIsOpen: false})\r\n    }\r\n\r\n    handleTableStatsDialogOpen = () => {\r\n        this.setState({...this.state, tableStatsDialogIsOpen: true});\r\n    }\r\n\r\n    handleVisualizationSpeedDialClose = () => {\r\n        this.setState({visualizationSpeedDialOpen: false});\r\n    }\r\n\r\n    handleVisualizationSpeedDialOpen = () => {\r\n        this.setState({visualizationSpeedDialOpen: true});\r\n    }\r\n\r\n    handleVisualizationSpeedDialClick = () => {\r\n        this.setState({visualizationSpeedDialOpen: !this.state.visualizationSpeedDialOpen});\r\n    }\r\n\r\n    getSelectOptionsFromCatalogItems = (items) => {\r\n        return items.map(item => ({\r\n            value: item.Variable,\r\n            label: item.Variable === item.Long_Name ? (item.Variable.length > 48 ? item.Variable.slice(0,45) + '...' : item.Variable) : (item.Variable.length > 23 ? item.Variable.slice(0,23) : item.Variable) + ' : ' + (item.Long_Name.length > 38 ? item.Long_Name.slice(0,35) + '...' : item.Long_Name),\r\n            data: item\r\n        })) || []\r\n    }\r\n\r\n    onAutoSuggestChange = (searchString, action) => {\r\n        if(action.action === 'input-change') this.setState({...this.state, searchField: searchString});\r\n        if(action.action ==='set-value' || action.action === 'menu-close') this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    estimateDataSize = () => {\r\n        const { dt1, dt2, lat1, lat2, lon1, lon2, fields, selectedVizType } = this.props;\r\n        if(!fields) return 0;\r\n        if(fields.data.Spatial_Resolution === spatialResolutions.irregular) return 0;\r\n        if(selectedVizType === vizSubTypes.timeSeries || selectedVizType === vizSubTypes.depthProfile) return 0;\r\n\r\n        const date1 = Date.parse(dt1);\r\n        const date2 = Date.parse(dt2);\r\n        const res = mapSpatialResolutionToNumber(fields.data.Spatial_Resolution);\r\n\r\n        const dayDiff = (date2 - date1) / 86400000;\r\n\r\n        const dateCount = Math.floor(dayDiff / mapTemporalResolutionToNumber(fields.data.Temporal_Resolution)) || 1;\r\n        const latCount = (lat2 - lat1) / res;\r\n        const lonCount = (lon2 - lon1) / res;\r\n\r\n        const pointCount = lonCount * latCount * dateCount;\r\n        return pointCount;\r\n    }\r\n\r\n    checkStartDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth1) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.fields.data.Depth_Max)) return validation.depth.depthOneOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Max).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkEndDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth2) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth2) < parseFloat(this.props.fields.data.Depth_Min)) return validation.depth.depthTwoOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Min).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkStartDate = () => {\r\n        if(this.props.dt1 < this.props.dt2) return validation.date.dateOneIsLater;\r\n        if(this.props.dt1 > this.props.fields.data.Time_Max) return validation.date.dateOneOutOfBounds.replace('$', this.props.fields.data.Time_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndDate = () => {\r\n        if(this.props.dt1 < this.props.dt2) return validation.date.dateOneIsLater;\r\n        if(this.props.dt2 < this.props.fields.data.Time_Min) return validation.date.dateTwoOutOfBounds.replace('$', this.props.fields.data.Time_Min);\r\n        return '';\r\n    }\r\n\r\n    checkStartLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) < -90 || parseFloat(this.props.lat1) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.lat2)) return validation.lat.latOneIsHigher;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.fields.data.Lat_Max)) return validation.lat.latOneOutOfBounds.replace('$', this.props.fields.data.Lat_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat2) < -90 || parseFloat(this.props.lat2) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.lat2)) return validation.lat.latOneIsHigher;\r\n        if(parseFloat(this.props.lat2) < parseFloat(this.props.fields.data.Lat_Min)) return validation.lat.latTwoOutOfBounds.replace('$', this.props.fields.data.Lat_Max);\r\n        return '';\r\n    }\r\n\r\n    checkStartLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) < -180 || parseFloat(this.props.lon1) > 180) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.lon2)) return validation.lon.lonOneIsHigher;\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.fields.data.Lon_Max)) return validation.lon.lonOneOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon2) < -180 || parseFloat(this.props.lon2) > 180) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.lon2)) return validation.lon.lonOneIsHigher;\r\n        if(parseFloat(this.props.lon2) < parseFloat(this.props.fields.data.Lon_Min)) return validation.lon.lonTwoOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkHeatmap = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Heatmap');\r\n        return '';\r\n    }\r\n\r\n    checkContour = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Contour');\r\n        return '';\r\n    }\r\n\r\n    checkSection = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Section Map');\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', \"Section Map\");\r\n        return '';\r\n    }\r\n\r\n    checkHistogram = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Histogram');\r\n        return '';\r\n    }\r\n\r\n    checkTimeSeries = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Time Series');\r\n        if(this.props.dt1 === this.props.dt2) return validation.type.dateRangeRequired.replace('$', 'Time Series');\r\n        return '';\r\n    }\r\n\r\n    checkDepthProfile = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Depth Profile');\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', 'Depth Profile');\r\n        return '';\r\n    }\r\n\r\n    checkSparseMap = () => {\r\n        if(!this.props.irregularSpatialResolution) return validation.type.irregularOnly;\r\n        return '';\r\n    }\r\n\r\n    checkGeneralWarn = () => {\r\n        if(this.estimateDataSize() > 1200000) return validation.generic.dataSizeWarning;\r\n        return ''\r\n    }\r\n\r\n    checkGeneralPrevent = () => {\r\n        if(this.estimateDataSize() > 50000000) return validation.generic.dataSizePrevent;\r\n        return ''\r\n    }\r\n    \r\n    render() {      \r\n        const { search, searchField } = this.state;\r\n        \r\n        const { classes, \r\n            fields, \r\n            depth1,\r\n            depth2,\r\n            dt1,\r\n            dt2,\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            selectedVizType,\r\n            catalog,\r\n            catalogRequestState,\r\n            surfaceOnly\r\n        } = this.props;\r\n\r\n        const options = searchField && catalog ? this.getSelectOptionsFromCatalogItems(search.search(searchField)) \r\n            : catalog ? this.getSelectOptionsFromCatalogItems(catalog) \r\n            : []\r\n\r\n        let validations;\r\n\r\n        if(fields) {\r\n            validations = [\r\n                this.checkStartDepth(),\r\n                this.checkEndDepth(),\r\n                this.checkStartDate(),\r\n                this.checkEndDate(),\r\n                this.checkStartLat(),\r\n                this.checkEndLat(),\r\n                this.checkStartLon(),\r\n                this.checkEndLon(),\r\n                this.checkHeatmap(),\r\n                this.checkContour(),\r\n                this.checkSection(),\r\n                this.checkHistogram(),\r\n                this.checkTimeSeries(),\r\n                this.checkDepthProfile(),\r\n                this.checkSparseMap(),\r\n                this.checkGeneralWarn(),\r\n                this.checkGeneralPrevent()\r\n            ];\r\n        } else validations = Array(17).fill('');\r\n\r\n        const [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startDateMessage,\r\n            endDateMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            heatmapMessage,\r\n            contourMessage,\r\n            sectionMapMessage,\r\n            histogramMessage,\r\n            timeSeriesMessage,\r\n            depthProfileMessage,\r\n            sparseMapMessage,\r\n            generalWarnMessage,\r\n            generalPreventMessage\r\n        ] = validations;\r\n\r\n        const parametersAreInvalid = [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            generalPreventMessage\r\n        ].some(message => message.length);\r\n\r\n        //     if(isNaN(Date.parse(dt1))){\r\n        //         this.props.snackbarOpen('Please enter a valid starting date.');\r\n        //         return true;\r\n        //     }\r\n    \r\n        //     if(isNaN(Date.parse(dt2))){\r\n        //         this.props.snackbarOpen('Please enter a valid ending date.');\r\n        //         return true;\r\n        //     }\r\n    \r\n        //     return false;\r\n        // }\r\n\r\n        return (\r\n            <div className={this.props.showUI ? '' : classes.displayNone} id='drf'>\r\n                <TableStatsDialog\r\n                    open={this.state.tableStatsDialogIsOpen}\r\n                    onClose={this.handleTableStatsDialogClose}\r\n                    data={fields && fields.data}\r\n                />\r\n                <Paper className={classes.dataRetrievalFormPaper}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={11} className={classes.shortenHeight}>\r\n                            <Select\r\n                                isLoading = {catalogRequestState === states.inProgress}\r\n                                components={{\r\n                                    IndicatorSeparator:'',\r\n                                    DropdownIndicator,\r\n                                    Option,\r\n                                    MenuList,\r\n                                    SingleValue,\r\n                                }}\r\n                                isClearable\r\n                                onInputChange={this.onAutoSuggestChange}\r\n                                filterOption={null}\r\n                                className={classes.variableSelect}\r\n                                autoFocus\r\n                                escapeClearsValue\r\n                                name=\"fields\"\r\n                                label=\"Variables\"\r\n                                options={options}\r\n                                onChange={this.props.updateFields}\r\n                                value={fields}\r\n                                placeholder=\"Variable Search\"\r\n                                styles={{\r\n                                    menu: provided => ({ ...provided, zIndex: 9999 }),\r\n\r\n                                    input: provided => ({...provided,\r\n                                        color: 'white',\r\n                                        fontFamily: '\"Lato\", sans-serif'\r\n                                    }),\r\n\r\n                                    control: provided => ({...provided,\r\n                                        backgroundColor: '#424242',\r\n                                        border: '1px solid #333333',\r\n                                        '&:hover': { borderColor: 'white' },\r\n                                        '&:focus-within': { borderColor: colors.orange },\r\n                                    }),\r\n\r\n                                    placeholder: provided => ({...provided,\r\n                                        fontFamily: '\"Lato\", sans-serif',\r\n                                        color: colors.orange,\r\n                                        fontSize: '14px'\r\n                                    }),\r\n\r\n                                    noOptionsMessage: provided => ({...provided,\r\n                                        fontFamily: '\"Lato\", sans-serif',\r\n                                        color: colors.orange,\r\n                                        backgroundColor: colors.backgroundGray\r\n                                    }),\r\n\r\n                                    option: (provided, state) => ({...provided,\r\n                                        backgroundColor: '#424242',\r\n                                        color: state.data.data.Sensor === 'Satellite' ? '#1acf02' : state.data.data.Sensor === 'Blend' ? '#fce803' : '#009fd4',\r\n                                        '&:hover': { backgroundColor: '#383838' },\r\n                                        '&:after': { \r\n                                            content: state.data.data.Sensor === 'Satellite' ? \"'\\f7bf'\" : state.data.data.Sensor === 'Blend' ? \"'\\f109'\" : \"'\\f21a'\",\r\n                                            float: 'left'\r\n                                        },\r\n                                    }),\r\n\r\n                                    singleValue: (provided, state) => ({...provided,\r\n                                        fontFamily: state.data.data.Sensor === 'Satellite' ? 'Font Awesome 5 Free': '\"Lato\", sans-serif',\r\n                                        color: state.data.data.Sensor === 'Satellite' ? '#1acf02' : state.data.data.Sensor === 'Blend' ? '#fce803' : '#009fd4',\r\n                                        paddingRight: '20px',\r\n                                        '&:after': { \r\n                                            content: state.data.data.Sensor === 'Satellite' ? \"'\\f7bf'\" : state.data.data.Sensor === 'Blend' ? \"'\\f109'\" : \"'\\f21a'\",\r\n                                            fontSize: '18px',\r\n                                            position: 'relative',\r\n                                            left: '8px',\r\n                                            top: '3px'\r\n                                        }\r\n                                    })\r\n                                }}\r\n                                theme={theme => ({\r\n                                    ...theme,\r\n                                    colors: {\r\n                                    ...theme.colors,\r\n                                    // Background color of hovered options\r\n                                    primary25: '#e0e0e0',\r\n                                    primary: '#212121',\r\n                                    },\r\n                                })}\r\n                            />\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={1}>\r\n                            <IconButton\r\n                                disabled={!fields}\r\n                                onClick={this.handleTableStatsDialogOpen}\r\n                            >\r\n                                <LibraryBooks/>\r\n                            </IconButton>\r\n                        </Grid>\r\n                        \r\n                            <Grid item xs={3} className={classes.datePickerGridSection}>\r\n                                <KeyboardDatePicker\r\n                                    placeholder='yyyy-MM-dd'\r\n                                    id=\"startDate\"\r\n                                    label=\"Start Date\"\r\n                                    name=\"dt1\"\r\n                                    format='yyyy-MM-dd'\r\n                                    minDate={fields ? fields.data.Time_Min : ''}\r\n                                    maxDate={fields ? fields.data.Time_Max : ''}\r\n                                    autoOk\r\n                                    value={dt1}\r\n                                    onChange={this.props.handleStartDateChange}\r\n                                    inputVariant='outlined'\r\n                                    variant='inline'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </Grid>  \r\n                            <Grid item xs={3} className={classes.datePickerGridSection}>\r\n                                <KeyboardDatePicker\r\n                                    placeholder='yyyy-MM-dd'\r\n                                    id=\"endDate\"\r\n                                    label=\"End Date\"\r\n                                    name=\"dt2\"\r\n                                    format='yyyy-MM-dd'\r\n                                    minDate={fields ? fields.data.Time_Min : ''}\r\n                                    maxDate={fields ? fields.data.Time_Max : ''}\r\n                                    autoOk\r\n                                    value={dt2}\r\n                                    onChange={this.props.handleEndDateChange}\r\n                                    inputVariant='outlined'\r\n                                    variant='inline'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </Grid>  \r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(startDepthMessage)} \r\n                                    disabled={!fields || surfaceOnly}\r\n                                >\r\n                                    <InputLabel htmlFor=\"depth1-input\" >Start Depth(m)</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"depth1-input\"\r\n                                        value={depth1}\r\n                                        onChange={this.props.handleChange}\r\n                                        aria-describedby=\"depth1-error\"\r\n                                        labelWidth={105}\r\n                                        name='depth1'\r\n                                    />\r\n                                    <FormHelperText id=\"depth1-error\">{startDepthMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>  \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(endDepthMessage)} \r\n                                    disabled={!fields || surfaceOnly}\r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"depth2-input\" >End Depth(m)</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"depth2-input\"\r\n                                        value={depth2}\r\n                                        onChange={this.props.handleChange}\r\n                                        aria-describedby=\"depth2-error\"\r\n                                        labelWidth={95}\r\n                                        name='depth2'\r\n                                    />\r\n                                    <FormHelperText id=\"depth2-error\">{endDepthMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(startLatMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lat1-input\" >{'Start Lat(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lat1-input\"\r\n                                        value={lat1}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lat1-error\"\r\n                                        labelWidth={80}\r\n                                        name='lat1'\r\n                                    />\r\n                                    <FormHelperText id=\"lat1-error\">{startLatMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>  \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(endLatMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lat2-input\" >{'End Lat(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lat2-input\"\r\n                                        value={lat2}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lat2-error\"\r\n                                        labelWidth={75}\r\n                                        name='lat2'\r\n                                    />\r\n                                    <FormHelperText id=\"lat2-error\">{endLatMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid> \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(startLonMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lon1-input\" >{'Start Lon(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lon1-input\"\r\n                                        value={lon1}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lon1-error\"\r\n                                        labelWidth={80}\r\n                                        name='lon1'\r\n                                    />\r\n                                    <FormHelperText id=\"lon1-error\">{startLonMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid>  \r\n\r\n                            <Grid item xs={3}>\r\n                                <FormControl variant='outlined'\r\n                                    error={Boolean(endLonMessage)} \r\n                                >\r\n                                    <InputLabel shrink htmlFor=\"lon2-input\" >{'End Lon(\\xB0)'}</InputLabel>\r\n                                    <OutlinedInput\r\n                                        id=\"lon2-input\"\r\n                                        value={lon2}\r\n                                        onChange={this.props.handleLatLonChange}\r\n                                        aria-describedby=\"lon2-error\"\r\n                                        labelWidth={75}\r\n                                        name='lon2'\r\n                                    />\r\n                                    <FormHelperText id=\"lon2-error\">{endLonMessage}</FormHelperText>\r\n                                </FormControl>\r\n                            </Grid> \r\n\r\n                            <Grid item xs={2}>\r\n                                <FormControl variant='outlined' className={classes.vizTypeSelectFormControl}>\r\n                                    <InputLabel shrink htmlFor=\"vizSelector\" >Type</InputLabel>\r\n                                    <MUISelect\r\n                                        labelWidth={35}\r\n                                        value={selectedVizType}\r\n                                        variant='outlined'\r\n                                        onChange={this.props.handleChange}\r\n                                        inputProps={{\r\n                                            name: 'selectedVizType',\r\n                                            id: 'vizSelector',\r\n                                            variant: 'outlined'\r\n                                        }}\r\n                                        >\r\n                                        <MenuItem disabled={Boolean(heatmapMessage)} value={vizSubTypes.heatmap} title={heatmapMessage}>Heatmap</MenuItem>\r\n                                        <MenuItem disabled={Boolean(contourMessage)} value={vizSubTypes.contourMap}>Contour</MenuItem>\r\n                                        <MenuItem disabled={Boolean(sectionMapMessage)} value={vizSubTypes.sectionMap}>Section Map</MenuItem>\r\n                                        <MenuItem disabled={Boolean(histogramMessage)} value={vizSubTypes.histogram}>Histogram</MenuItem>                                    \r\n                                        <MenuItem disabled={Boolean(timeSeriesMessage)} value={vizSubTypes.timeSeries}>Time Series</MenuItem>\r\n                                        <MenuItem disabled={Boolean(depthProfileMessage)} value={vizSubTypes.depthProfile}>Depth Profile</MenuItem>\r\n                                        <MenuItem disabled={Boolean(sparseMapMessage)} value={vizSubTypes.sparse}>Sparse Map</MenuItem>\r\n                                    </MUISelect>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={2}>\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='secondary'\r\n                                    onClick={() => this.props.onVisualize()}\r\n                                    disabled={!selectedVizType || parametersAreInvalid || !fields}\r\n                                >\r\n                                    Visualize\r\n                                </Button>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={3}>\r\n                                <Typography variant='caption' color='error' className={classes.generalMessage}>\r\n                                    {generalPreventMessage || generalWarnMessage}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                </Paper>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DataRetrievalForm));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { InsertChartOutlined, Delete, Web, Language } from '@material-ui/icons';\r\n\r\nimport { clearCharts } from '../Redux/actions/visualization';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    charts: state.charts\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    clearCharts\r\n}\r\n\r\nconst styles = (theme) => ({\r\n\r\n    panelPaper: {\r\n        width: '27px',\r\n        // height: '240px',\r\n        padding: theme.spacing(0.3),\r\n        position:'fixed',\r\n        left: '15px',\r\n        bottom: '40vh',\r\n        zIndex: 2,\r\n        textDecoration:'none',\r\n        cursor: 'pointer',\r\n        borderRadius: '5%',\r\n        backgroundColor: 'transparent'\r\n    },\r\n\r\n    iconButton: {\r\n        padding: theme.spacing(0.4),\r\n        marginLeft: '-2px',\r\n        marginTop: '-1px'\r\n    }\r\n})\r\n\r\nconst VizControlPanel = (props) => {\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <div>\r\n            <Paper className={classes.panelPaper}>\r\n                <Grid container direction='column'>\r\n\r\n                    <Tooltip title={props.showUI ? 'Hide UI' : 'Show UI'}>\r\n                        <IconButton color='secondary' onClick={props.toggleShowUI} className={classes.iconButton}>\r\n                            <Web/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    {props.showCharts? \r\n                        <Tooltip title='Show Globe'>\r\n                            <IconButton color='secondary' onClick={props.toggleChartView} className={classes.iconButton}>\r\n                                <Language/>\r\n                            </IconButton>\r\n                        </Tooltip>                \r\n                    :\r\n                        <Tooltip title='Show Charts'>\r\n                            <IconButton color={props.charts.length ? 'primary' : 'secondary'} onClick={props.toggleChartView} className={classes.iconButton}>\r\n                                <InsertChartOutlined/>\r\n                            </IconButton>\r\n                        </Tooltip>            \r\n                    }\r\n\r\n                    <Tooltip title='Clear Visualizations'>\r\n                        <IconButton color='secondary' onClick={props.clearCharts} className={classes.iconButton}>\r\n                            <Delete/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                </Grid>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(VizControlPanel));\r\n","import React, { useState } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Palette } from '@material-ui/icons';\r\n\r\nconst styles = theme => ({\r\n    colorscaleMenu: {\r\n        maxHeight: '400px'\r\n    },\r\n\r\n    iconButtonWrapper: {\r\n        display: 'inline-block'\r\n    }\r\n})\r\n\r\nconst colorscaleOptions = [\r\n    'Greys', \r\n    'YlGnBu', \r\n    'Greens', \r\n    'YlOrRd',\r\n    'Bluered',\r\n    'RdBu',\r\n    'Reds',\r\n    'Blues',\r\n    'Picnic',\r\n    'Rainbow',\r\n    'Portland',\r\n    'Jet',\r\n    'Hot',\r\n    'Blackbody',\r\n    'Earth',\r\n    'Electric',\r\n    'Viridis',\r\n    'Cividis'];\r\n\r\nconst PaletteControls = (props) => {\r\n\r\n    const { classes, disabled } = props;\r\n\r\n    const [paletteAnchorElement, setPaletteAnchorElement] = useState(null);\r\n\r\n    if(disabled){\r\n        return (\r\n            <Tooltip title='Change Palette'>\r\n                <div className={classes.iconButtonWrapper}>\r\n                <IconButton disabled={disabled} color='secondary' onClick={handleOpenPalette} className={classes.iconButton}>\r\n                    <Palette/>\r\n                </IconButton>\r\n                </div>\r\n            </Tooltip>\r\n        )\r\n    }\r\n\r\n    let handleOpenPalette = (event) => {\r\n        setPaletteAnchorElement(event.currentTarget);\r\n    }\r\n\r\n    let handlePaletteChoice = (option) => {\r\n        setPaletteAnchorElement(null);\r\n        props.handlePaletteChoice(option);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Tooltip title='Change Palette'>\r\n                <IconButton disabled={disabled} color='secondary' onClick={handleOpenPalette} className={classes.iconButton}>\r\n                    <Palette/>\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={paletteAnchorElement}\r\n                keepMounted\r\n                open={Boolean(paletteAnchorElement)}\r\n                onClose={() => setPaletteAnchorElement(null)}\r\n                className={classes.colorscaleMenu}\r\n            >\r\n                {colorscaleOptions.map((option, index) => (\r\n                    <MenuItem onClick={() => handlePaletteChoice(option)} key={index}>{option}</MenuItem>\r\n                ))}\r\n                \r\n            </Menu>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(PaletteControls);","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { SwapVert } from '@material-ui/icons';\r\n\r\nconst styles = theme => ({\r\n    popover: {\r\n        width: '470px',\r\n        height: '110px',\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(1),\r\n        paddingLeft: theme.spacing(2.5),\r\n        paddingRight: theme.spacing(2.5)\r\n    },\r\n\r\n        iconButtonWrapper: {\r\n            display: 'inline-block'\r\n        }\r\n\r\n})\r\n\r\nconst ZValueControls = (props) => {\r\n\r\n    const { classes, extent, zValues, handleZValueConfirm, disabled } = props;\r\n\r\n    if(disabled){\r\n        return (\r\n            <Tooltip title='Change Colorscale Range'>\r\n                <div className={classes.iconButtonWrapper}>\r\n                <IconButton disabled>\r\n                    <SwapVert/>\r\n                </IconButton>\r\n                </div>\r\n            </Tooltip>\r\n        )\r\n    }\r\n\r\n    const [popoverAnchorElement, setPopoverAnchorElement] = React.useState(null);\r\n    const [localZMin, setLocalZMin] = React.useState(zValues[0]);\r\n    const [localZMax, setLocalZMax] = React.useState(zValues[1]);\r\n\r\n    const handleClose = () => {\r\n        setPopoverAnchorElement(null);\r\n    };\r\n\r\n    const handleConfirm = () => {\r\n        handleZValueConfirm([localZMin, localZMax]);\r\n        handleClose();\r\n    }\r\n\r\n    const checkLocalZMin = () => {\r\n        if(localZMin < extent[0]) return `Minimum value is ${extent[0]}`;\r\n        if(localZMin > localZMax) return `Min must be higher than max`;\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(localZMin)) return 'Invalid value';\r\n    }\r\n\r\n    const checkLocalZMax = () => {\r\n        if(localZMax > extent[1]) return `Maximum value is ${extent[1]}`;\r\n        if(localZMin > localZMax) return `Min must be higher than max`;\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(localZMax)) return 'Invalid value';\r\n    }\r\n\r\n    const validations = [\r\n        checkLocalZMin(),\r\n        checkLocalZMax()\r\n    ];\r\n\r\n    const [\r\n        zMinMessage,\r\n        zMaxMessage\r\n    ] = validations;\r\n\r\n    const open = Boolean(popoverAnchorElement);\r\n    const id = open ? 'simple-popover' : undefined;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Tooltip title='Change Colorscale Range'>\r\n                <IconButton disabled={disabled} color='secondary' onClick={(event) => setPopoverAnchorElement(event.currentTarget)}>\r\n                    <SwapVert/>\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n            <Popover\r\n                id={id}\r\n                open={open}\r\n                anchorEl={popoverAnchorElement}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <div className={classes.popover}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(zMinMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='z-min-input' >Min</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='z-min-input'\r\n                                    value={localZMin}\r\n                                    onChange={(event) => setLocalZMin(event.target.value)}\r\n                                    aria-describedby='local-zmin-error'\r\n                                    labelWidth={50}\r\n                                    name='local-zmin'\r\n                                />\r\n                                <FormHelperText id='local-zmin-error'>{zMinMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(zMaxMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='z-max-input' >Max</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='z-max-input'\r\n                                    value={localZMax}\r\n                                    onChange={(event) => setLocalZMax(event.target.value)}\r\n                                    aria-describedby=\"local-zmax-error\"\r\n                                    labelWidth={50}\r\n                                    name='local-zmax'\r\n                                />\r\n                                <FormHelperText id=\"local-zmax-error\">{zMaxMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={7}>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button onClick={handleClose}>\r\n                                Cancel\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button \r\n                                color='primary'\r\n                                onClick={handleConfirm}\r\n                                disabled={Boolean(zMinMessage || zMaxMessage)}\r\n                            >\r\n                                Confirm\r\n                            </Button>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={1}>\r\n                        </Grid>\r\n\r\n                    </Grid>                    \r\n                </div>\r\n            </Popover>\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(ZValueControls);","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { DateRange, Waves, CloudDownload } from '@material-ui/icons';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport PaletteControls from './PaletteControls';\r\nimport ZValueControls from './ZValueControls';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    },\r\n    iconButtonWrapper: {\r\n        display: 'inline-block'\r\n    }\r\n})\r\n\r\nconst ChartControlPanel = (props) => {\r\n\r\n    const { \r\n        classes, \r\n        handlePaletteChoice, \r\n        onToggleSplitByDate, \r\n        onToggleSplitByDepth, \r\n        downloadCsv, \r\n        splitByDepth, \r\n        splitByDate,\r\n        handleZValueConfirm,\r\n        zValues,\r\n        extent\r\n    } = props;\r\n\r\n    console.log(downloadCsv)\r\n    return (\r\n        <div className={classes.buttonBlock}>\r\n\r\n            <Tooltip title={splitByDate ? 'Merge Dates' : 'Split By Date'}>\r\n                <div className={classes.iconButtonWrapper}>\r\n                    <IconButton color='secondary' className={classes.iconButton} \r\n                        disabled={!Boolean(onToggleSplitByDate)} \r\n                        onClick={onToggleSplitByDate}\r\n                    >\r\n                        <DateRange/>\r\n                    </IconButton>\r\n                </div>\r\n            </Tooltip>\r\n\r\n            <Tooltip title={splitByDepth ? 'Merge Depths' : 'Split By Depth'}>\r\n                <div className={classes.iconButtonWrapper}>\r\n                    <IconButton color='secondary' className={classes.iconButton} \r\n                        disabled={!Boolean(onToggleSplitByDepth)} \r\n                        onClick={onToggleSplitByDepth}\r\n                    >\r\n                        <Waves/>\r\n                    </IconButton>\r\n                </div>\r\n            </Tooltip>\r\n\r\n            <Tooltip title='Download CSV'>\r\n                <div className={classes.iconButtonWrapper}>\r\n                    <IconButton color='secondary' onClick={downloadCsv} className={classes.iconButton} >\r\n                        <CloudDownload/>\r\n                    </IconButton>\r\n                </div>\r\n            </Tooltip>\r\n\r\n            <ZValueControls\r\n                disabled={!Boolean(handleZValueConfirm)}\r\n                zValues={zValues}\r\n                handleZValueConfirm={handleZValueConfirm}\r\n                extent={extent}\r\n            />\r\n            \r\n            <PaletteControls\r\n                disabled={!Boolean(handlePaletteChoice)}\r\n                handlePaletteChoice={handlePaletteChoice}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(ChartControlPanel);","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport vizSubTypes from '../../Enums/visualizationSubTypes';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui'; \r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nconst handleContourMap = (subsets, infoObject, splitByDate, splitByDepth, palette, zMin, zMax) => {\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n        const date = !splitByDate ? 'Merged Dates' : \r\n            splitByDepth ? dates[Math.floor(index/depths.length)].slice(0, 10) : dates[index].slice(0, 10);\r\n        \r\n        const depth = !infoObject.hasDepth ? 'Surface' : \r\n            !splitByDepth ? 'Merged Depths' : \r\n            depths[index % depths.length].toFixed(2) + 'm depth';\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n            \r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zMin,\r\n                    zmax: zMax,\r\n                    x: infoObject.lons,\r\n                    y: infoObject.lats,\r\n                    z: subset,\r\n                    connectgaps: false,\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n                    \r\n                    name: infoObject.parameters.fields,\r\n                    type: 'contour',\r\n                    contours: {\r\n                        coloring: palette,\r\n                        showlabels: true,\r\n                        labelfont: {\r\n                            family: 'Raleway',\r\n                            size: 12,\r\n                            color: 'white',\r\n                        },\r\n                        labelformat: '.2e'\r\n                    },\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat: 'power'\r\n                    }\r\n                }\r\n            ]}\r\n            \r\n            key={index}\r\n            layout= {{\r\n                font: {color: '#ffffff'},\r\n                title: `${variableName}[${infoObject.metadata.Unit}]  ${depth}  ${date}`,\r\n                xaxis: {title: 'Longitude', color: '#ffffff'},\r\n                yaxis: {title: 'Latitude', color: '#ffffff'},\r\n                paper_bgcolor: colors.backgroundGray,\r\n                annotations: [\r\n                    {\r\n                        text: `Source: ${infoObject.metadata.Distributor.length < 30 ? \r\n                            infoObject.metadata.Distributor : \r\n                            infoObject.metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n\r\n            }}   \r\n        />)\r\n    })\r\n}\r\n\r\nconst handleHistogram = (subsets, infoObject, splitByDate, splitByDepth, palette) => {\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n        const date = !splitByDate ? 'Aggregated Time' : \r\n            splitByDepth ? dates[Math.floor(index/depths.length)].slice(0, 10) : dates[index].slice(0, 10);\r\n        const depth = !infoObject.hasDepth ? 'Surface' : \r\n            !splitByDepth ? 'Aggregated Depth' : \r\n            splitByDate ? depths[index % depths.length].toFixed(2) + 'm depth' : depths[index].toFixed(2) + 'm depth';\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n\r\n            data={[\r\n                {\r\n                    x: subset,\r\n                    name: infoObject.parameters.fields,\r\n                    type: 'histogram'\r\n                }\r\n            ]}\r\n            \r\n            key={index}\r\n            layout= {{\r\n                font: {color: '#ffffff'},\r\n                title: `${variableName}[${infoObject.metadata.Unit}]  ${depth}  ${date}`,\r\n                xaxis: {\r\n                    title: `${infoObject.parameters.fields} [${infoObject.metadata.Unit}]`,\r\n                    exponentformat: 'power',\r\n                    color: '#ffffff'\r\n                },\r\n                yaxis:{\r\n                    color: '#ffffff',\r\n                    title: 'Frequency'\r\n                },\r\n                paper_bgcolor: colors.backgroundGray,\r\n                annotations: [\r\n                    {\r\n                        text: `Source: ${infoObject.metadata.Distributor.length < 30 ? \r\n                            infoObject.metadata.Distributor : \r\n                            infoObject.metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n\r\n            }}   \r\n        />)\r\n    })\r\n}\r\n\r\nconst handleHeatmap = (subsets, infoObject, splitByDate, splitByDepth, palette, zMin, zMax) => {\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n        const date = !splitByDate ? 'Merged Dates' : \r\n            splitByDepth ? dates[Math.floor(index/depths.length)].slice(0, 10) : dates[index].slice(0, 10);\r\n        const depth = !infoObject.hasDepth ? 'Surface' : \r\n            !splitByDepth ? 'Merged Depths' : \r\n            splitByDate ? depths[index % depths.length].toFixed(2) + 'm depth' : depths[index].toFixed(2) + 'm depth';\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n\r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zMin,\r\n                    zmax: zMax,\r\n                    zsmooth: subset.length < 20000 ? 'fast' : 'false',\r\n                    x: infoObject.lons,\r\n                    y: infoObject.lats,\r\n                    z: subset,\r\n                    connectgaps: false,\r\n                    name: infoObject.parameters.fields,\r\n                    type: 'heatmapgl',\r\n                    colorscale: palette,\r\n                    autocolorscale: false,\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat:'power'\r\n                    },\r\n                    \r\n                }\r\n            ]}                \r\n            key={index}\r\n\r\n            layout= {{\r\n                font: {color: '#ffffff'},\r\n                title: `${variableName}[${infoObject.metadata.Unit}]  ${depth}   ${date}`,\r\n                xaxis: {\r\n                    title: 'Longitude[\\xB0]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                yaxis: {\r\n                    title: 'Latitude[\\xB0]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                paper_bgcolor: colors.backgroundGray,\r\n                annotations: [\r\n                    {\r\n                        text: `Source: ${infoObject.metadata.Distributor.length < 30 ? \r\n                            infoObject.metadata.Distributor : \r\n                            infoObject.metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n\r\n            }}   \r\n        />)\r\n    })\r\n}\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    },\r\n    iconButtonWrapper: {\r\n        display: 'inline-block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst SpaceTimeChart = (props) => {\r\n\r\n    const { classes } = props;\r\n    const { data, subType } = props.chart;\r\n    const { dates, depths, extent } = data;\r\n\r\n    const [splitByDate, setSplitByDate] = useState(false);\r\n    const [splitByDepth, setSplitByDepth] = useState(false);\r\n    const [subTypeState, setSubTypeState] = useState(subType);\r\n    const [palette, setPalette] = useState('heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [zMin, zMax] = zValues;\r\n\r\n    const subSets = data.generatePlotData(subTypeState, splitByDate, splitByDepth);\r\n    var plots;\r\n\r\n    switch(subTypeState){\r\n        case vizSubTypes.contourMap:\r\n            plots = handleContourMap(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        case vizSubTypes.heatmap:\r\n            plots = handleHeatmap(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        case vizSubTypes.histogram:\r\n            plots = handleHistogram(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        default:\r\n            plots = '';\r\n            break;        \r\n\r\n    }\r\n\r\n    const onToggleSplitByDate = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitByDate(!splitByDate);\r\n        }, 100)\r\n    }\r\n\r\n    const onToggleSplitByDepth = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitByDepth(!splitByDepth);\r\n        }, 100)\r\n    }\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const downloadCsv = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n\r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ChartControlPanel\r\n                handlePaletteChoice={handlePaletteChoice}\r\n                onToggleSplitByDepth={depths.size===1 ? null : onToggleSplitByDepth}\r\n                onToggleSplitByDate={dates.size===1 ? null : onToggleSplitByDate}\r\n                splitByDepth={splitByDepth}\r\n                splitByDate={splitByDate}\r\n                handleZValueConfirm={handleZValueConfirm}\r\n                zValues={zValues}\r\n                extent={extent}\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            {plots}      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SpaceTimeChart));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst TimeSeriesChart = (props) => {\r\n\r\n    const { classes } = props;\r\n    const { data } = props.chart;\r\n    const { stds, variableValues, dates, parameters, metadata } = data;\r\n\r\n    const downloadCsv = () => {\r\n        setLoadingMessage('Processing Data');\r\n    \r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => setLoadingMessage(''));\r\n    \r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }  \r\n\r\n    return (\r\n        <div>\r\n            <ChartControlPanel\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            <Plot\r\n                style= {{\r\n                    position: 'relative',\r\n                    display:'inline-block'\r\n                }}\r\n\r\n                data={[\r\n                  {\r\n                  x: dates,\r\n                  y: variableValues,\r\n                  error_y: {\r\n                    type: 'data',\r\n                    array: stds,\r\n                    opacity: 0.2,\r\n                    color: 'gray',\r\n                    visible: true\r\n                  },\r\n                  name: parameters.fields,\r\n                  type: 'scatter',\r\n                  line: {color: '#e377c2'},\r\n                  },\r\n                ]}\r\n\r\n                layout= {{\r\n                    title: `${parameters.fields}[${metadata.Unit}]  ${parameters.dt1} to ${parameters.dt2}`,\r\n\r\n                    paper_bgcolor: colors.backgroundGray,\r\n                    font: {\r\n                        color: '#ffffff'\r\n                    },\r\n                  xaxis: {\r\n                      title: 'Time',\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  yaxis: {\r\n                      title: parameters.fields,\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  annotations: [\r\n                    {\r\n                        text: `Source: ${metadata.Distributor.length < 30 ? \r\n                                metadata.Distributor : \r\n                                metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n                }}\r\n                \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(TimeSeriesChart));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst DepthProfileChart = (props) => {\r\n\r\n    const { classes, setLoadingMessage } = props;\r\n    const { data } = props.chart;\r\n    const { stds, variableValues, depths, parameters, metadata } = data;\r\n\r\n    const downloadCsv = () => {\r\n        setLoadingMessage('Processing Data');\r\n    \r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => setLoadingMessage(''));\r\n    \r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }    \r\n\r\n    return (\r\n        <div>\r\n            <ChartControlPanel\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            <Plot\r\n                style= {{\r\n                    position: 'relative',\r\n                    display:'inline-block'\r\n                }}\r\n\r\n                data={[\r\n                  {\r\n                  x: depths,\r\n                  y: variableValues,\r\n                  error_y: {\r\n                    type: 'data',\r\n                    array: stds,\r\n                    opacity: 0.2,\r\n                    color: 'gray',\r\n                    visible: true\r\n                  },\r\n                  name: parameters.fields,\r\n                  type: 'scatter',\r\n                  line: {color: '#e377c2'},\r\n                  },\r\n                ]}\r\n\r\n                layout= {{\r\n                    title: `${parameters.fields}[${metadata.Unit}]  ${parameters.depth1} to ${parameters.depth2} meters`,\r\n\r\n                    paper_bgcolor: colors.backgroundGray,\r\n                    font: {\r\n                        color: '#ffffff'\r\n                    },\r\n                  xaxis: {\r\n                      title: 'Depth[m]',\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  yaxis: {\r\n                      title: `${parameters.fields}[${metadata.Unit}]`,\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  annotations: [\r\n                    {\r\n                        text: `Source: ${metadata.Distributor.length < 30 ? \r\n                                metadata.Distributor : \r\n                                metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n                }}\r\n                \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(DepthProfileChart));","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nconst handleSectionMap = (subsets, infoObject, splitByDate, splitBySpace, orientation) => {\r\n\r\n    const dates = Array.from(infoObject.dates);\r\n\r\n    const distinctMeridiansOrParallelsForSplitting = \r\n        orientation === 'zonal' ?\r\n        infoObject.latsDistinct : \r\n        infoObject.lonsDistinct;\r\n\r\n    const xAxisLabel = \r\n        orientation === 'zonal' ?\r\n        'Longitude' : \r\n        'Latitude';\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const variableName = infoObject.parameters.fields;\r\n        const date = dates.length < 2 ?\r\n            dates[0] :\r\n            !splitByDate ? \r\n                'Merged Dates' : \r\n                splitBySpace ? \r\n                    dates[Math.floor(index/distinctMeridiansOrParallelsForSplitting.length)].slice(0, 10) : \r\n                    dates[index];\r\n                \r\n        const spaceTitle = distinctMeridiansOrParallelsForSplitting.length <= 1 ? distinctMeridiansOrParallelsForSplitting[0] : \r\n            !splitBySpace ? `Merged ${xAxisLabel}s` : \r\n            `${distinctMeridiansOrParallelsForSplitting[index % distinctMeridiansOrParallelsForSplitting.length]} ${orientation === 'zonal' ? \r\n            'Parallel' :\r\n            'Meridian'}`\r\n \r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n\r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: infoObject.zMin,\r\n                    zmax: infoObject.zMax,\r\n                    zsmooth: subset.length < 20000 ? 'best' : 'fast',\r\n                    x: orientation === 'zonal' ? infoObject.lons : infoObject.lats,\r\n                    y: orientation === 'zonal' ? infoObject.zonalPlotDepths : infoObject.meridionalPlotDepths,\r\n                    z: subset,\r\n                    name: infoObject.parameters.fields,\r\n                    type: 'heatmapgl',\r\n                    connectgaps: true,\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat:'power'\r\n                    }\r\n                }\r\n            ]}                \r\n            key={index}\r\n\r\n            layout= {{\r\n                font: {color: '#ffffff'},\r\n                title: `${variableName}[${infoObject.metadata.Unit}]  ${spaceTitle}   ${date}`,\r\n                xaxis: {\r\n                    title: `${xAxisLabel}[\\xB0]`, \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                yaxis: {\r\n                    title: 'Depth[m]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                paper_bgcolor: colors.backgroundGray,\r\n                annotations: [\r\n                    {\r\n                        text: `Source: ${infoObject.metadata.Distributor.length < 30 ? \r\n                            infoObject.metadata.Distributor : \r\n                            infoObject.metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n\r\n            }}   \r\n        />\r\n        )\r\n    })\r\n}\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst SectionMapChart = (props) => {\r\n\r\n    const { classes } = props;\r\n    const { data } = props.chart;\r\n    const { dates, extent, latsDistinct, lonsDistinct } = data;\r\n\r\n    const [splitByDate, setSplitByDate] = useState(false);\r\n    const [splitBySpace, setSplitBySpace] = useState(false);\r\n    const [orientation, setOrientation] = useState(data.orientation);\r\n    const [palette, setPalette] = useState('heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [zMin, zMax] = zValues;\r\n\r\n    const numSpaceSplits = \r\n        orientation === 'zonal' ?\r\n        latsDistinct.length : \r\n        lonsDistinct.length\r\n\r\n    const splitOrientation = orientation === 'zonal' ?\r\n        'Longitudes' : \r\n        'Latitudes'\r\n\r\n    const alternateOrientation = orientation === 'zonal' ? 'meridional' : 'zonal';\r\n\r\n    const subsets = data.generatePlotData(orientation, splitByDate, splitBySpace);\r\n    var plots = handleSectionMap(subsets, data, splitByDate, splitBySpace, orientation);\r\n\r\n    const downloadCsv = () => {\r\n        setLoadingMessage('Processing Data');\r\n    \r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => setLoadingMessage(''));\r\n    \r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.buttonBlock}>\r\n                {/* <Button {...buttonProps} disabled={dates.size === 1} onClick={() => setSplitByDate(!splitByDate)}>{splitByDate ? 'Merge Dates' : 'Split By Date'}</Button>\r\n                <Button {...buttonProps} disabled={numSpaceSplits === 1} onClick={() => setSplitBySpace(!splitBySpace)}>{splitBySpace ? `Merge ${splitOrientation}` : `Split By ${splitOrientation}`}</Button>\r\n                <Button {...buttonProps} disabled={numSpaceSplits === 1} onClick={() => setOrientation(alternateOrientation)}>Switch to {alternateOrientation}</Button> */}\r\n            <ChartControlPanel\r\n                handlePaletteChoice={handlePaletteChoice}\r\n                downloadCsv={downloadCsv}\r\n                handleZValueConfirm={handleZValueConfirm}\r\n                zValues={zValues}\r\n                extent={extent}\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            </div>\r\n            {plots}      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SectionMapChart));","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui'; \r\n\r\nconst handleSparseMap = (infoObject, palette, zValues) => {\r\n\r\n    return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                display:'inline-block'\r\n            }}\r\n            \r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zValues[0],\r\n                    zmax: zValues[1],\r\n                    lon: infoObject.lons,\r\n                    lat: infoObject.lats,\r\n                    z: infoObject.variableValues,\r\n                    zmin:'',\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n                    radius: 6,                    \r\n                    name: infoObject.parameters.fields,\r\n                    type: 'densitymapbox',\r\n                    \r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat: 'power'\r\n                    },\r\n                }\r\n            ]}\r\n\r\n            layout= {{\r\n                width: 600,\r\n                height: 400,\r\n                font: {color: '#ffffff'},\r\n                title: `${infoObject.parameters.fields}[${infoObject.metadata.Unit}]`,\r\n                // xaxis: {title: 'Longitude', color: '#ffffff'},\r\n                // yaxis: {title: 'Latitude', color: '#ffffff'},\r\n                paper_bgcolor: colors.backgroundGray,\r\n\r\n                mapbox: {\r\n                    style: 'basic',\r\n                    center: {\r\n                        lon: (infoObject.parameters.lon1 + infoObject.parameters.lon2) / 2,\r\n                        lat: (infoObject.parameters.lat1 + infoObject.parameters.lat2) / 2\r\n                    }\r\n                },\r\n\r\n                annotations: [\r\n                    {\r\n                        text: `Source: ${infoObject.metadata.Distributor.length < 30 ? \r\n                            infoObject.metadata.Distributor : \r\n                            infoObject.metadata.Distributor.slice(0,30)} -- Provided by Simons CMAP`,\r\n                        font: {\r\n                            color: 'white',\r\n                            size: 10\r\n                        },\r\n                        xref: 'paper',\r\n                        yref: 'paper',\r\n                        yshift: -202,\r\n                        showarrow: false,\r\n                    }\r\n                ]\r\n\r\n            }}\r\n            \r\n            config={{\r\n                mapboxAccessToken:\r\n                  \"pk.eyJ1IjoiZGVuaG9sdHoiLCJhIjoiY2p1ZW9obTNhMDVxZjQzcDRvMmdlcDN2aiJ9.HvLaX2bcradeE5T-lpTc8w\"\r\n              }}\r\n        />)\r\n}\r\n\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage\r\n}\r\n\r\nconst buttonProps = {\r\n    size: 'small',\r\n    color: 'primary',\r\n    variant: 'contained'\r\n}\r\n\r\nconst SparseMap = (props) => {\r\n\r\n    const { classes } = props;\r\n\r\n    const { data } = props.chart;\r\n    const [palette, setPalette] = useState('Heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n\r\n    const plot = handleSparseMap(data, palette, zValues)\r\n\r\n    let handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    let handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const downloadCsv = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n\r\n            let csv = data.generateCsv();\r\n            const blob = new Blob([csv], {type: 'text/csv'});\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.setAttribute('hidden', '');\r\n            a.setAttribute('href', url);\r\n            a.setAttribute('download', `${data.parameters.fields}.csv`);\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 100)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ChartControlPanel\r\n                handlePaletteChoice={handlePaletteChoice}\r\n                handleZValueConfirm={handleZValueConfirm}\r\n                zValues={zValues}\r\n                extent={data.extent}\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            {plot}      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SparseMap));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport colors from '../Enums/colors';\r\nimport storedProcedures from '../Enums/storedProcedures';\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\n\r\nimport SpaceTimeChart from './ChartComponents/SpaceTimeChart';\r\nimport TimeSeriesChart from './ChartComponents/TimeSeriesChart';\r\nimport DepthProfileChart from './ChartComponents/DepthProfileChart';\r\nimport SectionMapChart from './ChartComponents/SectionMapChart';\r\nimport SparseMap from './ChartComponents/SparseMap';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    charts: state.charts\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    chartsContainer: {\r\n        margin: '300px 0 0 100px'\r\n    },\r\n\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white',\r\n    }\r\n})\r\n\r\nclass Charts extends Component {\r\n\r\n    render(){\r\n        const { classes, charts } = this.props;\r\n\r\n        return (\r\n            <div className={classes.chartsContainer}>\r\n                {charts.map((chart, index) => {\r\n                    switch(chart.data.parameters.spName){\r\n                        case storedProcedures.spaceTime:\r\n                          if(chart.subType === vizSubTypes.sparse) return <SparseMap chart={chart} key={index}/>\r\n                          else return <SpaceTimeChart chart={chart} key={index}/>\r\n\r\n                        case storedProcedures.timeSeries:\r\n                          return <TimeSeriesChart chart={chart} key={index}/>\r\n\r\n                        case storedProcedures.depthProfile:\r\n                          return <DepthProfileChart chart={chart} key={index}/>\r\n\r\n                        case storedProcedures.sectionMap:\r\n                          return <SectionMapChart chart={chart} key={index}/>\r\n                        \r\n                        default:\r\n                          return '';\r\n                  }\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Charts));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport * as JsSearch from 'js-search';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nimport { cruiseListRequestSend, cruiseTrajectoryRequestSend, cruiseTrajectoryClear } from '../Redux/actions/visualization';\r\n\r\nimport states from '../asyncRequestStates';\r\nimport colors from '../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    cruiseList: state.cruiseList,\r\n    getCruiseListState: state.getCruiseListState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseListRequestSend,\r\n    cruiseTrajectoryRequestSend,\r\n    cruiseTrajectoryClear\r\n}\r\n\r\nconst esriFonts = '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif';\r\nconst esriFontColor = '#adadad';\r\nconst esriBackgroundColor = '#242424';\r\nconst esriHoverFontColor = '#242424';\r\nconst esriHoverBackgroundColor = '#949393';\r\n\r\nconst styles = theme => ({\r\n    outerDiv: {\r\n        padding:'12px',\r\n        maxWidth: '260px',\r\n        backgroundColor: esriBackgroundColor,\r\n        color: esriFontColor,\r\n    },\r\n\r\n    cruiseSelect: {\r\n        width: '260px'\r\n    },\r\n\r\n    cruiseInfo: {\r\n        color: esriFontColor,\r\n        fontFamily: esriFonts,\r\n        margin: '12px auto 0 auto'\r\n    },\r\n\r\n    cruiseInfoCell: {\r\n        color: esriFontColor,\r\n        fontFamily: esriFonts,\r\n        borderStyle: 'none'\r\n    }\r\n})\r\n\r\n// Replace react-select selected option\r\nconst SingleValue = (props) => {\r\n    return (\r\n        <components.SingleValue {...props} className={props.className}/>\r\n    )\r\n}\r\n\r\n// Replace react-select option\r\nconst Option = (props) => {\r\n    return (\r\n        <components.Option {...props} className={props.className}/>\r\n    )\r\n}\r\n\r\nclass CruiseSelector extends Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n\r\n        var search = new JsSearch.Search('ID');\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Nickname');\r\n        search.addIndex('Name');\r\n        search.addIndex('Chief_Name');\r\n        search.addIndex('Keywords');\r\n        try{\r\n            if(props.cruiseList && props.cruiseList.length) search.addDocuments(props.cruiseList);\r\n        } catch(e) {\r\n            console.log(e);\r\n            console.log(props.cruiseList);\r\n        }\r\n\r\n        this.state = {\r\n            search,\r\n            searchField: '',\r\n            selectedCruise: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.cruiseList || !this.props.cruiseList.length) this.props.cruiseListRequestSend();\r\n    }\r\n\r\n    getSelectOptionsFromCruiseList = (list) => {\r\n        return list.map(item => ({\r\n            value: item.Nickname,\r\n            label: item.Nickname,\r\n            data: item\r\n        })) || []\r\n    }\r\n\r\n    handleCruiseSelect = (selection) => {\r\n        if(selection && selection.data){\r\n            const id = selection.data.ID;\r\n            this.props.cruiseTrajectoryRequestSend(id);\r\n        } else {this.props.cruiseTrajectoryClear()}\r\n\r\n        this.setState({...this.state, selectedCruise: selection});\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.cruiseList && prevProps.cruiseList.length) && (this.props.cruiseList && this.props.cruiseList.length)){\r\n            this.state.search.addDocuments(this.props.cruiseList);\r\n            this.setState({search: this.state.search})\r\n        }\r\n    }\r\n\r\n    onAutoSuggestChange = (searchString, action) => {\r\n        if(action.action === 'input-change') this.setState({...this.state, searchField: searchString});\r\n        if(action.action ==='set-value' || action.action === 'menu-close') this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    render(){\r\n\r\n        const { search, searchField, selectedCruise } = this.state;\r\n\r\n        const { classes, cruiseList} = this.props;\r\n\r\n        const options = searchField && cruiseList ? this.getSelectOptionsFromCruiseList(search.search(searchField)) \r\n            : cruiseList ? this.getSelectOptionsFromCruiseList(cruiseList) \r\n            : []\r\n\r\n        return (\r\n            <div id='cruise-selector' className={classes.outerDiv}>\r\n                <Select\r\n                    isLoading={this.props.getCruiseListState === states.inProgress}\r\n                    components={{\r\n                        IndicatorSeparator:'',\r\n                        Option,\r\n                        SingleValue,\r\n                    }}\r\n                    isClearable\r\n                    onInputChange={this.onAutoSuggestChange}\r\n                    filterOption={null}\r\n                    className={classes.cruiseSelect}\r\n                    escapeClearsValue\r\n                    label=\"Cruise\"\r\n                    options={options}\r\n                    onChange={this.handleCruiseSelect}\r\n                    value={this.state.selectedCruise}\r\n                    placeholder=\"Search Cruises\"\r\n                    styles={{\r\n                        menu: provided => ({ ...provided, zIndex: 9999 }),\r\n\r\n                        menuList: provided => ({...provided, backgroundColor: esriBackgroundColor}),\r\n\r\n                        input: provided => ({...provided,\r\n                            color: 'inherit',\r\n                            fontFamily: esriFonts\r\n                        }),\r\n\r\n                        control: provided => ({...provided,\r\n                            backgroundColor: esriBackgroundColor,\r\n                            border: `1px solid ${esriFontColor}`,\r\n                            color: esriFontColor,\r\n                            borderRadius: 0,\r\n                            '&:hover': { \r\n                                color: '#242424',\r\n                                backgroundColor: '#949393'\r\n                            }\r\n                        }),\r\n\r\n                        placeholder: provided => ({...provided,\r\n                            fontFamily: esriFonts,\r\n                            color: 'inherit',\r\n                            fontSize: '14px'\r\n                        }),\r\n\r\n                        noOptionsMessage: provided => ({...provided,\r\n                            fontFamily: esriFonts,\r\n                            color: esriFontColor,\r\n                            backgroundColor: esriBackgroundColor\r\n                        }),\r\n\r\n                        option: (provided, state) => ({...provided,\r\n                            backgroundColor: esriBackgroundColor,\r\n                            color: esriFontColor,\r\n                            '&:hover': { \r\n                                color: '#242424',\r\n                                backgroundColor: '#949393'\r\n                            },\r\n                        }),\r\n\r\n                        singleValue: (provided, state) => ({...provided,\r\n                            fontFamily: esriFonts,\r\n                            color: 'inherit',\r\n                            paddingRight: '20px',\r\n                        })\r\n                    }}\r\n                    theme={theme => ({\r\n                        ...theme,\r\n                        colors: {\r\n                            ...theme.colors,\r\n                            // Background color of hovered options\r\n                            primary25: '#e0e0e0',\r\n                            primary: '#212121',\r\n                        },\r\n                    })}\r\n                />\r\n                {selectedCruise &&\r\n                    <Table size='small' className={classes.cruiseInfo}>\r\n                        <TableBody>\r\n                            <TableRow>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    Cruise:\r\n                                </TableCell>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    {selectedCruise.data.Name}\r\n                                </TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    Nickname:\r\n                                </TableCell>\r\n                                <TableCell className={classes.cruiseInfoCell}>\r\n                                    {selectedCruise.data.Nickname}\r\n                                </TableCell>\r\n                            </TableRow>\r\n\r\n                            {\r\n                                selectedCruise.data.Start_Time &&\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Start Date:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Start_Time.slice(0,10)}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            }\r\n\r\n                            {\r\n                                selectedCruise.data.Chief_Name &&\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Chief Scientist:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Chief_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            }\r\n\r\n                            {\r\n                                selectedCruise.data.Ship_Name &&\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Ship:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Ship_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            }\r\n                        </TableBody>\r\n                    </Table>\r\n                    // <div>                    \r\n                    //     <p>Cruise {selectedCruise.data.Name}</p>\r\n                    //     <p>Disembarked {selectedCruise.data.Start_Time.slice(0,10)}</p>\r\n                    //     <p>Chief Scientist {selectedCruise.data.Chief_Name}</p>    \r\n                    // </div>            \r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(CruiseSelector));","import React, { Component } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Scene } from '@esri/react-arcgis';\r\nimport regionRenderModes from '../Enums/regionRenderModes';\r\n\r\nimport CruiseSelector from './CruiseSelector';\r\n\r\nconst styles = (theme) => ({\r\n    container: {\r\n        margin: '0 auto 0 auto',\r\n        width: '100vw',\r\n        height: '100vh',\r\n    }\r\n})\r\n\r\nconst drawButtonStyles = (theme) => ({\r\n    outerDiv: {\r\n        padding:'12px 0 12px 0',\r\n        backgroundColor: '#242424',\r\n        width: '180px'\r\n    },\r\n\r\n    innerDiv: {\r\n        padding: '0 15px 0 15px'\r\n    },\r\n\r\n    drawButton: {\r\n        border: '1px solid #adadad',\r\n        color: '#adadad',\r\n        cursor: 'pointer',\r\n        padding: '6px 30px',\r\n        fontSize:'14px',\r\n        backgroundColor: 'transparent',\r\n        fontFamily: '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif',\r\n        '&:hover': { \r\n            color: '#242424',\r\n            backgroundColor: '#949393'\r\n        },\r\n    },\r\n\r\n    helpText: {\r\n        marginTop: 0,\r\n        color: '#ADADAD',\r\n        fontFamily: '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif'\r\n    },\r\n\r\n    cancelButton: {\r\n        display: 'none'\r\n    }\r\n})\r\n\r\nconst DrawButtonRaw = (props) => {\r\n    const { classes, showHelp } = props;\r\n\r\n    return (\r\n        <div className={classes.outerDiv} id='draw-region-div'>\r\n            <div className={classes.innerDiv}>\r\n                {showHelp && <p className={classes.helpText}>Click once to draw <br/>and again to finish</p>}\r\n                <button id='draw-button' className={classes.drawButton}>\r\n                    Select Region\r\n                </button>\r\n                <button id='cancel-button' className={`${classes.drawButton} ${classes.cancelButton}`}>\r\n                    Cancel\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst DrawButton = withStyles(drawButtonStyles)(DrawButtonRaw);\r\n\r\nconst polygonSymbol = {\r\n    type: \"polygon-3d\",\r\n    symbolLayers: [\r\n        {\r\n            type: \"fill\",\r\n            material: {\r\n            color: [255, 128, 0, .3]\r\n            },\r\n            outline: {\r\n                color: [255, 128, 0, 1],\r\n                size: '2px'\r\n            }\r\n        }\r\n    ]\r\n};\r\n\r\nclass UiComponents extends React.Component {\r\n\r\n    shouldComponentUpdate = (nextProps, nextState) => {\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        const { view, esriModules, regionLayer, setShowHelp, drawMode } = this.props;\r\n\r\n        const updateOptions = {\r\n            toggleToolOnClick: false,\r\n            tool: \"transform\"\r\n        }\r\n\r\n        var sketchModel = new esriModules.SketchViewModel({\r\n            layer: regionLayer,\r\n            view,\r\n            polygonSymbol,\r\n            defaultUpdateOptions: updateOptions\r\n        })\r\n\r\n        var drawButton = document.getElementById('draw-button');\r\n        var cancelButton = document.getElementById('cancel-button');\r\n\r\n        sketchModel.on(\"create\", (event) => {\r\n            if (event.state === \"complete\") {\r\n                setShowHelp(false);\r\n                this.props.updateDomainFromGraphicExtent(esriModules.Utils.webMercatorToGeographic(event.graphic.geometry.extent));\r\n                drawButton.style.display = 'inline-block';\r\n                cancelButton.style.display = 'none';\r\n            }\r\n        });        \r\n\r\n        sketchModel.on('update', (event) => {\r\n            this.props.updateDomainFromGraphicExtent(esriModules.Utils.webMercatorToGeographic(event.graphics[0].geometry.extent));\r\n            drawButton.style.display = 'inline-block';\r\n            cancelButton.style.display = 'none';\r\n        })       \r\n        \r\n        drawButton.addEventListener(\"click\", (event) => {\r\n                drawMode();\r\n                regionLayer.removeAll();\r\n                setShowHelp(true);\r\n                sketchModel.create('rectangle', {\r\n                    mode:'click'            \r\n                });\r\n                drawButton.style.display = 'none';\r\n                cancelButton.style.display = 'inline-block';\r\n        });\r\n\r\n        cancelButton.addEventListener('click', (event) => {\r\n            sketchModel.cancel();\r\n            setShowHelp(false);\r\n            drawButton.style.display = 'inline-block';\r\n            cancelButton.style.display = 'none';\r\n        })\r\n\r\n        view.ui.add('draw-region-div', 'bottom-right');\r\n        view.ui.add('cruise-selector', 'top-right');\r\n\r\n        view.ui.remove('zoom');\r\n        view.ui.remove('navigation-toggle');\r\n        view.ui.remove('compass');\r\n        view.ui.remove('attribution');\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nconst TrajectoryController = React.memo((props) => {\r\n    const { cruiseTrajectory, trajectoryLayer, esriModules } = props;\r\n\r\n    if(cruiseTrajectory){\r\n        trajectoryLayer.removeAll();\r\n\r\n        const paths = cruiseTrajectory.lons.map((lon, i) => [lon, cruiseTrajectory.lats[i]]);\r\n\r\n        var cruiseTrajectoryGeometry = {\r\n            type: 'polyline',\r\n            paths\r\n        }\r\n\r\n        var cruiseTrajectorySymbol = {\r\n            type: 'line-3d',\r\n            symbolLayers: [{\r\n                type: 'line',\r\n                material: { color: [255, 128, 0, 1] },\r\n                cap:  'round',\r\n                join: 'round',\r\n                size: 2\r\n            }]\r\n        }\r\n\r\n        let graphic = new esriModules.Graphic({\r\n            geometry: cruiseTrajectoryGeometry,\r\n            symbol: cruiseTrajectorySymbol\r\n        });\r\n\r\n        trajectoryLayer.add(graphic);\r\n\r\n        try {\r\n            const { extent } = graphic.geometry;\r\n            const center = [extent.center.x,extent.center.y];\r\n\r\n            const xSize = extent.xmax - extent.xmin;\r\n            const ySize = extent.ymax - extent.ymin;\r\n            var graphicSize = xSize > ySize ? xSize : ySize;\r\n            graphicSize = graphicSize > 60 ? 60 : graphicSize;\r\n\r\n            var zoom = 7 - Math.floor(graphicSize / 10);            \r\n    \r\n            props.view.goTo({\r\n                target: center,\r\n                zoom\r\n            }, {\r\n                maxDuration: 2500,\r\n                speedFactor: .5\r\n            });    \r\n\r\n        } catch(e) {console.log(e)}\r\n\r\n    } else {\r\n        trajectoryLayer.removeAll();\r\n\r\n        props.view.goTo({\r\n            target: [-140, 30],\r\n            zoom: 3\r\n        }, {\r\n            maxDuration: 2500,\r\n            speedFactor: .5\r\n        }); \r\n    }\r\n    return '';\r\n})\r\n\r\nclass MapContainer extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showHelp: false\r\n        }\r\n        this.regionLayer = new props.esriModules.GraphicsLayer();\r\n        this.trajectoryLayer = new props.esriModules.GraphicsLayer();\r\n    }\r\n\r\n    render = () => {\r\n        const { classes, esriModules, regionRenderMode, spParams, cruiseTrajectory } = this.props;\r\n        const lat1 = parseFloat(spParams.lat1);\r\n        const lat2 = parseFloat(spParams.lat2);\r\n        const lon1 = parseFloat(spParams.lon1);\r\n        const lon2 = parseFloat(spParams.lon2);\r\n\r\n        if(regionRenderMode === regionRenderModes.form){\r\n            this.regionLayer.removeAll();\r\n\r\n            var polygon = {\r\n                type: 'polygon', \r\n                rings: [\r\n                    [lon1, lat1],\r\n                    [lon2, lat1],\r\n                    [lon2, lat2],\r\n                    [lon1, lat2],\r\n                    [lon1, lat1]\r\n                ]\r\n            };\r\n\r\n            this.regionLayer.add(new esriModules.Graphic({\r\n                geometry: polygon,\r\n                symbol: polygonSymbol\r\n            }))\r\n        }\r\n        \r\n        return (\r\n            <div className={classes.container}>\r\n                <Scene\r\n                    mapProperties={{ \r\n                        basemap: 'satellite',\r\n                        layers: [\r\n                            this.regionLayer,\r\n                            this.trajectoryLayer\r\n                        ]\r\n                    }}\r\n                    viewProperties={{\r\n                        center: [-140, 30],\r\n                        zoom: 3\r\n                    }}\r\n                >\r\n                    <TrajectoryController \r\n                        cruiseTrajectory={cruiseTrajectory}\r\n                        trajectoryLayer={this.trajectoryLayer}\r\n                        esriModules={esriModules}\r\n                    />\r\n                    <UiComponents\r\n                        updateDomainFromMap={this.props.updateDomainFromMap}\r\n                        updateDomainFromGraphicExtent = {this.props.updateDomainFromGraphicExtent}\r\n                        esriModules={esriModules}\r\n                        measurementPositions={this.props.measurementPositions}\r\n                        regionLayer={this.regionLayer}\r\n                        setShowHelp={(showHelp) => this.setState({...this.state, showHelp})}\r\n                        ref={this.props.globeUIRef}\r\n                        drawMode={this.props.drawMode}\r\n                    />\r\n                </Scene>\r\n                <DrawButton showHelp={this.state.showHelp}/>\r\n                <CruiseSelector/>\r\n            </div>            \r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(MapContainer);","const cleanSPParams = ({depth1, depth2, dt1, dt2, fields, lat1, lat2, lon1, lon2, spName, tableName}) => ({\r\n    depth1: parseFloat(depth1),\r\n    depth2: parseFloat(depth2),\r\n    dt1: dt1,\r\n    dt2: dt2,\r\n    fields,\r\n    lat1: parseFloat(lat1),\r\n    lat2: parseFloat(lat2),\r\n    lon1: parseFloat(lon1),\r\n    lon2: parseFloat(lon2),\r\n    spName,\r\n    tableName,\r\n})\r\n\r\nexport default cleanSPParams;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\nimport storedProcedures from '../Enums/storedProcedures';\r\nimport regionRenderModes from '../Enums/regionRenderModes';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport LoginRequiredPrompt from './LoginRequiredPrompt';\r\n// import VisualizationController from './VisualizationController';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport DataRetrievalForm from './DataRetrievalForm';\r\nimport VizControlPanel from './VizControlPanel';\r\n\r\nimport { showLoginDialog, snackbarOpen } from '../Redux/actions/ui';\r\nimport { queryRequestSend, storedProcedureRequestSend, cruiseListRequestSend } from '../Redux/actions/visualization';\r\nimport { retrievalRequestSend } from '../Redux/actions/catalog';\r\n\r\nimport states from '../asyncRequestStates';\r\n\r\nimport { loadModules } from 'esri-loader';\r\n\r\n// import {COORDINATE_SYSTEM} from '@deck.gl/core';\r\n// import DeckGL, {GeoJsonLayer, ColumnLayer, GridLayer, PointCloudLayer} from 'deck.gl';\r\n// import {AmbientLight, LightingEffect} from '@deck.gl/core';\r\n// import {HexagonLayer} from '@deck.gl/aggregation-layers';\r\n\r\nimport Charts from './Charts';\r\nimport MapContainer from './MapContainer';\r\nimport colors from '../Enums/colors'\r\nimport cleanSPParams from '../Utility/cleanSPParams';\r\n// import subTypes from '../Enums/visualizationSubTypes';\r\n\r\n\r\nconst mapVizType = (vizType) => {\r\n    const mapping = {\r\n        [vizSubTypes.sectionMap]: {\r\n            sp: storedProcedures.sectionMap,\r\n            subType: vizSubTypes.sectionMap\r\n        }, \r\n        [vizSubTypes.timeSeries]: {\r\n            sp: storedProcedures.timeSeries,\r\n            subType: vizSubTypes.timeSeries\r\n        },\r\n        [vizSubTypes.histogram]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.histogram\r\n        },\r\n        [vizSubTypes.depthProfile]: {\r\n            sp: storedProcedures.depthProfile,\r\n            subType: vizSubTypes.depthProfile\r\n        },\r\n        [vizSubTypes.heatmap]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.heatmap\r\n        },\r\n        [vizSubTypes.contourMap]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.contourMap\r\n        },\r\n        [vizSubTypes.sparse]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.sparse\r\n        }\r\n    }\r\n\r\n    return mapping[vizType];\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user,\r\n    sampleData: state.sampleData,\r\n    queryRequestState: state.queryRequestState,\r\n    maps: state.maps,\r\n    charts: state.charts,\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    loadingMessage: state.loadingMessage,\r\n    cruiseTrajectory: state.cruiseTrajectory,\r\n    cruiseList: state.cruiseList\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog,\r\n    queryRequestSend,\r\n    retrievalRequestSend,\r\n    storedProcedureRequestSend,\r\n    snackbarOpen,\r\n    cruiseListRequestSend\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    displayNone: {\r\n        display: 'none'\r\n    },\r\n\r\n    background: {\r\n        backgroundColor: colors.backgroundGray\r\n    }\r\n})\r\n\r\nconst parseDate = (date) => {\r\n    var mm = date.getUTCMonth() + 1; // getMonth() is zero-based\r\n    var dd = date.getUTCDate();\r\n\r\n    return [date.getUTCFullYear(),\r\n        (mm>9 ? '' : '0') + mm,\r\n        (dd>9 ? '' : '0') + dd\r\n        ]\r\n        .join('-');    \r\n}\r\n\r\nclass Visualization extends Component {\r\n    globeUIRef = React.createRef();\r\n\r\n    state = {\r\n        filteredData: [],\r\n        opacity: 1,\r\n        showCharts: false,\r\n        showUI: true,\r\n        surfaceOnly: false,\r\n        irregularSpatialResolution: false,\r\n\r\n        regionRenderMode: regionRenderModes.draw,\r\n        \r\n        spParams: {\r\n            tableName: '',\r\n            fields: null,\r\n            depth1: 0,\r\n            depth2: 3,\r\n            dt1: '2010-01-01',\r\n            dt2: '2010-01-01',\r\n            lat1: 0,\r\n            lat2: 0,\r\n            lon1: 0,\r\n            lon2: 0,\r\n            selectedVizType: ''\r\n        }\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        if(!this.props.catalog) this.props.retrievalRequestSend();\r\n        if(!this.props.cruiseList) this.props.cruiseListRequestSend();\r\n\r\n        const esriModuleNames = [\r\n            'AreaMeasurement3D',\r\n            'Search',\r\n            'GraphicsLayer',\r\n            'SketchViewModel',\r\n            'Utils',\r\n            'Graphic',\r\n            'Sketch'\r\n        ];\r\n\r\n        var loadedModules = await loadModules([\r\n            'esri/widgets/AreaMeasurement3D',\r\n            'esri/widgets/Search',\r\n            'esri/layers/GraphicsLayer',\r\n            'esri/widgets/Sketch/SketchViewModel',\r\n            'esri/geometry/support/webMercatorUtils',\r\n            'esri/Graphic',\r\n            \"esri/widgets/Sketch\",\r\n        ]);\r\n\r\n        var esriModules = esriModuleNames.reduce((accumulator, currentValue, currentIndex) => {\r\n            accumulator[currentValue] = loadedModules[currentIndex];\r\n            return accumulator;\r\n        }, {});\r\n\r\n        this.setState({...this.state, esriModules});\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({...this.state, spParams: {...this.state.spParams, [event.target.name]: event.target.value}})\r\n    };\r\n\r\n    handleLatLonChange = (event) => {\r\n        this.setState({\r\n            ...this.state, \r\n            spParams: {...this.state.spParams, [event.target.name]: event.target.value},\r\n            regionRenderMode: regionRenderModes.form\r\n        })\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        let dateString = date instanceof Date ? parseDate(date) : date;\r\n        this.setState({...this.state, spParams: {...this.state.spParams, dt1:dateString}});\r\n    }\r\n\r\n    handleEndDateChange = (date) => {\r\n        let dateString = date instanceof Date ? parseDate(date) : date;\r\n        this.setState({...this.state, spParams: {...this.state.spParams, dt2:dateString}});\r\n    }\r\n\r\n    onVisualize = () => {\r\n        const { depth1, depth2, dt1, dt2, lat1, lat2, lon1, lon2, selectedVizType } = this.state.spParams;\r\n    \r\n        let mapping = mapVizType(selectedVizType);\r\n        let parameters = cleanSPParams({\r\n            depth1,\r\n            depth2,\r\n            dt1,\r\n            dt2,\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            fields: this.state.spParams.fields && this.state.spParams.fields.value,\r\n            tableName: this.state.spParams.fields && this.state.spParams.tableName,\r\n            spName: mapping.sp\r\n        });\r\n\r\n        let payload = {\r\n            parameters,\r\n            subType: mapping.subType,\r\n            metadata: this.state.spParams.fields && this.state.spParams.fields.data\r\n        }\r\n    \r\n        this.props.storedProcedureRequestSend(payload);\r\n    }\r\n\r\n    // Update the \"fields\" state piece when the variables input changes\r\n    // Field in this case refers to a react-select option, which contains catalog metadata\r\n    updateFields = (fields) => {\r\n        if(fields) {\r\n            let surfaceOnly = !fields.data.Depth_Min;\r\n            let irregularSpatialResolution = fields.data.Spatial_Resolution === 'Irregular';\r\n\r\n            let selectedVizType = irregularSpatialResolution ? vizSubTypes.sparse : '';\r\n            let dt1 = fields.data.Time_Min;\r\n            let dt2 = irregularSpatialResolution ? fields.data.Time_Max : fields.data.Time_Min;\r\n            let lat1 = fields.data.Lat_Min;\r\n            let lat2 = irregularSpatialResolution ? fields.data.Lat_Max : fields.data.Lat_Min;\r\n            let lon1 = fields.data.Lon_Min;\r\n            let lon2 = irregularSpatialResolution ? fields.data.Lon_Max : fields.data.Lon_Max;\r\n            let depth1 = fields.data.Depth_Min || 0;\r\n            let depth2 = irregularSpatialResolution ? fields.data.Depth_Max : fields.data.Depth_Min || 0;\r\n\r\n            let tableName = fields.data.Table_Name;\r\n            \r\n            this.setState({...this.state,\r\n                surfaceOnly,\r\n                irregularSpatialResolution,\r\n                spParams: {...this.state.spParams, \r\n                    fields,\r\n                    dt1,\r\n                    dt2,\r\n                    lat1,\r\n                    lat2,\r\n                    lon1,\r\n                    lon2,\r\n                    depth1,\r\n                    depth2,\r\n                    selectedVizType,\r\n                    tableName\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({...this.state, spParams: {...this.state.spParams, fields, tableName: ''}})\r\n        }\r\n    }\r\n\r\n    toggleChartView = () => {\r\n        this.setState({...this.state, showCharts: !this.state.showCharts});\r\n    }\r\n\r\n    toggleShowUI = () => {\r\n        this.setState({...this.state, showUI: !this.state.showUI});\r\n    }\r\n\r\n    updateDomainFromMap = (coordinates) => {\r\n        if(!coordinates || !coordinates.length) return null;\r\n        \r\n        var lons = coordinates.map(a => a[0]);\r\n        var lats = coordinates.map(a => a[1]);\r\n\r\n        var newCoordinates = {\r\n            lat1: Math.min(...lats).toFixed(3),\r\n            lat2: Math.max(...lats).toFixed(3),\r\n            lon1: Math.min(...lons).toFixed(3),\r\n            lon2: Math.max(...lons).toFixed(3)\r\n        };\r\n\r\n        this.setState({...this.state, spParams: {...this.state.spParams, ...newCoordinates}});\r\n    }\r\n\r\n    updateDomainFromGraphicExtent = (extent) => {\r\n        var newCoordinates = {\r\n            lat1: extent.ymin.toFixed(3),\r\n            lat2: extent.ymax.toFixed(3),\r\n            lon1: extent.xmin.toFixed(3),\r\n            lon2: extent.xmax.toFixed(3)\r\n        };\r\n\r\n        this.setState({...this.state, spParams: {...this.state.spParams, ...newCoordinates}});\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        if(!this.props.user) return <LoginRequiredPrompt/>\r\n\r\n        return (\r\n            <div className={classes.background}>\r\n                <DataRetrievalForm \r\n                    handleChange={this.handleChange}\r\n                    handleLatLonChange={this.handleLatLonChange}\r\n                    handleStartDateChange={this.handleStartDateChange} \r\n                    handleEndDateChange={this.handleEndDateChange} \r\n                    showUI={this.state.showUI}\r\n                    onVisualize={this.onVisualize}\r\n                    updateFields={this.updateFields}\r\n                   {...this.state.spParams}\r\n                   surfaceOnly={this.state.surfaceOnly}\r\n                   irregularSpatialResolution={this.state.irregularSpatialResolution}\r\n                />\r\n                <VizControlPanel\r\n                    toggleChartView={this.toggleChartView}\r\n                    toggleShowUI={this.toggleShowUI}\r\n                    showCharts={this.state.showCharts}\r\n                    showUI={this.state.showUI}\r\n                />\r\n                { this.state.esriModules &&\r\n                    <div className={`${this.state.showCharts ? classes.displayNone : ''}`}>\r\n                        <MapContainer\r\n                            globeUIRef={this.globeUIRef}\r\n                            updateDomainFromMap={this.updateDomainFromMap}\r\n                            updateDomainFromGraphicExtent={this.updateDomainFromGraphicExtent}\r\n                            drawMode={() => this.setState({...this.state, regionRenderMode: regionRenderModes.draw})}\r\n                            esriModules={this.state.esriModules}\r\n                            regionRenderMode={this.state.regionRenderMode}\r\n                            spParams={this.state.spParams}\r\n                            cruiseTrajectory={this.props.cruiseTrajectory}\r\n                        />\r\n                    </div>\r\n                }\r\n\r\n                {this.props.storedProcedureRequestState === states.inProgress && <LoadingSpinner customVariant='centered' size='36'/>}\r\n\r\n                <div className={this.state.showCharts ? '' : classes.displayNone}>\r\n                    <Charts/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Visualization));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport Link from '@material-ui/core/Link';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport states from '../asyncRequestStates';\r\n\r\nimport { showLoginDialog, hideLoginDialog, restoreInterfaceDefaults } from '../Redux/actions/ui';\r\nimport { logOut, userLoginRequestSend } from '../Redux/actions/user';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        loginDialogIsOpen: state.loginDialogIsOpen,\r\n        userLoginState: state.userLoginState,\r\n        userLoginError: state.userLoginError\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    hideLoginDialog,\r\n    showLoginDialog,\r\n    logOut,\r\n    userLoginRequestSend,\r\n    restoreInterfaceDefaults\r\n}\r\n\r\nconst styles = theme => ({\r\n    wrapper: {\r\n        margin: theme.spacing(1),\r\n        position: 'relative',\r\n    },\r\n\r\n    buttonProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n})\r\n\r\nclass LoginDialog extends Component{\r\n    // Text input state is managed in the TopNavBar component\r\n\r\n    handleLogin = (event) => {\r\n        this.props.userLoginRequestSend(this.props.username, this.props.password);\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.props.clearState();\r\n        this.props.hideLoginDialog();\r\n        this.props.restoreInterfaceDefaults();\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n        return (\r\n            <Dialog\r\n                open={this.props.loginDialogIsOpen}\r\n                onClose={this.handleClose}\r\n                aria-labelledby=\"form-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                    Please enter your username and password, or <Link onClick={this.handleClose} component={RouterLink} to={{pathname: '/register'}}>Register.</Link>\r\n                    </DialogContentText>\r\n                    <form onSubmit={e => (e.preventDefault())}>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"normal\"\r\n                            id=\"username\"\r\n                            label=\"Username\"\r\n                            type=\"text\"\r\n                            variant='outlined'\r\n                            name='username'\r\n                            value={this.props.username}\r\n                            onChange={this.props.handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id=\"name\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='password'\r\n                            value={this.props.password}\r\n                            onChange={this.props.handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n\r\n                        <DialogActions>\r\n                            <Button onClick={this.handleClose} color=\"primary\">\r\n                                Cancel\r\n                            </Button>\r\n\r\n                            <div className={classes.wrapper}>\r\n                                <Button color=\"primary\" type='submit' onClick={this.handleLogin} disabled={!this.props.username || !this.props.password}>\r\n                                    Log In\r\n                                </Button>\r\n                                {this.props.userLoginState === states.inProgress && <CircularProgress size={24} className= {classes.buttonProgress} />}\r\n                            </div>\r\n                        </DialogActions>\r\n                    </form>\r\n                    {this.props.userLoginState === states.failed ?\r\n                    <DialogContentText>\r\n                        Login failed. Please try again.\r\n                    </DialogContentText>\r\n                    : ''               \r\n                    }\r\n                </DialogContent>\r\n                \r\n            </Dialog>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LoginDialog));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { snackbarClose } from '../Redux/actions/ui';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    snackbarIsOpen: state.snackbarIsOpen,\r\n    snackbarMessage: state.snackbarMessage\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    snackbarClose,\r\n}\r\n\r\nconst styles = (theme) => {\r\n    return ({\r\n        centerText: {\r\n            textAlign: 'center'\r\n        }\r\n    })\r\n}\r\n\r\nconst SnackbarWrapper = (props) => {\r\n    const { classes } = props;\r\n    return (\r\n        \r\n        <React.Fragment>\r\n            <Snackbar \r\n                className={classes.centerText}\r\n                autoHideDuration={4000} \r\n                message={props.snackbarMessage}\r\n                onClose={props.snackbarClose}\r\n                open={props.snackbarIsOpen}\r\n                anchorOrigin={{horizontal:'center', vertical:'top'}}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SnackbarWrapper));","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport * as Spinner from 'react-spinkit';\r\n\r\nconst styles = theme => ({\r\n    loader: {\r\n        backgroundColor: '#000000',\r\n        position: 'fixed',\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        opacity: 0.5,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '100vw',\r\n        height: '100vh',\r\n        zIndex: 9998\r\n    },\r\n\r\n    loaderContent: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItem: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 9999,\r\n        opacity: 1\r\n    },\r\n\r\n    spinnerText: {\r\n        zIndex: 10000,\r\n        color: '#FF8000',\r\n        marginTop: '25px',\r\n        opacity: 1\r\n    },\r\n\r\n    spinner: {\r\n        opacity: 1\r\n    }\r\n})\r\n\r\nconst LoadingOverlay = (props) => {\r\n    const { classes, loadingMessage } = props;\r\n\r\n    if(loadingMessage && loadingMessage.length){\r\n        return (\r\n            <div className={classes.loader}>\r\n                <div className={classes.loaderContent}>\r\n                    <Spinner className={classes.spinner} color='#FF8000' name=\"ball-pulse-rise\" fadeIn='quarter'/>\r\n                    <Typography variant='h6' className={classes.spinnerText}>{loadingMessage}</Typography>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else return '';\r\n\r\n}\r\n\r\nexport default withStyles(styles)(LoadingOverlay);","// This component is a wrapper and control center for\r\n// UI components that need to be accessible anywhere\r\n// in the application such as login dialog and snackbar.\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport LoginDialog from './LoginDialog';\r\nimport SnackbarWrapper from './SnackbarWrapper';\r\nimport LoadingOverlay from './LoadingOverlay';\r\n\r\nimport { loginDialogWasCleared } from '../Redux/actions/user';\r\n\r\nconst styles = theme => ({\r\n    inlineBlock: {\r\n        display: 'inline-block'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    clearLoginDialog: state.clearLoginDialog,\r\n    loadingMessage: state.loadingMessage\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    loginDialogWasCleared\r\n}\r\n\r\nclass GlobalUIComponentWrapper extends Component {\r\n\r\n    state = {\r\n        // Login dialog\r\n        username: '',\r\n        password: ''\r\n    }\r\n    \r\n    // Controls login dialog text fields to allow reset from logout button\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    };\r\n\r\n    handleLogOut = () => {\r\n        this.clearState();\r\n    }\r\n\r\n    clearState = () => {\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        });\r\n        this.props.loginDialogWasCleared();\r\n    }\r\n\r\n    componentDidUpdate = (preProps) => {\r\n        if(this.props.clearLoginDialog) {\r\n            this.clearState();\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        // const { classes } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>    \r\n                <LoginDialog clearState={this.clearState} username={this.state.username} password={this.state.password} handleChange={this.handleChange}/>\r\n                <SnackbarWrapper/>\r\n                <LoadingOverlay loadingMessage={this.props.loadingMessage}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(GlobalUIComponentWrapper));","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport TopNavBar from './TopNavBar';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nconst styles = theme => ({\r\n    landingWrapper: {\r\n        marginTop: '5vh'\r\n    },\r\n\r\n    welcomeMessage: {\r\n        color: '#ffffff',\r\n        maxWidth: '500px',\r\n        margin: `${theme.spacing(2)}px auto`\r\n    }\r\n})\r\n\r\nclass LandingPage extends Component {\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <TopNavBar/>\r\n                <div className={classes.landingWrapper}>\r\n                    <img \r\n                        src='/images/large_cmap_logo.png'\r\n                        height='290'\r\n                        width='600'\r\n                    />\r\n                    <Typography variant=\"body2\" component=\"p\" className={classes.welcomeMessage}>\r\n                        Welcome to Simons CMAP. This application is currently under heavy development, and some features may be incomplete.\r\n                    </Typography>\r\n                </div>\r\n            </React.Fragment>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LandingPage));","import React from 'react'\r\nimport { Route, BrowserRouter, Switch } from 'react-router-dom'\r\n\r\nimport Home from './Components/Home';\r\nimport Catalog from './Components/Catalog';\r\nimport Register from './Components/Register';\r\nimport Visualization from './Components/Visualization';\r\nimport GlobalUIComponentWrapper from './Components/GlobalUIComponentWrapper';\r\nimport LandingPage from './Components/LandingPage';\r\n\r\nexport default props => (\r\n    <BrowserRouter>\r\n      <GlobalUIComponentWrapper/>\r\n      <Switch>          \r\n        <Route exact path='/apikeymanagement' component={ Home } />\r\n        <Route exact path='/' component={ LandingPage } />\r\n        <Route exact path='/catalog' component={ Catalog } />\r\n        <Route exact path='/register' component={ Register } />\r\n        <Route exact path='/visualization' component={ Visualization } />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  )","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport grey from '@material-ui/core/colors/grey';\n\nimport './App.scss';\nimport Routes from './routes';\n\nimport colors from './Enums/colors';\n\nconst theme = createMuiTheme({\n  // aqua: #22A3B9\n  // orange: #FF8000\n\n  typography: {\n    useNextVariants: true,\n    fontFamily: [\n      '\"Lato\"',\n      'sans-serif'\n    ].join(',')\n  },\n\n  palette: {\n    primary: {\n      contrastText: '#000000',\n      main: colors.orange\n    },\n\n    secondary: {\n      main: colors.aqua,\n      // contrastText: '#fff700',\n    },\n\n    background: {\n      default: grey[800],\n      paper: grey[800]\n    },\n\n    text: {\n      primary: '#ffffff',\n      secondary: colors.orange\n    }\n  },\n\n  overrides: {\n    MuiIconButton: {\n      root: {\n        color: colors.orange\n      }\n    },\n\n    MuiToolbar: {\n      root: {\n        backgroundColor: grey[800],\n        color: colors.orange\n      }\n    },\n\n    MuiOutlinedInput: {\n      input: {\n        padding: '12px 14px'\n      },\n\n      root: {\n        \"&$focused\": {\n          \"borderColor\": colors.orange\n        }\n      }\n    },    \n\n    MuiTableCell: {\n      root: {\n        borderBottomColor: \"rgba(0, 0, 0, 0.9)\"\n      }\n    },\n\n    MuiFormControl: {\n      marginNormal: {\n        marginTop: '8px'\n      }\n    },\n\n    MuiDialogContentText: {\n      root: {\n        color: 'white'\n      }\n    },\n\n    MuiDialogTitle: {\n      root: {\n        color: colors.orange\n      }\n    }\n  }\n});\n\nconst mapStateToProps = (state, ownProps) => ({\n  loadingMessage: state.loadingMessage\n})\n\nclass App extends Component {\n\n  componentDidCatch = (error, info) => {\n    console.log('Error:');\n    console.log(error);\n    console.log('Info');\n    console.log(info);\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  render() {\n    return (\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <div className=\"App\">\n          <MuiThemeProvider theme={theme}>\n            <Routes />\n          </MuiThemeProvider>\n        </div>\n      </MuiPickersUtilsProvider>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, null)(App);","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css';\nimport 'ag-grid-enterprise';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport store from './Redux/store';\n\nimport App from './App'\n\nimport {LicenseManager} from \"ag-grid-enterprise\";\n\nLicenseManager.setLicenseKey(\"School_of_Oceanography_Simons_CMAP_1Devs_1Deployment_19_June_2020__MTU5MjUyMTIwMDAwMA==aec33f954c06d90afed06467402921bd\");\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  rootElement\n)\n\nserviceWorker.unregister();\n"],"sourceRoot":""}