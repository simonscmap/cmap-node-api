{"version":3,"sources":["serviceWorker.js","Enums/asyncRequestStates.js","Redux/Reducers/ui.js","Redux/Reducers/index.js","Redux/Reducers/catalog.js","Redux/actionTypes/catalog.js","Redux/Reducers/user.js","Redux/actionTypes/user.js","Redux/actionTypes/ui.js","Redux/Reducers/visualization.js","Redux/actionTypes/visualization.js","Redux/Reducers/dataSubmission.js","Redux/actionTypes/dataSubmission.js","Redux/actions/user.js","Redux/actions/catalog.js","Redux/actions/ui.js","Redux/actions/visualization.js","Redux/actions/dataSubmission.js","config.js","Enums/spatialResolutions.js","Utility/mapSpatialResolutionToNumber.js","Utility/flattenArray.js","Utility/splitData.js","Utility/mergeArraysAndComputeMeans.js","Utility/mergeArrays.js","Enums/visualizationSubTypes.js","Enums/temporalResolutions.js","Classes/SpaceTimeData.js","Enums/storedProcedures.js","Classes/TimeSeriesData.js","Classes/DepthProfileData.js","Classes/SectionMapData.js","Classes/SparseData.js","api.js","Utility/Catalog/groupVariablesByDataset.js","Utility/Catalog/groupDatasetsByMake.js","Utility/Catalog/buildSearchOptionsFromVariablesList.js","Redux/sagas.js","Redux/store.js","Enums/colors.js","Components/UI/CopyableText.js","Components/User/ApiKeyManagement.js","Components/User/LoginRequiredPrompt.js","Components/Home.js","Components/Catalog/GridDetail.js","Components/Catalog/DatasetDescriptionDialog.js","Components/Catalog/VariableDescriptionDialog.js","Components/UI/ConnectedTooltip.js","Components/Catalog/GroupedDatasetRow.js","Components/Catalog/AGGridWrapper.js","Components/Catalog/Catalog.js","Components/Catalog/CartAddOrRemove.js","Components/Visualization/LoadProductOnVizPageButton.js","Components/Catalog/SearchResult.js","Components/UI/HelpButtonAndDialog.js","Components/Catalog/SearchResults.js","Components/User/RegistrationCard.js","Components/User/RegistrationStepper.js","Components/User/GoogleSignInButton.js","Components/User/Register.js","Enums/validation.js","Components/Visualization/TableStatsDialog.js","Utility/mapTemporalResolutionToNumber.js","Utility/utcDateStringToLocal.js","Utility/depthCounter.js","Utility/countWebGLContexts.js","Components/Visualization/ChartControl.js","Components/Visualization/VizControlPanel.js","Components/Visualization/ProductList.js","Components/Visualization/MemberVariablesList.js","Enums/regions.js","Components/UI/RegionSelector.js","Components/Visualization/DataSearch.js","Components/Visualization/NewVizControlPanel.js","Enums/months.js","Utility/handleChartDatestring.js","Utility/chartBase.js","Components/Visualization/ChartControlPanel.js","Components/Visualization/SparseHistogram.js","Utility/handleXTicks.js","Utility/getChartDimensions.js","Components/Visualization/SpaceTimeChart.js","Components/Visualization/TimeSeriesChart.js","Components/Visualization/DepthProfileChart.js","Components/Visualization/SectionMapChart.js","Components/Visualization/SparseScatter.js","Components/Visualization/SparseMap.js","Components/Visualization/Charts.js","Components/Visualization/DragIcon.js","Components/Visualization/CruiseSelector.js","Components/Visualization/MapContainer.js","Utility/cleanSPParams.js","Utility/localDateToString.js","Enums/metaTags.js","Components/Visualization/ModuleSelector.js","Components/Visualization/Visualization.js","Utility/starsBase64.js","Components/User/LoginDialog.js","Components/UI/SnackbarWrapper.js","Components/UI/LoadingOverlay.js","Components/UI/CartHelpContents.js","Components/UI/Cart.js","Components/UI/GlobalUIComponentWrapper.js","Components/LandingPage.js","Stylesheets/JSS.js","Components/User/UserNavbarDropdown.js","Components/DataSubmission/DataSubmissionNavbarDropdown.js","Components/UI/MobileNavbarMenu.js","Components/Visualization/VizNavbarDropdown.js","Components/UI/TopNavBar.js","Components/User/Login.js","Components/User/ChangePassword.js","Components/User/ChangeEmail.js","Components/User/Profile.js","Components/DataSubmission/DSCellEditor.js","Components/DataSubmission/DSCellEditorTextArea.js","Components/DataSubmission/DSCellEditorSelect.js","Components/DataSubmission/ValidationGrid.js","Utility/DataSubmission/formatDataSheet.js","Utility/DataSubmission/formatDatasetMetadataSheet.js","Utility/DataSubmission/formatVariableMetadataSheet.js","Utility/DataSubmission/generateAudits.js","Utility/DataSubmission/workbookAudits.js","Components/DataSubmission/ValidationTool.js","Components/DataSubmission/SubmissionGuide.js","Components/DataSubmission/Comment.js","Components/DataSubmission/UserDashboardPanelDetails.js","Components/DataSubmission/UserDashboard.js","Components/DataSubmission/AdminDashboardPanelDetails.js","Components/DataSubmission/AdminDashboard.js","Components/DataSubmission/DataSubmission.js","Components/ContactUs.js","Components/Community/CommunityTemp.js","Utility/Catalog/uriEncodeSearchQuery.js","Components/Catalog/SearchHelpContent.js","Components/Catalog/CatalogSearch.js","Components/Catalog/CatalogNew.js","Components/Catalog/VariableGridHelpContents.js","Components/Catalog/DatasetPageAGGrid.js","Components/Catalog/DatasetJSONLD.js","Components/Catalog/DownloadingDataHelpContents.js","Components/Catalog/DownloadDialog.js","Components/UI/SkeletonWrapper.js","Components/Catalog/DatasetFullPage.js","Components/User/ForgotPass.js","Components/User/ChoosePassword.js","Components/Catalog/CruiseFullPage.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","states","inProgress","failed","succeeded","expired","uiResetState","catalogRequestState","loginDialogIsOpen","registrationActiveStep","userLoginState","userLoginError","userValidationState","userValidationError","userRegistrationState","apiKeyRetrievalState","apiKeyCreationState","initialState","catalog","datasetRequestState","datasets","submissionOptions","keywords","searchOptions","searchResults","searchResultsLoadingState","datasetFullPageData","datasetFullPageDataLoadingState","cruiseFullPageData","cart","showCart","changePasswordDialogIsOpen","changeEmailDialogIsOpen","snackbarIsOpen","snackbarMessage","loadingMessage","showHelp","user","JSON","parse","Cookies","get","apiKeys","clearLoginDialog","choosePasswordState","preferences","maps","charts","getCruiseTrajectoryRequestState","cruiseTrajectory","sampleData","queryRequestState","storedProcedureRequestState","getTableStatsRequestState","cruiseList","getCruiseListRequestState","showChartsOnce","chartID","vizPageDataTarget","vizSearchResults","Observation","Model","vizSearchResultsLoadingState","memberVariables","memberVariablesLoadingState","relatedData","relatedDataLoadingState","autocompleteVariableNames","dataSubmissions","submissionComments","submissionCommentHistoryRetrievalState","submissionFile","submissionUploadState","reducedReducer","reduceReducers","state","action","type","payload","datasetsRequestState","options","cruiseFullPageDataLoadingState","item","Long_Name","newCart","items","keys","message","layers","newLayer","mapInfo","chartInfo","id","slice","chartIndex","trajectory","datasetLongName","tableStats","target","variables","data","submissions","updatedComments","submissionID","comments","file","storeInfo","googleLoginRequestSend","userIDToken","logOut","keyRetrievalRequestSend","initializeGoogleAuth","retrievalRequestSend","retrievalRequestSuccess","datasetRetrievalRequestSend","datasetRetrievalRequestSuccess","storeSubmissionOptions","searchOptionsFetch","searchResultsStore","searchResultsSetLoadingState","datasetFullPageDataStore","datasetFullPageDataSetLoadingState","cruiseFullPageDataStore","cruiseFullPageDataSetLoadingState","showLoginDialog","hideLoginDialog","registrationNextActiveStep","restoreInterfaceDefaults","snackbarOpen","setLoadingMessage","toggleShowHelp","hideChangePasswordDialog","hideChangeEmailDialog","setShowCart","clearCharts","cruiseTrajectoryRequestSend","cruiseListRequestSend","cruiseListRequestSuccess","csvDownloadRequestSend","query","fileName","tableName","downloadTextAsCsv","text","csvFromVizRequestSend","vizObject","shortName","longName","vizPageDataTargetSet","vizSearchResultsSetLoadingState","memberVariablesStore","variableNameAutocompleteStore","vizSearchResultsStoreAndUpdateOptions","retrieveDataSubmissionsByUser","addSubmissionComment","comment","retrieveSubmissionCommentHistory","storeSubmissions","storeSubmissionComments","retrieveAllSubmissions","setSubmissionCommentHistoryRetrievalState","storeSubmissionFile","checkSubmissionOptionsAndStoreFile","setUploadState","downloadMostRecentFile","apiUrl","origin","spatialResolutions","irregular","halfDegree","quarterDegree","twentyFifthDegree","fourKm","twelfthDegree","seventyKm","oneDegree","nineKm","twentyFiveKm","mapSpatialResolutionToNumber","resolution","flattenArray","arr","flattenedArray","i","length","j","push","splitData","changeInterval","numDistinct","Math","floor","mergeArraysAndComputeMeans","mergeTargetDistance","nextMergeStartDistance","numArraysPerMerge","mergedArrays","travelDistance","subArray","sum","count","k","isNaN","mergeArrays","subTypes","sectionMap","contourSectionMap","timeSeries","histogram","depthProfile","heatmap","contourMap","sparse","temporalResolutions","threeMinutes","sixHourly","daily","weekly","monthly","annual","monthlyClimatology","threeDay","eightDayRunning","eightDays","SpaceTimeData","generateCsv","csvArray","dates","Array","from","depths","hasDepth","parameters","fields","variableValues","lats","lons","join","this","metadata","hasHours","isMonthly","Set","zMin","zMax","extent","indexAdjust","lonMin","lonMax","latMin","latMax","distinctLatCount","distinctLonCount","row","lat","parseFloat","_lon","lon","lon1","hasHour","Table_Name","Temporal_Resolution","time","value","add","Date","setUTCHours","toISOString","size","lonCount","latCount","quantile1","quantile","quantile2","undefined","toPrecision","spatialResolution","Spatial_Resolution","round","subType","splitByDate","splitByDepth","variableValueSubsets","depthInterval","dateInterval","map","subset","vizSubTypes","storedProcedures","spaceTime","TimeSeriesData","stds","depth","depthIndexAdjust","csvString","DepthProfileData","SectionMapData","lonInterval","latInterval","orientation","lonArray","max","min","splitBySpace","spaceCount","SparseData","variableIndex","Depth_Min","times","latDistance","abs","lonDistance","distance","sqrt","_zoom","zoom","lonCenter","latCenter","center","fetchOptions","credentials","postOptions","method","headers","storedProcedureParametersToUri","Object","reduce","queryString","key","api","login","fetch","body","stringify","logout","register","validate","googleLoginRequest","a","response","contactUs","changePassword","changeEmail","retrieve","decoder","encoding","TextDecoder","csvParser","CSVParser","columns","on","record","read","ok","reader","getReader","readerIsDone","chunk","done","write","decode","Dataset_Long_Name","trim","keyRetrieval","keyCreation","description","updateUserInfo","userInfo","fetchKeywords","datasetFullPageDataFetch","shortname","cruiseFullPageDataFetch","name","cruiseSearch","qString","recoverPassword","email","choosePassword","password","token","visualization","storedProcedureRequest","spName","vizData","console","log","status","e","getTableStats","json","cruiseTrajectoryRequest","csvDownload","memberVariablesFetch","datasetID","autocompleteVariableNamesFetch","terms","variableSearch","dataSubmission","retrieveSubmissionByUser","beginUploadSession","formData","uploadPart","commitUpload","setPhase","retrieveCommentHistory","retrieveMostRecentFile","getFileFromLink","link","cartPersistAddItem","cartPersistRemoveItem","cartPersistClear","getCart","groupVariablesByDataset","datasetObject","acc","cur","Dataset_Name","values","sort","firstEl","secondEl","groupDatasetsByMake","Make","buildSearchOptionsFromVariableList","Sensor","Data_Source","Distributor","Process_Level","forEach","v","cat","userLogin","userLogout","userRegistration","userValidation","catalogRetrieval","datasetRetrieval","queryRequest","cruiseListRequest","tableStatsRequest","csvDownloadRequest","csvFromVizRequest","refreshLogin","updateUserInfoRequest","recoverPasswordRequest","choosePasswordRequest","contactUsRequest","changePasswordRequest","changeEmailRequest","copyTextToClipboard","retrieveSubmissionsByUser","uploadSubmission","setDataSubmissionPhase","keywordsFetch","searchResultsFetch","cartGetAndStore","vizSearchResultsFetch","watchUserLogin","watchUserRegistration","watchUserValidation","watchUserLogout","watchGoogleLoginRequest","watchCatalogRetrieval","watchDatasetRetrieval","watchKeyRetrieval","watchKeyCreationRequest","watchQueryRequest","watchStoredProcedureRequest","watchCruiseTrajectoryRequest","watchCruiseListRequest","watchTableStatsRequest","watchCsvDownloadRequest","watchDownloadTextAsCsv","watchRefreshLogin","watchUpdateUserInfoRequest","watchInitializeGoogleAuth","watchRecoverPasswordRequest","watchChoosePasswordRequest","watchContactUs","watchChangePasswordRequest","watchChangeEmailRequest","watchCsvFromVizRequest","watchCopyTextToClipboard","watchRetrieveSubmissionsByUser","watchRetrieveAllSubmissions","watchAddSubmissionComment","watchRetrieveSubmissionCommentHistory","watchUploadSubmission","watchSetDataSubmissionPhase","watchRetrieveMostRecentFile","watchCheckSubmissionOptionsAndStoreFile","watchDownloadMostRecentFile","watchKeywordsFetch","watchSearchOptionsFetch","watchSearchResultsFetch","watchDatasetFullPageDataFetch","watchCruiseFullPageDataFetch","watchCartPersistAddItem","watchCartPersistRemoveItem","watchCartPersistClear","watchCartGetAndStore","watchVizSearchResultsFetch","watchMemberVariablesFetch","watchAutocompleteVariableNamesFetch","rootSaga","put","call","userActions","interfaceActions","pathname","href","gapi","auth2","getAuthInstance","authInstance","signOut","result","catalogActions","visualizationActions","delay","finalize","scrollTo","dataResponse","csvData","metadataQuery","metadataResponse","csv","blob","Blob","url","URL","createObjectURL","document","createElement","setAttribute","appendChild","click","removeChild","currentUser","getAuthResponse","authResponse","id_token","textArea","select","execCommand","remove","jsonResponse","dataSubmissionActions","datasetName","fileSize","chunkSize","offset","retries","beginSessionFormData","FormData","append","sessionID","beginSessionResponse","currentPartSucceeded","part","commitSucceeded","phaseID","linkResponse","dataset","getFileResponse","storedOptions","keywordsFetchResponse","unshift","results","itemID","formattedResults","params","variablesResponse","buildSearchOptionsFromVariablesList","makes","encodeURIComponent","takeLatest","debounce","all","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","run","colors","primary","solidPaper","backgroundGray","secondary","errorYellow","greenHover","mapDispatchToProps","connect","forwardRef","props","tooltipPlacement","innerSpanProps","handleCopyText","event","innerText","hideTooltip","style","cursor","onClick","Tooltip","placement","title","keyCreationRequestSend","ApiKeyManagement","componentDidMount","handleClick","handleChange","setState","classes","className","wrapper","Paper","root","elevation","Typography","variant","apiKeyTableHeader","Divider","Table","table","TableHead","TableRow","TableCell","align","TableBody","apiKey","index","Description","showChildOnHover","Api_Key","warningCaption","Grid","container","alignItems","justify","spacing","TextField","margin","onChange","placeholder","descriptionField","autoComplete","Button","disabled","color","Component","ownProps","withStyles","theme","width","marginTop","paddingTop","minWidth","marginBottom","visibility","fontSize","loginRequiredMessage","useEffect","Link","component","RouterLink","to","Home","Fragment","tableMapping1","tableMapping2","tableMapping3","padding","height","userSelect","infoCard","gridClass","maxHeight","gridItem","display","justifyContent","verticalAlign","datasetDescriptionWrapper","whiteSpace","overflow","datasetDescription","vizSampleImage","maxWidth","variableDetailTable","marginLeft","marginRight","tableLayout","variableDetailTableRow","variableDetailTableCell","borderBottomColor","textOverflow","paddingRight","gridDetailTypography","boldText","fontWeight","rightGridItem","boxSizing","datasetDescriptionButton","backgroundColor","buttonTextWrapper","xs","Time_Min","Time_Max","Depth_Max","Comment","context","handleDescribeVariable","ID","DatasetDescriptionDialog","clearDescription","Dialog","open","onClose","PaperProps","dialogPaper","DialogTitle","DialogContent","source","markdown","palette","main","textDecoration","describedVariable","variable","find","tooltip","boxShadow","borderRadius","textAlign","children","datasetGroupWrapper","bozSizing","nonDatasetGroupWrapper","paddingLeft","datasetGridClass","adjustGridLeft","groupName","chevronButton","datasetChevronButton","chevronIcon","transform","datasetButtonWrapper","tableGridSection","shortCell","acknowledgement","acknowledgementHeader","buttonMarginLeft","buttonMarginTop","node","allLeafChildren","React","useState","expanded","setExpanded","toggleExpand","field","onDoubleClick","IconButton","ExpandMore","enterDelay","ChevronRight","src","Icon_URL","alt","direction","Acknowledgement","handleDescribeDataset","level","disableRipple","disableFocusRipple","columnDefs","headerName","sortable","filter","tooltipField","cellRenderer","hide","enableRowGroup","rowGroup","defaultColDef","resizable","cellStyle","autoGroupColumnDef","getRowHeight","group","detail","AGGridWrapper","filterText","describedDataset","gridApi","setQuickFilter","onGridReady","columnApi","sizeColumnsToFit","onGridSizeChanged","handleColumnRowGroupChanged","column","setColumnVisible","colId","handleDownloadCatalog","header","render","gridPaper","gridSearch","autoFocus","InputProps","startAdornment","InputAdornment","position","Search","downloadButton","gridWrapper","rowData","suppressDragLeaveHidesColumns","enableCellTextSelection","suppressContextMenu","getRowStyle","styles","background","rowGroupPanelShow","groupMultiAutoColumn","onColumnRowGroupChanged","enableBrowserTooltips","groupUseEntireRow","groupRowRenderer","masterDetail","frameworkComponents","myDetailCellRenderer","GridDetail","datasetGroupRowRenderer","GroupedDatasetRow","detailCellRenderer","detailRowHeight","textTransform","dark","Catalog","determineContent","content","cartAddItem","cartRemoveItem","cartButton","withRouter","anchorElement","setAnchorElement","Visualize","cartButtonClass","startIcon","RemoveShoppingCart","AddShoppingCart","Dataset_ID","currentTarget","anchorEl","MenuItem","history","button","product","Map","resultWrapper","image","breakpoints","down","gridRow","resultPaper","denseText","moreInfoButton","warningIcon","Short_Name","Sensors","md","Info","ErrorOutline","showHelpButton","dialogPaperViz","buttonClass","iconClass","setOpen","Help","includes","SearchResultStatusIndicator","resultsCount","wrapperDiv","resultsWrapper","downloadWrapper","downloadIcon","helpButton","helpIcon","search","itemCount","handleDownloadSearchResults","CloudDownload","itemData","innerHeight","itemSize","registrationCard","textField","inputFieldState","handleKeyPress","buttonRef","current","Card","inputFieldInfo","label","error","valid","helperText","requirement","onKeyPress","registrationPreviousActiveStep","userRegistrationRequestSend","userValidationRequestSend","username","createRef","RegistrationStepper","userValidationRequestSuccess","validateField","rawValue","pattern","previousState","newCardState","cards","confirmPassword","test","processStateToActionPayload","actionPayload","card","cardKey","currentCardIsValid","currentCard","optional","handleNext","handleBack","newValue","fieldName","firstName","lastName","institute","department","country","newCard","steps","activeStep","cardInfoArray","Stepper","Step","StepLabel","instructionsPaper","instructions","handleHideStepper","ref","CircularProgress","buttonProgress","bottomError","handleClose","top","left","textSpan","fontFamily","clickHandlerTarget","viewBox","version","xmlns","xmlnsXlink","x","y","filterUnits","dx","dy","in","stdDeviation","rx","stroke","strokeWidth","fill","fillRule","xlinkHref","d","Register","showStepper","onGoogleSignup","registerGoogleClickHandler","_this","auth","attachClickHandler","setTimeout","handleShowStepper","paper","googleWrapper","emailSignUpWrapper","emailSignUpButton","validation","depthOneIsLower","depthOneOutOfBounds","depthTwoOutOfBounds","negative","date","dateOneIsLater","dateOneOutOfBounds","dateTwoOutOfBounds","latOneIsHigher","latOneOutOfBounds","latTwoOutOfBounds","lonOneIsHigher","lonOneOutOfBounds","lonTwoOutOfBounds","dataIsIrregular","dateRangeRequired","depthRangeRequired","surfaceOnlyDataset","irregularOnly","dataSizeTooLarge","webGLContextLimit","generic","invalid","dataSizeWarning","dataSizePrevent","variableMissing","vizTypeMissing","zIndex","DialogContentText","Product_Type","Lat_Min","Lat_Max","Lon_Min","Lon_Max","Variable_Min","Unit","Variable_Max","Variable_Mean","Variable_Std","mapTemporalResolutionToNumber","utcDateStringToLocal","utcString","utcYear","getUTCFullYear","utcMonth","getUTCMonth","utcDate","getUTCDate","newDate","setFullYear","darwinDepths","piscesDepths","piscesTable","darwinTable","exports","depth1","depth2","has","chart","visualizationSubTypes","vizTypeSelectFormControl","vizTypeMenu","vizTypeMenuItem","visualizeButton","fontVariant","vizButtonTooltip","chartControlContainer","bottom","overrideDisabledStyle","heatmapMessage","contourMessage","sectionMapMessage","histogramMessage","timeSeriesMessage","depthProfileMessage","sparseMapMessage","visualizeButtonTooltip","disableVisualizeMessage","selectedVizType","onVisualize","showChartControl","FormControl","InputLabel","shrink","htmlFor","inputProps","MenuProps","MenuListProps","fullWidth","getDatePlaceholder","valueOf","month","getMonth","day","getDate","getFullYear","reactWindowListRef","selectRef","MenuList","componentDidUpdate","prevProps","prevState","resetAfterIndex","scrollOffset","foundFocus","child","groupHasFocus","isFocused","getValue","initialOffset","indexOf","groupHeights","some","grandChild","totalHeight","estimatedItemSize","initialScrollOffset","Group","hasFocus","element","sensor","CustomHeading","headingProps","headingLabel","firstChild","selectProps","hidden","customHeading","icon","typography","ListItem","focusedOption","Icon","protocol","host","stopPropagation","ShoppingCart","DropdownIndicator","ArrowRight","Menu","Option","innerProps","onMouseMove","preventDefault","onMouseOver","GroupHeading","SingleValue","optionLabelSpanStyleLeft","optionLabelSpanStyleMid","optionLabelSpanStyleRight","formatOptionLabel","option","meta","ValueContainer","controlPanelModes","VizControlPanel","addDocuments","handleOpenControlPanel","showControlPanel","handleCloseControlPanel","handleTableStatsDialogClose","tableStatsDialogIsOpen","handleTableStatsDialogOpen","getSelectOptionsFromCatalogItems","Variable","opt1","opt2","estimateCsvSize","member","parseInt","Variable_Count","handleResetSPParams","resetSPParams","searchField","onAutoSuggestChange","searchString","estimateDataSize","dt1","dt2","lat1","lat2","lon2","date1","dayDiff","res","dateCount","depthUtils","checkStartDepth","surfaceOnly","replace","toFixed","checkEndDepth","checkStartDateValid","checkEndDateValid","checkStartDate","checkEndDate","checkStartLat","checkEndLat","checkStartLon","checkEndLon","checkHeatmap","irregularSpatialResolution","checkContour","checkSection","checkHistogram","checkTimeSeries","checkDepthProfile","checkSparseMap","checkGeneralWarn","dataSize","checkGeneralPrevent","webGLCount","countWebGLContexts","handleShowChartsAndResize","dispatchEvent","Event","handleShowCharts","handleUpdateFields","updateFields","lastSelectedFieldId","JsSearch","indexStrategy","searchIndex","addIndex","showDataBites","showBottomControl","controlPanelMode","maxDateMessage","maxDate","showCharts","handleShowGlobe","handleLatLonChange","catalogMinDate","setHours","catalogMaxDate","zeroedDT1","zeroedDT2","minDate","minDateMessage","startDepthMessage","endDepthMessage","startLatMessage","endLatMessage","startLonMessage","endLonMessage","generalWarnMessage","checkDisableVisualizeList","errorCount","errorSizeAdjust","checkDisableVisualize","closePanelChevron","aria-label","ChevronLeft","openPanelChevron","Drawer","drawer","drawerPaper","anchor","ButtonGroup","groupedButtons","depressed","ShowChart","DirectionsBoat","Fastfood","Settings","isLoading","components","IndicatorSeparator","escapeClearsValue","onInputChange","filterOption","variableSelect","isClearable","inputValue","menu","provided","backdropFilter","valueContainer","input","control","border","borderBottom","borderColor","noOptionsMessage","singleValue","tableStatsButton","LibraryBooks","datePicker","format","autoOk","handleStartDateChange","inputVariant","KeyboardButtonProps","datePickerInputAdornment","handleEndDateChange","formGridItem","FormHelperTextProps","padLeft","InputLabelProps","ceil","dataBitesContainer","bottomControlContainer","drawerPaperError1","drawerPaperError2","drawerPaperError3","drawerPaperError4","drawerPaperError5","navDrawerWidth","controlPanelForm","borderLeft","clearChartsButton","borderRight","resetSPParamsButton","right","makeGroupStyles","searchOptionsMenuList","searchOption","searchOptionsMenuItem","searchOptionsMenuItemText","heading","variableItem","variablesWrapper","memberCount","MakeGroup","memo","handleSelectDataTarget","setTableStatsTarget","listRef","make","openIndex","setOpenIndex","handleSetOpenClick","varCount","overflowY","observationListRef","modelListRef","handleShowMemberVariables","tableStatsTarget","MemberVariablesList","handleHideMemberVariables","handleCreatePlot","closeChartIcon","Close","listHeader","variableWrapper","lg","InsertChart","float","RegionSelector","setAnchorEl","Autocomplete","regions","renderInput","getOptionLabel","onSelect","disablePortal","paperClass","inputClass","optionClass","variableNameAutocompleteFetch","vizSearchResultsStore","defaultState","timeStart","timeEnd","latStart","latEnd","lonStart","lonEnd","searchTerms","searchInputValue","sensorInputValue","temporalResolution","dataSource","distributor","processLevel","DataSearch","memberVariablesDataset","showAdvanced","handleSearchInputValueChange","handleChangeSearchValue","altTypeValue","newState","handleToggleShowAdvanced","handleSelectRegion","coverageArray","split","handleResetSearch","clearOnBlur","autocompletePopperPaper","autocompleteOptions","filterOptions","handleHomeEndKeys","multiple","clearOnEscape","freeSolo","renderTags","getTagProps","Chip","chip","inputRoot","showAdvancedWrapper","searchPanelRow","formControl","addBorder","regionSelectorInput","addTopMargin","FormHelperText","Select","PopoverClasses","sensorTextField","sensorInputLabel","popperDisablePortal","resetButton","searchWrapper","depthFormControlRoot","searchSectionHeader","NewVizControlPanel","dataSearchMenuOpen","relatedDataMenuOpen","handleClickAway","dataTarget","Name","controlPanelItem","controlPanelItemLabel","controlPanelItemStartIcon","ControlCamera","ClickAwayListener","onClickAway","mouseEvent","dataSearchMenuPaper","drawerWidth","dateString","months","layout","font","paper_bgcolor","autosize","config","displaylogo","annotations","yshift","documentElement","clientWidth","xref","yref","showarrow","colorscaleOptions","chartWrapper","popover","paddingBottom","iconButton","colorForm","lastIcon","borderTopRightRadius","borderBottomRightRadius","buttonGroup","colorscaleMenu","grayBackground","onToggleSplitByDate","onToggleSplitBySpace","downloadCsv","handleZValueConfirm","zValues","markerOptions","handleMarkerOptionsConfirm","showErrorBars","handleSetShowErrorBars","showLines","handleSetShowLines","paletteAnchorElement","setPaletteAnchorElement","zScalePopoverAnchorElement","setZScalePopoverAnchorElement","localZMin","setLocalZMin","localZMax","setLocalZMax","zScalePopoverOpen","zScalePopoverID","handleZScalePopoverClose","zScaleValidations","zMinMessage","zMaxMessage","markerOptionsAnchorElement","setMarkerOptionsAnchorElement","opacity","localMarkerOpacity","setLocalMarkerOpacity","localMarkerColor","setLocalMarkerColor","localMarkerSize","setLocalMarkerSize","previousOpacity","useRef","usePreviousOpacity","previousColor","usePreviousColor","previousSize","usePreviousSize","markerPopoverOpen","markerPopoverID","handleMarkerOptionsClose","markerOptionsValidations","checkLocalMarkerOpacity","checkLocalMarkerSize","localMarkerOpacityMessage","localMarkerSizeMessage","DateRange","LineWeight","SwapVert","Tune","handlePaletteChoice","Palette","Gamepad","keepMounted","Popover","anchorOrigin","vertical","horizontal","transformOrigin","OutlinedInput","aria-describedby","labelWidth","buttonBlock","iconButtonWrapper","handleChartDateString","useResizeHandler","marker","chartBase","plot_bgcolor","xaxis","exponentformat","yaxis","infoObject","sectionSize","lonRange","tickvals","ticktext","tickmode","sizeRatio","plots","setSplitByDate","setSplitByDepth","setPalette","setZValues","subSets","generatePlotData","subsets","xTicks","handleXTicks","getChartDimensions","latTitle","lonTitle","hovertext","formatter","minHeight","zauto","zmin","zmax","z","connectgaps","autocolorscale","colorscale","hoverinfo","contours","coloring","showlabels","labelfont","family","labelformat","colorbar","handleContourMap","zsmooth","handleHeatmap","requestAnimationFrame","onToggleSplitByDepth","chartCount","availableWGLContexts","setMarkerOptions","setShowLines","setShowErrorBars","mode","error_y","array","visible","line","isMonthy","date2","error_x","autorange","setSplitBySpace","setOrientation","spaces","distinctMeridiansOrParallelsForSplitting","xAxis","handleSectionMap","switchOrientation","SparseScatter","xValues","yValues","xTitle","yTitle","tabProps","SparseTabPanel","selectedTab","controlPanelProps","tabs","tab","setTab","plot","radius","mapbox","sourcetype","below","mapboxAccessToken","handleSparseMap","scatter","Tabs","centered","indicatorColor","Tab","deleteChart","CloseChartIcon","handleDeleteChart","Charts","chartPaper","ZoomOutMap","iconID","cruiseTrajectoryClear","esriFonts","cruiseSort","b","CruiseSelector","Nickname","getSelectOptionsFromCruiseList","list","handleCruiseSelect","selection","selectedCruise","updateParametersFromCruiseBoundary","handle","outerDiv","showCruiseControl","getCruiseListState","cruiseSelect","menuList","primary25","cruiseInfo","cruiseInfoCell","Start_Time","End_Time","Chief_Name","Ship_Name","borderStyle","dragIcon","polygonSymbol","symbolLayers","material","outline","polylineSymbol","r","g","UiComponents","shouldComponentUpdate","nextProps","nextState","sketchModel","esriModules","SketchViewModel","layer","regionLayer","view","defaultUpdateOptions","toggleToolOnClick","tool","setShowHelp","throttledUpdate","throttle","updateDomainFromGraphicExtent","Utils","webMercatorToGeographic","graphic","geometry","toolEventInfo","complete","graphics","ui","TrajectoryController","trajectoryLayer","midIndex","removeAll","polyLines","lineIndex","maxDistance","_lonDistance","cruiseTrajectorySymbol","cap","cruiseTrajectoryGeometry","paths","Graphic","symbol","goTo","maxDuration","speedFactor","MapContainer","spParams","globeUIRef","_lon2","polygon","rings","regionGraphic","mapProperties","basemap","viewProperties","highlightOptions","haloOpacity","haloColor","fillOpacity","measurementPositions","GraphicsLayer","cleanSPParams","localDateToString","year","toString","metaTags","default","community","mapVizType","vizType","sp","queryRequestSend","storedProcedureRequestSend","storedProcedureInfo","completedShowCharts","baseSPParams","Visualization","filteredData","showUI","componentWillUnmount","mapping","sparseMaxDate","setDate","cruise","handleShowCruiseControl","toggleShowUI","_lon1","xmin","xmax","newCoordinates","ymin","ymax","esriModuleNames","loadModules","loadedModules","accumulator","currentValue","currentIndex","vizWrapper","displayNone","exact","path","ModuleSelector","toggleChartView","userLoginRequestSend","LoginDialog","handleLogin","clearState","onGoogleSignin","onDialogEnter","loginDisabled","aria-labelledby","onEnter","dialogWrapper","colorCorrectionPrimary","onSubmit","DialogActions","googleIconWrapper","colorCorrectionWhite","colorCorrection","snackbarClose","Snackbar","autoHideDuration","loader","loaderContent","flexDirection","alignItem","spinnerText","spinner","fadeIn","cartClear","dialogTitle","dialogActions","cartItems","Delete","loginDialogWasCleared","GlobalUIComponentWrapper","handleLogOut","preProps","LandingPage","panelItems","draggedItems","handleDrop","parent","gridSection","landingWrapper","accordion","jss","navLink","pointerEvents","letterSpacing","JSS","dropdown","popperPaperBlue","borderTopLeftRadius","popperPaperBlack","ExpandLess","Popper","role","transition","TransitionProps","Grow","isDataSubmissionAdmin","menuIcon","listItem","drawerState","setDrawerState","List","TopNavBar","addEventListener","handleResize","w","innerWidth","cartSize","navWrapper","navWrapperBlue","simonsLogoWrapper","simonsLogo","rightSectionWrapper","rightNavLink","changePasswordRequestSend","oldPassword","newPassword","formWrapper","currentPassword","setCurrentPassword","setNewPassword","newPasswordConfirm","setNewPasswordConfirm","newPasswordValid","newPasswordConfirmValid","resetFields","changePasswordButtonRef","buttonIsDisabled","changeEmailRequestSend","setpassword","setEmail","emailConfirm","setEmailConfirm","changeEmailButtonRef","emailValid","testEmail","emailConfirmValid","updateUserInfoRequestSend","showChangePasswordDialog","showChangeEmailDialog","userProperties","userToState","editable","Profile","handleValidation","infoHasChanged","handleEdit","handleCancel","handleConfirm","formIsValid","property","close","changePasswordDialogOpen","ChangeEmail","changeEmailDialogOpen","profilePaper","editButton","Edit","readOnly","buttonGrid","accountPaper","accountEditButton","DSCellEditor","getAuditReport","sheet","rowIndex","auditReport","errors","auditCell","afterGuiAttached","inputRef","focus","attached","stopEditing","parseValue","spellCheck","err","lineHeight","DSCellEditorTextArea","isPopup","rowCount","textAreaLookup","rows","cols","DSCellEditorSelect","checkAgainst","selectOptions","toLowerCase","dynamicOpts","opts","numberParser","Number","valueParser","dataset_meta_data","autoHeight","cellEditor","vars_meta_data","ValidationGrid","gridContext","singleClickEdit","onModelUpdated","defaultColumnDef","suppressMovableColumns","onCellValueChanged","handleCellValueChanged","handleGridSizeChanged","workbook","sample","is1904","Workbook","WBProps","date1904","keysContaining__EMPTY","dataset_release_date","Study_Domain","number","required","datasetLength","makesSet","disciplines","sensors","sensorsSet","codeFriendly","binary","spatialResolutionSet","temporalResolutionsSet","firstRowOnly","dataset_short_name","dataset_long_name","dataset_version","dataset_make","dataset_source","dataset_distributor","dataset_acknowledgement","dataset_history","dataset_description","dataset_references","climatology","cruise_names","var_short_name","var_long_name","var_sensor","var_unit","var_spatial_res","var_temporal_res","var_discipline","visualize","var_keywords","nanVariants","warnings","sheetCheck","missingSheets","Sheets","checkSheets","missingCols","checkRequiredCols","fixedVariables","userVariables","variableNameMismatches","checkVariableNameMismatches","missingVarMetadataRows","shortNames","checkMissingVarMetadataRows","emptyColumns","checkEmptyColumns","includeDepth","checkDepthAllOrNone","hasInSitu","isObservation","shouldHaveCruise","hasCruise","checkMissingCruiseNames","pi","PI","checkRadians","duplicates","obj","matched","checkUniqueSpaceTime","typeConsistency","columnIsNumerical","checkTypeConsistency","allSameValue","col","sampleValue","allSameValueHelper","checkAllSameValue","containsNans","checkNans","outliers","vectors","stats","mean","deviation","checkOutliers","CleanupDummy","var_comment","validationSteps","orderedColumns","generateSelectOptions","reduxStoreOptions","StyledBadgeRed","badge","Badge","StyledBadgeGreen","fileSizeTooLargeDummyState","validationStep","ValidationTool","checkCellStyle","childIndex","menuTabs","handleDragOver","cellAudit","auditFuncs","audits","func","auditWorkbook","workbookAudits","auditRows","audit","rowAudit","performAudit","info","handleResetState","handleChangeValidationStep","oldValue","newAudit","updated","redrawRows","handleReadFile","FileReader","onload","progressEvent","readFile","Uint8Array","XLSX","_data","utils","sheet_to_json","defval","formatDataSheet","_dataset_meta_data","formatDatasetMetadataSheet","_vars_meta_data","formatVariableMetadataSheet","readAsArrayBuffer","dataTransfer","getAsFile","handleFileSelect","files","handleUploadSubmission","book_new","book_append_sheet","json_to_sheet","wbArray","bookType","handleDownload","writeFile","scrollGridTo","ensureIndexVisible","handleFindNext","lastFocused","getFocusedCell","startRow","startColIndex","findIndex","ensureColumnVisible","startEditingCell","colKey","countErrors","counts","handleClickTab","URLSearchParams","generateAudits","needHelp","download","needHelpLink","fileSelectPaper","onDragOver","onDrop","currentlyViewingTypography","chooseNewFileLabel","ilb","ArrowBack","currentSectionSpan","ArrowForward","divider","linkLabel","Done","workbookAuditPaper","dense","ListItemIcon","ListItemText","tabPaper","badgeContent","workbookTab","submittedTypography","encodeURI","submitButton","accept","dragTarget","dataTable","tableWrapper","errorStepperPaper","findNextButton","doiProviderList","dataSheetProps","anchorEnd","bullets","datasetMetadataSheetProps","images","caption","variableMetadataSheetProps","stickyPaper","guideSection","sectionHeader","navListItem","navListItemText","doiListItem","doiListItemText","doiListItemtextWrapper","navListItemtextWrapper","subListText","sampleTableRow","navListSubItemText","navListSubSubItemText","activeSection","setActiveSection","observer","IntersectionObserver","entries","isIntersecting","threshold","querySelector","observe","disconnect","bullet","l","maxwidth","commentArea","commenterAndDateTime","Commenter","Comment_Date_Time","dateTime","toLocaleString","panelDetails","newCommentDiv","newCommentTextField","flexBasis","postButton","setPhaseButton","stepper","newUpload","submission","setComment","Submission_ID","renderComments","Phase","ExpansionPanelDetails","alternativeLabel","multiline","UserDashboard","expandedPanel","Dataset","handleExpansion","ExpansionPanel","unmountOnExit","ExpansionPanelSummary","expandIcon","noWrap","panelSummaryText","setSubmissionPhase","phaseControlWrapper","phaseSelect","Phase_ID","phase","handleResetExpandedPanel","initialFilterState","AdminDashboard","handleChangeFilter","newFilterState","filters","handleChangeSearchString","FormGroup","filterFormGroup","searchFieldWrapper","FormControlLabel","Checkbox","checked","filterFormControl","modifiedDatasetID","flexWrap","SubmissionGuide","contactUsRequestSend","subject","ContactUs","handleSubmit","messageTextField","descriptionPaper","iconContainer","followContainer","softwareIcon","followUs","followUsGridSection","followUsIcon","docButtonGrid","docButton","srcSet","searchWords","keyword","submissionOptionsRetrieval","matchSorter","CatalogSearch","helpDialogOpen","uriEncodeSearchQuery","SearchHelpContent","VariableGridHelpContents","CommentCellRenderer","headername","suppressMovable","DatasetPageAGGrid","Variables","quickSearch","setQuickSearch","autoSizeAllColumns","rowHeight","cacheQuickFilter","quickFilterText","getContextMenuItems","icons","ReactDOMServer","renderToString","sortAscending","ArrowUpward","sortDescending","ArrowDownward","commentCellRenderer","DatasetJSONLD","Keywords","References","dangerouslySetInnerHTML","__html","dayToDate","days","dateToDay","getTime","DownloadDialog","handleSetStartDate","parts","targetDate","handleSetEndDate","handleFullDatasetDownload","handleSubsetDownload","isMonthyClimatology","timeUnit","handleSliderChange","maxDays","dialogOpen","Row_Count","timeMin","timeMax","subsetLat1","subsetLat2","subsetLon1","subsetLon2","subsetTime1","subsetTime2","datasetIsMonthlyClimatology","depthMin","depthMax","subsetDepth1","subsetDepth2","dateRatio","totalDataPoints","fullDataAvailable","totalDays","subsetDays","totalLatSize","latRatio","totalLonSize","lonRatio","depthRatio","totalDepthSize","subsetDepthSize","subsetDataPoints","subsetAvailable","timeString1","timeString2","dialogRoot","formGrid","formLabel","Slider","valueLabel","sliderValueLabel","thumb","sliderThumb","markLabel","slider","marks","step","closeDialogIcon","SkeletonWrapper","loading","Skeleton","outerContainer","smallText","tableHead","variableLongName","pageHeader","cruiseLink","Cruises","downloadDialogOpen","setDownloadDialogOpen","defaultTitle","reference","fullPageData","recoverPasswordRequestSend","emailSentDescription","sendButton","emailWasSent","setEmailWasSent","choosePasswordRequestSend","choosePasswordRequestReset","choosePasswordButtonRef","ChoosePassword","handleChangePassword","handleChangeConfirmPassword","decodedToken","jwtDecode","expiration","setUTCSeconds","exp","sub","passwordValid","confirmPasswordValid","textFields","datasetLink","cruiseName","createMuiTheme","useNextVariants","contrastText","overrides","MuiIconButton","MuiPaper","MuiListItemIcon","MuiFormHelperText","filled","MuiListItem","gutters","MuiToolbar","MuiMenuItem","MuiPickersBasePicker","MuiOutlinedInput","MuiSnackbarContent","MuiButtonGroup","groupedOutlined","MuiTableCell","MuiFormControl","marginNormal","MuiDialogContentText","MuiExpansionPanel","MuiDialogTitle","MuiFilledInput","adornedEnd","MuiPopover","App","DateFnsUtils","CatalogNew","Login","ForgotPass","DataSubmission","CommunityTemp","SearchResults","DatasetFullPage","CruiseFullPage","LicenseManager","setLicenseKey","rootElement","getElementById","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.12868d7f.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","// Enum for async requests.\r\n\r\nconst states = {\r\n    inProgress: 'inProgress',\r\n    failed: 'failed',\r\n    succeeded: 'succeeded',\r\n    expired: 'expired'\r\n}\r\n\r\nexport default states;","import * as interfaceActionTypes from '../actionTypes/ui';\r\n\r\nconst uiResetState = {\r\n  catalogRequestState: null,\r\n\r\n  loginDialogIsOpen: false,\r\n  registrationActiveStep: 0,\r\n\r\n  userLoginState: null,\r\n  userLoginError: null,\r\n\r\n  userValidationState: null,\r\n  userValidationError: null,\r\n\r\n  userRegistrationState: null,\r\n\r\n  apiKeyRetrievalState: null,\r\n  apiKeyCreationState: null\r\n}\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {\r\n    case interfaceActionTypes.INTERFACE_SHOW_LOGIN_DIALOG: return {...state, loginDialogIsOpen: true};\r\n    case interfaceActionTypes.INTERFACE_HIDE_LOGIN_DIALOG: return {...state, loginDialogIsOpen: false, userLoginError: null};\r\n    case interfaceActionTypes.REGISTRATION_NEXT_ACTIVE_STEP: return {...state, registrationActiveStep: state.registrationActiveStep + 1}\r\n    case interfaceActionTypes.REGISTRATION_PREVIOUS_ACTIVE_STEP: return {...state, registrationActiveStep: state.registrationActiveStep - 1}\r\n    case interfaceActionTypes.RESTORE_INTERFACE_DEFAULTS: return {\r\n      ...state,\r\n      ...uiResetState\r\n    }\r\n    case interfaceActionTypes.SNACKBAR_OPEN: return {\r\n      ...state,\r\n      snackbarIsOpen: true,\r\n      snackbarMessage: action.payload.message\r\n    }\r\n    case interfaceActionTypes.SNACKBAR_CLOSE: return {...state, snackbarIsOpen: false}\r\n    case interfaceActionTypes.SET_LOADING_MESSAGE: return {...state, loadingMessage: action.payload.message}\r\n    \r\n    case interfaceActionTypes.TOGGLE_SHOW_HELP: return {...state, showHelp: !state.showHelp}\r\n\r\n    case interfaceActionTypes.SHOW_CHANGE_EMAIL_DIALOG: return {...state, changeEmailDialogIsOpen: true}\r\n    case interfaceActionTypes.HIDE_CHANGE_EMAIL_DIALOG: return {...state, changeEmailDialogIsOpen: false}\r\n\r\n    case interfaceActionTypes.SHOW_CHANGE_PASSWORD_DIALOG: return {...state, changePasswordDialogIsOpen: true}\r\n    case interfaceActionTypes.HIDE_CHANGE_PASSWORD_DIALOG: return {...state, changePasswordDialogIsOpen: false}\r\n\r\n    case interfaceActionTypes.SET_SHOW_CART: return {...state, showCart: action.payload.showCart}\r\n    \r\n    default: return state;\r\n  }\r\n}","import catalog from './catalog';\r\nimport user from './user';\r\nimport ui from './ui';\r\nimport visualization from './visualization';\r\nimport dataSubmission from './dataSubmission.js';\r\nimport reduceReducers from 'reduce-reducers';\r\nimport Cookies from 'js-cookie';\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\n// Consider building this object from initial states from each reducer\r\n// ** When adding new keys to redux store consider whether they need to be\r\n// reset on navigation for UI purposes. If so, add them with a default state\r\n// to the uiResetState in the ui reducer **\r\nconst initialState = {\r\n\r\n    // Catalog state pieces\r\n    catalogRequestState: null,\r\n    catalog: null,\r\n    datasetRequestState: null,\r\n    datasets: null,\r\n    submissionOptions: null,\r\n    keywords: [],\r\n    searchOptions: {},\r\n    searchResults: [],\r\n    searchResultsLoadingState: states.succeeded,\r\n    datasetFullPageData: {},\r\n    datasetFullPageDataLoadingState: states.succeeded,\r\n    cruiseFullPageData: {},\r\n    datasetFullPageDataLoadingState: states.succeeded,\r\n    cart: {},\r\n    showCart: false,\r\n\r\n    // Interface state pieces\r\n    loginDialogIsOpen: false,\r\n    changePasswordDialogIsOpen: false,\r\n    changeEmailDialogIsOpen: false,\r\n    registrationActiveStep: 0,\r\n    snackbarIsOpen: false,\r\n    snackbarMessage: null,\r\n    loadingMessage: '',\r\n    showHelp: false,\r\n\r\n    // User state pieces\r\n    user: JSON.parse(Cookies.get('UserInfo') || null),\r\n\r\n    apiKeys: null,\r\n    apiKeyRetrievalState: null,\r\n    apiKeyCreationState: null,\r\n\r\n    clearLoginDialog: false,\r\n\r\n    userLoginState: null,\r\n\r\n    userValidationState: null,\r\n\r\n    userRegistrationState: null,\r\n\r\n    choosePasswordState: null,\r\n\r\n    preferences: {\r\n        \r\n    },\r\n\r\n    // Visualization state pieces\r\n    maps: [],\r\n    charts: [],\r\n    getCruiseTrajectoryRequestState: null,\r\n    cruiseTrajectory: null,\r\n    sampleData: null,\r\n    queryRequestState: null,\r\n    storedProcedureRequestState: null,\r\n    getTableStatsRequestState: null,\r\n    cruiseList: [],\r\n    getCruiseListRequestState: null,\r\n    showChartsOnce: null,\r\n    chartID: 0,\r\n    vizPageDataTarget: null,\r\n    vizSearchResults: {Observation: [], Model: []},\r\n    vizSearchResultsLoadingState: states.succeeded,\r\n    memberVariables: [],\r\n    memberVariablesLoadingState: states.succeeded,\r\n    relatedData: [],\r\n    relatedDataLoadingState: states.succeeded,\r\n    autocompleteVariableNames: [],\r\n\r\n    // Data Submission state pieces\r\n\r\n    dataSubmissions: [],\r\n    submissionComments: [],\r\n    submissionCommentHistoryRetrievalState: states.succeeded,\r\n    submissionFile: null,\r\n    submissionUploadState: null\r\n}\r\n\r\nconst reducedReducer = reduceReducers(initialState, catalog, user, ui, visualization, dataSubmission);\r\n\r\nexport default reducedReducer;","import * as catalogActionTypes from '../actionTypes/catalog';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_SUCCESS: return {\r\n      ...state, \r\n      catalogRequestState: states.succeeded, \r\n      catalog: action.payload.catalog\r\n    }\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_FAILURE: return {...state, catalogRequestState: states.failed}\r\n    case catalogActionTypes.RETRIEVAL_REQUEST_PROCESSING: return {...state, catalogRequestState: states.inProgress}\r\n\r\n    case catalogActionTypes.DATASET_RETRIEVAL_REQUEST_SUCCESS: return {...state,\r\n      datasetsRequestState: states.succeeded, \r\n      datasets: action.payload.datasets\r\n    }\r\n    case catalogActionTypes.DATASET_RETRIEVAL_REQUEST_FAILURE: return {...state, datasetsRequestState: states.failed}\r\n    case catalogActionTypes.DATASET_RETRIEVAL_REQUEST_PROCESSING: return {...state, datasetsRequestState: states.inProgress}\r\n    case catalogActionTypes.STORE_SUBMISSION_OPTIONS: return {...state, submissionOptions: action.payload.options}\r\n\r\n    case catalogActionTypes.KEYWORDS_STORE: return {...state, keywords: action.payload.keywords}\r\n\r\n    case catalogActionTypes.SEARCH_OPTIONS_STORE: return {...state, searchOptions: action.payload.searchOptions}\r\n\r\n    case catalogActionTypes.SEARCH_RESULTS_STORE: return {...state, searchResults: action.payload.searchResults}\r\n    case catalogActionTypes.SEARCH_RESULTS_SET_LOADING_STATE: return {...state, searchResultsLoadingState: action.payload.state}\r\n\r\n    case catalogActionTypes.DATASET_FULL_PAGE_DATA_STORE: return {...state, datasetFullPageData: action.payload.datasetFullPageData}\r\n    case catalogActionTypes.DATASET_FULL_PAGE_DATA_SET_LOADING_STATE: return {...state, datasetFullPageDataLoadingState: action.payload.state}\r\n\r\n    case catalogActionTypes.CRUISE_FULL_PAGE_DATA_STORE: return {...state, cruiseFullPageData: action.payload.cruiseFullPageData}\r\n    case catalogActionTypes.CRUISE_FULL_PAGE_DATA_SET_LOADING_STATE: return {...state, cruiseFullPageDataLoadingState: action.payload.state}\r\n\r\n    case catalogActionTypes.CART_ADD_ITEM: return {...state, cart: {...state.cart, [action.payload.item.Long_Name]: action.payload.item}}\r\n    case catalogActionTypes.CART_REMOVE_ITEM: return {...state, cart: (() => {let newCart = {...state.cart}; delete newCart[action.payload.item.Long_Name]; return newCart})()}\r\n    case catalogActionTypes.CART_CLEAR: return {...state, cart: {}}\r\n    case catalogActionTypes.CART_ADD_MULTIPLE: return {...state, cart: {...state.cart, ...action.payload.items}}\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}","export const RETRIEVAL_REQUEST_SEND = 'CATALOG_RETRIEVAL_REQUEST_SEND';\r\nexport const RETRIEVAL_REQUEST_SUCCESS = 'CATALOG_RETRIEVAL_REQUEST_SUCCESS';\r\nexport const RETRIEVAL_REQUEST_FAILURE = 'CATALOG_RETRIEVAL_REQUEST_FAILURE';\r\nexport const RETRIEVAL_REQUEST_PROCESSING = 'CATALOG_RETRIEVAL_REQUEST_PROCESSING';\r\n\r\nexport const DATASET_RETRIEVAL_REQUEST_SEND = 'DATASET_CATALOG_RETRIEVAL_REQUEST_SEND';\r\nexport const DATASET_RETRIEVAL_REQUEST_SUCCESS = 'DATASET_CATALOG_RETRIEVAL_REQUEST_SUCCESS';\r\nexport const DATASET_RETRIEVAL_REQUEST_FAILURE = 'DATASET_CATALOG_RETRIEVAL_REQUEST_FAILURE';\r\nexport const DATASET_RETRIEVAL_REQUEST_PROCESSING = 'DATASET_CATALOG_RETRIEVAL_REQUEST_PROCESSING';\r\n\r\nexport const SUBMISSION_OPTIONS_RETRIEVAL = 'SUBMISSION_OPTIONS_RETRIEVAL';\r\nexport const STORE_SUBMISSION_OPTIONS = 'STORE_SUBMISSION_OPTIONS';\r\n\r\nexport const KEYWORDS_FETCH = 'KEYWORDS_FETCH';\r\nexport const KEYWORDS_STORE = 'KEYWORDS_STORE';\r\n\r\nexport const SEARCH_OPTIONS_FETCH = 'SEARCH_OPTIONS_FETCH';\r\nexport const SEARCH_OPTIONS_STORE = 'SEARCH_OPTIONS_STORE';\r\n\r\nexport const SEARCH_RESULTS_FETCH = 'SEARCH_RESULTS_FETCH';\r\nexport const SEARCH_RESULTS_STORE = 'SEARCH_RESULTS_STORE';\r\nexport const SEARCH_RESULTS_SET_LOADING_STATE = 'SEARCH_RESULTS_SET_LOADING_STATE';\r\n\r\nexport const DATASET_FULL_PAGE_DATA_FETCH = 'DATASET_FULL_PAGE_DATA_FETCH';\r\nexport const DATASET_FULL_PAGE_DATA_STORE = 'DATASET_FULL_PAGE_DATA_STORE';\r\nexport const DATASET_FULL_PAGE_DATA_SET_LOADING_STATE = 'DATASET_FULL_PAGE_DATA_SET_LOADING_STATE';\r\n\r\nexport const CRUISE_FULL_PAGE_DATA_FETCH = 'CRUISE_FULL_PAGE_DATA_FETCH';\r\nexport const CRUISE_FULL_PAGE_DATA_STORE = 'CRUISE_FULL_PAGE_DATA_STORE';\r\nexport const CRUISE_FULL_PAGE_DATA_SET_LOADING_STATE = 'CRUISE_FULL_PAGE_DATA_SET_LOADING_STATE';\r\n\r\nexport const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_CLEAR = 'CART_CLEAR';\r\nexport const CART_ADD_MULTIPLE = 'CART_ADD_MULTIPLE';","import * as userActionTypes from '../actionTypes/user';\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {    \r\n\r\n    case userActionTypes.LOGIN_REQUEST_PROCESSING: return {...state, userLoginState: states.inProgress}\r\n    case userActionTypes.LOGIN_REQUEST_SUCCESS: return {...state, userLoginState: states.succeeded, userLoginError: null}\r\n    case userActionTypes.LOGIN_REQUEST_FAILURE: return {...state, userLoginState: states.failed}\r\n    case userActionTypes.LOGIN_REQUEST_CLEAR_ERROR: return {...state, userLoginError: null}\r\n\r\n    case userActionTypes.STORE_INFO: return {...state, user: {...action.payload.user}}\r\n    case userActionTypes.DESTROY_INFO: return {...state, user: null, apiKeys: null, clearLoginDialog: true}\r\n    case userActionTypes.LOGIN_DIALOG_WAS_CLEARED: return {...state, clearLoginDialog: false}\r\n\r\n    case userActionTypes.VALIDATION_REQUEST_PROCESSING: return {...state, userValidationState: states.inProgress}\r\n    case userActionTypes.VALIDATION_REQUEST_FAILURE: return {...state, userValidationState: states.failed}\r\n    case userActionTypes.VALIDATION_REQUEST_SUCCESS: return {...state, userValidationState: null}\r\n\r\n    case userActionTypes.REGISTRATION_REQUEST_PROCESSING: return {...state, userRegistrationState: states.inProgress}\r\n    case userActionTypes.REGISTRATION_REQUEST_FAILURE: return {...state, userRegistrationState: states.failed}\r\n    case userActionTypes.REGISTRATION_REQUEST_SUCCESS: return {...state, userRegistrationState: states.succeeded}\r\n\r\n    case userActionTypes.KEY_RETRIEVAL_REQUEST_SUCCESS: return {...state, apiKeys: action.payload.keys}\r\n    case userActionTypes.KEY_RETRIEVAL_REQUEST_FAILURE: return {...state, apiKeyRetrievalState: states.failed}\r\n\r\n    case userActionTypes.KEY_CREATION_REQUEST_PROCESSING: return {...state, apiKeyCreationState: states.inProgress}\r\n    case userActionTypes.KEY_CREATION_REQUEST_FAILURE: return {...state, apiKeyCreationState: states.failed}\r\n    case userActionTypes.KEY_CREATION_REQUEST_SUCCESS: return {...state, apiKeyCreationState: states.succeeded}\r\n\r\n    case userActionTypes.CHOOSE_PASSWORD_REQUEST_SUCCESS: return {...state, choosePasswordState: states.succeeded}\r\n    case userActionTypes.CHOOSE_PASSWORD_REQUEST_FAILURE: return {...state, choosePasswordState: states.failed}\r\n    case userActionTypes.CHOOSE_PASSWORD_REQUEST_RESET: return {...state, choosePasswordState: null}\r\n\r\n    default: return state;\r\n    }\r\n}","export const LOG_OUT = \"LOG_OUT\";\r\n\r\nexport const STORE_INFO = 'STORE_INFO';\r\nexport const DESTROY_INFO = 'DESTROY_INFO';\r\nexport const LOGIN_DIALOG_WAS_CLEARED = 'LOGIN_DIALOG_WAS_CLEARED'\r\n\r\nexport const LOGIN_REQUEST_SEND = 'LOGIN_REQUEST_SEND';\r\nexport const LOGIN_REQUEST_PROCESSING = 'LOGIN_REQUEST_PROCESSING';\r\nexport const LOGIN_REQUEST_SUCCESS = 'LOGIN_REQUEST_SUCCESS';\r\nexport const LOGIN_REQUEST_FAILURE = 'LOGIN_REQUEST_FAILURE';\r\nexport const LOGIN_REQUEST_CLEAR_ERROR = 'LOGIN_REQUEST_CLEAR_ERROR';\r\n\r\nexport const GOOGLE_LOGIN_REQUEST_SEND = 'GOOGLE_LOGIN_REQUEST_SEND';\r\nexport const GOOGLE_LOGIN_REQUEST_SEND_PROCESSING = 'GOOGLE_LOGIN_REQUEST_SEND_PROCESSING';\r\nexport const GOOGLE_LOGIN_REQUEST_SEND_SUCCESS = 'GOOGLE_LOGIN_REQUEST_SEND_SUCCESS';\r\nexport const GOOGLE_LOGIN_REQUEST_SEND_FAILURE = 'GOOGLE_LOGIN_REQUEST_SEND_FAILURE';\r\n\r\nexport const REGISTRATION_REQUEST_SEND = 'REGISTRATION_REQUEST_SEND';\r\nexport const REGISTRATION_REQUEST_PROCESSING = 'REGISTRATION_REQUEST_PROCESSING';\r\nexport const REGISTRATION_REQUEST_SUCCESS = 'REGISTRATION_REQUEST_SUCCESS';\r\nexport const REGISTRATION_REQUEST_FAILURE = 'REGISTRATION_REQUEST_FAILURE';\r\n\r\nexport const VALIDATION_REQUEST_SEND = 'VALIDATION_REQUEST_SEND';\r\nexport const VALIDATION_REQUEST_PROCESSING = 'VALIDATION_REQUEST_PROCESSING';\r\nexport const VALIDATION_REQUEST_SUCCESS = 'VALIDATION_REQUEST_SUCCESS';\r\nexport const VALIDATION_REQUEST_FAILURE = 'VALIDATION_REQUEST_FAILURE';\r\n\r\nexport const KEY_RETRIEVAL_REQUEST_SEND = 'KEY_RETRIEVAL_REQUEST_SEND';\r\nexport const KEY_RETRIEVAL_REQUEST_SUCCESS = 'KEY_RETRIEVAL_REQUEST_SUCCESS';\r\nexport const KEY_RETRIEVAL_REQUEST_FAILURE = 'KEY_RETRIEVAL_REQUEST_FAILURE';\r\n\r\nexport const KEY_CREATION_REQUEST_SEND = 'KEY_CREATION_REQUEST_SEND';\r\nexport const KEY_CREATION_REQUEST_PROCESSING = 'KEY_CREATION_REQUEST_PROCESSING';\r\nexport const KEY_CREATION_REQUEST_SUCCESS = 'KEY_CREATION_REQUEST_SUCCESS';\r\nexport const KEY_CREATION_REQUEST_FAILURE = 'KEY_CREATION_REQUEST_FAILURE';\r\n\r\nexport const UPDATE_USER_INFO_REQUEST_SEND = 'UPDATE_USER_INFO_REQUEST_SEND';\r\nexport const UPDATE_USER_INFO_REQUEST_SUCCESS = 'UPDATE_USER_INFO_REQUEST_SUCCESS';\r\nexport const UPDATE_USER_INFO_REQUEST_FAILURE = 'UPDATE_USER_INFO_REQUEST_FAILURE';\r\n\r\nexport const REFRESH_LOGIN = 'REFRESH_LOGIN';\r\n\r\nexport const INITIALIZE_GOOGLE_AUTH = 'INITIALIZE_GOOGLE_AUTH';\r\nexport const STORE_GOOGLE_AUTH = 'STORE_GOOGLE_AUTH';\r\n\r\nexport const RECOVER_PASSWORD_REQUEST_SEND = 'RECOVER_PASSWORD_REQUEST_SEND';\r\n\r\nexport const CHOOSE_PASSWORD_REQUEST_SEND = 'CHOOSE_PASSWORD_REQUEST_SEND';\r\nexport const CHOOSE_PASSWORD_REQUEST_SUCCESS = 'CHOOSE_PASSWORD_REQUEST_SUCCESS';\r\nexport const CHOOSE_PASSWORD_REQUEST_FAILURE = 'CHOOSE_PASSWORD_REQUEST_FAILURE';\r\nexport const CHOOSE_PASSWORD_REQUEST_RESET = 'CHOOSE_PASSWORD_REQUEST_RESET';\r\n\r\nexport const CONTACT_US_REQUEST_SEND = 'CONTACT_US_REQUEST_SEND';\r\n\r\nexport const CHANGE_PASSWORD_REQUEST_SEND = 'CHANGE_PASSWORD_REQUEST_SEND';\r\n\r\nexport const CHANGE_EMAIL_REQUEST_SEND = 'CHANGE_EMAIL_REQUEST_SEND';\r\n\r\nexport const CART_PERSIST_ADD_ITEM = 'CART_PERSIST_ADD_ITEM';\r\nexport const CART_PERSIST_REMOVE_ITEM = 'CART_PERSIST_REMOVE_ITEM';\r\nexport const CART_PERSIST_CLEAR = 'CART_PERSIST_CLEAR';\r\nexport const CART_GET_AND_STORE = 'CART_GET_AND_STORE';","export const INTERFACE_SHOW_LOGIN_DIALOG = \"INTERFACE_SHOW_LOGIN_DIALOG\";\r\nexport const INTERFACE_HIDE_LOGIN_DIALOG = \"INTERFACE_HIDE_LOGIN_DIALOG\";\r\n\r\nexport const REGISTRATION_NEXT_ACTIVE_STEP = 'REGISTRATION_NEXT_ACTIVE_STEP';\r\nexport const REGISTRATION_PREVIOUS_ACTIVE_STEP = 'REGISTRATION_PREVIOUS_ACTIVE_STEP';\r\n\r\nexport const RESTORE_INTERFACE_DEFAULTS = 'RESTORE_INTERFACE_DEFAULTS';\r\n\r\nexport const SNACKBAR_OPEN = 'SNACKBAR_OPEN';\r\nexport const SNACKBAR_CLOSE = 'SNACKBAR_CLOSE';\r\n\r\nexport const SET_LOADING_MESSAGE = 'SET_LOADING_MESSAGE';\r\n\r\nexport const TOGGLE_SHOW_HELP = 'TOGGLE_SHOW_HELP';\r\n\r\nexport const SHOW_CHANGE_PASSWORD_DIALOG = 'SHOW_CHANGE_PASSWORD_DIALOG';\r\nexport const HIDE_CHANGE_PASSWORD_DIALOG = 'HIDE_CHANGE_PASSWORD_DIALOG';\r\n\r\nexport const SHOW_CHANGE_EMAIL_DIALOG = 'SHOW_CHANGE_EMAIL_DIALOG';\r\nexport const HIDE_CHANGE_EMAIL_DIALOG = 'HIDE_CHANGE_EMAIL_DIALOG';\r\n\r\nexport const COPY_TEXT_TO_CLIPBOARD = 'COPY_TEXT_TO_CLIPBOARD';\r\n\r\nexport const SET_SHOW_CART = 'SET_SHOW_CART';","import states from '../../Enums/asyncRequestStates';\r\nimport * as visualizationActionTypes from '../actionTypes/visualization';\r\n\r\nexport default function(state, action) {\r\n    switch(action.type) {\r\n        case visualizationActionTypes.QUERY_REQUEST_PROCESSING: return {...state, queryRequestState: states.inProgress};\r\n        case visualizationActionTypes.QUERY_REQUEST_FAILURE: return {...state, queryRequestState: states.failed};\r\n        case visualizationActionTypes.QUERY_REQUEST_SUCCESS: return {...state, queryRequestState: states.succeeded};\r\n        \r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_PROCESSING: return {...state, storedProcedureRequestState: states.inProgress}\r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_FAILURE: return {...state, storedProcedureRequestState: states.failed}\r\n        case visualizationActionTypes.STORED_PROCEDURE_REQUEST_SUCCESS: return {...state, storedProcedureRequestState: states.succeeded}\r\n\r\n\r\n        case visualizationActionTypes.ADD_LAYER: return { // Not currently in use\r\n            ...state,\r\n            layers: [...state.layers, action.payload.newLayer]\r\n        }\r\n\r\n        case visualizationActionTypes.STORE_SAMPLE_DATA: return {\r\n            ...state,\r\n            sampleData: action.payload.sampleData\r\n        }\r\n\r\n        case visualizationActionTypes.ADD_MAP: return {\r\n            ...state,\r\n            maps: [...state.maps, action.payload.mapInfo]\r\n        }\r\n\r\n        case visualizationActionTypes.ADD_CHART: return {\r\n            ...state,\r\n            charts: [{...action.payload.chartInfo, id: state.chartID}, ...state.charts],\r\n            chartID: state.chartID + 1\r\n        }\r\n\r\n        case visualizationActionTypes.CLEAR_CHARTS: return {...state, charts: []}\r\n\r\n        case visualizationActionTypes.CLEAR_MAPS: return {...state, maps: []}\r\n\r\n        case visualizationActionTypes.DELETE_CHART: return {...state, \r\n            charts: [\r\n                ...state.charts.slice(0, action.payload.chartIndex),\r\n                ...state.charts.slice(action.payload.chartIndex + 1)\r\n            ]\r\n        }\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_PROCESSING: return {...state, getCruiseTrajectoryRequestState: states.inProgress}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SUCCESS: return {...state,\r\n            cruiseTrajectory: action.payload.trajectory,\r\n            getCruiseTrajectoryRequestState: states.succeeded\r\n        }\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_CLEAR: return {...state, cruiseTrajectory: null}\r\n\r\n        case visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_FAILURE: return {...state, getCruiseTrajectoryRequestState: states.failed}\r\n\r\n        case visualizationActionTypes.CRUISE_LIST_REQUEST_PROCESSING: return {...state, getCruiseListRequestState: states.inProgress}\r\n\r\n        case visualizationActionTypes.CRUISE_LIST_REQUEST_SUCCESS: return {\r\n            ...state,\r\n            getCruiseListRequestState: states.succeeded,\r\n            cruiseList: action.payload.cruiseList\r\n        }\r\n\r\n        case visualizationActionTypes.TRIGGER_SHOW_CHARTS: return {...state, showChartsOnce: true}\r\n        case visualizationActionTypes.COMPLETED_SHOW_CHARTS: return {...state, showChartsOnce: false}\r\n\r\n        case visualizationActionTypes.TABLE_STATS_REQUEST_SUCCESS: return {\r\n            ...state, \r\n            datasets: {\r\n                ...state.datasets,\r\n                [action.payload.datasetLongName]: {\r\n                    ...state.datasets[action.payload.datasetLongName],\r\n                    tableStats: action.payload.tableStats\r\n                }\r\n            }}\r\n\r\n        case visualizationActionTypes.VIZ_PAGE_DATA_TARGET_SET: return {...state, vizPageDataTarget: action.payload.target}\r\n\r\n        case visualizationActionTypes.VIZ_SEARCH_RESULTS_STORE_AND_UPDATE_OPTIONS: return {...state, vizSearchResults: action.payload.searchResults, submissionOptions: action.payload.options}\r\n        case visualizationActionTypes.VIZ_SEARCH_RESULTS_STORE: return {...state, vizSearchResults: action.payload.searchResults}\r\n        case visualizationActionTypes.VIZ_SEARCH_RESULTS_SET_LOADING_STATE: return {...state, vizSearchResultsLoadingState: action.payload.state}\r\n\r\n        case visualizationActionTypes.MEMBER_VARIABLES_STORE: return {...state, memberVariables: action.payload.variables}\r\n        case visualizationActionTypes.MEMBER_VARIABLES_SET_LOADING_STATE: return {...state, memberVariablesLoadingState: action.payload.state}\r\n\r\n        case visualizationActionTypes.RELATED_DATA_STORE: return {...state, relatedData: action.payload.data}\r\n        case visualizationActionTypes.RELATED_DATA_SET_LOADING_STATE: return {...state, relatedDataLoadingState: action.payload.state}\r\n        \r\n        case visualizationActionTypes.VARIABLE_NAME_AUTOCOMPLETE_STORE: return {...state, autocompleteVariableNames: action.payload.autocompleteVariableNames}\r\n        \r\n        default: return state;\r\n    }\r\n}","export const QUERY_REQUEST_SEND = 'QUERY REQUEST SEND';\r\nexport const QUERY_REQUEST_SUCCESS = 'QUERY REQUEST SUCCESS';\r\nexport const QUERY_REQUEST_FAILURE = 'QUERY REQUEST FAILURE';\r\nexport const QUERY_REQUEST_PROCESSING = 'QUERY REQUEST PROCESSING';\r\n\r\nexport const STORED_PROCEDURE_REQUEST_SEND = 'STORED_PROCEDURE_REQUEST_SEND';\r\nexport const STORED_PROCEDURE_REQUEST_SUCCESS = 'STORED_PROCEDURE_REQUEST_SUCCESS';\r\nexport const STORED_PROCEDURE_REQUEST_FAILURE = 'STORED_PROCEDURE_REQUEST_FAILURE';\r\nexport const STORED_PROCEDURE_REQUEST_PROCESSING = 'STORED_PROCEDURE_REQUEST_PROCESSING';\r\n\r\nexport const ADD_MAP = 'ADD_MAP';\r\nexport const ADD_CHART = 'ADD_CHART';\r\n\r\nexport const ADD_LAYER = 'ADD_LAYER';\r\n\r\nexport const STORE_SAMPLE_DATA = 'STORE_SAMPLE_DATA';\r\n\r\nexport const CLEAR_CHARTS = 'CLEAR_CHARTS';\r\nexport const CLEAR_MAPS = 'CLEAR_MAPS';\r\nexport const DELETE_CHART = 'DELETE_CHART';\r\n\r\nexport const TABLE_STATS_REQUEST_SEND = 'ABLE_STATS_REQUEST_SEND';\r\nexport const TABLE_STATS_REQUEST_PROCESSING = 'TABLE_STATS_REQUEST_PROCESSING';\r\nexport const TABLE_STATS_REQUEST_SUCCESS = 'TABLE_STATS_REQUEST_SUCCESS';\r\nexport const TABLE_STATS_REQUEST_FAILURE = 'TABLE_STATS_REQUEST_FAILURE';\r\n\r\nexport const CRUISE_TRAJECTORY_REQUEST_SEND = 'CRUISE_TRAJECTORY_REQUEST_SEND';\r\nexport const CRUISE_TRAJECTORY_REQUEST_SUCCESS = 'CRUISE_TRAJECTORY_REQUEST_SUCCESS';\r\nexport const CRUISE_TRAJECTORY_REQUEST_FAILURE = 'CRUISE_TRAJECTORY_REQUEST_FAILURE';\r\nexport const CRUISE_TRAJECTORY_REQUEST_PROCESSING = 'CRUISE_TRAJECTORY_REQUEST_PROCESSING';\r\nexport const CRUISE_TRAJECTORY_CLEAR = 'CRUISE_TRAJECTORY_CLEAR';\r\n\r\nexport const CRUISE_LIST_REQUEST_SEND = 'CRUISE_LIST_REQUEST_SEND';\r\nexport const CRUISE_LIST_REQUEST_SUCCESS = 'CRUISE_LIST_REQUEST_SUCCESS';\r\nexport const CRUISE_LIST_REQUEST_FAILURE = 'CRUISE_LIST_REQUEST_FAILURE';\r\nexport const CRUISE_LIST_REQUEST_PROCESSING = 'CRUISE_LIST_REQUEST_PROCESSING';\r\n\r\nexport const TRIGGER_SHOW_CHARTS = 'TRIGGER_SHOW_CHARTS';\r\nexport const COMPLETED_SHOW_CHARTS = 'COMPLETED_SHOW_CHARTS';\r\n\r\nexport const CSV_DOWNLOAD_REQUEST_SEND = 'CSV_DOWNLOAD_REQUEST_SEND';\r\nexport const CSV_DOWNLOAD_REQUEST_SUCCESS = 'CSV_DOWNLOAD_REQUEST_SUCCESS';\r\nexport const CSV_DOWNLOAD_REQUEST_FAILURE = 'CSV_DOWNLOAD_REQUEST_FAILURE';\r\nexport const CSV_DOWNLOAD_REQUEST_PROCESSING = 'CSV_DOWNLOAD_REQUEST_PROCESSING';\r\n\r\nexport const CSV_FROM_VIZ_REQUEST_SEND = 'CSV_FROM_VIZ_REQUEST_SEND';\r\n\r\nexport const DOWNLOAD_TEXT_AS_CSV = 'DOWNLOAD_TEXT_AS_CSV';\r\n\r\nexport const VIZ_PAGE_DATA_TARGET_SET = 'VIZ_PAGE_DATA_TARGET_SET';\r\n\r\nexport const VIZ_SEARCH_RESULTS_FETCH = 'VIZ_SEARCH_RESULTS_FETCH';\r\nexport const VIZ_SEARCH_RESULTS_STORE = 'VIZ_SEARCH_RESULTS_STORE';\r\nexport const VIZ_SEARCH_RESULTS_STORE_AND_UPDATE_OPTIONS = 'VIZ_SEARCH_RESULTS_STORE_AND_UPDATE_OPTIONS';\r\nexport const VIZ_SEARCH_RESULTS_SET_LOADING_STATE = 'VIZ_SEARCH_RESULTS_SET_LOADING_STATE';\r\n\r\nexport const MEMBER_VARIABLES_FETCH = 'MEMBER_VARIABLES_FETCH';\r\nexport const MEMBER_VARIABLES_STORE = 'MEMBER_VARIABLES_STORE';\r\nexport const MEMBER_VARIABLES_SET_LOADING_STATE = 'MEMBER_VARIABLES_SET_LOADING_STATE';\r\n\r\nexport const RELATED_DATA_FETCH = 'RELATED_DATA_FETCH';\r\nexport const RELATED_DATA_STORE = 'RELATED_DATA_STORE';\r\nexport const RELATED_DATA_SET_LOADING_STATE = 'RELATED_DATA_SET_LOADING_STATE';\r\n\r\nexport const VARIABLE_NAME_AUTOCOMPLETE_FETCH = 'VARIABLE_NAME_AUTOCOMPLETE_FETCH';\r\nexport const VARIABLE_NAME_AUTOCOMPLETE_STORE = 'VARIABLE_NAME_AUTOCOMPLETE_STORE';","import * as dataSubmissionActionTypes from '../actionTypes/dataSubmission';\r\n\r\nexport default function(state, action) {\r\n  \r\n  switch (action.type) {    \r\n    case dataSubmissionActionTypes.STORE_SUBMISSIONS: return {...state, dataSubmissions: action.payload.submissions}\r\n    case dataSubmissionActionTypes.SET_SUBMISSION_COMMENT_HISTORY_RETRIEVAL_STATE: return {...state, submissionCommentHistoryRetrievalState: action.payload.state}\r\n    case dataSubmissionActionTypes.STORE_SUBMISSION_COMMENTS:\r\n      let updatedComments = [...state.submissionComments];\r\n      updatedComments[action.payload.submissionID] = action.payload.comments;\r\n\r\n      return {\r\n        ...state,\r\n        submissionComments: updatedComments\r\n      }\r\n\r\n    case dataSubmissionActionTypes.STORE_SUBMISSION_FILE: return {...state, submissionFile: action.payload.file}\r\n    case dataSubmissionActionTypes.SET_UPLOAD_STATE: return {...state, submissionUploadState: action.payload.state}\r\n      \r\n    default: return state;\r\n    }\r\n}","export const RETRIEVE_SUBMISSIONS_BY_USER = 'RETRIEVE_SUBMISSIONS_BY_USER';\r\nexport const RETRIEVE_ALL_SUBMISSIONS = 'RETRIEVE_ALL_SUBMISSIONS';\r\nexport const STORE_SUBMISSIONS = 'STORE_SUBMISSIONS';\r\n\r\nexport const ADD_SUBMISSION_COMMENT = 'ADD_SUBMISSION_COMMENT';\r\nexport const RETRIEVE_SUBMISSION_COMMENT_HISTORY = 'RETRIEVE_SUBMISSION_COMMENT_HISTORY';\r\nexport const STORE_SUBMISSION_COMMENTS = 'STORE_SUBMISSION_COMMENTS';\r\n\r\nexport const UPLOAD_SUBMISSION = 'UPLOAD_SUBMISSION';\r\n\r\nexport const SET_SUBMISSION_PHASE = 'SET_SUBMISSION_PHASE';\r\n\r\nexport const SET_SUBMISSION_COMMENT_HISTORY_RETRIEVAL_STATE = 'SET_SUBMISSION_COMMENT_HISTORY_RETRIEVAL_STATE';\r\n\r\nexport const RETRIEVE_MOST_RECENT_FILE = 'RETRIEVE_MOST_RECENT_FILE';\r\n\r\nexport const STORE_SUBMISSION_FILE = 'STORE_SUBMISSION_FILE';\r\n\r\nexport const CHECK_SUBMISSION_OPTIONS_AND_STORE_FILE = 'CHECK_SUBMISSION_OPTIONS_AND_STORE_FILE';\r\n\r\nexport const SET_UPLOAD_STATE = 'SET_UPLOAD_STATE';\r\n\r\nexport const DOWNLOAD_MOST_RECENT_FILE = 'DOWNLOAD_MOST_RECENT_FILE';","import * as userActionTypes from '../actionTypes/user';\r\n\r\n// Login actions\r\nexport const userLoginRequestSend = (username, password) => ({\r\n    type: userActionTypes.LOGIN_REQUEST_SEND,\r\n    payload: {\r\n        username,\r\n        password\r\n    }\r\n});\r\n\r\nexport const userLoginRequestProcessing = () => {\r\n    return {type: userActionTypes.LOGIN_REQUEST_PROCESSING};\r\n};\r\n\r\nexport const userLoginRequestFailure = (error) => ({\r\n    type: userActionTypes.LOGIN_REQUEST_FAILURE,\r\n});\r\n\r\nexport const userLoginRequestSuccess = () => ({\r\n    type: userActionTypes.LOGIN_REQUEST_SUCCESS\r\n});\r\n\r\nexport const storeInfo = (user) => ({\r\n    type: userActionTypes.STORE_INFO,\r\n    payload: {\r\n        user\r\n    }\r\n});\r\n\r\nexport const userLoginRequestClearError = () => ({\r\n    type: userActionTypes.LOGIN_REQUEST_CLEAR_ERROR\r\n})\r\n\r\n// Google login actions\r\nexport const googleLoginRequestSend = (userIDToken) => ({\r\n    type: userActionTypes.GOOGLE_LOGIN_REQUEST_SEND,\r\n    payload: {\r\n        userIDToken\r\n    }\r\n});\r\n\r\nexport const googleLoginRequestProcessing = () => ({\r\n    type: userActionTypes.GOOGLE_LOGIN_REQUEST_SEND_PROCESSING\r\n});\r\n\r\nexport const googleLoginRequestSuccess = () => ({\r\n    type: userActionTypes.GOOGLE_LOGIN_REQUEST_SEND_SUCCESS\r\n});\r\n\r\nexport const googleLoginRequestFailure = () => ({\r\n    type: userActionTypes.GOOGLE_LOGIN_REQUEST_SEND_FAILURE\r\n});\r\n\r\n// Log out actions\r\nexport const logOut = () => ({\r\n    type:userActionTypes.LOG_OUT\r\n});\r\n\r\nexport const destroyInfo = () => ({\r\n    type: userActionTypes.DESTROY_INFO\r\n});\r\n\r\nexport const loginDialogWasCleared = () => ({\r\n    type: userActionTypes.LOGIN_DIALOG_WAS_CLEARED\r\n});\r\n\r\n// Validation actions\r\nexport const userValidationRequestSend = (username, email) => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_SEND,\r\n    payload: {\r\n        username,\r\n        email\r\n    }\r\n});\r\n\r\nexport const userValidationRequestProcessing = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_PROCESSING\r\n});\r\n\r\nexport const userValidationRequestFailure = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_FAILURE\r\n});\r\n\r\nexport const userValidationRequestSuccess = () => ({\r\n    type: userActionTypes.VALIDATION_REQUEST_SUCCESS\r\n});\r\n\r\n// Registration actions\r\nexport const userRegistrationRequestSend = (payload) => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_SEND,\r\n    payload\r\n});\r\n\r\nexport const userRegistrationRequestProcessing = () => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_PROCESSING\r\n});\r\n\r\nexport const userRegistrationRequestFailure = () => ({\r\n    type:userActionTypes.REGISTRATION_REQUEST_FAILURE\r\n});\r\n\r\nexport const userRegistrationRequestSuccess = () => ({\r\n    type: userActionTypes.REGISTRATION_REQUEST_SUCCESS\r\n});\r\n\r\n// Api key retrieval actions\r\nexport const keyRetrievalRequestSend = () => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_SEND\r\n});\r\n\r\nexport const keyRetrievalRequestSuccess = (keys) => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_SUCCESS,\r\n    payload: {\r\n        keys\r\n    }\r\n});\r\n\r\nexport const keyRetrievalRequestFailure = () => ({\r\n    type: userActionTypes.KEY_RETRIEVAL_REQUEST_FAILURE\r\n});\r\n\r\nexport const keyCreationRequestSend = (description) => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_SEND,\r\n    payload: {\r\n        description\r\n    }\r\n});\r\n\r\nexport const keyCreationRequestProcessing = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_PROCESSING\r\n});\r\n\r\nexport const keyCreationRequestFailure = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_FAILURE\r\n});\r\n\r\nexport const keyCreationRequestSuccess = () => ({\r\n    type: userActionTypes.KEY_CREATION_REQUEST_SUCCESS\r\n});\r\n\r\nexport const refreshLogin = () => ({\r\n    type: userActionTypes.REFRESH_LOGIN\r\n});\r\n\r\nexport const updateUserInfoRequestSend = (userInfo) => ({\r\n    type: userActionTypes.UPDATE_USER_INFO_REQUEST_SEND,\r\n    payload: {\r\n        userInfo\r\n    }\r\n});\r\n\r\nexport const updateUserInfoRequestSuccess = () => ({\r\n    type: userActionTypes.UPDATE_USER_INFO_REQUEST_SUCCESS\r\n});\r\n\r\nexport const updateUserInfoRequestFailure = () => ({\r\n    type: userActionTypes.UPDATE_USER_INFO_REQUEST_FAILURE\r\n});\r\n\r\nexport const initializeGoogleAuth = () => ({\r\n    type: userActionTypes.INITIALIZE_GOOGLE_AUTH\r\n});\r\n\r\nexport const storeGoogleAuth = () => ({\r\n    type: userActionTypes.STORE_GOOGLE_AUTH\r\n});\r\n\r\nexport const recoverPasswordRequestSend = (email) => ({\r\n    type: userActionTypes.RECOVER_PASSWORD_REQUEST_SEND,\r\n    payload: {\r\n        email\r\n    }\r\n});\r\n\r\nexport const choosePasswordRequestSend = ({password, token}) => ({\r\n    type: userActionTypes.CHOOSE_PASSWORD_REQUEST_SEND,\r\n    payload: {\r\n        password,\r\n        token\r\n    }\r\n});\r\n\r\nexport const choosePasswordRequestSuccess = () => ({\r\n    type: userActionTypes.CHOOSE_PASSWORD_REQUEST_SUCCESS\r\n});\r\n\r\nexport const choosePasswordRequestFailure = () => ({\r\n    type: userActionTypes.CHOOSE_PASSWORD_REQUEST_FAILURE\r\n});\r\n\r\nexport const choosePasswordRequestReset = () => ({\r\n    type: userActionTypes.CHOOSE_PASSWORD_REQUEST_RESET\r\n});\r\n\r\nexport const contactUsRequestSend = ({name, email, subject, message}) => ({\r\n    type: userActionTypes.CONTACT_US_REQUEST_SEND,\r\n    payload: {\r\n        name,\r\n        email,\r\n        subject,\r\n        message\r\n    }\r\n});\r\n\r\nexport const changePasswordRequestSend = (oldPassword, newPassword, username) => ({\r\n    type: userActionTypes.CHANGE_PASSWORD_REQUEST_SEND,\r\n    payload: {\r\n        password: oldPassword,\r\n        newPassword,\r\n        username\r\n    }\r\n});\r\n\r\nexport const changeEmailRequestSend = (email, password, username) => ({\r\n    type: userActionTypes.CHANGE_EMAIL_REQUEST_SEND,\r\n    payload: {\r\n        email,\r\n        password,\r\n        username\r\n    }\r\n});\r\n\r\nexport const cartPersistAddItem = (datasetID) => ({\r\n    type: userActionTypes.CART_PERSIST_ADD_ITEM,\r\n    payload: {\r\n        datasetID\r\n    }\r\n});\r\n\r\nexport const cartPersistRemoveItem = (datasetID) => ({\r\n    type: userActionTypes.CART_PERSIST_REMOVE_ITEM,\r\n    payload: {\r\n        datasetID\r\n    }\r\n});\r\n\r\nexport const cartPersistClear = () => ({\r\n    type: userActionTypes.CART_PERSIST_CLEAR\r\n});\r\n\r\nexport const cartGetAndStore = () => ({\r\n    type: userActionTypes.CART_GET_AND_STORE\r\n});","import * as catalogActionTypes from '../actionTypes/catalog';\r\n\r\nexport const retrievalRequestSend = () => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_SEND\r\n});\r\n\r\nexport const retrievalRequestProcessing = () => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_PROCESSING\r\n});\r\n\r\nexport const retrievalRequestSuccess = (catalog) => ({\r\n    type: catalogActionTypes.RETRIEVAL_REQUEST_SUCCESS,\r\n    payload: {\r\n        catalog\r\n    }\r\n});\r\n\r\nexport const retrievalRequestFailure = () => ({\r\n    type:catalogActionTypes.RETRIEVAL_REQUEST_FAILURE\r\n});\r\n\r\nexport const datasetRetrievalRequestSend = () => ({\r\n    type: catalogActionTypes.DATASET_RETRIEVAL_REQUEST_SEND\r\n});\r\n\r\nexport const datasetRetrievalRequestProcessing = () => ({\r\n    type: catalogActionTypes.DATASET_RETRIEVAL_REQUEST_PROCESSING\r\n});\r\n\r\nexport const datasetRetrievalRequestSuccess = (datasets) => ({\r\n    type: catalogActionTypes.DATASET_RETRIEVAL_REQUEST_SUCCESS,\r\n    payload: {\r\n        datasets\r\n    }\r\n});\r\n\r\nexport const datasetRetrievalRequestFailure = () => ({\r\n    type: catalogActionTypes.DATASET_RETRIEVAL_REQUEST_FAILURE\r\n});\r\n\r\nexport const submissionOptionsRetrieval = () => ({\r\n    type: catalogActionTypes.SUBMISSION_OPTIONS_RETRIEVAL\r\n});\r\n\r\nexport const storeSubmissionOptions = (options) => ({\r\n    type: catalogActionTypes.STORE_SUBMISSION_OPTIONS,\r\n    payload: {\r\n        options\r\n    }\r\n});\r\n\r\nexport const searchOptionsFetch = () => ({\r\n    type: catalogActionTypes.SEARCH_OPTIONS_FETCH\r\n});\r\n\r\nexport const keywordsFetch = () => ({\r\n    type: catalogActionTypes.KEYWORDS_FETCH\r\n});\r\n\r\nexport const keywordsStore = (keywords) => ({\r\n    type: catalogActionTypes.KEYWORDS_STORE,\r\n    payload: {\r\n        keywords\r\n    }\r\n});\r\n\r\nexport const searchResultsFetch = (queryString) => ({\r\n    type: catalogActionTypes.SEARCH_RESULTS_FETCH,\r\n    payload: {\r\n        queryString\r\n    }\r\n});\r\n\r\nexport const searchResultsStore = (searchResults) => ({\r\n    type: catalogActionTypes.SEARCH_RESULTS_STORE,\r\n    payload: {\r\n        searchResults\r\n    }\r\n});\r\n\r\nexport const searchResultsSetLoadingState = (state) => ({\r\n    type: catalogActionTypes.SEARCH_RESULTS_SET_LOADING_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const datasetFullPageDataFetch = (shortname) => ({\r\n    type: catalogActionTypes.DATASET_FULL_PAGE_DATA_FETCH,\r\n    payload: {\r\n        shortname\r\n    }\r\n});\r\n\r\nexport const datasetFullPageDataStore = (datasetFullPageData) => ({\r\n    type: catalogActionTypes.DATASET_FULL_PAGE_DATA_STORE,\r\n    payload: {\r\n        datasetFullPageData\r\n    }\r\n});\r\n\r\nexport const datasetFullPageDataSetLoadingState = (state) => ({\r\n    type: catalogActionTypes.DATASET_FULL_PAGE_DATA_SET_LOADING_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const cruiseFullPageDataFetch = (name) => ({\r\n    type: catalogActionTypes.CRUISE_FULL_PAGE_DATA_FETCH,\r\n    payload: {\r\n        name\r\n    }\r\n});\r\n\r\nexport const cruiseFullPageDataStore = (cruiseFullPageData) => ({\r\n    type: catalogActionTypes.CRUISE_FULL_PAGE_DATA_STORE,\r\n    payload: {\r\n        cruiseFullPageData\r\n    }\r\n});\r\n\r\nexport const cruiseFullPageDataSetLoadingState = (state) => ({\r\n    type: catalogActionTypes.CRUISE_FULL_PAGE_DATA_SET_LOADING_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const cartAddItem = (item) => ({\r\n    type: catalogActionTypes.CART_ADD_ITEM,\r\n    payload: {\r\n        item\r\n    }\r\n});\r\n\r\nexport const cartRemoveItem = (item) => ({\r\n    type: catalogActionTypes.CART_REMOVE_ITEM,\r\n    payload: {\r\n        item\r\n    }\r\n});\r\n\r\nexport const cartClear = () => ({\r\n    type: catalogActionTypes.CART_CLEAR\r\n});\r\n\r\nexport const cartAddMultiple = (items) => ({\r\n    type: catalogActionTypes.CART_ADD_MULTIPLE,\r\n    payload: {\r\n        items\r\n    }\r\n});","import * as interfaceActionTypes from '../actionTypes/ui';\r\n\r\nexport const showLoginDialog = () => ({\r\n    type: interfaceActionTypes.INTERFACE_SHOW_LOGIN_DIALOG\r\n});\r\n\r\nexport const hideLoginDialog = () => ({\r\n    type: interfaceActionTypes.INTERFACE_HIDE_LOGIN_DIALOG\r\n});\r\n\r\nexport const registrationNextActiveStep = () => ({\r\n    type: interfaceActionTypes.REGISTRATION_NEXT_ACTIVE_STEP\r\n});\r\n\r\nexport const registrationPreviousActiveStep = () => ({\r\n    type: interfaceActionTypes.REGISTRATION_PREVIOUS_ACTIVE_STEP\r\n});\r\n\r\nexport const restoreInterfaceDefaults = () => ({\r\n    type: interfaceActionTypes.RESTORE_INTERFACE_DEFAULTS\r\n});\r\n\r\nexport const snackbarOpen = (message) => ({\r\n    type: interfaceActionTypes.SNACKBAR_OPEN,\r\n    payload: {\r\n        message\r\n    }\r\n});\r\n\r\nexport const snackbarClose = () => ({\r\n    type: interfaceActionTypes.SNACKBAR_CLOSE\r\n});\r\n\r\nexport const setLoadingMessage = (message) => ({\r\n    type:interfaceActionTypes.SET_LOADING_MESSAGE,\r\n    payload: {\r\n        message\r\n    }\r\n});\r\n\r\nexport const toggleShowHelp = () => ({\r\n    type: interfaceActionTypes.TOGGLE_SHOW_HELP\r\n});\r\n\r\nexport const showChangePasswordDialog = () => ({\r\n    type: interfaceActionTypes.SHOW_CHANGE_PASSWORD_DIALOG\r\n});\r\n\r\nexport const hideChangePasswordDialog = () => ({\r\n    type: interfaceActionTypes.HIDE_CHANGE_PASSWORD_DIALOG\r\n});\r\n\r\nexport const showChangeEmailDialog = () => ({\r\n    type: interfaceActionTypes.SHOW_CHANGE_EMAIL_DIALOG\r\n});\r\n\r\nexport const hideChangeEmailDialog = () => ({\r\n    type: interfaceActionTypes.HIDE_CHANGE_EMAIL_DIALOG\r\n});\r\n\r\nexport const copyTextToClipboard = (text) => ({\r\n    type: interfaceActionTypes.COPY_TEXT_TO_CLIPBOARD,\r\n    payload: {\r\n        text\r\n    }\r\n});\r\n\r\nexport const setShowCart = (showCart) => ({\r\n    type: interfaceActionTypes.SET_SHOW_CART,\r\n    payload: {\r\n        showCart\r\n    }\r\n});","import * as visualizationActionTypes from '../actionTypes/visualization';\r\n\r\nexport const queryRequestSend = (query) => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_SEND,\r\n    payload: {\r\n        query\r\n    }\r\n});\r\n\r\nexport const queryRequestSuccess = (data) => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_SUCCESS,\r\n    payload: {\r\n        data\r\n    }\r\n});\r\n\r\nexport const queryRequestFailure = () => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_FAILURE\r\n});\r\n\r\nexport const queryRequestProcessing = () => ({\r\n    type: visualizationActionTypes.QUERY_REQUEST_PROCESSING\r\n});\r\n\r\nexport const storedProcedureRequestSend = (storedProcedureInfo) => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_SEND,\r\n    payload: {...storedProcedureInfo}\r\n});\r\n\r\nexport const storedProcedureRequestSuccess = (data) => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_SUCCESS,\r\n    payload: {\r\n        data\r\n    }\r\n});\r\n\r\nexport const storedProcedureRequestFailure = () => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_FAILURE\r\n});\r\n\r\nexport const storedProcedureRequestProcessing = () => ({\r\n    type: visualizationActionTypes.STORED_PROCEDURE_REQUEST_PROCESSING\r\n});\r\n\r\nexport const addLayer = (newLayer) => ({\r\n    type: visualizationActionTypes.ADD_LAYER,\r\n    payload: {\r\n        newLayer\r\n    }\r\n});\r\n\r\nexport const storeSampleData = sampleData => ({\r\n    type: visualizationActionTypes.STORE_SAMPLE_DATA,\r\n    payload: {\r\n        sampleData\r\n    }\r\n});\r\n\r\nexport const addMap = (mapInfo) => ({\r\n    type: visualizationActionTypes.ADD_MAP,\r\n    payload: {\r\n        mapInfo\r\n    }\r\n});\r\n\r\nexport const addChart = (chartInfo) => ({\r\n    type: visualizationActionTypes.ADD_CHART,\r\n    payload: {\r\n        chartInfo\r\n    }\r\n});\r\n\r\nexport const clearCharts = () => ({\r\n    type: visualizationActionTypes.CLEAR_CHARTS\r\n});\r\n\r\nexport const clearMaps = () => ({\r\n    type: visualizationActionTypes.CLEAR_MAPS\r\n});\r\n\r\nexport const deleteChart = (chartIndex) => ({\r\n    type: visualizationActionTypes.DELETE_CHART,\r\n    payload: {\r\n        chartIndex\r\n    }\r\n});\r\n\r\nexport const tableStatsRequestSend = (tableName, datasetLongName) => ({\r\n    type: visualizationActionTypes.TABLE_STATS_REQUEST_SEND,\r\n    payload: {\r\n        tableName,\r\n        datasetLongName\r\n    }\r\n});\r\n\r\nexport const tableStatsRequestProcessing = () => ({\r\n    type: visualizationActionTypes.TABLE_STATS_REQUEST_PROCESSING\r\n});\r\n\r\nexport const tableStatsRequestSuccess = (tableStats, datasetLongName) => ({\r\n    type: visualizationActionTypes.TABLE_STATS_REQUEST_SUCCESS,\r\n    payload: {\r\n        tableStats,\r\n        datasetLongName\r\n    }\r\n});\r\n\r\nexport const tableStatsRequestFailure = () => ({\r\n    type: visualizationActionTypes.TABLE_STATS_REQUEST_FAILURE\r\n});\r\n\r\nexport const cruiseTrajectoryRequestSend = (id) => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SEND,\r\n    payload: {\r\n        id\r\n    }\r\n});\r\n\r\nexport const cruiseTrajectoryRequestSuccess = (trajectory) => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SUCCESS,\r\n    payload: {\r\n        trajectory\r\n    }\r\n});\r\n\r\nexport const cruiseTrajectoryRequestFailure = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_FAILURE,\r\n});\r\n\r\nexport const cruiseTrajectoryRequestProcessing = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_PROCESSING,\r\n});\r\n\r\nexport const cruiseTrajectoryClear = () => ({\r\n    type: visualizationActionTypes.CRUISE_TRAJECTORY_CLEAR\r\n});\r\n\r\nexport const cruiseListRequestSend = (id) => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_SEND,\r\n});\r\n\r\nexport const cruiseListRequestSuccess = (cruiseList) => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_SUCCESS,\r\n    payload: {\r\n        cruiseList\r\n    }\r\n});\r\n\r\nexport const cruiseListRequestFailure = () => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_FAILURE,\r\n});\r\n\r\nexport const cruiseListRequestProcessing = () => ({\r\n    type: visualizationActionTypes.CRUISE_LIST_REQUEST_PROCESSING,\r\n});\r\n\r\nexport const triggerShowCharts = () => ({\r\n    type: visualizationActionTypes.TRIGGER_SHOW_CHARTS\r\n});\r\n\r\nexport const completedShowCharts = () => ({\r\n    type: visualizationActionTypes.COMPLETED_SHOW_CHARTS\r\n});\r\n\r\nexport const csvDownloadRequestSend = (query, fileName, tableName) => ({\r\n    type: visualizationActionTypes.CSV_DOWNLOAD_REQUEST_SEND,\r\n    payload: {\r\n        query,\r\n        fileName,\r\n        tableName\r\n    }\r\n});\r\n\r\nexport const csvDownloadRequestFailure = () => ({\r\n    type: visualizationActionTypes.CSV_DOWNLOAD_REQUEST_FAILURE\r\n});\r\n\r\nexport const csvDownloadRequestProcessing = () => ({\r\n    type: visualizationActionTypes.CSV_DOWNLOAD_REQUEST_PROCESSING\r\n});\r\n\r\nexport const csvDownloadRequestSuccess = (text) => ({\r\n    type: visualizationActionTypes.CSV_DOWNLOAD_REQUEST_SUCCESS,\r\n    payload: {\r\n        text\r\n    }\r\n});\r\n\r\n//dataset download\r\nexport const downloadTextAsCsv = (text, fileName) => ({\r\n    type: visualizationActionTypes.DOWNLOAD_TEXT_AS_CSV,\r\n    payload: {\r\n        text,\r\n        fileName\r\n    }\r\n});\r\n\r\nexport const csvFromVizRequestSend = (vizObject, tableName, shortName, longName) => ({\r\n    type: visualizationActionTypes.CSV_FROM_VIZ_REQUEST_SEND,\r\n    payload: {\r\n        vizObject,\r\n        tableName,\r\n        shortName,\r\n        longName\r\n    }\r\n});\r\n\r\nexport const vizPageDataTargetSet = (target) => ({\r\n    type: visualizationActionTypes.VIZ_PAGE_DATA_TARGET_SET,\r\n    payload: {\r\n        target\r\n    }\r\n});\r\n\r\nexport const vizSearchResultsFetch = (params) => ({\r\n    type: visualizationActionTypes.VIZ_SEARCH_RESULTS_FETCH,\r\n    payload: {\r\n        params\r\n    }\r\n});\r\n\r\nexport const vizSearchResultsStore = (searchResults) => ({\r\n    type: visualizationActionTypes.VIZ_SEARCH_RESULTS_STORE,\r\n    payload: {\r\n        searchResults\r\n    }\r\n});\r\n\r\nexport const vizSearchResultsSetLoadingState = (state) => ({\r\n    type: visualizationActionTypes.VIZ_SEARCH_RESULTS_SET_LOADING_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const memberVariablesFetch = (datasetID) => ({\r\n    type: visualizationActionTypes.MEMBER_VARIABLES_FETCH,\r\n    payload: {\r\n        datasetID\r\n    }\r\n});\r\n\r\nexport const memberVariablesStore = (variables) => ({\r\n    type: visualizationActionTypes.MEMBER_VARIABLES_STORE,\r\n    payload: {\r\n        variables\r\n    }\r\n});\r\n\r\nexport const memberVariablesSetLoadingState = (state) => ({\r\n    type: visualizationActionTypes.MEMBER_VARIABLES_SET_LOADING_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const relatedDataFetch = (params) => ({\r\n    type: visualizationActionTypes.RELATED_DATA_FETCH,\r\n    payload: {\r\n        params\r\n    }\r\n});\r\n\r\nexport const relatedDataStore = (data) => ({\r\n    type: visualizationActionTypes.RELATED_DATA_STORE,\r\n    payload: {\r\n        data\r\n    }\r\n});\r\n\r\nexport const relatedDataSetLoadingState = (state) => ({\r\n    type: visualizationActionTypes.RELATED_DATA_SET_LOADING_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const variableNameAutocompleteFetch = (terms) => ({\r\n    type: visualizationActionTypes.VARIABLE_NAME_AUTOCOMPLETE_FETCH,\r\n    payload: {\r\n        terms\r\n    }\r\n});\r\n\r\nexport const variableNameAutocompleteStore = (autocompleteVariableNames) => ({\r\n    type: visualizationActionTypes.VARIABLE_NAME_AUTOCOMPLETE_STORE,\r\n    payload: {\r\n        autocompleteVariableNames\r\n    }\r\n});\r\n\r\nexport const vizSearchResultsStoreAndUpdateOptions = (searchResults, options) => ({\r\n    type: visualizationActionTypes.VIZ_SEARCH_RESULTS_STORE_AND_UPDATE_OPTIONS,\r\n    payload: {\r\n        searchResults,\r\n        options\r\n    }\r\n})","import * as dataSubmissionActionTypes from '../actionTypes/dataSubmission';\r\n\r\nexport const retrieveDataSubmissionsByUser = () => ({\r\n    type: dataSubmissionActionTypes.RETRIEVE_SUBMISSIONS_BY_USER\r\n});\r\n\r\nexport const addSubmissionComment = (submissionID, comment) => ({\r\n    type: dataSubmissionActionTypes.ADD_SUBMISSION_COMMENT,\r\n    payload: {\r\n        submissionID,\r\n        comment\r\n    }\r\n});\r\n\r\nexport const retrieveSubmissionCommentHistory = (submissionID) => ({\r\n    type: dataSubmissionActionTypes.RETRIEVE_SUBMISSION_COMMENT_HISTORY,\r\n    payload: {\r\n        submissionID\r\n    }\r\n});\r\n\r\nexport const uploadSubmission = ({ file, datasetName }) => ({\r\n    type: dataSubmissionActionTypes.UPLOAD_SUBMISSION,\r\n    payload: {\r\n        file,\r\n        datasetName\r\n    }\r\n});\r\n\r\nexport const setSubmissionPhase = (submissionID, phaseID) => ({\r\n    type: dataSubmissionActionTypes.SET_SUBMISSION_PHASE,\r\n    payload: {\r\n        submissionID,\r\n        phaseID\r\n    }\r\n});\r\n\r\nexport const storeSubmissions = (submissions) => ({\r\n    type: dataSubmissionActionTypes.STORE_SUBMISSIONS,\r\n    payload: {\r\n        submissions\r\n    }\r\n})\r\n\r\nexport const storeSubmissionComments = (payload) => ({\r\n    type: dataSubmissionActionTypes.STORE_SUBMISSION_COMMENTS,\r\n    payload\r\n});\r\n\r\nexport const retrieveAllSubmissions = () => ({\r\n    type: dataSubmissionActionTypes.RETRIEVE_ALL_SUBMISSIONS\r\n});\r\n\r\nexport const setSubmissionCommentHistoryRetrievalState = (state) => ({\r\n    type: dataSubmissionActionTypes.SET_SUBMISSION_COMMENT_HISTORY_RETRIEVAL_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const retrieveMostRecentFile = (submissionID) => ({\r\n    type: dataSubmissionActionTypes.RETRIEVE_MOST_RECENT_FILE,\r\n    payload: {\r\n        submissionID\r\n    }\r\n});\r\n\r\nexport const storeSubmissionFile = (file) => ({\r\n    type: dataSubmissionActionTypes.STORE_SUBMISSION_FILE,\r\n    payload: {\r\n        file\r\n    }\r\n});\r\n\r\nexport const checkSubmissionOptionsAndStoreFile = (file) => ({\r\n    type: dataSubmissionActionTypes.CHECK_SUBMISSION_OPTIONS_AND_STORE_FILE,\r\n    payload: {\r\n        file\r\n    }\r\n});\r\n\r\nexport const setUploadState = (state) => ({\r\n    type: dataSubmissionActionTypes.SET_UPLOAD_STATE,\r\n    payload: {\r\n        state\r\n    }\r\n});\r\n\r\nexport const downloadMostRecentFile = (submissionID) => ({\r\n    type: dataSubmissionActionTypes.DOWNLOAD_MOST_RECENT_FILE,\r\n    payload: {\r\n        submissionID\r\n    }\r\n})","export const apiUrl = window.location.origin === 'http://localhost:3000' ? 'http://localhost:8080' : window.location.origin;","const spatialResolutions = {\r\n    irregular: 'Irregular',\r\n    halfDegree: '1/2° X 1/2°' ,\r\n    quarterDegree: '1/4° X 1/4°' ,\r\n    twentyFifthDegree: '1/25° X 1/25°' ,\r\n    fourKm: '4km X 4km',\r\n    twelfthDegree: '1/12° X 1/12°',\r\n    seventyKm: '70km X 70km',\r\n    oneDegree: '1° X 1°',\r\n    nineKm: '9km X 9km',\r\n    twentyFiveKm: '25km X 25km'\r\n}\r\n\r\nexport default spatialResolutions;","import spatialResolutions from '../Enums/spatialResolutions';\r\n\r\nconst mapSpatialResolutionToNumber = (resolution) => {\r\n    let map = {\r\n        [spatialResolutions.halfDegree] : .5,\r\n        [spatialResolutions.quarterDegree] : .25,\r\n        [spatialResolutions.twentyFifthDegree] : .04,\r\n        [spatialResolutions.fourKm] : .041672,\r\n        [spatialResolutions.twelfthDegree] : .083333,\r\n        [spatialResolutions.oneDegree] : 1,\r\n        [spatialResolutions.seventyKm] : .25,\r\n        [spatialResolutions.nineKm] : .083333,\r\n        [spatialResolutions.twentyFiveKm] : .23148\r\n    };\r\n\r\n    return map[resolution];\r\n}\r\n\r\nexport default mapSpatialResolutionToNumber;","// Flattens an array by 1 level\r\n// [[[],[]], [[],[]], [[],[]]] => [[], [], [], [], [], []]\r\n\r\nconst flattenArray = (arr) => {\r\n    let flattenedArray = [];\r\n\r\n    for(let i = 0; i < arr.length; i++){\r\n        for(let j = 0; j < arr[i].length; j++){\r\n            flattenedArray.push(arr[i][j]);\r\n        }\r\n    }\r\n\r\n    return flattenedArray;\r\n}\r\n\r\nexport default flattenArray;","// Interval is number of indices between changes in this parameter, or in order words\r\n// how many times will we see the same value for this parameter in a row before it changes\r\n// as we iterate through the values array.\r\n// We use modulo for cases where data.length / interval is larger than the number of \r\n// distinct values for that parameter.\r\n\r\nconst splitData = (data, changeInterval, numDistinct) => {\r\n    var splitData = [];\r\n\r\n    for(let i = 0; i < numDistinct; i++){\r\n        splitData.push([]);\r\n    }\r\n\r\n    for(let i = 0; i < data.length; i++){\r\n        let index = Math.floor(i / changeInterval) % numDistinct;\r\n        splitData[index].push(data[i]);\r\n    }\r\n\r\n    return splitData;\r\n}\r\n\r\nexport default splitData;","// mergeTargetDistance - number of hops between arrays being merged\r\n// mergeTargetNumber - number of arrays being merged - implicit\r\n// nextStartDistance - once a merge is complete how many hops to next start\r\nconst mergeArraysAndComputeMeans = (data, mergeTargetDistance, nextMergeStartDistance, numArraysPerMerge) => {\r\n    let mergedArrays = [];\r\n\r\n    let travelDistance = mergeTargetDistance * (numArraysPerMerge - 1);\r\n    \r\n    // Find each merging start point\r\n    for(let i = 0; i + travelDistance < data.length; i += nextMergeStartDistance){\r\n        let subArray = [];\r\n\r\n        // Iterate through each value in the first array of this merge. Count\r\n        // the number of values summed so we can ignore nulls and compute a mean.\r\n        for(let j = 0; j < data[i].length; j ++){\r\n            let sum = 0;\r\n            let count = 0;\r\n\r\n            // Aggregate values of all merge targets\r\n            for(let k = i; k < i + (mergeTargetDistance * numArraysPerMerge); k += mergeTargetDistance){\r\n                if(isNaN(data[k][j])) {\r\n                    continue;\r\n                } else {                    \r\n                    sum += data[k][j];\r\n                    count ++;\r\n                }\r\n            }\r\n            subArray.push(count < 1 ? null : sum / (count));\r\n        }\r\n\r\n        mergedArrays.push(subArray)\r\n    }\r\n\r\n    return mergedArrays;\r\n}\r\n\r\nexport default mergeArraysAndComputeMeans;","const mergeArrays = (data, mergeTargetDistance, nextMergeStartDistance, numArraysPerMerge) => {\r\n    let mergedArrays = [];\r\n\r\n    let travelDistance = mergeTargetDistance * (numArraysPerMerge - 1);\r\n\r\n    // Find each merge start point\r\n    for(let i = 0; i + travelDistance < data.length; i += nextMergeStartDistance){\r\n        let subArray = [];\r\n\r\n        for(let j = i; j <= i + travelDistance; j += mergeTargetDistance){\r\n            subArray = [...subArray, ...data[j]];\r\n        }\r\n\r\n        mergedArrays.push(subArray);\r\n    }\r\n   \r\n    return mergedArrays;\r\n}\r\n\r\nexport default mergeArrays;\r\n\r\n","const subTypes= {\r\n    sectionMap: 'Section Map',\r\n    contourSectionMap: 'Contour Section Map',\r\n    timeSeries: 'Time Series',\r\n    histogram: 'Histogram',\r\n    depthProfile: 'Depth Profile',\r\n    heatmap: 'Heatmap',\r\n    contourMap: 'Contour Map',\r\n    sparse: 'Sparse'\r\n}\r\n\r\nexport default subTypes;","const temporalResolutions = {\r\n    threeMinutes: 'Three Minutes',\r\n    sixHourly: 'Six Hourly',\r\n    daily: 'Daily',\r\n    weekly: 'Weekly',\r\n    monthly: 'Monthly',\r\n    annual: 'Annual',\r\n    irregular: 'Irregular',\r\n    monthlyClimatology: 'Monthly Climatology',\r\n    threeDay: 'Three Days',\r\n    eightDayRunning: 'Eight Day Running',\r\n    eightDays: 'Eight Days '\r\n}\r\n\r\nexport default temporalResolutions;","import { quantile, extent } from 'd3-array';\r\n\r\nimport mapSpatialResolutionToNumber from '../Utility/mapSpatialResolutionToNumber';\r\nimport flattenArray from '../Utility/flattenArray';\r\nimport splitData from '../Utility/splitData';\r\nimport mergeArraysAndComputeMeans from '../Utility/mergeArraysAndComputeMeans';\r\nimport mergeArrays from '../Utility/mergeArrays';\r\n\r\nimport vizSubTypes from '../Enums/visualizationSubTypes';\r\nimport temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nclass SpaceTimeData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n\r\n        this.hasDepth = null;\r\n        this.hasHours = null;\r\n        this.isMonthly = null;\r\n\r\n        this.depths = new Set();\r\n        this.dates = new Set();\r\n        this.variableValues = [];\r\n\r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n        this.indexAdjust = null;\r\n        this.payload = payload;\r\n        this.lats = [];\r\n        this.lons = [];\r\n\r\n        this.lonMin = null;\r\n        this.lonMax = null;\r\n        this.latMin = null;\r\n        this.latMax = null;\r\n\r\n        this.distinctLatCount = null;\r\n        this.distinctLonCount = null;\r\n    }\r\n\r\n    add(row) {\r\n        \r\n        let lat = parseFloat(row[1]);\r\n        let _lon = parseFloat(row[2]);\r\n        let lon = _lon < this.parameters.lon1 ? _lon + 360 : _lon;\r\n\r\n        if(this.hasDepth === null) {\r\n            this.hasHour = this.metadata.Table_Name === 'tblWind_NRT';\r\n            this.isMonthly = this.metadata.Temporal_Resolution === temporalResolutions.monthlyClimatology;\r\n            this.hasDepth = row.length === 5 && !this.hasHour;\r\n            this.indexAdjust = this.hasDepth || this.hasHour? 1 : 0;\r\n            this.lonMin = lon;\r\n            this.lonMax = lon;\r\n            this.latMin = lat;\r\n            this.latMax = lat;\r\n        }\r\n\r\n        let value = parseFloat(row[3 + this.indexAdjust]);\r\n\r\n        if(this.hasDepth){\r\n            this.depths.add(row[3]);\r\n        }\r\n\r\n        var time;\r\n        if(this.hasHour){\r\n            time = new Date(row[0]);\r\n            time.setUTCHours(row[3])\r\n            time = time.toISOString();\r\n        } else time = row[0];\r\n        this.dates.add(time);\r\n        this.lats.push(lat);\r\n\r\n        this.lons.push(lon);\r\n\r\n        if(lon < this.lonMin) this.lonMin = lon;\r\n        if(lon > this.lonMax) this.lonMax = lon;\r\n        if(lat < this.latMin) this.latMin = lat;\r\n        if(lat > this.latMax) this.latMax = lat;\r\n\r\n        this.variableValues.push(value);\r\n    }\r\n\r\n    finalize() {\r\n\r\n        if(this.depths.size === 0) this.depths.add('Surface');\r\n\r\n        this.lonCount = this.lons.length / this.dates.size / this.depths.size;\r\n        this.latCount = this.lats.length / this.dates.size / this.depths.size;\r\n\r\n        let quantile1 = quantile(this.variableValues, .05);\r\n        let quantile2 = quantile(this.variableValues, .95);\r\n        this.zMin = quantile1 === undefined ? null : parseFloat(quantile1.toPrecision(4));\r\n        this.zMax = quantile2 === undefined ? null : parseFloat(quantile2.toPrecision(4));\r\n        this.extent = extent(this.variableValues);\r\n\r\n        let spatialResolution = mapSpatialResolutionToNumber(this.metadata.Spatial_Resolution);\r\n        \r\n        this.distinctLatCount = Math.round((this.latMax - this.latMin) / spatialResolution) + 1;\r\n        this.distinctLonCount = Math.round((this.lonMax - this.lonMin) / spatialResolution) + 1;\r\n    }\r\n\r\n    generatePlotData(subType, splitByDate, splitByDepth) {        \r\n\r\n        // Intervals are the number of indices between each change for that parameter\r\n        // Intervals can change if you split out of order\r\n        const latInterval = this.distinctLonCount;\r\n        const depthInterval = latInterval * this.distinctLatCount;\r\n        const dateInterval = depthInterval * this.depths.size;\r\n\r\n        // an array of arrays containing variable values, each of which will become a chart\r\n        var variableValueSubsets;\r\n        \r\n        variableValueSubsets = splitData(this.variableValues, dateInterval, this.dates.size);\r\n        variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, depthInterval, this.depths.size));\r\n        variableValueSubsets = flattenArray(variableValueSubsets);\r\n\r\n        // Contour and heatmap compute mean variable values per lat and lon\r\n        // when not split by date and/or time\r\n        if(subType === vizSubTypes.contourMap || subType === vizSubTypes.heatmap) {\r\n            if(splitByDate && splitByDepth) {\r\n                // pass\r\n            } else if (splitByDate){\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    1, \r\n                    this.depths.size, \r\n                    this.depths.size\r\n                    );\r\n    \r\n            } else if (splitByDepth){\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    this.depths.size, \r\n                    1, \r\n                    this.dates.size\r\n                    );\r\n    \r\n            } else {\r\n                variableValueSubsets = mergeArraysAndComputeMeans(\r\n                    variableValueSubsets, \r\n                    1, \r\n                    variableValueSubsets.length, \r\n                    variableValueSubsets.length\r\n                    );            \r\n            }\r\n        } \r\n        \r\n        // Histograms split and aggregate without computing means\r\n        else if (subType === vizSubTypes.histogram) {\r\n            if(splitByDate && splitByDepth) {\r\n                // pass\r\n            } else if (splitByDate){\r\n                variableValueSubsets = mergeArrays(\r\n                    variableValueSubsets, \r\n                    1,\r\n                    this.depths.size,\r\n                    this.depths.size\r\n                    );\r\n            } else if (splitByDepth){\r\n                variableValueSubsets = mergeArrays(\r\n                    variableValueSubsets,\r\n                    this.depths.size,\r\n                    1,\r\n                    this.dates.size\r\n                );\r\n            } else {\r\n                variableValueSubsets = [this.variableValues];\r\n            }\r\n        }\r\n\r\n        // Nothing here yet\r\n        else {}\r\n\r\n        return variableValueSubsets;\r\n    }\r\n\r\n    generateCsv = () => {\r\n        let dates = Array.from(this.dates);\r\n        let depths = Array.from(this.depths);\r\n        var csvArray;\r\n\r\n        if(this.hasDepth){\r\n            csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${this.lats[i]},${this.lons[i] > 180 ? this.lons[i] - 360 : this.lons[i]},${depths[Math.floor(i / (this.variableValues.length / (dates.length * depths.length))) % depths.length]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n\r\n        } else {\r\n            csvArray = [`time,lat,lon,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${this.lats[i]},${this.lons[i] > 180 ? this.lons[i] - 360 : this.lons[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SpaceTimeData;","const storedProcedures = {\r\n    sectionMap: 'uspSectionMap',\r\n    timeSeries: 'uspTimeSeries',\r\n    spaceTime: 'uspSpaceTime',\r\n    depthProfile: 'uspDepthProfile'\r\n}\r\n\r\nexport default storedProcedures;","import temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nclass TimeSeriesData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.variableValues = [];\r\n        this.stds = [];\r\n        this.dates = [];\r\n        this.lat = null;\r\n        this.lon = null;\r\n        this.depth = null;\r\n        this.depthIndexAdjust = null;\r\n    }\r\n\r\n    add(row) {\r\n        if(this.lat === null){\r\n            this.depthIndexAdjust = row.length === 6 ? 1 : 0;\r\n            this.lat = row[1];\r\n            this.lon = row[2];\r\n            this.depth = row.length === 6 ? row[3] : false;\r\n            this.hasHour = this.metadata.Table_Name === 'tblWind_NRT';\r\n            this.isMonthly = this.metadata.Temporal_Resolution === temporalResolutions.monthlyClimatology;\r\n        }\r\n\r\n        this.variableValues.push(row[3 + this.depthIndexAdjust]);\r\n        this.stds.push(row[4 + this.depthIndexAdjust]);\r\n        this.dates.push(row[0]);\r\n    }\r\n\r\n    finalize() {\r\n        if(this.depth === false) this.depth = 'Surface';\r\n    }\r\n\r\n    generatePlotData() {\r\n        return this.variableValues;\r\n    }    \r\n\r\n    generateCsv() {\r\n        let csvString = `time,${this.parameters.fields},${this.parameters.fields}_std`;\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvString += `\\n${this.dates[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]},${isNaN(this.stds[i]) ? '' : this.stds[i]}`;\r\n        }\r\n\r\n        return csvString;\r\n    }\r\n}\r\n\r\nexport default TimeSeriesData;","import temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nclass DepthProfileData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.variableValues = [];\r\n        this.stds = [];\r\n        this.lat = null;\r\n        this.lon = null;\r\n        this.depths = [];\r\n    }\r\n\r\n    add(row) {\r\n        if(this.lat === null){\r\n            this.lat = parseFloat(row[0]);\r\n            this.lon = parseFloat(row[1]);\r\n            this.isMonthly = this.metadata.Temporal_Resolution === temporalResolutions.monthlyClimatology;\r\n        }\r\n\r\n        this.variableValues.push(parseFloat(row[2]));\r\n        this.stds.push(parseFloat(row[3]));\r\n        this.depths.push(parseFloat(row[4]));\r\n    }\r\n\r\n    finalize() {\r\n        // pass\r\n    }\r\n\r\n    generatePlotData() {\r\n        return this.variableValues;\r\n    }\r\n    \r\n    generateCsv() {\r\n        let csvString = `depth,${this.parameters.fields},${this.parameters.fields}_std`;\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvString += `\\n${this.depths[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]},${isNaN(this.stds[i]) ? '' : this.stds[i]}`;\r\n        }\r\n\r\n        return csvString;\r\n    }\r\n}\r\n\r\nexport default DepthProfileData;","import { quantile, extent } from 'd3-array';\r\n\r\nimport flattenArray from '../Utility/flattenArray';\r\nimport splitData from '../Utility/splitData';\r\nimport mergeArraysAndComputeMeans from '../Utility/mergeArraysAndComputeMeans';\r\nimport temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nclass SectionMapData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.subType = payload.subType\r\n        \r\n        this.dates = new Set();\r\n        this.depths = new Set();\r\n        this.lats = new Set();\r\n        this.lons = new Set();\r\n\r\n        this.lonMin = null;\r\n        this.lonMax = null;\r\n\r\n        this.variableValues = [];\r\n        \r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n\r\n        this.orientation = null;\r\n    }\r\n\r\n    // time, lat, lon, depth, value\r\n    add(row) {        \r\n        const time = row[0];\r\n        const lat = parseFloat(row[1]);\r\n        var _lon = parseFloat(row[2]);\r\n        const lon = _lon < this.parameters.lon1 ? _lon + 360 : _lon;\r\n        const depth = parseFloat(row[3]);\r\n        const value = parseFloat(row[4]);\r\n\r\n        if(this.variableValues.length === 0) {\r\n            this.isMonthly = this.metadata.Temporal_Resolution === temporalResolutions.monthlyClimatology;\r\n        }        \r\n\r\n        this.depths.add(depth);\r\n        this.dates.add(time);\r\n        this.lats.add(lat);\r\n        this.lons.add(lon);\r\n\r\n        this.variableValues.push(value);\r\n    }\r\n\r\n    finalize() {\r\n        let quantile1 = quantile(this.variableValues, .05);\r\n        let quantile2 = quantile(this.variableValues, .95);\r\n        this.zMin = quantile1 === undefined ? null : parseFloat(quantile1.toPrecision(4));\r\n        this.zMax = quantile2 === undefined ? null : parseFloat(quantile2.toPrecision(4));\r\n\r\n        this.extent = extent(this.variableValues);\r\n\r\n        this.orientation = this.lons.size > this.lats.size ? 'zonal' : 'meridional';\r\n\r\n        let lonArray = Array.from(this.lons);\r\n        this.lonMax = Math.max(...lonArray);\r\n        this.lonMin = Math.min(...lonArray);\r\n    }\r\n\r\n    // Direction is meridional or zonal\r\n    generatePlotData(orientation, splitByDate, splitBySpace) {\r\n        let latCount = this.lats.size;\r\n        let lonCount = this.lons.size;\r\n\r\n        // Intervals are the number of indices between each change for that parameter\r\n        // Intervals can change if you split out of order\r\n        const lonInterval = this.depths.size;\r\n        const latInterval = lonInterval * lonCount;\r\n        const dateInterval = latInterval * latCount;\r\n\r\n        var variableValueSubsets = splitData(this.variableValues, dateInterval, this.dates.size);\r\n\r\n        var spaceCount;\r\n\r\n        if(orientation === 'zonal') {\r\n            variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, latInterval, latCount));\r\n            variableValueSubsets = flattenArray(variableValueSubsets);\r\n            spaceCount = latCount;\r\n        }\r\n\r\n        else {\r\n            variableValueSubsets = variableValueSubsets.map(subset => splitData(subset, lonInterval, lonCount));\r\n            variableValueSubsets = flattenArray(variableValueSubsets);\r\n            spaceCount = lonCount;\r\n        }\r\n\r\n        if(splitByDate && splitBySpace){\r\n            // pass\r\n        } else if (splitByDate){\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                1,\r\n                spaceCount,\r\n                spaceCount\r\n            )\r\n        } else if (splitBySpace) {\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                spaceCount,\r\n                1,\r\n                this.dates.size\r\n            )\r\n        } else {\r\n            variableValueSubsets = mergeArraysAndComputeMeans(\r\n                variableValueSubsets,\r\n                1,\r\n                variableValueSubsets.length,\r\n                variableValueSubsets.length\r\n            )\r\n        }\r\n\r\n        return variableValueSubsets;\r\n    }\r\n\r\n    generateCsv = () => {\r\n        let dates = Array.from(this.dates);\r\n        let depths = Array.from(this.depths);\r\n        let lons = Array.from(this.lons);\r\n        let lats = Array.from(this.lats);\r\n\r\n        const lonInterval = depths.length;\r\n        const latInterval = lonInterval * lons.length;\r\n\r\n        var csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n        for(let i = 0; i < this.variableValues.length; i++){\r\n            csvArray.push(`${dates[Math.floor(i / (this.variableValues.length / dates.length))]},${lats[Math.floor(i / latInterval) % lats.length]},${lons[Math.floor(i / lonInterval) % lons.length]},${depths[i % depths.length]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SectionMapData;","import { quantile, extent } from 'd3-array';\r\n\r\nclass SparseData {\r\n    constructor(payload) {\r\n        this.parameters = payload.parameters;\r\n        this.metadata = payload.metadata;\r\n        this.hasDepth = null;\r\n        this.variableIndex = payload.metadata.Depth_Min ? 4 : 3;\r\n        this.depths = [];\r\n        this.times = [];\r\n        this.variableValues = [];\r\n        this.lats = [];\r\n        this.lons = [];\r\n        this.zMin = null;\r\n        this.zMax = null;\r\n        this.extent = [null, null];\r\n\r\n        this.latMin = null;\r\n        this.latMax = null;\r\n        this.lonMin = null;\r\n        this.lonMax = null;\r\n    }\r\n\r\n    add(row) {\r\n        let lat = parseFloat(row[1]);\r\n        let lon = parseFloat(row[2]);\r\n\r\n        if(this.hasDepth === null){\r\n            this.hasDepth = Boolean(this.metadata.Depth_Min);\r\n            this.latMin = lat;\r\n            this.latMax = lat;\r\n            this.lonMin = lon;\r\n            this.lonMax = lon;\r\n        }\r\n\r\n        if(row[this.variableIndex]){\r\n\r\n            this.times.push(row[0]);\r\n            this.lats.push(lat);\r\n            this.lons.push(lon);\r\n            if(this.hasDepth) this.depths.push(parseFloat(row[3]));\r\n            this.variableValues.push(parseFloat(row[this.variableIndex]));\r\n\r\n            if(lat < this.latMin) this.latMin = lat;\r\n            if(lat > this.latMax) this.latMax = lat;\r\n            \r\n            if(lon < this.lonMin) this.lonMin = lon;\r\n            if(lon > this.lonMax) this.lonMax = lon;\r\n        }\r\n    }\r\n\r\n    finalize() {\r\n\r\n        let quantile1 = quantile(this.variableValues, .05);\r\n        let quantile2 = quantile(this.variableValues, .95);\r\n        this.zMin = quantile1 === undefined ? null : quantile1.toPrecision(4);\r\n        this.zMax = quantile2 === undefined ? null : quantile2.toPrecision(4);\r\n\r\n        this.extent = extent(this.variableValues);\r\n\r\n        let latDistance = Math.abs(this.latMax - this.latMin);\r\n        let lonDistance = Math.abs(this.lonMax - this.lonMin);\r\n        let distance = Math.sqrt(latDistance * latDistance + lonDistance * lonDistance);\r\n\r\n        let _zoom = 4 - Math.floor(distance / 12);\r\n        this.zoom = _zoom < 0 ? 0 : _zoom;\r\n\r\n        let lonCenter = (this.lonMax + this.lonMin) / 2;\r\n        let latCenter = (this.latMax + this.latMin) / 2;\r\n        this.center = { \r\n            lon: lonCenter, \r\n            lat: latCenter\r\n        }\r\n    }\r\n\r\n    generatePlotData(subType, splitByDate, splitByDepth) {\r\n        return this.variableValues;\r\n    }\r\n\r\n    generateCsv(){\r\n        var csvArray;\r\n\r\n        if(this.hasDepth){\r\n            csvArray = [`time,lat,lon,depth,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${this.times[i]},${this.lats[i]},${this.lons[i]},${this.depths[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n\r\n        } else {\r\n            csvArray = [`time,lat,lon,${this.parameters.fields}`];\r\n\r\n            for(let i = 0; i < this.variableValues.length; i++){\r\n                csvArray.push(`${this.times[i]},${this.lats[i]},${this.lons[i]},${isNaN(this.variableValues[i]) ? '' : this.variableValues[i]}`);\r\n            }\r\n        }\r\n\r\n        return csvArray.join('\\n');\r\n    }\r\n}\r\n\r\nexport default SparseData;","import CSVParser from 'csv-parse';\r\nimport queryString from 'query-string';\r\n\r\nimport { apiUrl } from './config';\r\nimport SpaceTimeData from './Classes/SpaceTimeData';\r\n\r\nimport storedProcedures from './Enums/storedProcedures';\r\nimport TimeSeriesData from './Classes/TimeSeriesData';\r\nimport DepthProfileData from './Classes/DepthProfileData';\r\nimport SectionMapData from './Classes/SectionMapData';\r\nimport SparseData from './Classes/SparseData';\r\n\r\nimport encoding from 'text-encoding';\r\n\r\nconst fetchOptions = {\r\n    credentials: 'include'\r\n}\r\n\r\nconst postOptions = {\r\n    ...fetchOptions,\r\n    method: 'POST',\r\n    headers: {\"Content-Type\": \"application/json\"}\r\n}\r\n\r\nconst storedProcedureParametersToUri = (parameters) => {\r\n    return Object.keys(parameters).reduce(function (queryString, key, i) {\r\n        return `${queryString}${i===0 ? '' : '&&'}${key}=${parameters[key]}`;\r\n      }, '');\r\n}\r\n\r\nconst api = {};\r\napi.user = {};\r\napi.dataRetrieval = {};\r\napi.catalog = {};\r\napi.visualization = {};\r\napi.dataSubmission = {};\r\n\r\napi.user.login = (user) => {\r\n    return fetch(apiUrl + '/user/signin', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    });\r\n}\r\n\r\napi.user.logout = () => {\r\n    return fetch(apiUrl + '/user/signout', fetchOptions);\r\n}\r\n\r\napi.user.register = (user) => {\r\n    return fetch(apiUrl + '/user/signup', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    })\r\n}\r\n\r\napi.user.validate = (user) => {\r\n    return fetch(apiUrl + '/user/validate', {\r\n        ...postOptions,\r\n        body: JSON.stringify(user),\r\n    })\r\n}\r\n\r\napi.user.googleLoginRequest = async(userIDToken) => {\r\n    let response = await fetch(apiUrl + '/user/googleauth', {\r\n        ...postOptions,\r\n        body: JSON.stringify({userIDToken}),\r\n    })\r\n\r\n    return response;\r\n}\r\n\r\napi.user.contactUs = async(payload) => {\r\n    return await fetch(apiUrl + '/api/user/contactus', {\r\n        ...postOptions,\r\n        body: JSON.stringify(payload)\r\n    })\r\n}\r\n\r\napi.user.changePassword = async(payload) => {\r\n    return await fetch(apiUrl + '/api/user/changepassword', {\r\n        ...postOptions,\r\n        body: JSON.stringify(payload)\r\n    })\r\n}\r\n\r\napi.user.changeEmail = async(payload) => {\r\n    return await fetch(apiUrl + '/api/user/changeemail', {\r\n        ...postOptions,\r\n        body: JSON.stringify(payload)\r\n    })\r\n}\r\n\r\napi.catalog.retrieve = async() => {\r\n\r\n    const decoder = new encoding.TextDecoder();\r\n    let catalog = [];\r\n\r\n    let csvParser = CSVParser({columns:true});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record\r\n        while (record = csvParser.read()) {\r\n            catalog.push(record)\r\n        }\r\n    })\r\n\r\n    let response = await fetch(apiUrl + '/api/catalog', fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n    return catalog;\r\n}\r\n\r\napi.catalog.datasets = async() => {\r\n    const decoder = new encoding.TextDecoder();\r\n    let datasets = {};\r\n\r\n    let csvParser = CSVParser({columns:true});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record\r\n        while (record = csvParser.read()) {\r\n            datasets[record.Dataset_Long_Name.trim()] = record;\r\n        }\r\n    })\r\n\r\n    let response = await fetch(apiUrl + '/api/catalog/datasets', fetchOptions);\r\n\r\n    if(!response.ok) return false;\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n    return datasets;\r\n}\r\n\r\napi.catalog.submissionOptions = async() => {\r\n    return await fetch(apiUrl + '/api/catalog/submissionoptions');\r\n}\r\n\r\napi.catalog.searchResults = async(queryString) => {\r\n    return await fetch(apiUrl + '/api/catalog/searchcatalog' + queryString, fetchOptions);\r\n}\r\n\r\napi.user.keyRetrieval = async() => {\r\n    return await fetch(apiUrl + '/user/retrieveapikeys', fetchOptions);\r\n}\r\n\r\napi.user.keyCreation = async(description) => {\r\n    return await fetch(apiUrl + `/user/generateapikey?description=${description.trim()}`, fetchOptions);\r\n}\r\n\r\napi.user.updateUserInfo = async(userInfo) => {\r\n    return await fetch(apiUrl + '/api/user/updateinfo', {\r\n        ...postOptions,\r\n        body: JSON.stringify(userInfo),\r\n    });\r\n}\r\n\r\napi.catalog.fetchKeywords = async() => {\r\n    return await fetch(apiUrl + '/api/catalog/keywords');\r\n}\r\n\r\napi.catalog.datasetFullPageDataFetch = async(shortname) => {\r\n    return await fetch(apiUrl + `/api/catalog/datasetfullpage?shortname=${shortname}`, fetchOptions);\r\n}\r\n\r\napi.catalog.cruiseFullPageDataFetch = async(name) => {\r\n    return await fetch(apiUrl + `/api/catalog/cruisefullpage?name=${name}`, fetchOptions);\r\n}\r\n\r\napi.catalog.cruiseSearch = async(qString) => {\r\n    return await fetch(apiUrl + `/api/catalog/searchcruises` + qString, fetchOptions)\r\n}\r\n\r\napi.user.recoverPassword = async(email) => {\r\n    fetch(apiUrl + '/api/user/forgotpassword', {\r\n        ...postOptions,\r\n        body: JSON.stringify({email})\r\n    })\r\n}\r\n\r\napi.user.choosePassword = async({password, token}) => {\r\n    return await fetch(apiUrl + '/api/user/choosepassword', {\r\n        ...postOptions,\r\n        body: JSON.stringify({password, token})\r\n    })\r\n}\r\n\r\napi.visualization.storedProcedureRequest = async(payload) => {\r\n    const decoder = new encoding.TextDecoder();\r\n    var vizData;\r\n\r\n    switch(payload.parameters.spName) {\r\n        case storedProcedures.spaceTime:\r\n            if(payload.subType === 'Sparse') vizData = new SparseData(payload);\r\n            else vizData = new SpaceTimeData(payload);\r\n            break;\r\n\r\n        case storedProcedures.timeSeries:\r\n            vizData = new TimeSeriesData(payload);\r\n            break;\r\n\r\n        case storedProcedures.depthProfile:\r\n            vizData = new DepthProfileData(payload);\r\n            break;\r\n\r\n        case storedProcedures.sectionMap:\r\n            vizData = new SectionMapData(payload);\r\n            break;\r\n\r\n        default:\r\n            console.log('Unknown sproc name');\r\n    }\r\n    \r\n    let response = await fetch(apiUrl + '/api/data/sp?' + storedProcedureParametersToUri(payload.parameters), fetchOptions);\r\n\r\n    if(!response.ok) return {failed: true, status: response.status};\r\n\r\n    let csvParser = CSVParser({from: 2});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record;\r\n        while (record = csvParser.read()) {\r\n            vizData.add(record);\r\n        }\r\n    })\r\n\r\n    csvParser.on('error', (e) => {\r\n        console.log(e);\r\n    })\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n\r\n    return vizData;\r\n}\r\n\r\n\r\napi.visualization.getTableStats = async(tableName) => {\r\n    let response = await fetch(apiUrl + '/dataretrieval/tablestats?table=' + tableName, fetchOptions);\r\n    if(!response.ok) return {failed: true, status: response.status};\r\n    return await response.json();\r\n}\r\n\r\napi.visualization.cruiseTrajectoryRequest = async(payload) => {\r\n    const decoder = new encoding.TextDecoder();\r\n    let trajectory = {lats: [], lons: []};\r\n\r\n    let response = await fetch(apiUrl + '/api/data/cruisetrajectory?' + `id=${payload.id}`, fetchOptions);\r\n\r\n    if(!response.ok) return {failed: true, status: response.status};\r\n\r\n    let csvParser = CSVParser({from: 2});\r\n\r\n    csvParser.on('readable', function(){\r\n        let record;\r\n        while (record = csvParser.read()) {\r\n            trajectory.lats.push(parseFloat(record[1]));\r\n            trajectory.lons.push(parseFloat(record[2]));\r\n        }\r\n    })\r\n\r\n    let body = response.body;\r\n    let reader = body.getReader();\r\n    let readerIsDone = false;\r\n\r\n    while(!readerIsDone){\r\n        let chunk = await reader.read();\r\n        if(chunk.done) {\r\n            readerIsDone = true;\r\n        }\r\n        else {\r\n            csvParser.write(decoder.decode(chunk.value));\r\n        };\r\n    }\r\n\r\n    return trajectory;\r\n}\r\n\r\napi.visualization.cruiseList = async() => {\r\n    let response = await fetch(apiUrl + '/api/data/cruiselist', fetchOptions);\r\n\r\n    if(response.ok){\r\n        return await response.json();\r\n    } else return false;   \r\n}\r\n\r\napi.visualization.csvDownload = async(query) => {\r\n    if(!query) return null;\r\n    let response = await fetch(apiUrl + `/api/data/query?query=${query}`, fetchOptions);\r\n    if(response.ok) return await response.text();\r\n    else return {failed: true, status: response.status}\r\n}\r\n\r\napi.visualization.memberVariablesFetch = async(datasetID) => {\r\n    return await fetch(apiUrl + `/api/catalog/membervariables?datasetID=${datasetID}`);\r\n}\r\n\r\napi.visualization.autocompleteVariableNamesFetch = async(terms) => {\r\n    return await fetch(apiUrl + `/api/catalog/autocompletevariablesnames?searchTerms=${terms}`);\r\n}\r\n\r\napi.visualization.variableSearch = async(qString) => {\r\n    return await fetch(apiUrl + `/api/catalog/variablesearch${qString}`);\r\n}\r\n\r\napi.dataSubmission.retrieveSubmissionByUser = async() => {\r\n    return await fetch(apiUrl + `/api/datasubmission/submissionsbyuser`, fetchOptions);\r\n}\r\n\r\napi.dataSubmission.retrieveAllSubmissions = async() => {\r\n    return await fetch(apiUrl + `/api/datasubmission/submissions`, fetchOptions);\r\n}\r\n\r\napi.dataSubmission.addSubmissionComment = async(payload) => {\r\n    return await fetch(apiUrl + '/api/datasubmission/addcomment', {\r\n        ...postOptions,\r\n        body: JSON.stringify(payload),\r\n    });\r\n}\r\n\r\napi.dataSubmission.beginUploadSession = async(formData) => {\r\n    return await fetch(apiUrl + '/api/datasubmission/beginuploadsession', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: formData\r\n    });\r\n}\r\n\r\napi.dataSubmission.uploadPart = async(formData) => {\r\n    return await fetch(apiUrl + '/api/datasubmission/uploadfilepart', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: formData\r\n    });\r\n}\r\n\r\napi.dataSubmission.commitUpload = async(formData) => {\r\n    return await fetch(apiUrl + '/api/datasubmission/commitupload', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: formData\r\n    });\r\n}\r\n\r\napi.dataSubmission.setPhase = async(formData) => {\r\n    return await fetch(apiUrl + '/api/datasubmission/setphase', {\r\n        ...postOptions,\r\n        body: JSON.stringify(formData)\r\n    });\r\n}\r\n\r\napi.dataSubmission.retrieveCommentHistory = async(payload) => {\r\n    return await fetch(`${apiUrl}/api/datasubmission/commenthistory?submissionID=${payload.submissionID}`, fetchOptions);\r\n};\r\n\r\napi.dataSubmission.retrieveMostRecentFile = async(submissionID) => {\r\n    return await fetch(`${apiUrl}/api/datasubmission/retrievemostrecentfile?submissionID=${submissionID}`, fetchOptions);\r\n}\r\n\r\napi.dataSubmission.getFileFromLink = async(link) => {\r\n    return await fetch(link);\r\n}\r\n\r\napi.user.cartPersistAddItem = async(formData) => {\r\n    return await fetch(apiUrl + '/api/user/addcartitem', {\r\n        ...postOptions,\r\n        body: JSON.stringify(formData)\r\n    });\r\n}\r\n\r\napi.user.cartPersistRemoveItem = async(formData) => {\r\n    return await fetch(apiUrl + '/api/user/removecartitem', {\r\n        ...postOptions,\r\n        body: JSON.stringify(formData)\r\n    });\r\n}\r\n\r\napi.user.cartPersistClear = async() => {\r\n    return await fetch(`${apiUrl}/api/user/clearcart`, fetchOptions);\r\n}\r\n\r\napi.user.getCart = async() => {\r\n    return await fetch(`${apiUrl}/api/user/getcart`, fetchOptions);\r\n}\r\n\r\nexport default api;","const groupVariablesByDataset = (variables) => {\r\n    let datasetObject = variables.reduce((acc, cur) => {\r\n        if(!acc[cur.Dataset_Name]){\r\n            acc[cur.Dataset_Name] = {\r\n                Dataset_Name: cur.Dataset_Name,\r\n                variables: []\r\n            }\r\n        }\r\n\r\n        acc[cur.Dataset_Name].variables.push(cur);\r\n\r\n        return acc;\r\n    }, {});\r\n\r\n    return Object.values(datasetObject).sort((firstEl, secondEl) => firstEl.Dataset_Name < secondEl.Dataset_Name ? -1 : 1);\r\n}\r\n\r\nexport default groupVariablesByDataset;","const groupDatasetsByMake = (datasets) => datasets.reduce((acc, cur) => {\r\n    acc[cur.variables[0].Make].push(cur);\r\n    return acc;\r\n}, {\r\n    Observation: [],\r\n    Model: []\r\n});\r\n\r\nexport default groupDatasetsByMake;","const buildSearchOptionsFromVariableList = (variables) => {\r\n    let options = {\r\n        Sensor: new Set(['Any']),\r\n        Temporal_Resolution: new Set(['Any']),\r\n        Spatial_Resolution: new Set(['Any']),\r\n        Data_Source: new Set(['Any']),\r\n        Distributor: new Set(['Any']),\r\n        Process_Level: new Set(['Any'])\r\n    };\r\n\r\n    const keys = Object.keys(options);\r\n\r\n    variables.forEach(v => {\r\n        keys.forEach(k => {\r\n            options[k].add(v[k]);\r\n        })\r\n    })\r\n\r\n    Object.keys(options).forEach(cat => {\r\n        options[cat] = Array.from(options[cat]);\r\n    });\r\n\r\n    return options;\r\n}\r\n\r\nexport default buildSearchOptionsFromVariableList;","import { put, takeLatest, all, call, delay, select, debounce } from 'redux-saga/effects';\r\n// import { eventChannel } from 'redux-saga';\r\nimport Cookies from 'js-cookie';\r\nimport queryString from 'query-string';\r\n// import worker from '../worker';\r\n\r\nimport * as userActions from './actions/user';\r\nimport * as catalogActions from './actions/catalog';\r\nimport * as interfaceActions from './actions/ui';\r\nimport * as visualizationActions from './actions/visualization';\r\nimport * as dataSubmissionActions from './actions/dataSubmission';\r\n\r\nimport * as userActionTypes from './actionTypes/user';\r\nimport * as catalogActionTypes from './actionTypes/catalog';\r\nimport * as visualizationActionTypes from './actionTypes/visualization';\r\nimport * as interfaceActionTypes from './actionTypes/ui';\r\nimport * as dataSubmissionActionTypes from './actionTypes/dataSubmission';\r\n\r\nimport api from '../api';\r\nimport states from '../Enums/asyncRequestStates';\r\nimport groupVariablesByDataset from '../Utility/Catalog/groupVariablesByDataset';\r\nimport groupDatasetsByMake from '../Utility/Catalog/groupDatasetsByMake';\r\nimport buildSearchOptionsFromVariablesList from '../Utility/Catalog/buildSearchOptionsFromVariablesList';\r\n\r\nfunction* userLogin(action) {\r\n    yield put(userActions.userLoginRequestProcessing());\r\n    let result = yield call(api.user.login, action.payload);\r\n    \r\n    if(result.ok){\r\n        yield put(interfaceActions.hideLoginDialog());\r\n        var userInfo = JSON.parse(Cookies.get('UserInfo'));\r\n        yield put(userActions.userLoginRequestSuccess());\r\n        yield put(userActions.storeInfo(userInfo));\r\n        yield put(interfaceActions.snackbarOpen('Login was successful!'));\r\n        yield put(userActions.cartGetAndStore());\r\n        if(window.location.pathname === '/login') window.location.href = \"/catalog\";\r\n    } else {\r\n        yield put(userActions.userLoginRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('Login failed.'));\r\n    }\r\n}\r\n\r\nfunction* userLogout(){    \r\n    let authInstance = yield window.gapi.auth2.getAuthInstance();\r\n    yield authInstance.signOut();\r\n    yield call(api.user.logout);\r\n    yield put(userActions.destroyInfo());\r\n    yield window.location.href = \"/\";\r\n}\r\n\r\nfunction* userRegistration(action){\r\n    yield put(userActions.userRegistrationRequestProcessing());\r\n    let result = yield call(api.user.register, action.payload);\r\n    \r\n    if(result.ok){\r\n        yield put(interfaceActions.registrationNextActiveStep());\r\n    } else {\r\n        yield put(userActions.userRegistrationRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('Registration failed. Please try again later.'))\r\n    }\r\n}\r\n\r\nfunction* userValidation(action){\r\n    yield put(userActions.userValidationRequestProcessing());\r\n    let result = yield call(api.user.validate, action.payload);\r\n    let isValid = yield result.json();\r\n    \r\n    if(isValid){\r\n        yield put(userActions.userValidationRequestSuccess());\r\n        yield put(interfaceActions.registrationNextActiveStep());\r\n    } else {\r\n        yield put(userActions.userValidationRequestFailure());\r\n    }\r\n}\r\n\r\nfunction* googleLoginRequest(action){\r\n    yield put(userActions.googleLoginRequestProcessing());\r\n    let result = yield call(api.user.googleLoginRequest, action.payload.userIDToken);\r\n\r\n    if(result.ok){\r\n        yield put(interfaceActions.hideLoginDialog());\r\n        var userInfo = JSON.parse(Cookies.get('UserInfo'));\r\n        yield put(userActions.userLoginRequestSuccess());\r\n        yield put(userActions.storeInfo(userInfo));\r\n        yield put(userActions.cartGetAndStore());\r\n        if(window.location.pathname === '/login') window.location.href = \"/\";\r\n    } else {\r\n        yield put(userActions.userLoginRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('Login failed.'));\r\n    }\r\n}\r\n\r\nfunction* catalogRetrieval(){\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Data'));\r\n    let catalog = yield call(api.catalog.retrieve);\r\n    \r\n    if(!catalog) {\r\n        yield put(catalogActions.retrievalRequestFailure());\r\n    } else{\r\n        yield put(catalogActions.retrievalRequestSuccess(catalog));\r\n    }\r\n\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n}\r\n\r\nfunction* datasetRetrieval(){\r\n    yield put(catalogActions.datasetRetrievalRequestProcessing());\r\n    let datasets = yield call(api.catalog.datasets);\r\n\r\n    if(!datasets){\r\n        yield put(catalogActions.retrievalRequestFailure());\r\n    } else {\r\n        yield put(catalogActions.datasetRetrievalRequestSuccess(datasets));\r\n    }\r\n}\r\n\r\nfunction* keyRetrieval(action){\r\n    let result = yield call(api.user.keyRetrieval);\r\n\r\n    if(result.status === 401){\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n    \r\n    if(!result.ok){\r\n        yield put(userActions.keyRetrievalRequestFailure());\r\n        yield put(interfaceActions.snackbarOpen('API Key Retrieval Failed'));\r\n    } else {\r\n        let response = yield result.json();\r\n        yield put(userActions.keyRetrievalRequestSuccess(response.keys));\r\n    }\r\n}\r\n\r\nfunction* keyCreation(action){\r\n    yield put(userActions.keyCreationRequestProcessing());\r\n    let result = yield call(api.user.keyCreation, action.payload.description);\r\n\r\n    if(result.status === 401){\r\n        yield put(userActions.refreshLogin());\r\n        return;\r\n    }\r\n    \r\n    if(!result.ok) yield put(interfaceActions.snackbarOpen(\"We were unable to create a new API key.\"));\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen(\"A new API key was created\"));\r\n        yield put(userActions.keyCreationRequestSuccess());\r\n        yield put(userActions.keyRetrievalRequestSend());        \r\n    }\r\n}\r\n\r\nfunction* queryRequest(action){\r\n    yield put(visualizationActions.queryRequestProcessing());\r\n    let result = yield call(api.visualization.queryRequest, action.payload.query);\r\n    yield put(visualizationActions.storeSampleData(result));\r\n    yield put(visualizationActions.queryRequestSuccess());\r\n}\r\n\r\nfunction* storedProcedureRequest(action){\r\n    yield put(visualizationActions.storedProcedureRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Data'));\r\n    let result = yield call(api.visualization.storedProcedureRequest, action.payload);\r\n    yield delay(50);\r\n    yield put(interfaceActions.setLoadingMessage('Processing Data'));\r\n    yield delay(70);\r\n    \r\n    // Result will be an object containing variable values and describing date shape\r\n    if(result.failed){\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(visualizationActions.storedProcedureRequestFailure());\r\n        if(result.status === 401){\r\n            yield put(userActions.refreshLogin());\r\n        } else {\r\n            yield put(interfaceActions.snackbarOpen(\"An error occurred. Please try again.\"));\r\n        }\r\n    } else {\r\n        if(result.variableValues.length > 0){\r\n            result.finalize();\r\n            yield put(interfaceActions.setLoadingMessage(''));\r\n            yield put(visualizationActions.storedProcedureRequestSuccess());\r\n            // yield put(interfaceActions.snackbarOpen(`${action.payload.subType} ${action.payload.parameters.fields} is ready`));\r\n            yield put(visualizationActions.triggerShowCharts());\r\n            yield put(visualizationActions.addChart({subType: action.payload.subType, data:result}));\r\n            window.scrollTo(0,0);\r\n           \r\n        } else {\r\n            yield put(interfaceActions.setLoadingMessage(''));\r\n            yield put(interfaceActions.snackbarOpen(`No data found for ${action.payload.parameters.fields} in the requested ranges. Try selecting a different date or depth range.`));\r\n        }\r\n    }\r\n}\r\n\r\nfunction* cruiseTrajectoryRequest(action) {\r\n    yield put(visualizationActions.cruiseTrajectoryRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Cruise Data'));\r\n    let result = yield call(api.visualization.cruiseTrajectoryRequest, action.payload);\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n\r\n    if(result.failed){\r\n        if(result.status === 401){\r\n            yield put(userActions.refreshLogin());\r\n        } else {\r\n            yield put(interfaceActions.snackbarOpen(`Unable to Fetch Cruise Data`));\r\n        }\r\n    } else {\r\n        yield put(visualizationActions.cruiseTrajectoryRequestSuccess(result));\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n    }\r\n}\r\n\r\nfunction* cruiseListRequest() {\r\n    yield put(visualizationActions.cruiseListRequestProcessing());\r\n    let cruiseList = yield call(api.visualization.cruiseList);\r\n\r\n    if(!cruiseList) {\r\n        yield put(visualizationActions.cruiseListRequestFailure());\r\n    } else{\r\n        yield put(visualizationActions.cruiseListRequestSuccess(cruiseList));\r\n    }\r\n}\r\n\r\nfunction* tableStatsRequest(action){\r\n    yield put(visualizationActions.tableStatsRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Dataset Information'));\r\n    let result = yield call(api.visualization.getTableStats, action.payload.tableName);\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n\r\n    if(result.failed){\r\n        if(result.status === 401){\r\n            yield put(userActions.refreshLogin());\r\n        } else {\r\n            yield put(interfaceActions.snackbarOpen(`Unable to Fetch Dataset Information`));\r\n        }\r\n    } else {\r\n        yield put(visualizationActions.tableStatsRequestSuccess(result, action.payload.datasetLongName));\r\n    }\r\n}\r\n\r\nfunction* csvDownloadRequest(action){\r\n    yield put(visualizationActions.csvDownloadRequestProcessing());\r\n    yield put(interfaceActions.setLoadingMessage('Fetching Data'));\r\n    \r\n    let dataResponse = yield call(api.visualization.csvDownload, action.payload.query);\r\n\r\n    yield put(interfaceActions.setLoadingMessage(''))\r\n    if(dataResponse.failed) {\r\n        if(dataResponse.status === 401){\r\n            yield put(userActions.refreshLogin());\r\n        } else {\r\n            yield put(interfaceActions.snackbarOpen('An error occurred. Please try again.'))\r\n        }\r\n    } else {\r\n        if(dataResponse.length > 1) {\r\n            yield put(visualizationActions.downloadTextAsCsv(dataResponse, action.payload.fileName));\r\n        } else yield put(interfaceActions.snackbarOpen('No data found. Please expand query range.'))        \r\n    }\r\n}\r\n\r\n\r\nfunction* csvFromVizRequest(action){\r\n    yield put(interfaceActions.setLoadingMessage('Processing Data'));\r\n    const csvData = yield action.payload.vizObject.generateCsv();\r\n\r\n    yield put(interfaceActions.setLoadingMessage('Fetching metadata'));\r\n    const metadataQuery = `exec uspVariableMetadata '${action.payload.tableName}', '${action.payload.shortName}'`;\r\n    let metadataResponse = yield call(api.visualization.csvDownload, metadataQuery);\r\n    yield put(interfaceActions.setLoadingMessage(''))\r\n\r\n    if(metadataResponse.failed) yield put(interfaceActions.snackbarOpen('Failed to download variable metadata'));\r\n\r\n    yield put(visualizationActions.downloadTextAsCsv(csvData, action.payload.longName));\r\n    yield put(visualizationActions.downloadTextAsCsv(metadataResponse, action.payload.longName + '_Metadata'));\r\n}\r\n\r\nfunction* downloadTextAsCsv(action){\r\n    yield put(interfaceActions.setLoadingMessage('Processing Data'))\r\n    let csv = action.payload.text;\r\n    const blob = new Blob([csv], {type: 'text/csv'});\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.setAttribute('hidden', '');\r\n    a.setAttribute('href', url);\r\n    a.setAttribute('download', `${action.payload.fileName}.csv`);\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    // URL.revokeObjectURL(url); // TODO test this\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n}\r\n\r\nfunction* refreshLogin(){\r\n    yield call(api.user.logout);\r\n    yield put(userActions.destroyInfo());\r\n    yield put(interfaceActions.showLoginDialog());\r\n    yield put(interfaceActions.snackbarOpen(\"Your session has expired. Please log in again.\"));\r\n}\r\n\r\nfunction* updateUserInfoRequest(action){\r\n    yield put(interfaceActions.setLoadingMessage('Updating your information'));\r\n\r\n    let result = yield call(api.user.updateUserInfo, action.payload);\r\n\r\n    if(result.failed){\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        if(result.status === 401){\r\n            yield put(userActions.refreshLogin());\r\n        } else {\r\n            yield put(interfaceActions.snackbarOpen(\"An error occurred. Please try again.\"));\r\n        }\r\n    } else {\r\n        yield put(userActions.storeInfo(JSON.parse(Cookies.get('UserInfo'))));\r\n        yield put(interfaceActions.snackbarOpen(\"Your information was updated\"));\r\n    }\r\n\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n}\r\n\r\nfunction* initializeGoogleAuth(){\r\n    try {\r\n        var authInstance = yield window.gapi.auth2.getAuthInstance();\r\n    }\r\n\r\n    catch(e) {\r\n        yield delay(100);\r\n        yield put(userActions.initializeGoogleAuth());\r\n        return;\r\n    }\r\n\r\n    let user = yield authInstance.currentUser.get();\r\n    let authResponse = yield user.getAuthResponse(true);\r\n    if(authResponse) yield put(userActions.googleLoginRequestSend(authResponse.id_token));\r\n}\r\n\r\nfunction* recoverPasswordRequest(action){\r\n    yield call(api.user.recoverPassword, action.payload.email);\r\n}\r\n\r\nfunction* choosePasswordRequest(action){\r\n    yield put(interfaceActions.setLoadingMessage('Confirming change'));\r\n    let result = yield call(api.user.choosePassword, action.payload);\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n    if(result.ok){\r\n        yield put(userActions.choosePasswordRequestSuccess());\r\n    } else {\r\n        yield put(userActions.choosePasswordRequestFailure());\r\n    }\r\n}\r\n\r\nfunction* contactUsRequest(action){\r\n    yield put(interfaceActions.setLoadingMessage('Sending'));\r\n    let result = yield call(api.user.contactUs, action.payload);\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n    if(result.ok){\r\n        yield put(interfaceActions.snackbarOpen('Your message was successfully sent!'));\r\n    } else {\r\n        yield put(interfaceActions.snackbarOpen('Message failed. Please try again or contact simonscmap@uw.edu'));\r\n    }\r\n}\r\n\r\nfunction* changePasswordRequest(action){\r\n    yield put(interfaceActions.setLoadingMessage('Confirming Changes'));\r\n    let result = yield call(api.user.changePassword, action.payload);\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n    \r\n    if(result.ok){\r\n        yield put(interfaceActions.hideChangePasswordDialog());\r\n        yield put(interfaceActions.snackbarOpen('Your password has been updated.'));\r\n    } else if(result.status === 401) {\r\n        yield put(interfaceActions.snackbarOpen('The current password you entered is not correct.'));\r\n    } else {\r\n        yield put(interfaceActions.snackbarOpen('An error occurred with your request.'));\r\n    }\r\n}\r\n\r\nfunction* changeEmailRequest(action){\r\n    yield put(interfaceActions.setLoadingMessage('Confirming Changes'));\r\n    let result = yield call(api.user.changeEmail, action.payload);\r\n\r\n    if(result.ok){\r\n        yield put(userActions.storeInfo(JSON.parse(Cookies.get('UserInfo'))));\r\n        yield put(interfaceActions.hideChangeEmailDialog());\r\n        yield put(interfaceActions.snackbarOpen('Your email address has been updated.'));\r\n    } else if(result.status === 401) {\r\n        yield put(interfaceActions.snackbarOpen('The current password you entered is not correct.'));\r\n    } else if(result.status === 409) {\r\n        yield put(interfaceActions.snackbarOpen('That email address is already in use.'));\r\n    } else {\r\n        yield put(interfaceActions.snackbarOpen('We were not able to update your email address.'));\r\n    }\r\n\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n}\r\n\r\nfunction* copyTextToClipboard(action) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = action.payload.text;\r\n    document.body.appendChild(textArea);\r\n    textArea.select();\r\n    document.execCommand(\"Copy\");\r\n    textArea.remove();\r\n    yield put(interfaceActions.snackbarOpen('Copied to Clipboard'));\r\n}\r\n\r\nfunction* retrieveSubmissionsByUser() {\r\n    yield put(interfaceActions.setLoadingMessage('Fetching submission information'));\r\n    let response = yield call(api.dataSubmission.retrieveSubmissionByUser);\r\n    if(response.ok){\r\n        let jsonResponse = yield response.json();\r\n        yield put(dataSubmissionActions.storeSubmissions(jsonResponse));\r\n    } \r\n    \r\n    else if (response.status === 401) {\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Unable to retrieve submissions'));\r\n    }\r\n    yield put(interfaceActions.setLoadingMessage(''));\r\n}\r\n\r\nfunction* retrieveAllSubmissions() {\r\n    let response = yield call(api.dataSubmission.retrieveAllSubmissions);\r\n    if(response.ok){\r\n        let jsonResponse = yield response.json();\r\n\r\n        if(jsonResponse.length < 1){\r\n            yield put(interfaceActions.snackbarOpen('No submissions found'));\r\n        }\r\n\r\n        else {\r\n            yield put(dataSubmissionActions.storeSubmissions(jsonResponse));\r\n        }\r\n    } \r\n    \r\n    else if (response.status === 401) {\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Unable to retrieve submissions'));\r\n    }\r\n}\r\n\r\nfunction* addSubmissionComment(action) {\r\n    let response = yield call(api.dataSubmission.addSubmissionComment, action.payload);\r\n\r\n    if(response.ok){\r\n        yield put(dataSubmissionActions.retrieveSubmissionCommentHistory(action.payload.submissionID));\r\n        yield put(dataSubmissionActions.retrieveDataSubmissionsByUser());\r\n    } \r\n    \r\n    else if (response.status === 401) {\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Failed to submit comment. Please try again.'));\r\n    }\r\n}\r\n\r\nfunction* retrieveSubmissionCommentHistory(action) {\r\n    yield put(dataSubmissionActions.setSubmissionCommentHistoryRetrievalState(states.inProgress));\r\n\r\n    let response = yield call(api.dataSubmission.retrieveCommentHistory, action.payload);\r\n\r\n    if(response.ok){\r\n        let jsonResponse = yield response.json();        \r\n\r\n        if(jsonResponse.length < 1){}\r\n\r\n        else {\r\n            let payload = {\r\n                comments: jsonResponse,\r\n                submissionID: action.payload.submissionID\r\n            }\r\n            yield put(dataSubmissionActions.storeSubmissionComments(payload));\r\n        }\r\n    } \r\n    \r\n    else if (response.status === 401) {\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Failed to retrieve comment history.'));\r\n    }\r\n\r\n    yield put(dataSubmissionActions.setSubmissionCommentHistoryRetrievalState(states.succeeded));\r\n}\r\n\r\nfunction* uploadSubmission(action) {\r\n    yield put(interfaceActions.setLoadingMessage('Uploading Workbook'));\r\n    let { file, datasetName } = action.payload;\r\n    let fileSize = file.size;\r\n\r\n    let chunkSize = 5 * 1024 * 1024;\r\n    let offset = 0;\r\n\r\n    let retries = 0;\r\n    let sessionID;\r\n\r\n    let beginSessionFormData = new FormData();\r\n    beginSessionFormData.append('datasetName', datasetName);\r\n    \r\n    while(retries < 3 && !sessionID){\r\n        let beginSessionResponse = yield call(api.dataSubmission.beginUploadSession, beginSessionFormData);\r\n\r\n        if(beginSessionResponse.ok){\r\n            let jsonResponse = yield beginSessionResponse.json();\r\n            sessionID = jsonResponse.sessionID;\r\n        }\r\n\r\n        else {\r\n            let message = yield beginSessionResponse.text();\r\n            if(message === 'wrongUser'){\r\n                yield put(dataSubmissionActions.setUploadState(states.failed));\r\n                yield put(interfaceActions.setLoadingMessage(''));\r\n                return;\r\n            }\r\n\r\n            else {\r\n                retries ++;\r\n                yield delay(2000);\r\n            }\r\n        }\r\n    }\r\n\r\n    if(!sessionID){\r\n        yield put(interfaceActions.snackbarOpen('Failed to begin upload session'));\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        return;\r\n    }\r\n\r\n    retries = 0;\r\n\r\n    var currentPartSucceeded = false;\r\n\r\n    while(offset < fileSize){\r\n        currentPartSucceeded = false;\r\n\r\n        while(currentPartSucceeded === false && retries < 3){\r\n            let part = file.slice(offset, offset + chunkSize);\r\n\r\n            let formData = new FormData();\r\n            formData.append('part', part);\r\n            formData.append('offset', offset);\r\n            formData.append('sessionID', sessionID);\r\n\r\n            let uploadPartResponse = yield call(api.dataSubmission.uploadPart, formData);\r\n\r\n            if(uploadPartResponse.ok){\r\n                currentPartSucceeded = true;\r\n            }\r\n\r\n            else {\r\n                retries ++;\r\n                yield delay(2000);\r\n            }\r\n        }\r\n        \r\n        if(currentPartSucceeded === false){\r\n            yield put(interfaceActions.snackbarOpen('Upload failed'));\r\n            yield put(interfaceActions.setLoadingMessage(''));\r\n            return;\r\n        }\r\n\r\n        else {\r\n            offset += chunkSize;\r\n        }\r\n    }\r\n\r\n    retries = 0;\r\n\r\n    let formData = new FormData();\r\n    formData.append('fileName', datasetName);\r\n    formData.append('offset', fileSize);\r\n    formData.append('sessionID', sessionID);\r\n\r\n    var commitSucceeded = false;\r\n\r\n    while(retries < 4 && commitSucceeded === false) {\r\n        let commitFileResponse = yield call(api.dataSubmission.commitUpload, formData);        \r\n\r\n        if(commitFileResponse.ok){\r\n            commitSucceeded = true;\r\n        }\r\n\r\n        else {\r\n            retries ++;\r\n            yield delay(2000);\r\n        }\r\n    }\r\n\r\n    if(commitSucceeded === true){\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(dataSubmissionActions.setUploadState(states.succeeded));\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(interfaceActions.snackbarOpen('Failed to upload'));\r\n        return;\r\n    }\r\n}\r\n\r\nfunction* setDataSubmissionPhase(action) {\r\n    let formData = {\r\n        phaseID: action.payload.phaseID,\r\n        submissionID: action.payload.submissionID\r\n    };\r\n\r\n    let response = yield call(api.dataSubmission.setPhase, formData);\r\n\r\n    if(response.ok){\r\n        yield put(dataSubmissionActions.retrieveAllSubmissions());\r\n    } \r\n    \r\n    else if (response.status === 401) {\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Failed to retrieve submissions'));\r\n    }\r\n}\r\n\r\nfunction* retrieveMostRecentFile(action) {\r\n    const { submissionID } = action.payload;\r\n\r\n    yield put(interfaceActions.setLoadingMessage('Fetching the latest submission'));\r\n\r\n    let linkResponse = yield call(api.dataSubmission.retrieveMostRecentFile, submissionID);\r\n\r\n    if(linkResponse.ok){\r\n        let jsonResponse = yield linkResponse.json();\r\n\r\n        let { link, dataset } = jsonResponse;\r\n\r\n        let getFileResponse = yield call(api.dataSubmission.getFileFromLink, link);\r\n        let blob = yield getFileResponse.blob();\r\n        blob.name = `${dataset}.xlsx`;\r\n\r\n        yield put(dataSubmissionActions.checkSubmissionOptionsAndStoreFile(blob));\r\n    }\r\n\r\n    else if (linkResponse.status === 401) {\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(interfaceActions.snackbarOpen('Failed to retrieve submissions'));\r\n    }    \r\n}\r\n\r\nfunction* checkSubmissionOptionsAndStoreFile(action) {\r\n    let storedOptions = yield select((state) => state.submissionOptions);\r\n    let options;\r\n\r\n    if(storedOptions){\r\n        options = storedOptions;\r\n    }\r\n\r\n    else {\r\n        let result = yield call(api.catalog.submissionOptions);\r\n        if(!result.ok){\r\n            return put(interfaceActions.snackbarOpen('Unable to retrieve validation options'));\r\n        }\r\n\r\n        else {\r\n            options = yield result.json();\r\n            yield put(catalogActions.storeSubmissionOptions(options));\r\n        }\r\n    }\r\n    \r\n    yield put(dataSubmissionActions.storeSubmissionFile(action.payload.file));\r\n}\r\n\r\nfunction* downloadMostRecentFile(action) {\r\n    const { submissionID } = action.payload;\r\n\r\n    yield put(interfaceActions.setLoadingMessage('Downloading the latest submission'));\r\n\r\n    let linkResponse = yield call(api.dataSubmission.retrieveMostRecentFile, submissionID);\r\n\r\n    if(linkResponse.ok){\r\n        let jsonResponse = yield linkResponse.json();\r\n\r\n        let { link, dataset } = jsonResponse;\r\n\r\n        let getFileResponse = yield call(api.dataSubmission.getFileFromLink, link);\r\n        let blob = yield getFileResponse.blob();\r\n\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.setAttribute('hidden', '');\r\n        a.setAttribute('href', url);\r\n        a.setAttribute('download', `${dataset}.xlsx`);\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        // URL.revokeObjectURL(url); // TODO test this\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n    }\r\n\r\n    else if (linkResponse.status === 401) {\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(userActions.refreshLogin());\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.setLoadingMessage(''));\r\n        yield put(interfaceActions.snackbarOpen('Unable to download'));\r\n    } \r\n}\r\n\r\nfunction* keywordsFetch() {\r\n    let keywordsFetchResponse = yield call(api.catalog.fetchKeywords);\r\n\r\n    if(keywordsFetchResponse.ok){\r\n        let jsonResponse = yield keywordsFetchResponse.json();\r\n        yield put(catalogActions.keywordsStore(jsonResponse));\r\n    }\r\n}\r\n\r\nfunction* searchOptionsFetch(){\r\n    let result = yield call(api.catalog.submissionOptions);\r\n    if(result.ok){\r\n        let options = yield result.json();\r\n        options.Temporal_Resolution.unshift('Any');\r\n        options.Spatial_Resolution.unshift('Any');\r\n        options.Data_Source.unshift('Any');\r\n        options.Distributor.unshift('Any');\r\n        options.Sensor.unshift('Any');\r\n        options.Process_Level.unshift('Any');\r\n        yield put(catalogActions.storeSubmissionOptions(options));\r\n    }\r\n\r\n    else {\r\n        console.log('Failed to retrieve search options');\r\n    }\r\n}\r\n\r\n// This saga is debounced in its watch function\r\nfunction* searchResultsFetch(action){\r\n    let result = yield call(api.catalog.searchResults, action.payload.queryString);\r\n\r\n    if(result.ok){\r\n        let results = yield result.json();\r\n        yield put(catalogActions.searchResultsStore(results));\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Failed to retrieve search results. Please try again later.'));\r\n    }\r\n    yield put(catalogActions.searchResultsSetLoadingState(states.succeeded));\r\n}\r\n\r\nfunction* datasetFullPageDataFetch(action) {\r\n    yield put(catalogActions.datasetFullPageDataSetLoadingState(states.inProgress));\r\n    let result = yield call(api.catalog.datasetFullPageDataFetch, action.payload.shortname);\r\n\r\n    if(result.ok){\r\n        let results = yield result.json();\r\n        yield put(catalogActions.datasetFullPageDataStore(results));\r\n        yield put(catalogActions.datasetFullPageDataSetLoadingState(states.succeeded));\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Failed to retrieve information. Please try again later.'));\r\n        yield put(catalogActions.datasetFullPageDataSetLoadingState(states.succeeded));\r\n    }\r\n}\r\n\r\nfunction* cruiseFullPageDataFetch(action) {\r\n    yield put(catalogActions.cruiseFullPageDataSetLoadingState(states.inProgress));\r\n    let result = yield call(api.catalog.cruiseFullPageDataFetch, action.payload.name);\r\n\r\n    if(result.ok){\r\n        let results = yield result.json();\r\n        yield put(catalogActions.cruiseFullPageDataStore(results));\r\n        yield put(catalogActions.cruiseFullPageDataSetLoadingState(states.succeeded));\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Failed to retrieve information. Please try again later.'));\r\n        yield put(catalogActions.datasetFullPageDataSetLoadingState(states.succeeded));\r\n    }\r\n}\r\n\r\nfunction* cartPersistAddItem(action){\r\n    let formData = {itemID: action.payload.datasetID};\r\n    yield call(api.user.cartPersistAddItem, formData);\r\n}\r\n\r\nfunction* cartPersistRemoveItem(action){\r\n    let formData = {itemID: action.payload.datasetID};\r\n    yield call(api.user.cartPersistRemoveItem, formData);\r\n}\r\n\r\nfunction* cartPersistClear(){\r\n    yield call(api.user.cartPersistClear);\r\n}\r\n\r\nfunction* cartGetAndStore(){\r\n    let result = yield call(api.user.getCart);\r\n\r\n    if(result.ok){\r\n        let results = yield result.json();\r\n        let formattedResults = results.reduce((acc, dataset) => {\r\n            acc[dataset.Long_Name] = dataset;\r\n            return acc;\r\n        }, {});\r\n        \r\n        yield put(catalogActions.cartAddMultiple(formattedResults));\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Unable to retrieve cart information'));\r\n    }\r\n}\r\n\r\nfunction* vizSearchResultsFetch(action){\r\n    let start = new Date();\r\n    const qString = '?' + queryString.stringify(action.payload.params);\r\n    const variablesResponse = yield call(api.visualization.variableSearch, qString);\r\n\r\n    if(variablesResponse.ok){\r\n        const variables = yield variablesResponse.json();\r\n        let options = buildSearchOptionsFromVariablesList(variables);\r\n\r\n        let datasets = groupVariablesByDataset(variables);\r\n        let makes = groupDatasetsByMake(datasets);\r\n        yield put(visualizationActions.vizSearchResultsStoreAndUpdateOptions(makes, options));\r\n        yield put(visualizationActions.vizSearchResultsSetLoadingState(states.succeeded));\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Search failed. Please try again.'));\r\n    }\r\n}\r\n\r\nfunction* memberVariablesFetch(action){\r\n    let response = yield call(api.visualization.memberVariablesFetch, action.payload.datasetID);\r\n\r\n    if(response.ok){\r\n        let variables = yield response.json();\r\n        yield put(visualizationActions.memberVariablesStore(variables));\r\n    }\r\n\r\n    else {\r\n        yield put(interfaceActions.snackbarOpen('Unable to get variables at this time'));\r\n    }\r\n}\r\n\r\nfunction* autocompleteVariableNamesFetch(action) {\r\n    if(!action.payload.terms) {\r\n        yield put(visualizationActions.variableNameAutocompleteStore([]));\r\n        return;\r\n    }        \r\n\r\n    let response = yield call(api.visualization.autocompleteVariableNamesFetch, encodeURIComponent(action.payload.terms));\r\n\r\n    if(response.ok){\r\n        let jsonResponse = yield response.json();\r\n        yield put(visualizationActions.variableNameAutocompleteStore(jsonResponse));\r\n    }\r\n}\r\n\r\nfunction* watchUserLogin() {\r\n    yield takeLatest(userActionTypes.LOGIN_REQUEST_SEND, userLogin);\r\n}\r\n\r\nfunction* watchUserRegistration() {\r\n    yield takeLatest(userActionTypes.REGISTRATION_REQUEST_SEND, userRegistration);\r\n}\r\n\r\nfunction* watchUserValidation(){\r\n    yield takeLatest(userActionTypes.VALIDATION_REQUEST_SEND, userValidation);\r\n}\r\n\r\nfunction* watchUserLogout() {\r\n    yield takeLatest(userActionTypes.LOG_OUT, userLogout)\r\n}\r\n\r\nfunction* watchGoogleLoginRequest(){\r\n    yield takeLatest(userActionTypes.GOOGLE_LOGIN_REQUEST_SEND, googleLoginRequest);\r\n}\r\n\r\nfunction* watchCatalogRetrieval(){\r\n    yield takeLatest(catalogActionTypes.RETRIEVAL_REQUEST_SEND, catalogRetrieval);\r\n}\r\n\r\nfunction* watchDatasetRetrieval(){\r\n    yield takeLatest(catalogActionTypes.DATASET_RETRIEVAL_REQUEST_SEND, datasetRetrieval);\r\n}\r\n\r\nfunction* watchKeyRetrieval(){\r\n    yield takeLatest(userActionTypes.KEY_RETRIEVAL_REQUEST_SEND, keyRetrieval);\r\n}\r\n\r\nfunction* watchKeyCreationRequest(){\r\n    yield takeLatest(userActionTypes.KEY_CREATION_REQUEST_SEND, keyCreation);\r\n}\r\n\r\nfunction* watchQueryRequest(){\r\n    yield takeLatest(visualizationActionTypes.QUERY_REQUEST_SEND, queryRequest);\r\n}\r\n\r\nfunction* watchStoredProcedureRequest(){\r\n    yield takeLatest(visualizationActionTypes.STORED_PROCEDURE_REQUEST_SEND, storedProcedureRequest);\r\n}\r\n\r\nfunction* watchCruiseTrajectoryRequest(){\r\n    yield takeLatest(visualizationActionTypes.CRUISE_TRAJECTORY_REQUEST_SEND, cruiseTrajectoryRequest);\r\n}\r\n\r\nfunction* watchCruiseListRequest(){\r\n    yield takeLatest(visualizationActionTypes.CRUISE_LIST_REQUEST_SEND, cruiseListRequest);\r\n}\r\n\r\nfunction* watchTableStatsRequest(){\r\n    yield takeLatest(visualizationActionTypes.TABLE_STATS_REQUEST_SEND, tableStatsRequest)\r\n}\r\n\r\nfunction* watchCsvDownloadRequest(){\r\n    yield takeLatest(visualizationActionTypes.CSV_DOWNLOAD_REQUEST_SEND, csvDownloadRequest);\r\n}\r\n\r\nfunction* watchDownloadTextAsCsv(){\r\n    yield takeLatest(visualizationActionTypes.DOWNLOAD_TEXT_AS_CSV, downloadTextAsCsv);\r\n}\r\n\r\nfunction* watchRefreshLogin(){\r\n    yield takeLatest(userActionTypes.REFRESH_LOGIN, refreshLogin);\r\n}\r\n\r\nfunction* watchUpdateUserInfoRequest(){\r\n    yield takeLatest(userActionTypes.UPDATE_USER_INFO_REQUEST_SEND, updateUserInfoRequest);\r\n}\r\n\r\nfunction* watchInitializeGoogleAuth(){\r\n    yield takeLatest(userActionTypes.INITIALIZE_GOOGLE_AUTH, initializeGoogleAuth);\r\n}\r\n\r\nfunction* watchRecoverPasswordRequest(){\r\n    yield takeLatest(userActionTypes.RECOVER_PASSWORD_REQUEST_SEND, recoverPasswordRequest);\r\n}\r\n\r\nfunction* watchChoosePasswordRequest(){\r\n    yield takeLatest(userActionTypes.CHOOSE_PASSWORD_REQUEST_SEND, choosePasswordRequest)\r\n}\r\n\r\nfunction* watchContactUs(){\r\n    yield takeLatest(userActionTypes.CONTACT_US_REQUEST_SEND, contactUsRequest);\r\n}\r\n\r\nfunction* watchChangePasswordRequest(){\r\n    yield takeLatest(userActionTypes.CHANGE_PASSWORD_REQUEST_SEND, changePasswordRequest);\r\n}\r\n\r\nfunction* watchChangeEmailRequest(){\r\n    yield takeLatest(userActionTypes.CHANGE_EMAIL_REQUEST_SEND, changeEmailRequest);\r\n}\r\n\r\nfunction* watchCsvFromVizRequest(){\r\n    yield takeLatest(visualizationActionTypes.CSV_FROM_VIZ_REQUEST_SEND, csvFromVizRequest);\r\n}\r\n\r\nfunction* watchCopyTextToClipboard(){\r\n    yield takeLatest(interfaceActionTypes.COPY_TEXT_TO_CLIPBOARD, copyTextToClipboard);\r\n}\r\n\r\nfunction* watchRetrieveSubmissionsByUser() {\r\n    yield takeLatest(dataSubmissionActionTypes.RETRIEVE_SUBMISSIONS_BY_USER, retrieveSubmissionsByUser);\r\n}\r\n\r\nfunction* watchRetrieveAllSubmissions() {\r\n    yield takeLatest(dataSubmissionActionTypes.RETRIEVE_ALL_SUBMISSIONS, retrieveAllSubmissions);\r\n}\r\n\r\nfunction* watchAddSubmissionComment() {\r\n    yield takeLatest(dataSubmissionActionTypes.ADD_SUBMISSION_COMMENT, addSubmissionComment);\r\n}\r\n\r\nfunction* watchRetrieveSubmissionCommentHistory() {\r\n    yield takeLatest(dataSubmissionActionTypes.RETRIEVE_SUBMISSION_COMMENT_HISTORY, retrieveSubmissionCommentHistory);\r\n}\r\n\r\nfunction* watchUploadSubmission() {\r\n    yield takeLatest(dataSubmissionActionTypes.UPLOAD_SUBMISSION, uploadSubmission);\r\n}\r\n\r\nfunction* watchSetDataSubmissionPhase() {\r\n    yield takeLatest(dataSubmissionActionTypes.SET_SUBMISSION_PHASE, setDataSubmissionPhase);\r\n}\r\n\r\nfunction* watchRetrieveMostRecentFile() {\r\n    yield takeLatest(dataSubmissionActionTypes.RETRIEVE_MOST_RECENT_FILE, retrieveMostRecentFile);\r\n}\r\n\r\nfunction* watchCheckSubmissionOptionsAndStoreFile() {\r\n    yield takeLatest(dataSubmissionActionTypes.CHECK_SUBMISSION_OPTIONS_AND_STORE_FILE, checkSubmissionOptionsAndStoreFile);\r\n}\r\n\r\nfunction* watchDownloadMostRecentFile(){\r\n    yield takeLatest(dataSubmissionActionTypes.DOWNLOAD_MOST_RECENT_FILE, downloadMostRecentFile);\r\n}\r\n\r\nfunction* watchKeywordsFetch(){\r\n    yield takeLatest(catalogActionTypes.KEYWORDS_FETCH, keywordsFetch);\r\n}\r\n\r\nfunction* watchSearchOptionsFetch(){\r\n    yield takeLatest(catalogActionTypes.SEARCH_OPTIONS_FETCH, searchOptionsFetch);\r\n}\r\n\r\nfunction* watchSearchResultsFetch() {\r\n    yield debounce(450, catalogActionTypes.SEARCH_RESULTS_FETCH, searchResultsFetch);\r\n}\r\n\r\nfunction* watchDatasetFullPageDataFetch(){\r\n    yield takeLatest(catalogActionTypes.DATASET_FULL_PAGE_DATA_FETCH, datasetFullPageDataFetch);\r\n}\r\n\r\nfunction* watchCruiseFullPageDataFetch(){\r\n    yield takeLatest(catalogActionTypes.CRUISE_FULL_PAGE_DATA_FETCH, cruiseFullPageDataFetch);\r\n}\r\n\r\nfunction* watchCartPersistAddItem(){\r\n    yield takeLatest(userActionTypes.CART_PERSIST_ADD_ITEM, cartPersistAddItem)\r\n}\r\n\r\nfunction* watchCartPersistRemoveItem(){\r\n    yield takeLatest(userActionTypes.CART_PERSIST_REMOVE_ITEM, cartPersistRemoveItem)\r\n}\r\n\r\nfunction* watchCartPersistClear(){\r\n    yield takeLatest(userActionTypes.CART_PERSIST_CLEAR, cartPersistClear);\r\n}\r\n\r\nfunction* watchCartGetAndStore(){\r\n    yield takeLatest(userActionTypes.CART_GET_AND_STORE, cartGetAndStore);\r\n}\r\n\r\nfunction* watchVizSearchResultsFetch(){\r\n    yield debounce(450, visualizationActionTypes.VIZ_SEARCH_RESULTS_FETCH, vizSearchResultsFetch);\r\n}\r\n\r\nfunction* watchMemberVariablesFetch(){\r\n    yield takeLatest(visualizationActionTypes.MEMBER_VARIABLES_FETCH, memberVariablesFetch);\r\n}\r\n\r\nfunction* watchAutocompleteVariableNamesFetch() {\r\n    yield debounce(300, visualizationActionTypes.VARIABLE_NAME_AUTOCOMPLETE_FETCH, autocompleteVariableNamesFetch);\r\n}\r\n\r\n// function createWorkerChannel(worker) {\r\n//     return eventChannel(emit => {\r\n//         worker.onmessage = message => {\r\n//             emit(message);\r\n//         }\r\n\r\n//         const unsubscribe = () => {\r\n//             worker.teminate();\r\n//         }\r\n      \r\n//         return unsubscribe;\r\n//     })\r\n// }\r\n\r\n// function* watchWorkerChannel(){\r\n//     const workerChannel = yield call(createWorkerChannel, worker);\r\n\r\n//     while (true) {\r\n//         const message = yield take(workerChannel);\r\n//         yield put(message.data.type, message.data.payload);\r\n//         //   yield put({ type: INCOMING_PONG_PAYLOAD, payload })\r\n//         //   yield fork(pong, socket)\r\n//       }\r\n// }\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        watchUserLogin(),\r\n        watchUserRegistration(),\r\n        watchUserValidation(),\r\n        watchUserLogout(),\r\n        watchGoogleLoginRequest(),\r\n        watchCatalogRetrieval(),\r\n        watchDatasetRetrieval(),\r\n        watchKeyRetrieval(),\r\n        watchKeyCreationRequest(),\r\n        watchQueryRequest(),\r\n        watchStoredProcedureRequest(),\r\n        watchCruiseTrajectoryRequest(),\r\n        watchCruiseListRequest(),\r\n        watchTableStatsRequest(),\r\n        // watchWorkerChannel(),\r\n        watchCsvDownloadRequest(),\r\n        watchDownloadTextAsCsv(),\r\n        watchRefreshLogin(),\r\n        watchUpdateUserInfoRequest(),\r\n        watchInitializeGoogleAuth(),\r\n        watchRecoverPasswordRequest(),\r\n        watchChoosePasswordRequest(),\r\n        watchContactUs(),\r\n        watchChangePasswordRequest(),\r\n        watchChangeEmailRequest(),\r\n        watchCsvFromVizRequest(),\r\n        watchCopyTextToClipboard(),\r\n        watchRetrieveSubmissionsByUser(),\r\n        watchRetrieveAllSubmissions(),\r\n        watchAddSubmissionComment(),\r\n        watchRetrieveSubmissionCommentHistory(),\r\n        watchUploadSubmission(),\r\n        watchSetDataSubmissionPhase(),\r\n        watchRetrieveMostRecentFile(),\r\n        watchCheckSubmissionOptionsAndStoreFile(),\r\n        watchDownloadMostRecentFile(),\r\n        watchKeywordsFetch(),\r\n        watchSearchOptionsFetch(),\r\n        watchSearchResultsFetch(),\r\n        watchDatasetFullPageDataFetch(),\r\n        watchCruiseFullPageDataFetch(),\r\n        watchCartPersistAddItem(),\r\n        watchCartPersistRemoveItem(),\r\n        watchCartPersistClear(),\r\n        watchCartGetAndStore(),\r\n        watchVizSearchResultsFetch(),\r\n        watchMemberVariablesFetch(),\r\n        watchAutocompleteVariableNamesFetch()\r\n    ])\r\n}","import { createStore, applyMiddleware } from \"redux\";\r\nimport rootReducer from \"./Reducers\";\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport rootSaga from './sagas';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  applyMiddleware(sagaMiddleware)\r\n)\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;","const colors = {\r\n    // orange: '#FF8000',\r\n    // orange: '#93B968',\r\n    primary: '#9dd162',\r\n    solidPaper: '#184562',\r\n    backgroundGray: '#424242',\r\n    secondary: '#22A3B9',\r\n    errorYellow: '#ffe336',\r\n    greenHover: 'rgba(97, 149, 38, .4)'\r\n}\r\n\r\nexport default colors;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Tooltip } from '@material-ui/core';\r\n\r\nimport { copyTextToClipboard } from '../../Redux/actions/ui';\r\n\r\nconst mapDispatchToProps = {\r\n    copyTextToClipboard\r\n}\r\n\r\n// Wraps a tooltip and span with click event handler for copying to clipboard\r\nconst CopyableText = (props) => {\r\n    const { copyTextToClipboard, tooltipPlacement, text, innerSpanProps, hideTooltip } = props;\r\n\r\n    const handleCopyText = (event) => {\r\n        copyTextToClipboard(event.target.innerText);\r\n    }\r\n\r\n    if(hideTooltip){\r\n        return (\r\n            <span \r\n                style={{cursor: 'copy'}} \r\n                onClick={handleCopyText} \r\n                {...innerSpanProps}\r\n            >\r\n                {text}\r\n            </span>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Tooltip placement={tooltipPlacement || 'top'} title='Click to Copy'>\r\n            <span \r\n                style={{cursor: 'copy'}} \r\n                onClick={handleCopyText} \r\n                {...innerSpanProps}\r\n            >\r\n                {text}\r\n            </span>\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps, null, { forwardRef: true })(CopyableText);","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Paper, Button, Table, TableBody, TableCell, TableHead, TableRow, TextField, Typography, Divider, Grid, Tooltip} from '@material-ui/core';\r\n\r\nimport { keyRetrievalRequestSend, keyCreationRequestSend } from '../../Redux/actions/user';\r\nimport { snackbarOpen } from '../../Redux/actions/ui';\r\n\r\nimport CopyableText from '../UI/CopyableText';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\nimport colors from '../../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    apiKeys: state.apiKeys,\r\n    apiKeyCreationState: state.apiKeyCreationState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    keyRetrievalRequestSend,\r\n    keyCreationRequestSend,\r\n    snackbarOpen\r\n}\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '800px',\r\n        marginTop: theme.spacing(3),\r\n        margin:'auto',\r\n        paddingTop: theme.spacing(2)\r\n      },\r\n    table: {\r\n        minWidth: 700,\r\n    },\r\n    apiKeyTableHeader: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n\r\n    showChildOnHover: {\r\n        '& span': {\r\n            visibility: 'hidden',\r\n        },\r\n        '&:hover span': {\r\n            visibility: 'visible'\r\n        },\r\n    },\r\n\r\n    warningCaption: {\r\n        color: colors.primary,\r\n        fontSize: '11px',\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n    wrapper: {\r\n        marginTop: theme.spacing(15)\r\n    }\r\n})\r\n\r\nclass ApiKeyManagement extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            description: 'API Access'\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.apiKeys) this.props.keyRetrievalRequestSend();\r\n    }\r\n\r\n\r\n    handleClick = () => {\r\n        this.props.keyCreationRequestSend(this.state.description);\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({...this.state, description: event.target.value})\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            \r\n            <div className={classes.wrapper}>\r\n                {this.props.apiKeys ?\r\n                    <Paper className={classes.root} elevation={6}>             \r\n                        <Typography variant=\"subtitle1\" className={classes.apiKeyTableHeader}>\r\n                            Your API Key\r\n                        </Typography>\r\n                        <Divider/>\r\n                        <Table className={classes.table}>\r\n                            <TableHead>\r\n                            <TableRow>\r\n                                <TableCell variant='head' align='center'>Description</TableCell>\r\n                                <TableCell variant='head' align='center'>Key (hover mouse to view)</TableCell>\r\n                            </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>            \r\n                                {this.props.apiKeys.map((apiKey, index) => (\r\n                                    <TableRow key={index}>\r\n                                        <TableCell align='center'>{apiKey.Description}</TableCell>\r\n                                        <TableCell align='center' className={classes.showChildOnHover}>\r\n                                            <CopyableText text={apiKey.Api_Key} tooltipPlacement='right'/>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                ))   \r\n                                }  \r\n                            </TableBody>\r\n                        </Table>\r\n                        <Typography variant='caption' className={classes.warningCaption}>\r\n                            This API key is a unique identifier, and should not be shared.\r\n                        </Typography>\r\n                    </Paper>\r\n                    : ''\r\n                }\r\n                <Paper className={classes.root} elevation={6}>\r\n                    <Typography variant=\"body2\">\r\n                        Generate a new API key\r\n                    </Typography>\r\n                    <Grid container={true} alignItems='center' justify='center' spacing={4}>\r\n                        <Grid item>\r\n                            <Tooltip placement='bottom' title='Optionally Add a Custom Description'>\r\n                                <TextField\r\n                                    margin=\"normal\"\r\n                                    id=\"description\"\r\n                                    type=\"text\"\r\n                                    variant='outlined'\r\n                                    name='description'\r\n                                    value={this.state.description}\r\n                                    onChange={this.handleChange}\r\n                                    placeholder='Key Description'\r\n                                    className={classes.descriptionField}\r\n                                    autoComplete='off'\r\n                                />\r\n                            </Tooltip>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button variant=\"contained\" disabled={this.state.description.length < 1} color=\"primary\" onClick={this.handleClick}>\r\n                                Generate API Key\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                    \r\n                    {this.props.apiKeyCreationState === states.failed ? <span>Key creation failed</span> : ''}\r\n                </Paper>\r\n            </div>    \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ApiKeyManagement));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport { Link, Typography } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { showLoginDialog } from '../../Redux/actions/ui';\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog\r\n}\r\n\r\nconst styles = (theme) =>  ({\r\n    loginRequiredMessage: {\r\n        marginTop: theme.spacing(10),\r\n        color: 'white'\r\n    }\r\n})\r\n\r\nconst LoginRequiredPrompt = (props) => {\r\n    const { classes, showLoginDialog } = props;\r\n\r\n    useEffect(() => {\r\n        showLoginDialog();\r\n    })\r\n    \r\n    return (\r\n        <Typography className={classes.loginRequiredMessage}>\r\n            This feature requires a user account. Please <Link component={RouterLink} to={{pathname: window.location.pathname}} onClick={() => props.showLoginDialog()}> log in\r\n            </Link> or <Link component={RouterLink} to={{pathname: '/register'}}> register\r\n            </Link>.\r\n        </Typography>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(LoginRequiredPrompt));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { showLoginDialog } from '../Redux/actions/ui';\r\n\r\nimport ApiKeyManagement from './User/ApiKeyManagement';\r\nimport LoginRequiredPrompt from './User/LoginRequiredPrompt';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog\r\n}\r\n\r\nconst styles = theme => ({\r\n\r\n})\r\n\r\nclass Home extends Component {\r\n\r\n    render(){\r\n        if(!this.props.user) return <LoginRequiredPrompt/>;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <ApiKeyManagement/>\r\n            </React.Fragment>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nHome.propTypes = {\r\n    \r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Home));","import React from 'react';\r\n\r\nimport { Typography, Grid, Table, TableBody, TableCell, TableRow, Button } from '@material-ui/core';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst tableMapping1 = [\r\n    ['Long Name', 'Long_Name'],\r\n    ['Short Name', 'Variable'],    \r\n    ['Study Domain', 'Study_Domain'],\r\n    ['Process Level', 'Process_Level']\r\n];\r\n\r\nconst tableMapping2 = [\r\n    ['Unit', 'Unit'],\r\n    ['Mean Value', 'Variable_Mean'],\r\n    ['Value Std', 'Variable_Std']\r\n\r\n];\r\n\r\nconst tableMapping3 = [\r\n    ['Start Latitude[\\xb0]', 'Lat_Min'],\r\n    ['End Latitude[\\xb0]', 'Lat_Max'],\r\n    ['Start Longitude[\\xb0]', 'Lon_Min'],\r\n    ['End Longitude[\\xb0]', 'Lon_Max']\r\n]\r\n\r\nconst styles = (theme) => ({\r\n    title:{\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    wrapper: {\r\n        // width: '90%',\r\n        // margin: '0px auto 5px 10px',\r\n        padding: '10px',\r\n        height: '100%',\r\n        userSelect: 'auto'\r\n    },\r\n    infoCard: {\r\n        padding: theme.spacing(1),\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    gridClass: {\r\n        height: '100%',\r\n        maxHeight: '180px'\r\n    },\r\n    gridItem: {\r\n        // height: '90%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        verticalAlign: 'middle',\r\n        maxHeight: '180px'\r\n    },\r\n    datasetDescriptionWrapper: {\r\n        whiteSpace: 'normal',\r\n        height: '100%',\r\n        overflow: 'auto'\r\n    },\r\n    datasetDescription: {\r\n        marginBottom: theme.spacing(2),\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    vizSampleImage: {\r\n        maxWidth: '80%',\r\n        maxHeight: '260px'\r\n    },\r\n    variableDetailTable: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        tableLayout: 'fixed',\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    variableDetailTableRow: {\r\n        height: '24px',\r\n        width: '100%'\r\n    },\r\n    variableDetailTableCell: {\r\n        color: '#FFF6EC',\r\n        borderBottomColor: 'black',\r\n        fontSize: '11px',\r\n        maxWidth: '100%',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        paddingRight: '14px'\r\n    },\r\n\r\n    gridDetailTypography: {\r\n        fontSize: '11px',\r\n        whiteSpace: 'normal',\r\n        width: '100%',\r\n        display: 'block',\r\n    },\r\n\r\n    boldText: {\r\n        fontWeight: 'bold'\r\n    },\r\n\r\n    rightGridItem: {\r\n        maxWidth: '100%',\r\n        paddingTop: '10px',\r\n        boxSizing: 'border-box',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n\r\n    datasetDescriptionButton: {\r\n        backgroundColor: colors.primary,\r\n        color: 'white',\r\n        '&:hover': {\r\n            backgroundColor: '#518516',\r\n        },\r\n        fontSize: '12px',\r\n        maxWidth: '100%',\r\n        marginTop: '50px'\r\n    },\r\n    \r\n    buttonTextWrapper: {\r\n        textOverflow: 'ellipsis',\r\n        maxWidth: '100%',\r\n        overflow: 'hidden'\r\n    }\r\n})\r\n\r\nconst GridDetail = (props) => {\r\n    const {classes} = props;\r\n\r\n    return (\r\n        <div className={`ag-selectable ${classes.wrapper}`}>\r\n                <Grid container className={classes.gridClass}>\r\n                    <Grid container item xs={10} spacing={2}>\r\n                        <Grid item xs={4} className={classes.gridItem}>\r\n                            <Table className={classes.variableDetailTable} size='small'>\r\n                                <TableBody>\r\n                                    {tableMapping1.map((row, index) => (\r\n                                        <TableRow key={index} className={classes.variableDetailTableRow}>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{row[0]}</TableCell>\r\n                                            <TableCell className={classes.variableDetailTableCell} title={props.data[row[1]]}>{props.data[row[1]]}</TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classes.gridItem}>\r\n                            <Table className={classes.variableDetailTable} size='small'>\r\n                                <TableBody>\r\n                                    {tableMapping2.map((row, index) => (\r\n                                        <TableRow key={index} className={classes.variableDetailTableRow}>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{row[0]}</TableCell>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{props.data[row[1]]}</TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                        <TableRow key={tableMapping1.length + 1} className={classes.variableDetailTableRow}>\r\n                                            <TableCell className={classes.variableDetailTableCell}>Start Date</TableCell>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{props.data.Time_Min.slice(0,10)}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow key={tableMapping1.length + 2} className={classes.variableDetailTableRow}>\r\n                                            <TableCell className={classes.variableDetailTableCell}>End Date</TableCell>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{props.data.Time_Max.slice(0,10)}</TableCell>\r\n                                        </TableRow>\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classes.gridItem}>\r\n                            <Table className={classes.variableDetailTable} size='small'>\r\n                                <TableBody>\r\n                                    {tableMapping3.map((row, index) => (\r\n                                        <TableRow key={index} className={classes.variableDetailTableRow}>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{row[0]}</TableCell>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{props.data[row[1]]}</TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                        <TableRow key={tableMapping2.length + 1} className={classes.variableDetailTableRow}>\r\n                                            <TableCell className={classes.variableDetailTableCell}>Maximum Depth[m]</TableCell>\r\n                                            <TableCell className={classes.variableDetailTableCell}>{props.data.Depth_Max || 'Surface Only'}</TableCell>\r\n                                        </TableRow>\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                {/* <Grid container direction='column' item xs={2} alignContent='center' alignItems='center'> */}\r\n\r\n                    {/* <Grid item xs={props.data.Acknowledgement ? 3 : 6} className={classes.rightGridItem}>\r\n                        <Button \r\n                            variant='contained'\r\n                            className={classes.datasetDescriptionButton} \r\n                            onClick={() => props.context.handleDescribeDataset(props.data.Dataset_Name)}\r\n                        >\r\n                            <span className={classes.buttonTextWrapper}>Dataset Details</span>\r\n                        </Button>\r\n                    </Grid> */}\r\n\r\n                    <Grid item xs={2} className={classes.rightGridItem}>\r\n                        {\r\n                            props.data.Comment &&\r\n                            <Button \r\n                                variant='contained'\r\n                                className={classes.datasetDescriptionButton} \r\n                                onClick={() => props.context.handleDescribeVariable(props.data.ID)}\r\n                            >\r\n                                <span className={classes.buttonTextWrapper}>Comment</span>\r\n                            </Button>\r\n                        }\r\n                    </Grid>\r\n                    {/* { props.data.Acknowledgement &&\r\n                        <Grid item xs={6} className={classes.rightGridItem}>\r\n                            <Typography variant='caption' className={`${classes.gridDetailTypography} ${classes.boldText}`}>\r\n                                Acknowlegement:\r\n                            </Typography>\r\n                            <Typography variant='caption' className={classes.gridDetailTypography} title={props.data.Acknowledgement}>\r\n                                {props.data.Acknowledgement}\r\n                            </Typography>\r\n                        </Grid>\r\n                    } */}\r\n                {/* </Grid> */}\r\n\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default (withStyles(styles)(GridDetail));","import React, { Component } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\n\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = (theme) => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.solidPaper\r\n    },\r\n\r\n    markdown: {\r\n        '& img': {\r\n            maxWidth: '100%',\r\n            margin: '20px auto 20px auto',\r\n            display: 'block'\r\n        },\r\n        '& a': {\r\n            color: theme.palette.primary.main,\r\n            textDecoration: 'none'\r\n        }\r\n    }\r\n})\r\n\r\nclass DatasetDescriptionDialog extends Component {\r\n\r\n    // state = {\r\n    //     references: []\r\n    // }\r\n\r\n    render() {\r\n        const { description, classes, datasetName, clearDescription } = this.props;\r\n        // const { references } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { description ?\r\n                <Dialog \r\n                    open={Boolean(description)} \r\n                    onClose={clearDescription} \r\n                    maxWidth={false}\r\n                    PaperProps={{\r\n                        className: classes.dialogPaper\r\n                    }}\r\n                >\r\n                    <DialogTitle>{datasetName}</DialogTitle>\r\n                    <DialogContent>\r\n                        <ReactMarkdown source={description} className={classes.markdown}/>\r\n                    </DialogContent>\r\n\r\n                    {/* {references &&\r\n                        <DialogContent>\r\n                            <strong>References: {references.length}</strong>\r\n                        </DialogContent>\r\n                    } */}\r\n                </Dialog> :\r\n                ''\r\n                }\r\n            </React.Fragment>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default (withStyles(styles)(DatasetDescriptionDialog));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = (theme) => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.solidPaper,\r\n        padding: '8px 16px 16px 16px'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    catalog: state.catalog\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst VariableDescriptionDialog = (props) => {\r\n    const { catalog, describedVariable, classes } = props;\r\n    let variable = catalog.find((item) => item.ID === describedVariable);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            { describedVariable ?\r\n            <Dialog \r\n                open={Boolean(describedVariable)} \r\n                onClose={props.clearDescription} \r\n                maxWidth={false}\r\n                PaperProps={{\r\n                    className: classes.dialogPaper\r\n                }}\r\n            >\r\n                <DialogTitle>{variable.Long_Name}</DialogTitle>\r\n                { variable.Comment &&\r\n                <DialogContent>\r\n                    {variable.Comment}\r\n                </DialogContent>\r\n                }\r\n            </Dialog> :\r\n            ''\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(VariableDescriptionDialog));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = theme => ({\r\n    tooltip: {\r\n        color: '#00FFFF',\r\n        fontSize: '13px',\r\n        boxShadow: '0px 1px 1px 1px #242424',\r\n        padding: '12px',\r\n        borderRadius: '7px',\r\n        textAlign: 'center'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    showHelp: state.showHelp\r\n})\r\n\r\nconst ConnectedTooltip = (props) => {\r\n    const { classes, showHelp } = props;\r\n\r\n    if(!showHelp) {\r\n        return (\r\n            <React.Fragment>\r\n                {props.children}\r\n            </React.Fragment>\r\n        )}\r\n    else {\r\n        return (\r\n            <Tooltip \r\n                placement={props.placement} \r\n                open={showHelp} \r\n                title={props.title} \r\n                classes={{tooltip: classes.tooltip}}\r\n            >\r\n                {props.children}\r\n            </Tooltip>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(withStyles(styles)(ConnectedTooltip));","import React from 'react';\r\n\r\nimport { Typography, Grid, Table, TableBody, TableCell, TableRow, Button, IconButton, Tooltip } from '@material-ui/core';\r\nimport { ChevronRight, ExpandMore } from '@material-ui/icons';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = (theme) => ({\r\n\r\n    title:{\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    datasetGroupWrapper: {\r\n        // width: '90%',\r\n        // margin: '0px auto 5px 10px',\r\n        padding: '10px',\r\n        height: '100%',\r\n        userSelect: 'auto',\r\n        textAlign: 'left',\r\n        bozSizing: 'border-box'\r\n    },\r\n\r\n    nonDatasetGroupWrapper: {\r\n        height: '100%',\r\n        userSelect: 'auto',\r\n        textAlign: 'left',\r\n        paddingLeft: '18px',\r\n        paddingTop: '10px'\r\n    },\r\n\r\n    infoCard: {\r\n        padding: theme.spacing(1),\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    \r\n    gridClass: {\r\n        height: '100%',\r\n        maxHeight: '200px',\r\n    },\r\n\r\n    datasetGridClass: {\r\n        height: '100%',\r\n        maxHeight: '200px'\r\n    },\r\n\r\n    gridItem: {\r\n        // height: '90%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        verticalAlign: 'middle',\r\n        maxHeight: '200px'\r\n    },\r\n\r\n    adjustGridLeft: {\r\n        marginLeft: '-7vw'\r\n    },\r\n\r\n    datasetDescriptionWrapper: {\r\n        whiteSpace: 'normal',\r\n        height: '100%',\r\n        overflow: 'auto'\r\n    },\r\n    datasetDescription: {\r\n        marginBottom: theme.spacing(2),\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    vizSampleImage: {\r\n        maxWidth: '15vw',\r\n        maxHeight: '180px'\r\n    },\r\n    variableDetailTable: {\r\n        marginLeft: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n        width: '100%',\r\n        tableLayout: 'fixed',\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    variableDetailTableRow: {\r\n        height: '24px',\r\n        width: '100%'\r\n    },\r\n    variableDetailTableCell: {\r\n        color: '#FFF6EC',\r\n        borderBottomColor: 'black',\r\n        fontSize: '11px',\r\n        maxWidth: '100%',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        paddingRight: '14px'\r\n    },\r\n\r\n    gridDetailTypography: {\r\n        fontSize: '11px',\r\n        whiteSpace: 'normal',\r\n        width: '100%',\r\n        display: 'block',\r\n    },\r\n\r\n    boldText: {\r\n        fontWeight: 'bold'\r\n    },\r\n\r\n    rightGridItem: {\r\n        maxWidth: '100%',\r\n        paddingTop: '10px',\r\n        boxSizing: 'border-box',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n\r\n    datasetDescriptionButton: {\r\n        backgroundColor: colors.primary,\r\n        color: 'white',\r\n        '&:hover': {\r\n            backgroundColor: '#518516',\r\n        },\r\n        fontSize: '12px',\r\n        maxWidth: '100%',\r\n        margin: '0 auto',\r\n        verticalAlign: 'middle'\r\n    },\r\n    \r\n    buttonTextWrapper: {\r\n        textOverflow: 'ellipsis',\r\n        maxWidth: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n\r\n    groupName: {\r\n        textAlign: 'left',\r\n        fontSize: '13px',\r\n        fontWeight: 700,\r\n        marginLeft: '-2px',\r\n        display: 'inline-block',\r\n        marginTop: '3px',\r\n        color: colors.primary\r\n    },\r\n\r\n    chevronButton: {\r\n        marginBottom: '4px',\r\n        marginRight: '21px',\r\n        '&:hover': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n\r\n    datasetChevronButton: {\r\n        marginTop: '75px',\r\n        '&:hover': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n\r\n    chevronIcon: {\r\n        transform: 'scale(0.8)',\r\n        color: colors.primary\r\n    },\r\n\r\n    datasetButtonWrapper: {\r\n        width: '70px',\r\n        display: 'inline-block'\r\n    },\r\n\r\n    datasetName: {\r\n        marginTop: '-32px',\r\n        // marginBottom: '12px',\r\n        fontSize: '19px',\r\n        marginBottom: '-48px',\r\n        fontWeight: 700\r\n    },\r\n\r\n    tableGridSection: {\r\n        padding: '8px 8px 0 8px',\r\n        marginBottom: '-24px'\r\n    },\r\n\r\n    shortCell: {\r\n        maxWidth: '35%',\r\n        width: '35%'\r\n    },\r\n\r\n    acknowledgement: {\r\n        fontSize: '11px',\r\n        textAlign: 'center',\r\n        padding: '0 10px 0 10px',\r\n        maxWidth: '20vw',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        maxHeight: '100px'\r\n    },\r\n\r\n    acknowledgementHeader: {\r\n        padding: '0 6px 0 6px',\r\n        maxWidth: '20vw',\r\n        fontSize: '13px',\r\n        overflow: 'hidden',\r\n        whiteSpace: 'normal',\r\n        textAlign: 'center',\r\n        marginBottom: '8px'\r\n    },\r\n\r\n    buttonMarginLeft: {\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        display: 'block'\r\n    },\r\n\r\n    buttonMarginTop: {\r\n        marginTop: '-60px',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        display: 'block'\r\n    },\r\n\r\n    tooltip: {\r\n        backgroundColor: colors.solidPaper,\r\n        color: colors.primary\r\n    }\r\n})\r\n\r\nconst GroupedDatasetRow = (props) => {\r\n    const { classes, node, context, value } = props;\r\n    const { data } = node.allLeafChildren[0];\r\n\r\n    const [expanded, setExpanded] = React.useState(node.expanded);\r\n\r\n    const toggleExpand = () => {\r\n        node.setExpanded(!node.expanded)\r\n        setExpanded(node.expanded);\r\n    }\r\n    \r\n    if(props.node.field === 'Dataset_Name') {    \r\n        return (\r\n            <div className={`ag-selectable ${classes.datasetGroupWrapper}`} onDoubleClick={toggleExpand}>            \r\n                <Grid container className={classes.datasetGridClass}>\r\n                    <Grid xs={1} item className={classes.datasetButtonWrapper}>\r\n                        {expanded ?\r\n                            <IconButton onClick={toggleExpand} size='small' className={`${classes.datasetChevronButton}`}>\r\n                                <ExpandMore className={classes.chevronIcon}/>\r\n                            </IconButton>\r\n                        :\r\n                        <Tooltip title='Show member variables' enterDelay={300}>\r\n                            <IconButton onClick={toggleExpand} size='small' className={`${classes.datasetChevronButton}`}>\r\n                                <ChevronRight className={classes.chevronIcon}/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        }\r\n                    </Grid>\r\n\r\n                    <Grid item container xs={11} className={`${classes.gridItem} ${classes.adjustGridLeft}`}>\r\n                        <Grid item xs={4} className={classes.gridItem}>\r\n                            <img src={context.datasets[props.value].Icon_URL} alt=\"Mission Icon\" className={classes.vizSampleImage} onClick={toggleExpand}/>\r\n                        </Grid>\r\n\r\n                        <Grid justify='space-between' direction='column' container item xs={8} className={classes.gridItem}>\r\n                            <Grid container item xs={12}>\r\n                                <Typography className={classes.datasetName}>\r\n                                    {value}\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid container item xs={12}>\r\n                                <Grid item xs={8} className={classes.tableGridSection}>\r\n                                    <Table className={classes.variableDetailTable} size='small'>\r\n                                            <TableBody>\r\n                                                <TableRow className={classes.variableDetailTableRow}>\r\n                                                    <TableCell className={`${classes.variableDetailTableCell} ${classes.shortCell}`}><strong>Source</strong></TableCell>\r\n                                                    <TableCell className={classes.variableDetailTableCell} title={data.Data_Source}>{data.Data_Source}</TableCell>\r\n                                                </TableRow>\r\n\r\n                                                <TableRow className={classes.variableDetailTableRow}>\r\n                                                    <TableCell className={`${classes.variableDetailTableCell} ${classes.shortCell}`}><strong>Distributor</strong></TableCell>\r\n                                                    <TableCell className={classes.variableDetailTableCell} title={data.Distributor}>{data.Distributor}</TableCell>\r\n                                                </TableRow>\r\n\r\n                                                <TableRow className={classes.variableDetailTableRow}>\r\n                                                    <TableCell className={`${classes.variableDetailTableCell} ${classes.shortCell}`}>SQL Table</TableCell>\r\n                                                    <TableCell className={classes.variableDetailTableCell} title={data.Distributor}>{data.Table_Name}</TableCell>\r\n                                                </TableRow>\r\n\r\n                                                <TableRow className={classes.variableDetailTableRow}>\r\n                                                    <TableCell className={`${classes.variableDetailTableCell} ${classes.shortCell}`}>Temporal Resolution</TableCell>\r\n                                                    <TableCell className={classes.variableDetailTableCell} title={data.Distributor}>{data.Temporal_Resolution}</TableCell>\r\n                                                </TableRow>\r\n\r\n                                                <TableRow className={classes.variableDetailTableRow}>\r\n                                                    <TableCell className={`${classes.variableDetailTableCell} ${classes.shortCell}`}>Spatial Resolution</TableCell>\r\n                                                    <TableCell className={classes.variableDetailTableCell} title={data.Distributor}>{data.Spatial_Resolution}</TableCell>\r\n                                                </TableRow>\r\n                                            </TableBody>\r\n                                    </Table>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={4} container direction='column' className={classes.tableGridSection}>\r\n                                        <div style={{height: '70%', justifyContent: 'center', width: '100%'}}>\r\n                                    { data.Acknowledgement &&\r\n                                        <div>\r\n                                                <Typography className={classes.acknowledgementHeader}>\r\n                                                    <strong>Acknowledgement:</strong>\r\n                                                </Typography>\r\n\r\n                                                <Typography title={data.Acknowledgement} className={classes.acknowledgement}>\r\n                                                    {data.Acknowledgement}\r\n                                                </Typography>\r\n                                        </div>\r\n                                    }\r\n                                        </div>\r\n\r\n                                        <div style={{height: '30%', justifyContent: 'center', width: '100%'}}>\r\n                                            <Button \r\n                                                variant='contained'\r\n                                                className={`${classes.datasetDescriptionButton} ${data.Acknowledgement ? classes.buttonMarginLeft : classes.buttonMarginTop}`} \r\n                                                onClick={() => props.context.handleDescribeDataset(data.Dataset_Name)}\r\n                                            >\r\n                                                <span className={classes.buttonTextWrapper}>Dataset Details</span>\r\n                                            </Button>\r\n                                        </div>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n    else return (\r\n        <div className={`ag-selectable ${classes.nonDatasetGroupWrapper}`}>\r\n            <div style={{display: 'inline-block', marginLeft: `${node.level * 36}px`}}></div>\r\n            {expanded ? \r\n                <IconButton onClick={toggleExpand} size='small' className={`${classes.chevronButton}`}>\r\n                    <ExpandMore className={classes.chevronIcon}/>\r\n                </IconButton> \r\n            :\r\n\r\n                <IconButton onClick={toggleExpand} size='small' className={`${classes.chevronButton}`} disableRipple={true} disableFocusRipple={true}>\r\n                    <ChevronRight className={classes.chevronIcon}/>\r\n                </IconButton>                \r\n            }\r\n\r\n            <Typography className={classes.groupName} variant='h6'>\r\n                {props.value}\r\n            </Typography>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default (withStyles(styles)(GroupedDatasetRow));","import React, { Component } from 'react';\r\n\r\nimport { AgGridReact } from 'ag-grid-react';\r\n\r\nimport GridDetail from './GridDetail';\r\nimport DatasetDescriptionDialog from './DatasetDescriptionDialog';\r\nimport VariableDescriptionDialog from './VariableDescriptionDialog';\r\n\r\nimport stringify from 'csv-stringify/lib/sync';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Paper, Button, Grid, Tooltip, InputAdornment } from '@material-ui/core';\r\nimport { Search } from '@material-ui/icons';\r\n\r\nimport ConnectedTooltip from '../UI/ConnectedTooltip';\r\nimport GroupedDatasetRow from './GroupedDatasetRow';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst columnDefs = [\r\n  {\r\n    headerName: \"Long Name\", //\r\n    field: \"Long_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    tooltipField: 'longName',\r\n    cellRenderer: \"agGroupCellRenderer\",\r\n\r\n  },\r\n  {\r\n    headerName: \"Variable\",\r\n    field: \"Variable\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true\r\n  },\r\n  {\r\n    headerName: \"Table Name\",\r\n    field: \"Table_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Dataset Name\",\r\n    field: \"Dataset_Name\",\r\n    sortable: true,\r\n    filter: true,\r\n    tooltipField: 'datasetName',\r\n    rowGroup: true,\r\n    enableRowGroup: true,\r\n    hide: true\r\n  }, \r\n  {\r\n    headerName: \"Make\",\r\n    field: \"Make\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true,\r\n    maxWidth: 160\r\n  },\r\n  {\r\n    headerName: \"Sensor\",\r\n    field: \"Sensor\",\r\n    sortable: true,\r\n    filter: true,\r\n    enableRowGroup: true,\r\n    maxWidth: 160\r\n  }, \r\n  {\r\n    headerName: \"Study Domain\",\r\n    field: \"Study_Domain\",\r\n    sortable: true,\r\n    filter: true,\r\n    // hide: true,\r\n    maxWidth: 160,\r\n    enableRowGroup: true\r\n  }, \r\n  {\r\n    headerName: \"Process Level\",\r\n    field: \"Process_Level\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Spatial Resolution\",\r\n    field: \"Spatial_Resolution\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Temporal Resolution\",\r\n    field: \"Temporal_Resolution\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true,\r\n    enableRowGroup: true\r\n  },\r\n  {\r\n    headerName: \"Unit\", \r\n    field: \"Unit\",\r\n    sortable: true,\r\n    filter: true,\r\n    hide: true\r\n  },\r\n  {\r\n    headerName: \"Key Words\",\r\n    field: 'Keywords',\r\n    hide: true\r\n  },\r\n  {\r\n    headerName: \"Data Source\",\r\n    field: 'Data_Source',\r\n    hide: true\r\n  }\r\n]\r\n\r\nconst styles = (theme) => ({\r\n  gridWrapper: {\r\n    height: '80vh', \r\n    width: '96%',\r\n    margin: '0 auto'\r\n  },\r\n\r\n  gridSearch: {\r\n    margin: '0 auto 20px auto',\r\n    width: '60%'\r\n  },\r\n\r\n  gridPaper: {\r\n    marginTop: '68px',\r\n    padding: '20px',\r\n    height: 'calc(100vh - 68px)',\r\n    boxSizing: 'border-box',\r\n    overflow: 'hidden'\r\n  },\r\n\r\n  downloadButton: {\r\n    margin: '6px 0 0 0',\r\n    textTransform: 'none',\r\n    color: 'white',\r\n    backgroundColor: theme.palette.primary.main,\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.primary.dark,\r\n  }\r\n  }\r\n})\r\n\r\nconst defaultColDef = {\r\n  resizable: true,\r\n  cellStyle: {\r\n    textAlign:'left'\r\n  }\r\n}\r\n\r\nconst autoGroupColumnDef = {\r\n  cellStyle: {\r\n    textAlign:'left'\r\n  },\r\n}\r\n\r\nconst getRowHeight = (params) => {\r\n  if(params.node.group && params.node.field === 'Dataset_Name') return 200;\r\n  if(params.node.detail) return 180;\r\n  return 48;\r\n}\r\n\r\nclass AGGridWrapper extends Component {\r\n\r\n  state = {\r\n    filterText: '',\r\n    describedDataset: '',\r\n    describedVariable: null\r\n  }\r\n\r\n  handleDescribeDataset = (dataset) => {\r\n    this.setState({...this.state, describedDataset: dataset})\r\n  }\r\n\r\n  handleDescribeVariable = (variable) => {\r\n    this.setState({...this.state, describedVariable: variable})\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({...this.state, filterText: event.target.value})\r\n    this.gridApi.setQuickFilter(event.target.value);\r\n  }\r\n\r\n  onGridReady = (params) => {\r\n    this.gridApi = params.api;\r\n    this.columnApi = params.columnApi;\r\n\r\n    this.gridApi.sizeColumnsToFit();\r\n  }\r\n\r\n  onGridSizeChanged = (params) => {\r\n    this.gridApi.sizeColumnsToFit();\r\n  }\r\n\r\n  handleColumnRowGroupChanged = (event) => {\r\n    this.gridApi.sizeColumnsToFit()\r\n    event.columns.forEach(column => {\r\n      column.columnApi.setColumnVisible(column.colId, false);\r\n    })\r\n  }\r\n\r\n  handleDownloadCatalog = () => {\r\n    let csv = stringify(this.props.catalog, {\r\n      header: true\r\n    });\r\n\r\n    const blob = new Blob([csv], {type: 'text/csv'});\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.setAttribute('hidden', '');\r\n    a.setAttribute('href', url);\r\n    a.setAttribute('download', `CMAP_Catalog.csv`);\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n  }\r\n\r\n  render = () => {\r\n    const { classes, datasets } = this.props;\r\n    const { describedDataset, describedVariable } = this.state;\r\n    const description = !datasets ? '' : !datasets[describedDataset] ? '' : datasets[describedDataset].Description;\r\n\r\n    return (\r\n      <Paper elevation={12} className={classes.gridPaper}>\r\n        <DatasetDescriptionDialog \r\n          description={description}\r\n          clearDescription={() => this.handleDescribeDataset('')}\r\n          datasetName={describedDataset}\r\n        />\r\n        <VariableDescriptionDialog\r\n          clearDescription={() => this.handleDescribeVariable(null)}\r\n          describedVariable={describedVariable}\r\n        />\r\n        <Grid container>\r\n          <Grid item xs={3}>\r\n\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            {/* <ConnectedTooltip title='Enter one or more search terms.' placement='top'> */}\r\n              <TextField              \r\n                className={classes.gridSearch}\r\n                autoFocus={true}\r\n                margin=\"normal\"\r\n                id=\"name\"\r\n                type=\"text\"\r\n                variant='outlined'\r\n                name='filterText'\r\n                value={this.state.filterText}\r\n                onChange={this.handleChange}\r\n                placeholder='Search Catalog'\r\n                InputProps={{\r\n                  startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search style={{color:colors.primary}}/>\r\n                  </InputAdornment>\r\n                ),\r\n                }}\r\n              />\r\n            {/* </ConnectedTooltip> */}\r\n\r\n          </Grid>\r\n          <Grid item xs={2}>\r\n            <Tooltip placement='top' title='Download the full catalog in CSV format'>\r\n              <Button \r\n                className={classes.downloadButton}\r\n                variant='contained'\r\n                color='primary'\r\n                onClick={this.handleDownloadCatalog}            \r\n              >\r\n                  Download Catalog\r\n              </Button>\r\n            </Tooltip>\r\n          </Grid>\r\n\r\n          <Grid item xs={1}>\r\n\r\n          </Grid>\r\n        </Grid>\r\n\r\n          \r\n          <div className={classes.gridWrapper + \" ag-theme-material\"}>\r\n            <AgGridReact\r\n              // General settings\r\n              columnDefs={columnDefs}\r\n              defaultColDef={defaultColDef}\r\n              rowData={this.props.catalog}\r\n              onGridReady={this.onGridReady}\r\n              onGridSizeChanged={this.onGridSizeChanged}\r\n              suppressDragLeaveHidesColumns= {true}\r\n              enableCellTextSelection={true}\r\n              suppressContextMenu={true}\r\n              getRowHeight={getRowHeight}\r\n              // getRowClass={getRowClass}\r\n\r\n              // Additional props\r\n              context={{\r\n                datasets,\r\n                handleDescribeDataset: this.handleDescribeDataset,\r\n                handleDescribeVariable: this.handleDescribeVariable\r\n              }}\r\n\r\n              // Setting related to styling\r\n              getRowStyle= {function(params) {\r\n                let styles = {};\r\n                if (params.node.detail) {\r\n                    styles.background = 'transparent' \r\n                }\r\n                if(params.node.level > 0){\r\n                  styles.marginLeft = '32px'\r\n                }\r\n                return styles;\r\n              }}\r\n\r\n              //Settings related to grouping functionality\r\n              rowGroupPanelShow='always'\r\n              groupMultiAutoColumn={true}\r\n              onColumnRowGroupChanged={this.handleColumnRowGroupChanged}\r\n              autoGroupColumnDef={autoGroupColumnDef}\r\n              enableBrowserTooltips={true}\r\n              groupUseEntireRow={true}\r\n              // groupColumnDef={groupColumnDef}\r\n              groupRowRenderer='datasetGroupRowRenderer'\r\n\r\n              // Settings related to master/detail\r\n              masterDetail={true}\r\n              frameworkComponents= {{ myDetailCellRenderer: GridDetail, datasetGroupRowRenderer: GroupedDatasetRow}}\r\n              detailCellRenderer=\"myDetailCellRenderer\"\r\n              detailRowHeight={200}\r\n            />\r\n          </div>\r\n          </Paper>\r\n    )\r\n  }  \r\n}\r\n\r\nexport default (withStyles(styles)(AGGridWrapper));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport AGGridWrapper from './AGGridWrapper';\r\n\r\nimport { retrievalRequestSend, datasetRetrievalRequestSend } from '../../Redux/actions/catalog';\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    catalogRequestState: state.catalogRequestState,\r\n    catalog : state.catalog,\r\n    datasets: state.datasets\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    retrievalRequestSend,\r\n    datasetRetrievalRequestSend\r\n}\r\n\r\nconst styles = (theme) => ({\r\n\r\n})\r\n\r\nclass Catalog extends Component {\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.catalog) this.props.retrievalRequestSend();\r\n        if(!this.props.datasets) this.props.datasetRetrievalRequestSend();\r\n    }\r\n\r\n    determineContent = () => {\r\n        if(this.props.catalog && this.props.datasets) return <AGGridWrapper catalog={this.props.catalog} datasets={this.props.datasets}/>\r\n    }\r\n\r\n    render(){\r\n        let content = this.determineContent();\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                {content}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Catalog));","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\nimport { withStyles, Button, Tooltip, Menu, MenuItem } from '@material-ui/core';\r\nimport { AddShoppingCart, RemoveShoppingCart } from '@material-ui/icons';\r\n\r\nimport { cartAddItem, cartRemoveItem } from '../../Redux/actions/catalog';\r\nimport { cartPersistAddItem, cartPersistRemoveItem } from '../../Redux/actions/user';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    cart: state.cart\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n cartAddItem, \r\n cartRemoveItem,\r\n cartPersistAddItem,\r\n cartPersistRemoveItem\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    cartButton: {\r\n        textTransform: 'none',\r\n        color: theme.palette.primary.main,\r\n        paddingLeft: '4px',\r\n        marginLeft: '14px'\r\n    }\r\n});\r\n\r\nconst CartAddOrRemove = (props) => {\r\n    const { classes, cart, cartAddItem, cartRemoveItem, dataset, cartPersistAddItem, cartPersistRemoveItem } = props;\r\n\r\n    const [ anchorElement, setAnchorElement ] = useState(null);\r\n\r\n    const handleClick = (e) => {\r\n        if(cart[dataset.Long_Name]){\r\n            cartRemoveItem(dataset);\r\n            cartPersistRemoveItem(dataset.Dataset_ID);\r\n        }\r\n\r\n        else {\r\n            setAnchorElement(e.currentTarget);\r\n        }\r\n    }\r\n\r\n    const addAndVisualize = () => {\r\n        cartAddItem(dataset);\r\n        cartPersistAddItem(dataset.Dataset_ID);\r\n        setAnchorElement(null);\r\n        props.history.push('/visualization');\r\n    }\r\n\r\n    const addAndRemain = () => {\r\n        cartAddItem(dataset);\r\n        cartPersistAddItem(dataset.Dataset_ID);\r\n        setAnchorElement(null);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Tooltip title={dataset.Visualize ? 'Items in your cart will appear first on the visualization page' : 'This dataset contains no visualizable variables, and will not appear on the visualization page.'} placement='right'>\r\n                <Button\r\n                    style={!dataset.Visualize && !cart[dataset.Long_Name] ? {color: '#e3e61a'} : {}}\r\n                    variant=\"text\"\r\n                    color=\"primary\"\r\n                    className={props.cartButtonClass}\r\n                    startIcon={cart[dataset.Long_Name] ? <RemoveShoppingCart/> : <AddShoppingCart/>}\r\n                    onClick={handleClick}\r\n                >\r\n                    {cart[dataset.Long_Name] ? 'Remove From Cart' : 'Add To Cart'}\r\n                </Button>\r\n            </Tooltip>\r\n\r\n            <Menu\r\n                anchorEl={anchorElement}\r\n                open={Boolean(anchorElement)}\r\n                onClose={() => setAnchorElement(null)}\r\n            >\r\n                <MenuItem onClick={() => addAndRemain()}>Add to Cart</MenuItem>\r\n                <MenuItem onClick={() => addAndVisualize()}>Add to Cart and Visualize</MenuItem>\r\n            </Menu>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(withRouter(CartAddOrRemove)));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Button } from '@material-ui/core';\r\nimport { Map } from '@material-ui/icons';\r\n\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { vizPageDataTargetSet } from '../../Redux/actions/visualization';\r\nimport { setShowCart } from '../../Redux/actions/ui';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    vizPageDataTargetSet,\r\n    setShowCart\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    button: {\r\n        textTransform: 'none',\r\n        color: theme.palette.primary.main,\r\n        paddingLeft: '4px',\r\n        marginLeft: '14px'\r\n    }\r\n});\r\n\r\nconst LoadProductOnVizPageButton = (props) => {\r\n    const { product, classes, vizPageDataTargetSet, history, setShowCart } = props;\r\n\r\n    const handleButtonClick = () => {\r\n        setShowCart(false);\r\n        vizPageDataTargetSet(product);\r\n        history.push('/visualization');\r\n    }\r\n\r\nreturn (\r\n        <React.Fragment>\r\n            <Button\r\n                    variant=\"text\"\r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    startIcon={<Map/>}\r\n                    onClick={handleButtonClick}\r\n                >\r\n                    Load on Visualization Page\r\n            </Button>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(withRouter(LoadProductOnVizPageButton)));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Grid, Typography, Paper, Tooltip, Link, Button } from '@material-ui/core';\r\nimport { Info, ErrorOutline } from '@material-ui/icons';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport CartAddOrRemove from './CartAddOrRemove';\r\n\r\nimport { setShowCart } from '../../Redux/actions/ui';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport LoadProductOnVizPageButton from '../Visualization/LoadProductOnVizPageButton';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    cart: state.cart\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setShowCart\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    resultWrapper: {\r\n        padding: '4px 12px',\r\n        height: '200px'\r\n    },\r\n\r\n    image: {\r\n        maxWidth: '15vw',\r\n        height: '170px',\r\n        marginTop: '12px',\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none'\r\n        },\r\n    },\r\n\r\n    gridRow: {\r\n        marginBottom: '8px',\r\n        textAlign: 'left'\r\n    },\r\n\r\n    longName: {\r\n        textAlign: 'left',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        fontSize: '1.15rem',\r\n        display: 'block',\r\n        margin: '6px 0',\r\n        color: colors.primary\r\n    },\r\n\r\n    resultPaper: {\r\n        marginTop: '22px'\r\n    },\r\n\r\n    denseText: {\r\n        fontSize: '.9rem',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n\r\n    moreInfoButton: {\r\n        textTransform: 'none',\r\n        color: theme.palette.primary.main,\r\n        paddingLeft: '4px'\r\n    },\r\n\r\n    cartButtonClass: {\r\n        textTransform: 'none',\r\n        color: theme.palette.primary.main,\r\n        paddingLeft: '4px',\r\n        marginLeft: '16px'\r\n    },\r\n\r\n    warningIcon: {\r\n        color: '#e3e61a',\r\n        marginLeft: '14px',\r\n        marginBottom: '-7px',\r\n        fontSize: '1.45rem'\r\n    }\r\n\r\n});\r\n\r\nconst SearchResult = (props) => {\r\n    const { classes, cart, dataset } = props;\r\n    const {\r\n        Spatial_Resolution,\r\n        Temporal_Resolution,\r\n        Short_Name, \r\n        Long_Name, \r\n        Icon_URL, \r\n        Process_Level, \r\n        Data_Source, \r\n        Depth_Max, \r\n        Time_Min, \r\n        Time_Max, \r\n        Dataset_ID,\r\n        Sensors,\r\n        Visualize\r\n    } = dataset;\r\n    \r\n    return (\r\n        <Paper className={classes.resultPaper} elevation={4}>\r\n            <Grid container className={classes.resultWrapper}>\r\n                <Grid item xs={12} md={8} className={classes.gridRow}>\r\n\r\n                    <Tooltip title={Long_Name} enterDelay={400} placement='top'>\r\n                        <Link \r\n                            component={RouterLink} \r\n                            to={`/catalog/datasets/${Short_Name}`}\r\n                            className={classes.longName}\r\n                            onClick={() => props.setShowCart(false)}\r\n                        >\r\n                            {Long_Name}\r\n                        </Link>\r\n                    </Tooltip>\r\n\r\n                    <Typography className={classes.denseText}>\r\n                        {Process_Level} Data from {Data_Source}\r\n                    </Typography>\r\n\r\n                    <Typography className={classes.denseText}>\r\n                        Sensor{Sensors.length > 1 ? 's' : ''}: {Sensors.join(', ')}\r\n                    </Typography>\r\n                    \r\n                    <Typography className={classes.denseText}>\r\n                        Temporal Resolution: {Temporal_Resolution} \r\n                    </Typography>\r\n\r\n                    <Typography className={classes.denseText}>\r\n                        Temporal Coverage: {\r\n                            Time_Min && Time_Max ?\r\n                            ` ${Time_Min.slice(0,10)} to ${Time_Max.slice(0,10)}`\r\n                            :'NA'\r\n                        }\r\n                    </Typography>\r\n\r\n                    <Typography className={classes.denseText}>\r\n                        Spatial Resolution: {Spatial_Resolution}\r\n                    </Typography>\r\n\r\n                    <Typography className={classes.denseText}>\r\n                        {Depth_Max ?\r\n                            'Multiple Depth Levels' :\r\n                            'Surface Level Data'\r\n                        }\r\n                    </Typography>\r\n\r\n                    <Button\r\n                        variant=\"text\"\r\n                        color=\"primary\"\r\n                        className={classes.moreInfoButton}\r\n                        startIcon={<Info/>}\r\n                        component={RouterLink} \r\n                        to={`/catalog/datasets/${Short_Name}`}\r\n                        onClick={() => props.setShowCart(false)}\r\n                    >\r\n                        More Info\r\n                    </Button>\r\n\r\n                    <CartAddOrRemove dataset={dataset} cartButtonClass={classes.cartButtonClass}/>\r\n\r\n                    {/* <LoadProductOnVizPageButton product={dataset}/> */}\r\n\r\n                    {\r\n                            !Visualize && cart[Long_Name] ? \r\n                            <Tooltip title='This dataset contains no visualizable variables, and will not appear on the visualization page.' placement='top'>\r\n                                <ErrorOutline className={classes.warningIcon}/>\r\n                            </Tooltip>\r\n                            : ''                            \r\n                    }\r\n\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={4}>\r\n                    <img src={Icon_URL} alt={Short_Name} className={classes.image}/>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SearchResult));","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, IconButton, Dialog, DialogTitle, DialogContent } from '@material-ui/core';\r\nimport { Help } from '@material-ui/icons';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    showHelpButton: {\r\n        marginRight: '-4px'\r\n    },\r\n\r\n    dialogPaper: {\r\n        backgroundColor: '#1B445C'\r\n    },\r\n\r\n    dialogPaperViz: {\r\n        backgroundColor: colors.backgroundGray\r\n    }\r\n});\r\n\r\nconst HelpButtonAndDialog = (props) => {\r\n    const { title, content, buttonClass, classes, iconClass } = props;\r\n\r\n    const [ open, setOpen ] = React.useState(false);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <IconButton className={buttonClass} onClick={() => setOpen(true)}>\r\n                <Help className={iconClass}/>\r\n            </IconButton>\r\n\r\n            <Dialog \r\n                onClose={() => setOpen(false)} \r\n                open={open}\r\n                PaperProps={{\r\n                    className: window.location.pathname.includes('/visualization') ? classes.dialogPaperViz : classes.dialogPaper\r\n                }}\r\n            >\r\n                <DialogTitle>{title}</DialogTitle>\r\n\r\n                <DialogContent>\r\n                    {content}\r\n                </DialogContent>\r\n            </Dialog>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(HelpButtonAndDialog));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { withStyles, Paper, Typography, Link } from '@material-ui/core';\r\nimport { CloudDownload } from '@material-ui/icons';\r\n\r\nimport stringify from 'csv-stringify/lib/sync';\r\n\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nimport SearchResult from './SearchResult';\r\n\r\nimport { searchResultsFetch, searchResultsStore, searchResultsSetLoadingState } from '../../Redux/actions/catalog';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nimport HelpButtonAndDialog from '../UI/HelpButtonAndDialog';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    searchResults: state.searchResults,\r\n    searchResultsLoadingState: state.searchResultsLoadingState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    searchResultsFetch,\r\n    searchResultsStore,\r\n    searchResultsSetLoadingState\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    wrapperDiv: {\r\n        padding: '0 20px 20px 20px',\r\n        boxSizing: 'border-box',\r\n        overflow: 'hidden',\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: '0 0 20px 0'\r\n        },\r\n      },\r\n    \r\n      root: {\r\n        width: '60vw',\r\n        maxWidth: '1200px',\r\n        minWidth: '480px',\r\n        padding: '16px 24px',\r\n        margin: '8px auto 24px auto',\r\n    },\r\n\r\n    resultsWrapper: {\r\n        width: '60vw',\r\n        maxWidth: '1200px',\r\n        padding: '16px 24px',\r\n        margin: '8px auto 24px auto',\r\n        backgroundColor: 'transparent',\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: '12px 4px 20px 4px',\r\n            width: '90vw',\r\n        },\r\n    },   \r\n\r\n    downloadWrapper: {\r\n        fontSize: '1rem',\r\n        color: 'white',\r\n        marginTop: '-9px',\r\n        cursor: 'pointer',\r\n        borderRadius: '6px',\r\n        padding: '1px 8px',\r\n        '&:hover': {\r\n            backgroundColor: 'rgba(255, 255, 255, 0.1)'\r\n        }\r\n    },\r\n\r\n    downloadIcon: {\r\n        marginRight: '7px',\r\n        marginBottom: '-3px',\r\n        fontSize: '1.2rem'\r\n    },\r\n\r\n    helpButton: {\r\n        padding: '0 2px',\r\n        marginTop: '-9.5px',\r\n        color: 'white',\r\n        fontSize: '1.2rem'\r\n    },\r\n\r\n    helpIcon: {\r\n        color: 'white',\r\n        fontSize: '1.2rem'\r\n    }\r\n});\r\n\r\nconst _mapStateToProps = (state, ownProps) => ({\r\n    searchResults: state.searchResults,\r\n    searchResultsLoadingState: state.searchResultsLoadingState\r\n});\r\n\r\nconst _styles = (theme) => ({\r\n    resultsCount: {\r\n        marginTop: '-9px',\r\n        textAlign: 'left',\r\n        display: 'inline-block'\r\n    },\r\n})\r\n\r\nconst SearchResultStatusIndicator = connect(_mapStateToProps, null)(withStyles(_styles)((props) => {\r\n\r\n    return (\r\n        <Typography className={props.classes.resultsCount}>\r\n            {\r\n                props.searchResultsLoadingState === states.inProgress ?\r\n                'Searching...' :\r\n                `Found ${props.searchResults.length} datasets:`\r\n            }\r\n        </Typography>\r\n    )\r\n}));\r\n\r\nconst SearchResults = (props) => {\r\n    const { classes, searchResults, searchResultsSetLoadingState, searchResultsFetch, searchResultsStore } = props;\r\n\r\n    useEffect(() => {\r\n        searchResultsSetLoadingState(states.inProgress);\r\n        searchResultsFetch(props.location.search);\r\n\r\n        return () => searchResultsStore([]);\r\n    }, [props.location.search]);\r\n\r\n    const handleDownloadSearchResults = () => {\r\n        let csv = stringify(searchResults, {\r\n            header: true\r\n        });\r\n    \r\n        const blob = new Blob([csv], {type: 'text/csv'});\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.setAttribute('hidden', '');\r\n        a.setAttribute('href', url);\r\n        a.setAttribute('download', `CMAP_Search_Results.csv`);\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n    }\r\n\r\n    const itemCount = searchResults && searchResults.length ? searchResults.length : 0;\r\n\r\n    return (\r\n        <div className={classes.wrapperDiv}>\r\n            <Paper className={classes.resultsWrapper} elevation={0}>\r\n                <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                    <SearchResultStatusIndicator/>\r\n\r\n                    {   \r\n                        searchResults && searchResults.length ?\r\n                        <div style={{display: 'flex', justifyContent: 'space-between', paddingRight: '8px'}}>\r\n                            <Typography className={classes.downloadWrapper} onClick={() => handleDownloadSearchResults()}>\r\n                                <CloudDownload className={classes.downloadIcon}/>\r\n                                Download Search Results\r\n                            </Typography>\r\n\r\n                            <HelpButtonAndDialog\r\n                                title='Download Search Results'\r\n                                buttonClass={classes.helpButton}\r\n                                iconClass={classes.helpIcon}\r\n                                content={\r\n                                    <Typography>\r\n                                        This button will download a csv formatted file containing metadata for all datasets returned by your search.\r\n                                    </Typography>}\r\n                            />\r\n                        </div>\r\n\r\n                        : ''\r\n                    }               \r\n                    \r\n                </div>\r\n\r\n                <FixedSizeList\r\n                    itemData={searchResults}\r\n                    itemCount={itemCount}\r\n                    // height={itemCount * 222 || 500}\r\n                    height={window.innerHeight - 140}\r\n                    width='100%'\r\n                    itemSize={222}\r\n                >\r\n                    {({ index, style }) => (\r\n                        <div style={style}>\r\n                            <SearchResult dataset={searchResults[index]}/>\r\n                        </div>                        \r\n                    )}\r\n                </FixedSizeList>\r\n\r\n                {/* <div style={{minHeight: '70vh'}}>\r\n                    {\r\n                        searchResults.map(result => <SearchResult dataset={result} key={result.Short_Name}/>)\r\n                    }\r\n                </div> */}\r\n\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(withRouter(SearchResults)));","import { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import InputAdornment from '@material-ui/core/InputAdornment';\r\n\r\nimport React from 'react';\r\n\r\nconst styles = theme => ({\r\n    registrationCard: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n        height:'200px'\r\n    },\r\n\r\n    textField: {\r\n        margin:theme.spacing(1),\r\n        width: '80%'\r\n    }\r\n});\r\n\r\nconst RegistrationCard = (props) => {\r\n    const { classes } = props;\r\n    const fields = Object.keys(props.inputFieldState);\r\n\r\n    const handleKeyPress = event => {\r\n        if (event.key === 'Enter') {\r\n            props.buttonRef.current.click();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className={classes.registrationCard}>\r\n            <Grid container spacing={1}>\r\n            {\r\n                fields.map((field, index) => {\r\n                    return (\r\n                        <Grid key={index} item xs={fields.length > 2 ? 6 : 12}>\r\n                        <TextField\r\n                            key={index}\r\n                            autoFocus={Boolean(index === 0)}\r\n                            name={props.inputFieldInfo[field].name}\r\n                            label={props.inputFieldInfo[field].label}\r\n                            value={props.inputFieldState[field].value}\r\n                            className={classes.textField}\r\n                            onChange={props.onChange}\r\n                            type={props.inputFieldInfo[field].type}\r\n                            error={!props.inputFieldState[field].valid}                            \r\n                            helperText={props.inputFieldState[field].valid ? ' ' : props.inputFieldInfo[field].requirement}\r\n                            onKeyPress={handleKeyPress}\r\n                            />\r\n                        </Grid>\r\n                    )\r\n                })\r\n            }                \r\n            </Grid>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(RegistrationCard);","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport { Stepper, Step, StepLabel, Button, Typography, CircularProgress, Paper, Link } from '@material-ui/core';\r\n\r\nimport RegistrationCard from './RegistrationCard';\r\n\r\nimport { registrationNextActiveStep, registrationPreviousActiveStep } from '../../Redux/actions/ui';\r\nimport { userRegistrationRequestSend, userValidationRequestSend, userValidationRequestSuccess } from '../../Redux/actions/user';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '60%',\r\n        margin: '10% auto'\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    instructionsPaper: {\r\n        width: '60%',\r\n        margin: '5% auto',\r\n        padding: '24px'\r\n    },\r\n    registrationCard: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n\r\n    textField: {\r\n        margin:theme.spacing(1),\r\n        width: 200\r\n    },\r\n\r\n    buttonProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n\r\n    bottomError: {\r\n        color: 'white',\r\n        marginTop: theme.spacing(2)\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    registrationActiveStep: state.registrationActiveStep,\r\n    userValidationState: state.userValidationState,\r\n    userRegistrationState: state.userRegistrationState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    registrationNextActiveStep,\r\n    registrationPreviousActiveStep,\r\n\r\n    userRegistrationRequestSend,\r\n\r\n    userValidationRequestSend\r\n}\r\n\r\n// const getSteps = () => ['Your Information', 'Optional Organization Info', 'Security'];\r\nconst getSteps = () => ['Your Information', 'Optional Organization Info'];\r\nconst getCardInfo = () => ([\r\n    {\r\n        firstName: {\r\n            label:'First Name*',\r\n            name: 'firstName',\r\n            type: 'text',\r\n            requirement: 'Must be 2 or more alphabetical characters.',\r\n            optional: false\r\n        },\r\n        lastName: {\r\n            label:'Last Name*',\r\n            name: 'lastName',\r\n            type: 'text',\r\n            requirement: 'Must be 2 or more alphabetical characters.',\r\n            optional: false\r\n        },\r\n        username: {\r\n            label:'Username*',\r\n            name: 'username',\r\n            type: 'text',\r\n            requirement: 'Must be 6 to 20 alphanumeric characters.',\r\n            optional: false\r\n        },\r\n        email: {\r\n            label:'Email Address*',\r\n            name: 'email',\r\n            type: 'email',\r\n            requirement: 'Must be a valid email address.',\r\n            optional: false\r\n        }\r\n    },\r\n    {\r\n        institute: {\r\n            label:'Institute',\r\n            name: 'institute',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        },\r\n        department: {\r\n            label:'Department',\r\n            name: 'department',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        },\r\n        country: {\r\n            label:'Country',\r\n            name: 'country',\r\n            type: 'text',\r\n            requirement: 'Maximum length is 150 characters.',\r\n            optional: true\r\n        }\r\n    }\r\n])\r\n\r\nconst buttonRef = React.createRef();\r\n\r\nclass RegistrationStepper extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        let cards = []\r\n        getCardInfo().forEach(card => {\r\n            let newCard = {};\r\n            Object.keys(card).forEach(key => {\r\n                newCard[key] = {\r\n                    value: '',\r\n                    valid: true,\r\n                    optional: card[key].optional\r\n                }\r\n            })\r\n            cards.push(newCard);\r\n        })\r\n\r\n        this.state = {\r\n            cards\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        // Prevents validation failure message from appearing again if user navigates here to try again\r\n        if(this.props.userValidationState === states.failed) this.props.userValidationRequestSuccess();\r\n    }\r\n\r\n    validateField = (name, rawValue) => {\r\n        let value = rawValue.trim();\r\n        let pattern = /$^/;\r\n        switch(name){\r\n            case 'firstName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'lastName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'username':\r\n                pattern = /^[A-Za-z0-9 ]{6,20}$/;\r\n                break;\r\n            case 'email':\r\n                pattern = /^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/;\r\n                break;\r\n            case 'institute':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'department':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'country':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'password':\r\n                pattern = /^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/\r\n                this.setState(previousState => {\r\n                    let newCardState = [...previousState.cards];\r\n                    newCardState[2].confirmPassword.valid = Boolean(newCardState[2].confirmPassword.value === value);\r\n                    return {cards: newCardState};\r\n                })\r\n                break;\r\n            case 'confirmPassword':\r\n                return this.state.cards[2].password.value === value;\r\n            default:\r\n                break;\r\n        }\r\n        return pattern.test(value);\r\n    }\r\n\r\n    processStateToActionPayload = () => {\r\n        let actionPayload = {};\r\n        this.state.cards.forEach(card => {\r\n            Object.keys(card).forEach(cardKey => {\r\n                actionPayload[cardKey] = card[cardKey].value;\r\n            })\r\n        })\r\n        return actionPayload;\r\n    }\r\n\r\n    currentCardIsValid = () => {\r\n        let currentCard = this.state.cards[this.props.registrationActiveStep];\r\n        for(let key in currentCard){\r\n            if(currentCard[key].optional) continue;\r\n            if(!currentCard[key].value || !currentCard[key].valid) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    handleNext = () => {\r\n        const activeStep = this.props.registrationActiveStep;\r\n        \r\n        switch(activeStep){\r\n            case 0:\r\n                // API request to validate username and email address\r\n                let username= this.state.cards[0].username.value;\r\n                let email= this.state.cards[0].email.value;\r\n                this.props.userValidationRequestSend(username, email);\r\n                break;\r\n            // case 1:\r\n            //     this.props.registrationNextActiveStep();\r\n            //     break;\r\n            case 1:\r\n                // API request to register user\r\n                this.props.userRegistrationRequestSend(this.processStateToActionPayload())\r\n                break;\r\n            default:\r\n                this.props.registrationNextActiveStep();\r\n                break;\r\n\r\n\r\n        }\r\n    };\r\n\r\n    handleBack = () => {\r\n        this.props.registrationPreviousActiveStep();\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        let fieldName = event.target.name;\r\n        let valid = this.validateField(fieldName, newValue);\r\n        this.setState(previousState => {\r\n            let cards = [...previousState.cards];\r\n            cards[this.props.registrationActiveStep][fieldName] = {\r\n                ...cards[this.props.registrationActiveStep][fieldName],\r\n                value: newValue,\r\n                valid\r\n            }\r\n            return {cards};\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const steps = getSteps();\r\n        const activeStep = this.props.registrationActiveStep;\r\n        const cardInfoArray = getCardInfo();\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={classes.root}>\r\n                    \r\n                    <Stepper activeStep={activeStep}>\r\n                    {steps.map((label, index) => {\r\n                        return (\r\n                        <Step key={label}>\r\n                            <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                        );\r\n                    })}\r\n                    </Stepper>\r\n                    <div>\r\n                    {activeStep === steps.length ? (\r\n                        <Paper className={classes.instructionsPaper}>\r\n                            <Typography className={classes.instructions}>\r\n                                We've sent you an email with a link for finalizing your registration and choosing a password. If you don't receive the email within the next few minute please check your spam folder.\r\n                            </Typography>\r\n                        </Paper>\r\n                    ) : (\r\n                        <div>\r\n                            <RegistrationCard \r\n                                inputFieldState={{...this.state.cards[this.props.registrationActiveStep]}} \r\n                                inputFieldInfo={{...cardInfoArray[this.props.registrationActiveStep]}}\r\n                                onChange={this.handleChange}\r\n                                buttonRef={buttonRef}\r\n                            />\r\n                            <div>\r\n                                <Button\r\n                                onClick={activeStep === 0 ? this.props.handleHideStepper : this.handleBack}\r\n                                className={classes.button}\r\n                                >\r\n                                    Back\r\n                                </Button>\r\n\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={this.handleNext}\r\n                                    className={classes.button}\r\n                                    disabled={!this.currentCardIsValid() || this.props.userValidationState === states.inProgress}\r\n                                    ref={buttonRef}\r\n                                >\r\n                                    {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\r\n                                </Button>\r\n                                {this.props.userValidationState === states.inProgress && <CircularProgress size={24} className= {classes.buttonProgress} />}\r\n                                {this.props.userValidationState === states.failed && <Typography className={classes.bottomError}>That username or email address is already in use. If you previously registered you can recover your password <Link onClick={this.handleClose} component={RouterLink} to={{pathname: '/forgotpass'}}>here</Link>.</Typography>}\r\n                                {this.props.userRegistrationState === states.failed && <Typography className={classes.bottomError}>Registration failed. Please try again.</Typography>}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(RegistrationStepper));","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n    wrapper: {\r\n        height: '46px',\r\n        display: 'flex',\r\n        cursor: 'pointer',\r\n        borderRadius: '4px',\r\n        '&:hover': {\r\n            boxShadow: '0 0 3px 3px rgba(66,133,244,.3)'\r\n        },\r\n        paddingRight: '14px',\r\n        // backgroundColor: '#4285F4',\r\n        width: '200px',\r\n        color: '#ffffff',\r\n\r\n        // backgroundColor: 'white',\r\n        // color: '#444',\r\n    },\r\n\r\n    textSpan: {\r\n        marginTop: '13px',\r\n        marginLeft: '10px',\r\n        fontFamily: \"'Roboto', sans-serif\"\r\n    }\r\n})\r\n\r\nconst GoogleSignInButton = (props) => {\r\n    const { classes, clickHandlerTarget } = props;\r\n\r\n    return (\r\n        <div id={clickHandlerTarget} className={classes.wrapper}>\r\n            {/* Google Icon */}\r\n            <svg width=\"46px\" height=\"46px\" viewBox=\"0 0 46 46\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\r\n            <title>btn_google_dark_normal_ios</title>\r\n            <desc>Created with Sketch.</desc>\r\n            <defs>\r\n                <filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" filterUnits=\"objectBoundingBox\" id=\"filter-1\">\r\n                    <feOffset dx=\"0\" dy=\"1\" in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"></feOffset>\r\n                    <feGaussianBlur stdDeviation=\"0.5\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"></feGaussianBlur>\r\n                    <feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0\" in=\"shadowBlurOuter1\" type=\"matrix\" result=\"shadowMatrixOuter1\"></feColorMatrix>\r\n                    <feOffset dx=\"0\" dy=\"0\" in=\"SourceAlpha\" result=\"shadowOffsetOuter2\"></feOffset>\r\n                    <feGaussianBlur stdDeviation=\"0.5\" in=\"shadowOffsetOuter2\" result=\"shadowBlurOuter2\"></feGaussianBlur>\r\n                    <feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0\" in=\"shadowBlurOuter2\" type=\"matrix\" result=\"shadowMatrixOuter2\"></feColorMatrix>\r\n                    <feMerge>\r\n                        <feMergeNode in=\"shadowMatrixOuter1\"></feMergeNode>\r\n                        <feMergeNode in=\"shadowMatrixOuter2\"></feMergeNode>\r\n                        <feMergeNode in=\"SourceGraphic\"></feMergeNode>\r\n                    </feMerge>\r\n                </filter>\r\n                <rect id=\"path-2\" x=\"0\" y=\"0\" width=\"40\" height=\"40\" rx=\"2\"></rect>\r\n                <rect id=\"path-3\" x=\"5\" y=\"5\" width=\"38\" height=\"38\" rx=\"1\"></rect>\r\n            </defs>\r\n            <g id=\"Google-Button\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                <g id=\"9-PATCH\"  transform=\"translate(-608.000000, -219.000000)\"></g>\r\n                <g id=\"btn_google_dark_normal\" transform=\"translate(-1.000000, -1.000000)\">\r\n                    <g id=\"button\" transform=\"translate(4.000000, 4.000000)\" filter=\"url(#filter-1)\">\r\n                        <g id=\"button-bg\">\r\n                            <use fill=\"#4285F4\" fillRule=\"evenodd\" xlinkHref=\"#path-2\"></use>\r\n                            <use fill=\"none\" xlinkHref=\"#path-2\"></use>\r\n                            <use fill=\"none\" xlinkHref=\"#path-2\"></use>\r\n                            <use fill=\"none\" xlinkHref=\"#path-2\"></use>\r\n                        </g>\r\n                    </g>\r\n                    <g id=\"button-bg-copy\">\r\n                        <use fill=\"#FFFFFF\" fillRule=\"evenodd\" xlinkHref=\"#path-3\"></use>\r\n                        <use fill=\"none\" xlinkHref=\"#path-3\"></use>\r\n                        <use fill=\"none\" xlinkHref=\"#path-3\"></use>\r\n                        <use fill=\"none\" xlinkHref=\"#path-3\"></use>\r\n                    </g>\r\n                    <g id=\"logo_googleg_48dp\" transform=\"translate(15.000000, 15.000000)\">\r\n                        <path d=\"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z\" id=\"Shape\" fill=\"#4285F4\"></path>\r\n                        <path d=\"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z\" id=\"Shape\" fill=\"#34A853\"></path>\r\n                        <path d=\"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z\" id=\"Shape\" fill=\"#FBBC05\"></path>\r\n                        <path d=\"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z\" id=\"Shape\" fill=\"#EA4335\"></path>\r\n                        <path d=\"M0,0 L18,0 L18,18 L0,18 L0,0 Z\" id=\"Shape\" ></path>\r\n                    </g>\r\n                    <g id=\"handles_square\" ></g>\r\n                </g>\r\n            </g>\r\n            </svg>\r\n\r\n            <span className={classes.textSpan}>\r\n                {props.text}\r\n            </span>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default withStyles(styles)(GoogleSignInButton);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Paper, Button, Typography } from '@material-ui/core';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport RegistrationStepper from './RegistrationStepper';\r\nimport GoogleSignInButton from './GoogleSignInButton';\r\n\r\nimport { snackbarOpen } from '../../Redux/actions/ui';\r\nimport { googleLoginRequestSend } from '../../Redux/actions/user';\r\n\r\nconst styles = (theme) => ({\r\n    paper: {\r\n        width: '60%',\r\n        margin: '10% auto',\r\n        padding: '24px'\r\n        // height: '40vh'\r\n    },\r\n\r\n    emailSignUpButton: {\r\n        textTransform: 'none',\r\n        height: '46px',\r\n        color: 'white'\r\n    },\r\n\r\n    googleWrapper: {\r\n        margin: '50px auto 0 0',\r\n        display: 'inline-block'\r\n    },\r\n\r\n    description: {\r\n        paddingTop: '50px'\r\n    },\r\n\r\n    emailSignUpWrapper: {\r\n        marginTop: '40px'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    snackbarOpen,\r\n    googleLoginRequestSend\r\n}\r\n\r\nconst registerClickHandlerTarget = 'g-signup';\r\n\r\nclass Register extends Component {\r\n    state = {\r\n        showStepper: false\r\n    }\r\n\r\n    onGoogleSignup = (user) => {\r\n        let token = user.getAuthResponse(true).id_token;\r\n        this.props.googleLoginRequestSend(token);\r\n    }\r\n\r\n    registerGoogleClickHandler = () => {\r\n        let _this = this;\r\n        let auth = window.gapi.auth2\r\n        if(auth){\r\n            let authInstance = auth.getAuthInstance();\r\n            authInstance.attachClickHandler(\r\n                registerClickHandlerTarget, \r\n                null, \r\n                _this.onGoogleSignup,\r\n                () => _this.props.snackbarOpen('There was a problem accessing your google account')\r\n            );\r\n        } else {\r\n            setTimeout(_this.registerGoogleClickHandler, 20);\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.registerGoogleClickHandler();\r\n    }\r\n\r\n    handleShowStepper = () => {\r\n        this.setState({showStepper: true})\r\n    }\r\n\r\n    handleHideStepper = () => {\r\n        this.setState({showStepper: false});\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {!this.state.showStepper &&\r\n                    <Paper className={classes.paper}>\r\n                        <Typography className={classes.description}>\r\n                            Create an account to visualize data, and access the Simons CMAP API.\r\n                        </Typography>\r\n\r\n                        <div className={classes.googleWrapper}>\r\n                            <GoogleSignInButton clickHandlerTarget={registerClickHandlerTarget} text='Sign up with Google'/>\r\n                        </div>\r\n\r\n                        <div className={classes.emailSignUpWrapper}>\r\n                            <Button variant='contained' color='primary' className={classes.emailSignUpButton} onClick={this.handleShowStepper}>\r\n                                Sign up with an Email Address\r\n                            </Button>\r\n                        </div>\r\n                    </Paper>                \r\n                }\r\n                {this.state.showStepper && <RegistrationStepper handleHideStepper={this.handleHideStepper}/>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(Register));","const validation = {\r\n    depth: {\r\n        depthOneIsLower: 'Cannot be larger than end',\r\n        depthOneOutOfBounds: 'Data ends at $',\r\n        depthTwoOutOfBounds: 'Data begins at $',\r\n        negative: 'Cannot be negative'\r\n    },\r\n\r\n    date: {\r\n        dateOneIsLater: 'Cannot be after end',\r\n        dateOneOutOfBounds: 'Data ends at $',\r\n        dateTwoOutOfBounds: 'Data begins at $'\r\n    },\r\n\r\n    lat: {\r\n        latOneIsHigher: 'Cannot be larger than end',\r\n        latOneOutOfBounds: 'Data ends at $',\r\n        latTwoOutOfBounds: 'Data begins at $'\r\n    },\r\n\r\n    lon: {\r\n        lonOneIsHigher: 'Cannot be larger than end',\r\n        lonOneOutOfBounds: 'Data ends at $',\r\n        lonTwoOutOfBounds: 'Data begins at $'\r\n    },\r\n\r\n    type: {\r\n        dataIsIrregular: '$ is not available for sparse data',\r\n        dateRangeRequired: '$ requires a range of dates',\r\n        depthRangeRequired: '$ requires a range of depths',\r\n        surfaceOnlyDataset: '$ contains only surface data',\r\n        irregularOnly: 'Sparse map is only available for sparse data',\r\n        dataSizeTooLarge: 'Data set is too large for this visualization type.',\r\n        webGLContextLimit: 'Limit exceeded for sparse and heatmaps. Please delete one or more to proceed.'\r\n    },\r\n\r\n    generic: {\r\n        invalid: 'Invalid input',\r\n        dataSizeWarning: 'Wait time and application performance may be poor due to size of data.',\r\n        dataSizePrevent: 'Data set is too large. Please reduce date range or area size.',\r\n        variableMissing: 'Please select a variable',\r\n        vizTypeMissing: 'Please select a visualization type'\r\n    }\r\n}\r\n\r\nexport default validation;","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, Table, TableRow, TableCell, TableBody } from '@material-ui/core';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = theme => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.backgroundGray,\r\n        width: '700px',\r\n        // zIndex: 3000\r\n    }\r\n})\r\n\r\nconst TableStatsDialog = (props) => {\r\n    const { data, classes } = props;\r\n\r\n    if(!data) return '';\r\n\r\n    return (\r\n        <Dialog\r\n        style={{zIndex: 5000}}\r\n            open={props.open}\r\n            onClose={props.onClose}\r\n            PaperProps={{\r\n                className: classes.dialogPaper\r\n            }}\r\n        >\r\n            <DialogTitle>{data.Long_Name}</DialogTitle>\r\n            <DialogContent>\r\n                { data.Comment &&\r\n                    <DialogContentText>\r\n                        {data.Comment}\r\n                    </DialogContentText>\r\n                }\r\n                <Table size='small'>\r\n                    <TableBody>\r\n                        {\r\n                            data.Product_Type === 'Cruise' ? '' :\r\n                            <>\r\n                                <TableRow>\r\n                                    <TableCell>Dataset</TableCell>\r\n                                    <TableCell title={data.Dataset_Name}>{data.Dataset_Name.length > 25 ? data.Dataset_Name.slice(0,23) + '...' : data.Dataset_Name}</TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow>\r\n                                    <TableCell>Table Name</TableCell>\r\n                                    <TableCell title={data.Table_Name}>{data.Table_Name > 25 ? data.Table_Name.slice(0,23) + '...' : data.Table_Name}</TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow>\r\n                                    <TableCell>Source</TableCell>\r\n                                    <TableCell title={data.Data_Source}>{data.Data_Source > 25 ? data.Data_Source.slice(0,23) + '...' : data.Data_Source}</TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow>\r\n                                    <TableCell>Distributor</TableCell>\r\n                                    <TableCell title={data.Distributor}>{data.Distributor.length > 25 ? data.Distributor.slice(0,23) + '...' : data.Distributor}</TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow>\r\n                                    <TableCell>Sensor</TableCell>\r\n                                    <TableCell>{data.Sensor}</TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow>\r\n                                    <TableCell>Spatial Resolution</TableCell>\r\n                                    <TableCell>{data.Spatial_Resolution}</TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow>\r\n                                    <TableCell>Temporal Resolution</TableCell>\r\n                                    <TableCell>{data.Temporal_Resolution}</TableCell>\r\n                                </TableRow>\r\n\r\n                            </>\r\n                        }\r\n                            \r\n                            <TableRow>\r\n                                <TableCell>Temporal Coverage Begin</TableCell>\r\n                                <TableCell>{data.Time_Min ? data.Time_Min.slice(0,10) : 'Irregular'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Temporal Coverage End</TableCell>\r\n                                <TableCell>{data.Time_Max ? data.Time_Max.slice(0,10) : 'Irregular'}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lat Coverage Begin</TableCell>\r\n                                <TableCell>{`${data.Lat_Min}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n                            <TableRow>\r\n                                <TableCell>Lat Coverage End</TableCell>\r\n                                <TableCell>{`${data.Lat_Max}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lon Coverage Begin</TableCell>\r\n                                <TableCell>{`${data.Lon_Min}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            <TableRow>\r\n                                <TableCell>Lon Coverage End</TableCell>\r\n                                <TableCell>{`${data.Lon_Max}\\xB0`}</TableCell>\r\n                            </TableRow>\r\n\r\n                            {\r\n                                data.Product_Type === 'Cruise' ? '' :\r\n                                <>\r\n                                    <TableRow>\r\n                                        <TableCell>Depth Coverage Begin</TableCell>\r\n                                        <TableCell>{data.Depth_Min ? `${data.Depth_Min}(m)` : 'Surface Only'}</TableCell>\r\n                                    </TableRow>\r\n\r\n                                    <TableRow>\r\n                                        <TableCell>Depth Coverage End</TableCell>\r\n                                        <TableCell>{data.Depth_Max ? `${data.Depth_Max}(m)` : 'Surface Only'}</TableCell>\r\n                                    </TableRow>\r\n                                </>\r\n                            }                            \r\n\r\n                            {data.Variable_Min &&\r\n                                <TableRow>\r\n                                    <TableCell>Minimum Value({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Min}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n\r\n                            {data.Variable_Max &&\r\n                                <TableRow>\r\n                                    <TableCell>Maximum Value({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Max}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n\r\n                            {data.Variable_Mean && \r\n                                <TableRow>\r\n                                    <TableCell>Mean Value({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Mean}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n\r\n                            {data.Variable_Std &&\r\n                                <TableRow>\r\n                                    <TableCell>Standard Deviation({data.Unit})</TableCell>\r\n                                    <TableCell>{data.Variable_Std}</TableCell>\r\n                                </TableRow>                            \r\n                            }\r\n                    </TableBody>\r\n                </Table>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(TableStatsDialog);","import temporalResolutions from '../Enums/temporalResolutions';\r\n\r\nconst mapTemporalResolutionToNumber = (resolution) => {\r\n    let map = {\r\n        [temporalResolutions.threeMinutes] : 1,\r\n        [temporalResolutions.sixHourly] : 1,\r\n        [temporalResolutions.daily] : 1,\r\n        [temporalResolutions.weekly] : 7,\r\n        [temporalResolutions.monthly] : 30,\r\n        [temporalResolutions.annual] : 365,\r\n        [temporalResolutions.irregular] : null,\r\n        [temporalResolutions.monthlyClimatology]: 30,\r\n        [temporalResolutions.threeDay]: 3,\r\n        [temporalResolutions.eightDayRunning]: 8,\r\n        [temporalResolutions.eightDays]: 8\r\n    };\r\n\r\n    return map[resolution];\r\n}\r\n\r\nexport default mapTemporalResolutionToNumber;","const utcDateStringToLocal = (utcString) => {\r\n    let date = new Date(utcString);\r\n    let utcYear = date.getUTCFullYear();\r\n    let utcMonth = date.getUTCMonth();\r\n    let utcDate = date.getUTCDate();\r\n\r\n    let newDate = new Date();\r\n    newDate.setFullYear(utcYear, utcMonth, utcDate);\r\n    return newDate;\r\n}\r\n\r\nexport default utcDateStringToLocal;","\r\nconst darwinDepths = [\r\n    5,\r\n    15,\r\n    25,\r\n    35,\r\n    45,\r\n    55,\r\n    65,\r\n    75.005,\r\n    85.025,\r\n    95.095,\r\n    105.31,\r\n    115.87,\r\n    127.15,\r\n    139.74,\r\n    154.47,\r\n    172.4,\r\n    194.735,\r\n    222.71,\r\n    257.47,\r\n    299.93,\r\n    350.68,\r\n    409.93,\r\n    477.47,\r\n    552.71,\r\n    634.735,\r\n    722.4,\r\n    814.47,\r\n    909.74,\r\n    1007.155,\r\n    1105.905,\r\n    1205.535,\r\n    1306.205,\r\n    1409.15,\r\n    1517.095,\r\n    1634.175,\r\n    1765.135,\r\n    1914.15,\r\n    2084.035,\r\n    2276.225,\r\n    2491.25,\r\n    2729.25,\r\n    2990.25,\r\n    3274.25,\r\n    3581.25,\r\n    3911.25,\r\n    4264.25,\r\n    4640.25,\r\n    5039.25,\r\n    5461.25,\r\n    5906.25\r\n]\r\n\r\nconst piscesDepths = [\r\n    0.494024991989,\r\n    1.54137504101,\r\n    2.64566898346,\r\n    3.81949496269,\r\n    5.07822418213,\r\n    6.44061422348,\r\n    7.92956018448,\r\n    9.5729970932,\r\n    11.404999733,\r\n    13.4671401978,\r\n    15.8100700378,\r\n    18.4955596924,\r\n    21.5988197327,\r\n    25.2114105225,\r\n    29.4447307587,\r\n    34.4341506958,\r\n    40.3440513611,\r\n    47.3736915588,\r\n    55.764289856,\r\n    65.8072662354,\r\n    77.8538513184,\r\n    92.3260726929,\r\n    109.729301453,\r\n    130.666000366,\r\n    155.850692749,\r\n    186.125595093,\r\n    222.475204468,\r\n    266.040313721,\r\n    318.127410889,\r\n    380.213012695,\r\n    453.937713623,\r\n    541.088928223,\r\n    643.566772461,\r\n    763.333129883,\r\n    902.339294434,\r\n    1062.43994141,\r\n    1245.29101562,\r\n    1452.25097656,\r\n    1684.28405762,\r\n    1941.89294434,\r\n    2225.07788086,\r\n    2533.3359375,\r\n    2865.70288086,\r\n    3220.82006836,\r\n    3597.03198242,\r\n    3992.48388672,\r\n    4405.22412109,\r\n    4833.29101562,\r\n    5274.78417969,\r\n    5727.91699219\r\n]\r\n\r\nconst _piscesTables = [\r\n    'tblPisces_NRT',\r\n    'tblPisces_NRT_Calendar'\r\n]\r\n\r\nconst _darwinTable = [\r\n    'tblDarwin_Chl_Climatology',\r\n    'tblDarwin_Ecosystem',\r\n    'tblDarwin_Nutrient',\r\n    'tblDarwin_Nutrient_Climatology',\r\n    'tblDarwin_Ocean_Color',\r\n    'tblDarwin_Phytoplankton',\r\n    'tblDarwin_Plankton_Climatology'\r\n]\r\n\r\nconst piscesTable = new Set(_piscesTables);\r\nconst darwinTable = new Set(_darwinTable);\r\n\r\nconst exports = {\r\n    count: (field, depth1, depth2) => {\r\n        const { Table_Name: table } = field.data;\r\n        var count = 0;\r\n    \r\n        if(piscesTable.has(table)) {\r\n            for(let i = 0; i < piscesDepths.length; i++){\r\n                if(piscesDepths[i] > depth2) break;\r\n                if(piscesDepths[i] > depth1) count ++; \r\n            }\r\n        } else if (darwinTable.has(table)) {\r\n            for(let i = 0; i < darwinDepths.length; i++){\r\n                if(darwinDepths[i] > depth2) break;\r\n                if(darwinDepths[i] > depth1) count ++; \r\n            }\r\n        } else {}\r\n        return count;\r\n    },\r\n\r\n    piscesTable,\r\n    darwinTable,\r\n    piscesDepths,\r\n    darwinDepths\r\n}\r\n\r\nexport default exports;","import visualizationSubTypes from '../Enums/visualizationSubTypes';\r\n\r\nexport default (charts) => {\r\n    let count = 0;\r\n    charts.forEach(chart => {\r\n        if(chart.subType === visualizationSubTypes.heatmap) count ++;\r\n        if(chart.subType === visualizationSubTypes.sparse){\r\n            count ++;\r\n            if(chart.data.variableValues.length > 10000) count +=3;\r\n        }\r\n    })\r\n    return count;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Paper, Grid, MenuItem, FormControl, InputLabel, Button, Tooltip } from '@material-ui/core';\r\nimport MUISelect from '@material-ui/core/Select';\r\n\r\nimport vizSubTypes from '../../Enums/visualizationSubTypes';\r\nimport colors from '../../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    vizTypeSelectFormControl: {\r\n        width: '100%',\r\n        '&:disabled': {\r\n          backgroundColor: 'transparent'\r\n      }\r\n    },\r\n\r\n    vizTypeMenu: {\r\n        backgroundColor: colors.backgroundGray\r\n    },\r\n  \r\n    vizTypeMenuItem: {\r\n      '&:hover': {backgroundColor: colors.greenHover}\r\n    },\r\n\r\n    visualizeButton: {\r\n        textTransform: 'none',\r\n        height: '56px',\r\n        borderRadius: 0,\r\n        backgroundColor: colors.backgroundGray,\r\n        color: theme.palette.primary.main,\r\n        fontVariant: 'normal',\r\n        '&:disabled': {\r\n          backgroundColor: 'transparent'\r\n      },\r\n        '&:hover': {\r\n            backgroundColor: colors.greenHover,\r\n              color: 'white'\r\n          }\r\n    },\r\n\r\n    vizButtonTooltip: {\r\n        color: 'yellow'\r\n    },\r\n\r\n    chartControlContainer: {\r\n        position: 'fixed',\r\n        left: '16px',\r\n        bottom: '20px',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: '2px 2px 2px 2px #242424',\r\n        borderRadius: '4px',\r\n        width: '305px'\r\n    }\r\n});\r\n\r\nconst ChartControl = (props) => {\r\n    const { \r\n        classes,\r\n        overrideDisabledStyle,\r\n        heatmapMessage,\r\n        contourMessage,\r\n        sectionMapMessage,\r\n        histogramMessage,\r\n        timeSeriesMessage,\r\n        depthProfileMessage,\r\n        sparseMapMessage,\r\n        visualizeButtonTooltip,\r\n        disableVisualizeMessage,\r\n        fields,\r\n        selectedVizType,\r\n        handleChange,\r\n        onVisualize,\r\n        showChartControl\r\n    } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {/* <Paper className={classes.chartControlContainer} style={showChartControl ? {} : {display: 'none'}}> */}\r\n                <Grid container>\r\n                    <Grid item xs={12}>\r\n                        <FormControl variant='filled' className={classes.vizTypeSelectFormControl} disabled={!fields}>\r\n                            <InputLabel shrink htmlFor=\"vizSelector\" >Type</InputLabel>\r\n                            <MUISelect\r\n                                className={classes.vizTypeSelectFormControl}\r\n                                style={overrideDisabledStyle}\r\n                                value={selectedVizType}\r\n                                variant='filled'\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: 'selectedVizType',\r\n                                    id: 'vizSelector',\r\n                                    variant: 'filled'\r\n                                }}\r\n                                MenuProps={{\r\n                                    MenuListProps: {\r\n                                        className: classes.vizTypeMenu\r\n                                    }\r\n                                }}\r\n                                >\r\n                                {!heatmapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.heatmap} title={heatmapMessage}>Heatmap</MenuItem>}\r\n                                {!contourMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.contourMap}>Contour Heatmap</MenuItem>}\r\n                                {!sectionMapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.sectionMap}>Section Map</MenuItem>}\r\n                                {!sectionMapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.contourSectionMap}>Contour Section Map</MenuItem>}\r\n                                {!histogramMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.histogram}>Histogram</MenuItem>}                      \r\n                                {!timeSeriesMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.timeSeries}>Time Series</MenuItem>}\r\n                                {!depthProfileMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.depthProfile}>Depth Profile</MenuItem>}\r\n                                {!sparseMapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.sparse}>Sparse Map</MenuItem>}\r\n                            </MUISelect>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Tooltip placement='right' title={visualizeButtonTooltip} className={classes.vizButtonTooltip}>\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                                className={classes.visualizeButton}\r\n                                variant='contained'\r\n                                onClick={() => onVisualize()}\r\n                                disabled={Boolean(disableVisualizeMessage) || !fields || !selectedVizType}\r\n                                fullWidth\r\n                            >\r\n                                Create Visualization\r\n                            </Button>\r\n                        </Grid>\r\n                    </Tooltip>\r\n\r\n                </Grid>\r\n            {/* </Paper> */}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ChartControl));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport * as JsSearch from 'js-search';\r\nimport { VariableSizeList as ReactWindowList } from \"react-window\";\r\n\r\nimport { Paper, ButtonGroup, Grid, IconButton, Icon, ListItem, MenuItem, Typography, Drawer, TextField, FormControl, InputLabel, Button, Tooltip} from '@material-ui/core';\r\nimport MUISelect from '@material-ui/core/Select';\r\nimport { KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport { Settings, Fastfood, ShowChart, Search, Cached, LibraryBooks, ArrowRight, ChevronLeft, ChevronRight, InsertChartOutlined, Language, Delete, ShoppingCart, Info, DirectionsBoat } from '@material-ui/icons';\r\n\r\nimport vizSubTypes from '../../Enums/visualizationSubTypes';\r\nimport states from '../../Enums/asyncRequestStates';\r\nimport colors from '../../Enums/colors';\r\nimport validation from '../../Enums/validation';\r\nimport TableStatsDialog from './TableStatsDialog';\r\nimport mapTemporalResolutionToNumber from '../../Utility/mapTemporalResolutionToNumber';\r\nimport mapSpatialResolutionToNumber from '../../Utility/mapSpatialResolutionToNumber';\r\nimport spatialResolutions from '../../Enums/spatialResolutions';\r\n\r\nimport { cruiseTrajectoryRequestSend, clearCharts, csvDownloadRequestSend } from '../../Redux/actions/visualization';\r\nimport { snackbarOpen } from '../../Redux/actions/ui';\r\n\r\nimport utcDateStringToLocal from '../../Utility/utcDateStringToLocal';\r\nimport depthUtils from '../../Utility/depthCounter';\r\nimport countWebGLContexts from '../../Utility/countWebGLContexts';\r\n\r\nimport ChartControl from './ChartControl';\r\n\r\nconst navDrawerWidth = 320;\r\n\r\nconst errorHeightAdjust = 23;\r\n\r\nconst styles = theme => ({\r\n    drawer: {\r\n        width: navDrawerWidth,\r\n        top: 32,\r\n        bottom: 'auto',\r\n        overflow: 'visible'\r\n    },\r\n\r\n    drawerPaper: {\r\n        width: navDrawerWidth,\r\n        height: 'auto',\r\n        top: 'calc(50% - 270px)',\r\n        borderRadius: '0 4px 4px 0',\r\n        boxShadow: '2px 2px  2px 2px #242424',\r\n        border: 'none',\r\n        overflow: 'visible',\r\n        backgroundColor: colors.backgroundGray\r\n    },\r\n\r\n    drawerPaperError1: {\r\n        height: `${540 + errorHeightAdjust}px`\r\n    },\r\n\r\n    drawerPaperError2: {\r\n        height: `${540 + errorHeightAdjust * 2}px`\r\n    },\r\n\r\n    drawerPaperError3: {\r\n        height: `${540 + errorHeightAdjust * 3}px`\r\n    },\r\n\r\n    drawerPaperError4: {\r\n        height: `${540 + errorHeightAdjust * 4}px`\r\n    },\r\n\r\n    drawerPaperError5: {\r\n        height: `${540 + errorHeightAdjust * 5}px`\r\n    },\r\n\r\n  openPanelChevron: {\r\n    position: 'fixed',\r\n    left: '5px',\r\n    top: 'calc(50% - 8px)',\r\n    zIndex: 1100\r\n  },\r\n\r\n  closePanelChevron: {\r\n    position: 'fixed',\r\n    left: navDrawerWidth + 5,\r\n    top: 'calc(50% - 8px)',\r\n    zIndex: 1100\r\n  },\r\n\r\n  groupedButtons: {\r\n      width: '25%',\r\n      border: '1px solid #313131',\r\n      borderRadius: 0,\r\n      backgroundColor: '#3c3c3c'\r\n  },\r\n\r\n  controlPanelForm: {\r\n      marginTop: theme.spacing(1)\r\n  },\r\n\r\n  tableStatsButton: {\r\n      borderRadius: 0,\r\n      paddingTop: '11px',\r\n      backgroundColor: colors.backgroundGray\r\n  },\r\n\r\n    formGridItem: {\r\n        borderLeft: '1px solid #313131',\r\n        backgroundColor: colors.backgroundGray\r\n    },\r\n\r\n  vizTypeSelectFormControl: {\r\n      width: '100%',\r\n      '&:disabled': {\r\n        backgroundColor: 'transparent'\r\n    }\r\n  },\r\n\r\n  depressed: {\r\n      boxShadow: 'inset 1px 1px 5px #1c1c1c'\r\n  },\r\n\r\n  padLeft: {\r\n      padding: '6px 0 2px 7px'\r\n  },\r\n\r\n  visualizeButton: {\r\n      height: '56px',\r\n      borderRadius: 0,\r\n      backgroundColor: colors.backgroundGray,\r\n      color: theme.palette.primary.main,\r\n      fontVariant: 'normal',\r\n      '&:disabled': {\r\n        backgroundColor: 'transparent'\r\n    },\r\n      '&:hover': {\r\n          backgroundColor: colors.greenHover,\r\n            color: 'white'\r\n        }\r\n  },\r\n\r\n  helperText: {\r\n    color: 'yellow'\r\n  },\r\n\r\n  vizButtonTooltip: {\r\n    color: 'yellow'\r\n  },\r\n\r\n  datePickerInputAdornment: {\r\n      padding: 0\r\n  },\r\n\r\n  clearChartsButton: {\r\n      borderRadius: 0,\r\n      backgroundColor: '#3c3c3c',\r\n      width: '100%',\r\n      borderRight: '1px solid #313131'\r\n\r\n  },\r\n\r\n  resetSPParamsButton: {\r\n    borderRadius: 0,\r\n    backgroundColor: '#3c3c3c',\r\n    width: '100%',\r\n  },\r\n\r\n  datePicker: {\r\n      width: '100%'\r\n  },\r\n\r\n  vizTypeMenu: {\r\n      backgroundColor: colors.backgroundGray\r\n  },\r\n\r\n  vizTypeMenuItem: {\r\n    '&:hover': {backgroundColor: colors.greenHover}\r\n  },\r\n\r\n  dataBitesContainer: {\r\n    position: 'fixed',\r\n    right: '12px',\r\n    bottom: '12px',\r\n    height: '400px',\r\n    width: '260px',\r\n    backgroundColor: colors.backgroundGray,\r\n    boxShadow: '2px 2px  2px 2px #242424',\r\n    paddingTop: '12px'\r\n  },\r\n\r\n  bottomControlContainer: {\r\n    position: 'fixed',\r\n    height: '50px',\r\n    width: '300px',\r\n    bottom: '8px',\r\n    right: 'calc(50% - 150px)',\r\n    backgroundColor: colors.backgroundGray,\r\n    boxShadow: '2px 2px  2px 2px #242424',\r\n    paddingTop: '12px'\r\n  }\r\n});\r\n\r\nconst overrideDisabledStyle = {\r\n    backgroundColor: 'transparent'\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    catalog: state.catalog,\r\n    catalogRequestState: state.catalogRequestState,\r\n    cruiseTrajectory: state.cruiseTrajectory,\r\n    showHelp: state.showHelp,\r\n    datasets: state.datasets,\r\n    charts: state.charts,\r\n    cart: state.cart,\r\n    cruiseList: state.cruiseList\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseTrajectoryRequestSend,\r\n    clearCharts,\r\n    csvDownloadRequestSend,\r\n    snackbarOpen\r\n}\r\n\r\nconst getDatePlaceholder = (date) => {\r\n    if(isNaN(new Date(date)).valueOf()) return 'yyyy-MM-dd';\r\n    \r\n    let month  = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    let year = date.getFullYear();\r\n    return [year, month < 10 ? '0' + month : month, day < 10 ? '0' + day : day].join('-');\r\n}\r\n\r\nconst groupHeaderHeight = 37;\r\nconst height = 35;\r\n\r\nconst reactWindowListRef = React.createRef();\r\nconst selectRef = React.createRef();\r\n\r\nclass MenuList extends Component {\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n      if(reactWindowListRef.current) reactWindowListRef.current.resetAfterIndex(0);\r\n      if(!(this.props.children && this.props.children.length)) return;\r\n      let scrollOffset = 0;\r\n      let foundFocus = false;\r\n      this.props.children.forEach(child => {\r\n        if(foundFocus) return;\r\n\r\n        let count = groupHeaderHeight;\r\n        let groupHasFocus= false;\r\n        for(let i = 0; i < child.props.children.length; i++){\r\n          if(child.props.children[i].props.isFocused) {\r\n            foundFocus = true;\r\n            groupHasFocus = true;\r\n            break;\r\n          }\r\n          count += 37.6;\r\n        }\r\n\r\n        if(groupHasFocus) scrollOffset += count;\r\n        else scrollOffset += 37.6;\r\n      })\r\n      if(foundFocus) reactWindowListRef.current.scrollTo(scrollOffset > 150 ? scrollOffset - 150 : 0);\r\n    }\r\n\r\n    render() {\r\n        const { options, children, getValue } = this.props;\r\n\r\n        if(!children || !children.length) return '';\r\n        const [value] = getValue();\r\n        const initialOffset = options.indexOf(value) * height;\r\n        const groupHeights = children.map(child => {\r\n          return child.props.children.some(grandChild => grandChild.props.isFocused) ? child.props.children.length * 37.6 + groupHeaderHeight : groupHeaderHeight;\r\n        });\r\n        const totalHeight = groupHeights.reduce((acc, cur) => acc + cur, 0);\r\n        const estimatedItemSize = totalHeight / children.length;\r\n        const getItemSize = index => groupHeights[index];\r\n\r\n        return (\r\n            <ReactWindowList\r\n                height={totalHeight < 400 ? totalHeight :  400}\r\n                estimatedItemSize={estimatedItemSize}\r\n                itemCount={children.length}\r\n                itemSize={getItemSize}\r\n                initialScrollOffset={initialOffset || 0}\r\n                ref={reactWindowListRef}\r\n            >\r\n                {({ index, style }) => <div style={{...style}}>{children[index]}</div>}\r\n            </ReactWindowList>\r\n        );\r\n    }\r\n}\r\n\r\nclass Group extends Component {\r\n    render() {\r\n        const hasFocus = this.props.children.some(element => element.props.isFocused);\r\n        const sensor = this.props.children[0].props.data.data.Sensor;\r\n\r\n      return (\r\n          <React.Fragment>\r\n            <CustomHeading \r\n              {...this.props.headingProps} \r\n              headingLabel={this.props.data.label} \r\n              firstChild={this.props.children[0].props.data}\r\n              hasFocus={hasFocus}\r\n              sensor={sensor}\r\n              tableName={this.props.children[0].props.data.data.Table_Name}\r\n              selectProps={this.props.selectProps}\r\n            />\r\n            <div hidden={!hasFocus}>\r\n              {this.props.children.map(child => child)}\r\n            </div>\r\n          </React.Fragment>\r\n        );\r\n    }    \r\n}\r\n\r\nconst customHeadingStyles = (theme) => ({\r\n    customHeading: {\r\n        backgroundColor: 'rgba(0,0,0,.5)',\r\n        height: groupHeaderHeight,\r\n        '&:hover': {\r\n            // backgroundColor: 'rgba(122,67,0,.5)',\r\n            backgroundColor: colors.greenHover\r\n        },\r\n        boxShadow: '0px 1px 1px 1px #242424'\r\n    },\r\n\r\n    icon: {\r\n        marginRight: '10px',\r\n        width: '30px'\r\n    },\r\n\r\n    typography: {\r\n        width: '650px',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    }\r\n})\r\n\r\nconst _CustomHeading = props => {\r\n    const { classes, sensor, selectProps } = props;\r\n    let iconClass;\r\n\r\n    if(sensor === 'Satellite') iconClass = 'fa-satellite';\r\n    else if(sensor === 'Blend') iconClass = 'fa-laptop';\r\n    else iconClass = 'fa-ship';\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <ListItem \r\n          button \r\n          alignItems='center' \r\n          onClick={() => selectRef.current.select.setState({focusedOption: props.hasFocus ? null : props.firstChild})}\r\n          className={classes.customHeading}\r\n        >\r\n            <Icon fontSize='small' color='inherit' className={`fas ${iconClass} ${classes.icon}`}></Icon>\r\n        <Typography className={classes.typography}>\r\n            {props.headingLabel.length > 70 ? props.headingLabel.slice(0,67) + '...' : props.headingLabel}\r\n        </Typography>\r\n\r\n        { selectProps.datasets[props.headingLabel] &&\r\n            <Tooltip title='Dataset Info' placement='left'>\r\n                <IconButton \r\n                    color='inherit' \r\n                    onClick={(e) => {\r\n                        window.open(\r\n                            window.location.protocol + \r\n                            '//' + \r\n                            window.location.host + \r\n                            '/catalog/datasets/' + \r\n                            selectProps.datasets[props.headingLabel].Dataset_Name);\r\n                        e.stopPropagation();\r\n                    }}\r\n                >\r\n                    <Info/>\r\n                </IconButton>\r\n            </Tooltip>\r\n        }\r\n\r\n        {\r\n            selectProps.cart[props.headingLabel] ?\r\n            <Tooltip title='This Dataset Is in Your Cart' placement='right'>\r\n                <ShoppingCart/>\r\n            </Tooltip>\r\n             :\r\n            ''\r\n        }\r\n        </ListItem>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\nconst CustomHeading = withStyles(customHeadingStyles)(_CustomHeading);\r\n\r\n// Replace react-select dropdown area with material version\r\nconst DropdownIndicator = (props) => {\r\n    return (\r\n    <components.DropdownIndicator {...props}>\r\n        <ArrowRight/>\r\n    </components.DropdownIndicator>\r\n    );\r\n};\r\n\r\nconst Menu = (props) => {\r\n    return (\r\n        <components.Menu\r\n        {...props}\r\n        className='react-select-menu-cmap'\r\n        >\r\n\r\n        </components.Menu>\r\n    )\r\n}\r\n\r\n// Replace react-select option\r\nconst Option = (props) => {\r\n    return (\r\n      <components.Option \r\n        {...props} \r\n        innerProps={{\r\n            ...props.innerProps, \r\n            // Prevent focus / scroll events when mousing over options\r\n            onMouseMove: (e) => e.preventDefault(), \r\n            onMouseOver: (e) => e.preventDefault()\r\n        }}>\r\n    </components.Option>\r\n    )\r\n}\r\n\r\nconst GroupHeading = (props) => '';\r\n\r\nconst SingleValue = (props) => {\r\n    return (\r\n        <components.SingleValue\r\n            {...props}\r\n            children={null}\r\n        >\r\n            {props.data.label}\r\n        </components.SingleValue>\r\n    )\r\n}\r\n\r\nconst optionLabelSpanStyleLeft = {\r\n    display: 'inline-block',\r\n    boxSizing: 'border-box',\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    fontSize: '15px',\r\n    marginRight: '32px',\r\n    width: 'calc(60% - 32px)',\r\n    textAlign: 'left'\r\n}\r\n\r\nconst optionLabelSpanStyleMid = {\r\n    ...optionLabelSpanStyleLeft,\r\n    marginRight: '24px',\r\n    width: 'calc(15% - 24px)'\r\n}\r\n\r\nconst optionLabelSpanStyleRight = {\r\n    ...optionLabelSpanStyleLeft,\r\n    textAlign: 'right',\r\n    marginRight: '0px',\r\n    width: '25%'\r\n}\r\n\r\nconst formatOptionLabel = (option, meta) => {\r\n    return (\r\n        <React.Fragment>\r\n            <span style={optionLabelSpanStyleLeft}>{option.label}</span>\r\n            <span style={optionLabelSpanStyleMid}>{option.data.Spatial_Resolution === 'Irregular' ? 'Irregular' : 'Gridded'}</span>\r\n            <span style={optionLabelSpanStyleRight}>{option.data.Data_Source}</span>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nconst ValueContainer = (props) => {\r\n    return (\r\n        <components.ValueContainer {...props}>\r\n            <Search style={{ position: \"absolute\", left: 6, color: colors.primary }}/>\r\n            {props.children}\r\n        </components.ValueContainer>\r\n    )\r\n}\r\n\r\nconst controlPanelModes = {\r\n    charts: 'charts',\r\n    cruises: 'cruises',\r\n    bites: 'bites',\r\n    bottomControl: 'bottomControl'\r\n}\r\n\r\nclass VizControlPanel extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        var search = new JsSearch.Search('ID');\r\n        search.indexStrategy = new JsSearch.AllSubstringsIndexStrategy()\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Variable');\r\n        search.addIndex('Unit');\r\n        search.addIndex('Make');\r\n        search.addIndex('Sensor');\r\n        search.addIndex('Data_Source');\r\n        search.addIndex('Process_Level');\r\n        search.addIndex('Long_Name');\r\n        search.addIndex('Keywords');\r\n        search.addIndex('Table_Name');\r\n        search.addIndex('Dataset_Name');\r\n        search.addIndex('Study_Domain');\r\n        search.addIndex('Spatial_Resolution');\r\n        search.addIndex('Temporal_Resolution');\r\n        search.addIndex('Chief_Name');\r\n        search.addIndex('Name');\r\n        search.addIndex('Nickname');\r\n        search.addIndex('Ship_Name');\r\n\r\n        if(props.catalog) search.addDocuments(props.catalog);\r\n        if(props.cruiseList) search.addDocuments(props.cruiseList);\r\n\r\n        this.state = {\r\n            tableStatsDialogIsOpen: false,\r\n            search,\r\n            searchField: '',\r\n            showControlPanel: true,\r\n            lastSelectedFieldId: null,\r\n            showChartControl: false,\r\n            showDataBites: false,\r\n            showBottomControl: false,\r\n            controlPanelMode: controlPanelModes.bottomControl\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.catalog && prevProps.catalog.length) && (this.props.catalog && this.props.catalog.length)){\r\n            this.state.search.addDocuments(this.props.catalog);\r\n            // this.setState({search: this.state.search});\r\n        }\r\n\r\n        if(!(prevProps.cruiseList && prevProps.cruiseList.length) && (this.props.cruiseList && this.props.cruiseList.length)){\r\n            this.state.search.addDocuments(this.props.cruiseList);\r\n            // this.setState({search: this.state.search});\r\n        }\r\n    }\r\n\r\n    handleOpenControlPanel = () => {\r\n        this.setState({...this.state, showControlPanel: true})\r\n    }\r\n\r\n    handleCloseControlPanel = () => {\r\n        this.setState({...this.state, showControlPanel: false})\r\n    }      \r\n    \r\n    handleTableStatsDialogClose = () => {\r\n        this.setState({...this.state, tableStatsDialogIsOpen: false})\r\n    }\r\n\r\n    handleTableStatsDialogOpen = (event) => {\r\n        event.stopPropagation();\r\n        this.setState({...this.state, tableStatsDialogIsOpen: true});\r\n    }\r\n\r\n    getSelectOptionsFromCatalogItems = (items) => {\r\n        const { cart } = this.props;\r\n        var options = {};\r\n        let count = 0;\r\n\r\n        items.forEach(item => {\r\n            if(item.Visualize == 1) {\r\n                if(!options[item.Dataset_Name]){\r\n                    options[item.Dataset_Name] = {\r\n                        label: item.Dataset_Name,\r\n                        options: []\r\n                    }\r\n                }\r\n                // TODO use css textoverflow for this if possible\r\n                options[item.Dataset_Name].options.push({\r\n                    value: item.Variable,\r\n                    label: item.Long_Name.length < 80 ? item.Long_Name : item.Long_Name.slice(0,78) + '...',\r\n                    data: item\r\n                })\r\n            }\r\n        });\r\n\r\n        let sortedOptions = Object.values(options).sort((opt1, opt2) => {\r\n            if(cart[opt1.label] && cart[opt2.label]) return opt1.label < opt2.label ? -1 : 1;\r\n            else if(cart[opt1.label]) return -1;\r\n            else if (cart[opt2.label]) return 1;\r\n            else return opt1.label < opt2.label ? -1 : 1;\r\n        })\r\n\r\n        return sortedOptions;\r\n    }\r\n\r\n    estimateCsvSize = (datasetName) => {\r\n        // let members = [];\r\n        let count = 0;\r\n        this.props.catalog.forEach((member, i) => {\r\n            if(member.Dataset_Name === datasetName){\r\n                count += parseInt(member.Variable_Count) || 0;\r\n                // members.push(member);\r\n            }\r\n        })\r\n        return count;\r\n    }\r\n\r\n    handleResetSPParams = () => {\r\n        this.props.resetSPParams();\r\n        this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    onAutoSuggestChange = (searchString, action) => {\r\n        if(action.action === 'input-change') {\r\n            this.setState({...this.state, searchField: searchString});\r\n            selectRef.current.select.setState({focusedOption: -1})\r\n        }\r\n\r\n        if(action.action === 'escape-clear'){\r\n            this.setState({...this.state, searchField: searchString});\r\n            selectRef.current.select.setState({focusedOption: -1})\r\n        }\r\n        // if(action.action ==='set-value') this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    estimateDataSize = () => {\r\n        const { dt1, dt2, lat1, lat2, lon1, lon2, fields, depth1, depth2, selectedVizType } = this.props;\r\n        if(!fields) return 0;\r\n        if(fields.data.Spatial_Resolution === spatialResolutions.irregular) return 0;\r\n        if(selectedVizType === vizSubTypes.timeSeries || selectedVizType === vizSubTypes.depthProfile) return 0;\r\n\r\n        const date1 = Date.parse(dt1);\r\n        const date2 = Date.parse(dt2);\r\n        \r\n        const dayDiff = (date2 - date1) / 86400000;\r\n        \r\n        const res = mapSpatialResolutionToNumber(fields.data.Spatial_Resolution);\r\n        \r\n        const dateCount = Math.floor(dayDiff / mapTemporalResolutionToNumber(fields.data.Temporal_Resolution)) || 1;\r\n        const depthCount = depthUtils.count(fields, depth1, depth2) || 1;\r\n        \r\n        const latCount = (lat2 - lat1) / res;\r\n        const lonCount = (lon2 - lon1) / res;\r\n\r\n        const pointCount = lonCount * latCount * depthCount * dateCount;\r\n        return pointCount;\r\n    }\r\n\r\n    checkStartDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth1) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.fields.data.Depth_Max)) return validation.depth.depthOneOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Max).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkEndDepth = () => {\r\n        if(this.props.surfaceOnly) return '';\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.depth2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.depth2) < 0) return validation.depth.negative;\r\n        if(parseFloat(this.props.depth1) > parseFloat(this.props.depth2)) return validation.depth.depthOneIsLower;\r\n        if(parseFloat(this.props.depth2) < parseFloat(this.props.fields.data.Depth_Min)) return validation.depth.depthTwoOutOfBounds.replace('$', parseFloat(this.props.fields.data.Depth_Min).toFixed(2));\r\n        return ''; \r\n    }\r\n\r\n    checkStartDateValid = () => {\r\n        if(isNaN(new Date(this.props.dt1)).valueOf() || !this.props.dt1) return 'Start date is invalid';\r\n    }\r\n\r\n    checkEndDateValid = () => {\r\n        if(isNaN(new Date(this.props.dt2)).valueOf() || !this.props.dt1) return 'End date is invalid';\r\n    }\r\n\r\n    checkStartDate = () => {\r\n        if(this.props.dt1 > this.props.dt2) return validation.date.dateOneIsLater;\r\n        if(this.props.dt1 > this.props.fields.data.Time_Max) return validation.date.dateOneOutOfBounds.replace('$', this.props.fields.data.Time_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndDate = () => {\r\n        if(this.props.dt2 < this.props.fields.data.Time_Min) return validation.date.dateTwoOutOfBounds.replace('$', this.props.fields.data.Time_Min);\r\n        return '';\r\n    }\r\n\r\n    checkStartLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) < -90 || parseFloat(this.props.lat1) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.lat2)) return validation.lat.latOneIsHigher;\r\n        if(parseFloat(this.props.lat1) > parseFloat(this.props.fields.data.Lat_Max)) return validation.lat.latOneOutOfBounds.replace('$', this.props.fields.data.Lat_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLat = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lat2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat2) < -90 || parseFloat(this.props.lat2) > 90) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lat2) < parseFloat(this.props.fields.data.Lat_Min)) return validation.lat.latTwoOutOfBounds.replace('$', this.props.fields.data.Lat_Min);\r\n        return '';\r\n    }\r\n\r\n    checkStartLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon1)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon1) < -180 || parseFloat(this.props.lon1) > 180) return validation.generic.invalid;\r\n        if(this.props.lon1 > this.props.lon2) return '';\r\n        if(parseFloat(this.props.lon1) > parseFloat(this.props.fields.data.Lon_Max)) return validation.lon.lonOneOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkEndLon = () => {\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(this.props.lon2)) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon2) < -180 || parseFloat(this.props.lon2) > 180) return validation.generic.invalid;\r\n        if(parseFloat(this.props.lon2) < parseFloat(this.props.fields.data.Lon_Min)) return validation.lon.lonTwoOutOfBounds.replace('$', this.props.fields.data.Lon_Max);\r\n        return '';\r\n    }\r\n\r\n    checkHeatmap = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Heatmap');\r\n        return '';\r\n    }\r\n\r\n    checkContour = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Contour');\r\n        return '';\r\n    }\r\n\r\n    checkSection = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Section Map');\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', \"Section Map\");\r\n        return '';\r\n    }\r\n\r\n    checkHistogram = () => {\r\n        return '';\r\n    }\r\n    \r\n    checkTimeSeries = () => {\r\n        if(this.props.irregularSpatialResolution) return validation.type.dataIsIrregular.replace('$', 'Time Series');\r\n        if(this.props.dt1 === this.props.dt2) return validation.type.dateRangeRequired.replace('$', 'Time Series');\r\n        return '';\r\n    }\r\n\r\n    checkDepthProfile = () => {\r\n        if(this.props.surfaceOnly) return validation.type.surfaceOnlyDataset.replace('$', this.props.fields.value);\r\n        if(this.props.depth1 === this.props.depth2) return validation.type.depthRangeRequired.replace('$', 'Depth Profile');\r\n        return '';\r\n    }\r\n\r\n    checkSparseMap = () => {\r\n        if(!this.props.irregularSpatialResolution) return validation.type.irregularOnly;\r\n        return '';\r\n    }\r\n\r\n    checkGeneralWarn = (dataSize) => {\r\n        if(!this.props.selectedVizType) return '';\r\n        if(dataSize > 1200000) return validation.generic.dataSizeWarning;\r\n        return ''\r\n    }\r\n\r\n    checkGeneralPrevent = (dataSize) => {\r\n        const webGLCount = countWebGLContexts(this.props.charts);\r\n        if(this.props.selectedVizType === vizSubTypes.heatmap && webGLCount > 14) return validation.type.webGLContextLimit;\r\n        if(this.props.selectedVizType === vizSubTypes.sparse && webGLCount > 11) return validation.type.webGLContextLimit;\r\n\r\n        if(this.props.selectedVizType === vizSubTypes.heatmap){\r\n            let availableContexts = 16 - webGLCount;\r\n            const depthCount = depthUtils.count(this.props.fields, this.props.depth1, this.props.depth2) || 1;\r\n            if(availableContexts - depthCount < 1) return 'Too many distinct depths to render heatmap. Please reduce depth range or select section map.';\r\n        }\r\n        if(this.props.selectedVizType !== vizSubTypes.histogram && this.props.selectedVizType !== vizSubTypes.heatmap && dataSize > 1200000){\r\n            return validation.generic.dataSizePrevent;\r\n        }\r\n        if(dataSize > 6000000) return validation.generic.dataSizePrevent;\r\n        if(!this.props.fields) return validation.generic.variableMissing;\r\n        if(!this.props.selectedVizType) return validation.generic.vizTypeMissing;\r\n        return ''}\r\n\r\n    handleShowChartsAndResize = () => {\r\n        setTimeout(() => window.dispatchEvent(new Event('resize')), 30);\r\n        this.props.handleShowCharts();     \r\n    }\r\n\r\n    handleUpdateFields = (newValue, action) => {\r\n        this.props.updateFields(newValue);\r\n        this.setState({...this.state, searchField: '', lastSelectedFieldId: newValue ? newValue.data.ID : this.state.lastSelectedFieldId});\r\n    }\r\n    \r\n    render() {      \r\n        const { search, searchField, showControlPanel } = this.state;\r\n        \r\n        const { classes, \r\n            fields, \r\n            depth1,\r\n            depth2,\r\n            dt1,\r\n            dt2,\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            selectedVizType,\r\n            catalog,\r\n            catalogRequestState,\r\n            showCharts,\r\n            handleShowGlobe,\r\n            handleChange,\r\n            handleLatLonChange,\r\n            datasets,\r\n            cruiseList\r\n        } = this.props;\r\n\r\n\r\n        const options = searchField && catalog ? this.getSelectOptionsFromCatalogItems(search.search(searchField)) \r\n            : catalog ? this.getSelectOptionsFromCatalogItems(catalog) \r\n            : []\r\n\r\n        let validations;\r\n\r\n        const dataSize = this.estimateDataSize();\r\n        var catalogMinDate = fields && utcDateStringToLocal(fields.data.Time_Min).setHours(0,0,0,0);\r\n        var catalogMaxDate = fields && utcDateStringToLocal(fields.data.Time_Max).setHours(0,0,0,0);\r\n        var zeroedDT1 = dt1.setHours(0,0,0,0);\r\n        var zeroedDT2 = dt2.setHours(0,0,0,0);\r\n        \r\n        var minDate = fields ? catalogMinDate : utcDateStringToLocal('1900-01-01').setHours(0,0,0,0);\r\n\r\n        let minDateMessage = fields && zeroedDT2 < catalogMinDate ? 'End cannot be before dataset start date' : '';\r\n        var maxDateMessage;\r\n        var maxDate;\r\n\r\n        if(!fields){\r\n            maxDate = zeroedDT2;\r\n            maxDateMessage = zeroedDT1 > maxDate ? 'Start cannot be after end' : '';\r\n        } else {\r\n            \r\n\r\n            if(catalogMaxDate < zeroedDT2){\r\n                maxDate = catalogMaxDate;\r\n                maxDateMessage = zeroedDT1 > maxDate ? 'Start cannot be after dataset end date' : '';\r\n            } else {\r\n                maxDate = zeroedDT2;\r\n                maxDateMessage = zeroedDT1 > maxDate ? 'Start cannot be after end' : '';\r\n            }\r\n        }\r\n\r\n        if(fields) {\r\n            validations = [\r\n                this.checkStartDepth(),\r\n                this.checkEndDepth(),\r\n                this.checkStartLat(),\r\n                this.checkEndLat(),\r\n                this.checkStartLon(),\r\n                this.checkEndLon(),\r\n                this.checkHeatmap(),\r\n                this.checkContour(),\r\n                this.checkSection(),\r\n                this.checkHistogram(),\r\n                this.checkTimeSeries(),\r\n                this.checkDepthProfile(),\r\n                this.checkSparseMap(),\r\n                this.checkGeneralWarn(dataSize),\r\n                this.checkGeneralPrevent(dataSize),\r\n                this.checkStartDateValid(),\r\n                this.checkEndDateValid()\r\n            ];\r\n        } else validations = Array(16).fill('');\r\n\r\n        const [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            heatmapMessage,\r\n            contourMessage,\r\n            sectionMapMessage,\r\n            histogramMessage,\r\n            timeSeriesMessage,\r\n            depthProfileMessage,\r\n            sparseMapMessage,\r\n            generalWarnMessage,\r\n            generalPreventMessage,\r\n            startDateValidMessage,\r\n            endDateValidMessage\r\n        ] = validations;\r\n\r\n        const checkDisableVisualizeList = [\r\n            startDepthMessage,\r\n            endDepthMessage,\r\n            startLatMessage,\r\n            endLatMessage,\r\n            startLonMessage,\r\n            endLonMessage,\r\n            generalPreventMessage,\r\n            minDateMessage,\r\n            maxDateMessage,\r\n            startDateValidMessage,\r\n            endDateValidMessage\r\n        ];\r\n\r\n        let cdvl = checkDisableVisualizeList;\r\n        let errorCount = 0;\r\n        \r\n        if(cdvl[0] || cdvl[1]) errorCount ++;\r\n        if(cdvl[2] || cdvl[3]) errorCount ++;\r\n        if(cdvl[4] || cdvl[5]) errorCount ++;\r\n        if(cdvl[7] || cdvl[9]) errorCount ++;\r\n        if(cdvl[8] || cdvl[10]) errorCount ++;\r\n\r\n        const errorSizeAdjust = errorCount > 0 ? 'drawerPaperError' + errorCount : '';\r\n\r\n        const checkDisableVisualize = () => {\r\n            for(let i = 0; i < checkDisableVisualizeList.length; i++){\r\n                if(checkDisableVisualizeList[i]) return checkDisableVisualizeList[i];\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        const disableVisualizeMessage = checkDisableVisualize();\r\n\r\n        const visualizeButtonTooltip = disableVisualizeMessage ? disableVisualizeMessage : generalWarnMessage ? generalWarnMessage : '';\r\n\r\n        return (\r\n            <div>\r\n                <TableStatsDialog\r\n                    open={this.state.tableStatsDialogIsOpen}\r\n                    onClose={this.handleTableStatsDialogClose}\r\n                    data={fields && fields.data}\r\n                />\r\n\r\n                { showControlPanel ? \r\n\r\n                        <IconButton \r\n                            className={classes.closePanelChevron} \r\n                            aria-label=\"toggle-panel\" \r\n                            color=\"primary\" \r\n                            onClick={this.handleCloseControlPanel}>\r\n                            <ChevronLeft />\r\n                        </IconButton>\r\n                :\r\n                    \r\n                        <IconButton \r\n                            className={classes.openPanelChevron} \r\n                            aria-label=\"toggle-panel\" \r\n                            color=\"primary\" \r\n                            onClick={this.handleOpenControlPanel}>\r\n                            <ChevronRight />\r\n                        </IconButton>\r\n                }\r\n\r\n                <Drawer\r\n                    className={classes.drawer}\r\n                    variant=\"persistent\"\r\n                    open={showControlPanel}\r\n                    classes={{\r\n                        paper: `${classes.drawerPaper} ${classes[errorSizeAdjust]}`,\r\n                    }}\r\n                    anchor=\"left\"\r\n                >\r\n\r\n                    <ButtonGroup>\r\n                        <Tooltip title='Show Chart Control' placement='top'>\r\n                            <IconButton \r\n                                className={`${classes.groupedButtons} ${this.state.controlPanelMode === controlPanelModes.charts && classes.depressed}`} \r\n                                // onClick={() => this.setState({...this.state, showChartControl: !this.state.showChartControl})}\r\n                                onClick={() => this.setState({...this.state, controlPanelMode: controlPanelModes.charts})}\r\n                                color='inherit'\r\n                            >\r\n                                <ShowChart/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        \r\n                        <Tooltip title='Show Cruise Control' placement='top'>\r\n                            <IconButton \r\n                                color='inherit' \r\n                                // onClick={this.props.handleShowCruiseControl}\r\n                                onClick={() => this.setState({...this.state, controlPanelMode: controlPanelModes.cruises})}\r\n                                className={`${classes.groupedButtons} ${this.state.controlPanelMode === controlPanelModes.cruises && classes.depressed}`} \r\n                            >\r\n                                <DirectionsBoat/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Show Data Bytes' placement='top'>\r\n                            <IconButton \r\n                                color='inherit' \r\n                                onClick={() => this.setState({...this.state, controlPanelMode: controlPanelModes.bites})} \r\n                                className={`${classes.groupedButtons} ${this.state.controlPanelMode === controlPanelModes.bites && classes.depressed}`} \r\n                            >\r\n                                <Fastfood/>\r\n                            </IconButton>\r\n                        </Tooltip> \r\n\r\n                        <Tooltip title='Show Bottom Control' placement='top'>\r\n                            <IconButton \r\n                                color='inherit' \r\n                                onClick={() => this.setState({...this.state, controlPanelMode: controlPanelModes.bottomControl})} \r\n                                className={`${classes.groupedButtons} ${this.state.controlPanelMode === controlPanelModes.bottomControl && classes.depressed}`} \r\n                            >\r\n                                <Settings/>\r\n                            </IconButton>\r\n                        </Tooltip>                          \r\n                    </ButtonGroup>\r\n\r\n                    {/* <ButtonGroup>\r\n                        <Tooltip title='Show Globe' placement='top'>\r\n                            <IconButton \r\n                                className={`${classes.groupedButtons} ${!showCharts && classes.depressed}`} \r\n                                onClick={handleShowGlobe}\r\n                                color='inherit'\r\n                            >\r\n                                <Language/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        \r\n                        <Tooltip title='Show Charts' placement='top'>\r\n                            <IconButton \r\n                                className={`${classes.groupedButtons} ${showCharts && classes.depressed}`}\r\n                                onClick={this.handleShowChartsAndResize}\r\n                                color='inherit'\r\n                            >\r\n                                <InsertChartOutlined/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </ButtonGroup>\r\n                    \r\n                    <Grid container>\r\n                        <Grid item xs={6}>\r\n                            <Tooltip title='Clear Charts' placement='bottom'>\r\n                                <IconButton color='inherit' onClick={this.props.clearCharts} className={classes.clearChartsButton}>\r\n                                    <Delete/>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <Tooltip title='Reset Parameters' placement='right'>\r\n                                <IconButton color='inherit' onClick={this.handleResetSPParams} className={classes.resetSPParamsButton}>\r\n                                    <Cached/>\r\n                                </IconButton>\r\n                            </Tooltip>                            \r\n                        </Grid>\r\n                    </Grid> */}\r\n\r\n                    <form>\r\n                        <Grid container>\r\n                            <Grid item xs={10}>\r\n                                {/* <ConnectedTooltip placement='top' title='Enter one or more search terms.'> */}\r\n                                    <Select\r\n                                        formatOptionLabel={formatOptionLabel}\r\n                                        handleTableStatsDialogOpen={this.handleTableStatsDialogOpen}\r\n                                        isLoading = {catalogRequestState === states.inProgress}\r\n                                        onAutoSuggestChange = {this.onAutoSuggestChange}\r\n                                        datasets = {datasets}\r\n                                        cart={this.props.cart}\r\n                                        \r\n                                        components={{\r\n                                            IndicatorSeparator:'',\r\n                                            DropdownIndicator,\r\n                                            GroupHeading,\r\n                                            Group,\r\n                                            Option,\r\n                                            MenuList,\r\n                                            SingleValue,\r\n                                            Menu,\r\n                                            ValueContainer\r\n                                        }}\r\n                                        lastSelectedFieldId={this.state.lastSelectedFieldId}\r\n                                        escapeClearsValue\r\n                                        ref={selectRef}\r\n                                        onInputChange={this.onAutoSuggestChange}\r\n                                        filterOption={null}\r\n                                        // menuIsOpen={true}\r\n                                        className={classes.variableSelect}\r\n                                        isClearable\r\n                                        inputValue={this.state.searchField}\r\n                                        name=\"fields\"\r\n                                        label=\"Variables\"\r\n                                        options={options}\r\n                                        onChange={this.handleUpdateFields}\r\n                                        value={fields}\r\n                                        placeholder={\r\n                                            this.state.controlPanelMode === controlPanelModes.cruises ? 'Search Cruises' : \r\n                                            this.state.controlPanelMode === controlPanelModes.bites ? 'Explore Bites' : \r\n                                            \"Search Catalog\"\r\n                                        }\r\n                                        styles={{\r\n                                            menu: provided => ({\r\n                                                ...provided, \r\n                                                zIndex: 1300, \r\n                                                width: '980px',\r\n                                                maxWidth: '90vw',\r\n                                                borderRadius: '4px',\r\n                                                boxShadow: '2px 2px 2px 2px #242424',\r\n                                                overflow: 'hidden',\r\n                                                backgroundColor: 'rgba(0,0,0,.5)',\r\n                                                backdropFilter: 'blur(5px)',\r\n                                            }),\r\n\r\n                                            valueContainer: provided => ({\r\n                                                ...provided,\r\n                                                padding: '0 0 0 34px',\r\n                                                fontWeight: 100\r\n                                            }),\r\n\r\n                                            input: provided => ({...provided,\r\n                                                color: 'white',\r\n                                                fontFamily: '\"Lato\", sans-serif'\r\n                                            }),\r\n\r\n                                            control: provided => ({...provided,\r\n                                                backgroundColor: colors.backgroundGray,\r\n                                                border: 'none',\r\n                                                borderBottom: '1px solid #333333',\r\n                                                borderRadius: 0,\r\n                                                '&:hover': { borderColor: 'white' },\r\n                                                '&:focus-within': { borderColor: colors.primary },\r\n                                                height: '56px'\r\n                                            }),\r\n\r\n                                            placeholder: provided => ({...provided,\r\n                                                fontFamily: '\"Lato\", sans-serif',\r\n                                                color: colors.primary,\r\n                                                fontSize: '14px',\r\n                                                fontWeight: 300\r\n                                            }),\r\n\r\n                                            noOptionsMessage: provided => ({...provided,\r\n                                                fontFamily: '\"Lato\", sans-serif',\r\n                                                color: colors.primary,\r\n                                                backgroundColor: colors.backgroundGray\r\n                                            }),\r\n\r\n                                            option: (provided, { data, isFocused }) => {\r\n                                                return ({...provided,\r\n                                                    fontWeight: 400,\r\n                                                    fontSize: '16px',\r\n                                                    backgroundColor: 'transparent',\r\n                                                    color: isFocused ? colors.primary : 'white',\r\n                                                    '&:hover': { backgroundColor: colors.greenHover},\r\n                                            })},\r\n\r\n                                            singleValue: (provided, state) => ({...provided,\r\n                                                color: 'white',\r\n                                                fontWeight: 400,\r\n                                                zIndex: 1290\r\n                                            })\r\n                                        }}\r\n                                        theme={theme => ({\r\n                                            ...theme,\r\n                                            colors: {\r\n                                            ...theme.colors,\r\n                                            },\r\n                                        })}\r\n                                    />\r\n                                {/* </ConnectedTooltip> */}\r\n                            </Grid>\r\n                            <Grid item xs={2} className={classes.tableStatsButton}>\r\n                                {\r\n                                    fields ? \r\n                                    <Tooltip placement='right' title='View Variable Summary Statistics'>\r\n                                        <IconButton \r\n                                            size='small' \r\n                                            onClick={this.handleTableStatsDialogOpen}                                     \r\n                                            disabled={!fields}\r\n                                        >\r\n                                            <LibraryBooks/>\r\n                                        </IconButton>\r\n                                    </Tooltip> :\r\n                                    <IconButton \r\n                                        size='small' \r\n                                        onClick={this.handleTableStatsDialogOpen}                                     \r\n                                        disabled={!fields}\r\n                                    >\r\n                                        <LibraryBooks/>\r\n                                    </IconButton>\r\n                                }\r\n                            </Grid>\r\n\r\n                            {\r\n                                this.state.controlPanelMode !== controlPanelModes.bites ?\r\n                                <>\r\n                                    <Grid item xs={12}>\r\n                                        <KeyboardDatePicker\r\n                                            className={classes.datePicker}\r\n                                            placeholder={getDatePlaceholder(dt1)}\r\n                                            id=\"startDate\"\r\n                                            label=\"Start Date\"\r\n                                            name=\"dt1\"\r\n                                            format='yyyy-MM-dd'\r\n                                            maxDate={maxDate}\r\n                                            // minDate={null}\r\n                                            maxDateMessage={maxDateMessage}\r\n                                            autoOk\r\n                                            value={dt1}\r\n                                            onChange={this.props.handleStartDateChange}\r\n                                            inputVariant='filled'\r\n                                            variant='inline'\r\n                                            KeyboardButtonProps={{\r\n                                                className: classes.datePickerInputAdornment\r\n                                            }}\r\n                                        />\r\n                                    </Grid>  \r\n\r\n                                    <Grid item xs={12}>\r\n                                        <KeyboardDatePicker\r\n                                            className={classes.datePicker}\r\n                                            placeholder={getDatePlaceholder(dt2)}\r\n                                            id=\"endDate\"\r\n                                            label=\"End Date\"\r\n                                            name=\"dt2\"\r\n                                            format='yyyy-MM-dd'\r\n                                            minDate={minDate}\r\n                                            // maxDate={null}\r\n                                            minDateMessage={minDateMessage}\r\n                                            autoOk\r\n                                            value={dt2}\r\n                                            onChange={this.props.handleEndDateChange}\r\n                                            inputVariant='filled'\r\n                                            variant='inline'\r\n                                            KeyboardButtonProps={{\r\n                                                className: classes.datePickerInputAdornment\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} className={classes.formGridItem}>\r\n                                        <TextField\r\n                                            id=\"lat1-input\"\r\n                                            error={Boolean(startLatMessage)}\r\n                                            label={\"Start Lat(\\xB0)\"}\r\n                                            className={classes.textField}\r\n                                            value={lat1}\r\n                                            onChange={handleLatLonChange}\r\n                                            FormHelperTextProps={{className: classes.helperText}}\r\n                                            helperText={startLatMessage}\r\n                                            name='lat1'\r\n                                            InputProps={{className:classes.padLeft}}\r\n                                            InputLabelProps={{className:classes.padLeft}}\r\n                                        >\r\n                                        </TextField>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} className={classes.formGridItem}>\r\n                                        <TextField\r\n                                            id=\"lat2-input\"\r\n                                            error={Boolean(endLatMessage)}\r\n                                            label={\"End Lat(\\xB0)\"}\r\n                                            className={classes.textField}\r\n                                            value={lat2}\r\n                                            onChange={handleLatLonChange}\r\n                                            FormHelperTextProps={{className: classes.helperText}}\r\n                                            helperText={endLatMessage}\r\n                                            name='lat2'\r\n                                            InputProps={{className:classes.padLeft}}\r\n                                            InputLabelProps={{className:classes.padLeft}}\r\n                                        >\r\n                                        </TextField>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} className={classes.formGridItem}>\r\n                                        <TextField\r\n                                            id=\"lon1-input\"\r\n                                            error={Boolean(startLonMessage)}\r\n                                            label={\"Start Lon(\\xB0)\"}\r\n                                            className={classes.textField}\r\n                                            value={lon1}\r\n                                            onChange={handleLatLonChange}\r\n                                            FormHelperTextProps={{className: classes.helperText}}\r\n                                            helperText={startLonMessage}\r\n                                            name='lon1'\r\n                                            InputProps={{className:classes.padLeft}}\r\n                                            InputLabelProps={{className:classes.padLeft}}\r\n                                        >\r\n                                        </TextField>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} className={classes.formGridItem}>\r\n                                        <TextField\r\n                                            id=\"lon2-input\"\r\n                                            error={Boolean(endLonMessage)}\r\n                                            label={\"End Lon(\\xB0)\"}\r\n                                            className={classes.textField}\r\n                                            value={lon2}\r\n                                            onChange={handleLatLonChange}\r\n                                            FormHelperTextProps={{className: classes.helperText}}\r\n                                            helperText={endLonMessage}\r\n                                            name='lon2'\r\n                                            InputProps={{className:classes.padLeft}}\r\n                                            InputLabelProps={{className:classes.padLeft}}\r\n                                        >\r\n                                        </TextField>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} className={classes.formGridItem}>\r\n                                        <TextField\r\n                                            id=\"depth1-input\"\r\n                                            error={Boolean(startDepthMessage)}\r\n                                            label=\"Start Depth(m)\"\r\n                                            className={classes.textField}\r\n                                            value={isNaN(Math.floor(depth1 * 1000) / 1000) ? depth1 : Math.ceil(depth1 * 1000) / 1000}\r\n                                            onChange={handleChange}\r\n                                            FormHelperTextProps={{className: classes.helperText}}\r\n                                            helperText={startDepthMessage}\r\n                                            name='depth1'\r\n                                            InputProps={{className:classes.padLeft}}\r\n                                            InputLabelProps={{className:classes.padLeft}}\r\n                                        >\r\n                                        </TextField>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} className={classes.formGridItem}>\r\n                                        <TextField\r\n                                            id=\"depth2-input\"\r\n                                            error={Boolean(endDepthMessage)}\r\n                                            label=\"End Depth(m)\"\r\n                                            className={classes.textField}\r\n                                            value={isNaN(Math.ceil(depth2 * 1000) / 1000) ? depth2 : Math.ceil(depth2 * 1000) / 1000}\r\n                                            onChange={handleChange}\r\n                                            FormHelperTextProps={{className: classes.helperText}}\r\n                                            helperText={endDepthMessage}\r\n                                            name='depth2'\r\n                                            InputProps={{className:classes.padLeft}}\r\n                                            InputLabelProps={{className:classes.padLeft}}\r\n                                        >\r\n                                        </TextField>\r\n                                    </Grid>\r\n                                </> : ''\r\n                            }\r\n\r\n                            {\r\n                                this.state.controlPanelMode === controlPanelModes.charts ?\r\n                                <ChartControl\r\n                                    fields={fields}\r\n                                    overrideDisabledStyle={overrideDisabledStyle}\r\n                                    selectedVizType={selectedVizType}\r\n                                    heatmapMessage={heatmapMessage}\r\n                                    heatmapMessage={heatmapMessage}\r\n                                    contourMessage={contourMessage}\r\n                                    sectionMapMessage={sectionMapMessage}\r\n                                    sectionMapMessage={sectionMapMessage}\r\n                                    histogramMessage={histogramMessage}\r\n                                    timeSeriesMessage={timeSeriesMessage}\r\n                                    depthProfileMessage={depthProfileMessage}\r\n                                    sparseMapMessage={sparseMapMessage}\r\n                                    visualizeButtonTooltip={visualizeButtonTooltip}\r\n                                    disableVisualizeMessage={disableVisualizeMessage}\r\n                                    selectedVizType={selectedVizType}\r\n                                    handleChange={this.props.handleChange}\r\n                                    onVisualize={this.props.onVisualize}\r\n                                    showChartControl={this.state.showChartControl}\r\n                                /> : ''\r\n                            }\r\n\r\n\r\n\r\n                            <Paper className={classes.dataBitesContainer} style={this.state.showDataBites ? {} : {display: 'none'}}>\r\n                                Data Bites\r\n                            </Paper>\r\n\r\n                            <Paper className={classes.bottomControlContainer} style={this.state.showBottomControl ? {} : {display: 'none'}}>\r\n                                Bottom Control\r\n                            </Paper>\r\n\r\n                            {/* <Grid item xs={12}>\r\n                                <FormControl variant='filled' className={classes.vizTypeSelectFormControl} disabled={!fields}>\r\n                                    <InputLabel shrink htmlFor=\"vizSelector\" >Type</InputLabel>\r\n                                    <MUISelect\r\n                                        className={classes.vizTypeSelectFormControl}\r\n                                        style={overrideDisabledStyle}\r\n                                        value={selectedVizType}\r\n                                        variant='filled'\r\n                                        onChange={this.props.handleChange}\r\n                                        inputProps={{\r\n                                            name: 'selectedVizType',\r\n                                            id: 'vizSelector',\r\n                                            variant: 'filled'\r\n                                        }}\r\n                                        MenuProps={{\r\n                                            MenuListProps: {\r\n                                                className: classes.vizTypeMenu\r\n                                            }\r\n                                        }}\r\n                                        >\r\n                                        {!heatmapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.heatmap} title={heatmapMessage}>Heatmap</MenuItem>}\r\n                                        {!contourMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.contourMap}>Contour Heatmap</MenuItem>}\r\n                                        {!sectionMapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.sectionMap}>Section Map</MenuItem>}\r\n                                        {!sectionMapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.contourSectionMap}>Contour Section Map</MenuItem>}\r\n                                        {!histogramMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.histogram}>Histogram</MenuItem>}                      \r\n                                        {!timeSeriesMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.timeSeries}>Time Series</MenuItem>}\r\n                                        {!depthProfileMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.depthProfile}>Depth Profile</MenuItem>}\r\n                                        {!sparseMapMessage && <MenuItem className={classes.vizTypeMenuItem} value={vizSubTypes.sparse}>Sparse Map</MenuItem>}\r\n                                    </MUISelect>\r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Tooltip placement='right' title={visualizeButtonTooltip} className={classes.vizButtonTooltip}>\r\n                                <Grid item xs={12}>\r\n                                    <Button\r\n                                        className={classes.visualizeButton}\r\n                                        variant='contained'\r\n                                        onClick={() => this.props.onVisualize()}\r\n                                        disabled={Boolean(disableVisualizeMessage) || !fields || !selectedVizType}\r\n                                        fullWidth\r\n                                    >\r\n                                        Visualize\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Tooltip> */}\r\n                        </Grid>\r\n                    </form>                    \r\n                </Drawer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(VizControlPanel));","// Virtualized product list used on viz page for catalog-like and related-data searches\r\n// Each child will be a dataset, which will have variable children\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, TextField, MenuList, MenuItem, InputAdornment, Grid, Tooltip, IconButton, Accordion, AccordionSummary, AccordionDetails, Typography } from '@material-ui/core';\r\nimport { Search, List, Layers, DirectionsBoat, CallMissedOutgoing, Info, InsertChart, ExpandMore, Visibility, Computer } from '@material-ui/icons';\r\n\r\nimport * as JsSearch from 'js-search';\r\nimport { VariableSizeList } from 'react-window';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport states from '../../Enums/asyncRequestStates';\r\nimport { vizSearchResultsSetLoadingState } from '../../Redux/actions/visualization';\r\n\r\nimport TableStatsDialog from './TableStatsDialog';\r\n\r\nconst makeGroupStyles = {\r\n    searchOptionsMenuList: {\r\n        marginTop: '10px',\r\n        maxHeight: '440px',\r\n        overflow: 'auto'\r\n    },\r\n\r\n    searchOption: {\r\n        '&:hover': {\r\n            backgroundColor: colors.greenHover\r\n        },\r\n\r\n        cursor: 'pointer',\r\n        height: '38px',\r\n        boxShadow: '0px 1px 1px 1px #242424',\r\n        backgroundColor: 'rgba(0,0,0,.4)'\r\n    },\r\n\r\n    searchOptionsMenuItem: {\r\n        fontSize: '14px'\r\n    },\r\n\r\n    searchOptionsMenuItemText: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n\r\n    heading: {\r\n        textAlign: 'left',\r\n        padding: '16px 6px',\r\n        color: colors.primary,\r\n        fontSize: '18px',\r\n        marginTop: '5px',\r\n        backgroundColor: 'rgba(0,0,0,.4)'\r\n    },\r\n\r\n    variableItem: {\r\n        height: '32px',\r\n        paddingLeft: '24px', \r\n        textAlign: 'left',\r\n        fontSize: '14px',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: colors.greenHover\r\n        },\r\n    },\r\n\r\n    variablesWrapper: {\r\n        backgroundColor: 'rgba(0,0,0,.2)',\r\n        paddingTop: '8px'\r\n    },\r\n\r\n    memberCount: {\r\n        color: colors.primary,\r\n        fontWeight: 'bold'\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    vizSearchResultsLoadingState: state.vizSearchResultsLoadingState\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst MakeGroup = connect(mapStateToProps, mapDispatchToProps)(withStyles(makeGroupStyles)(React.memo((props) => {\r\n\r\n    const { classes, options, vizSearchResultsLoadingState, handleSelectDataTarget, setTableStatsTarget, listRef, make } = props;\r\n    const [ openIndex, setOpenIndex ] = React.useState(null);\r\n\r\n    const handleSetOpenClick = (i) => {\r\n        if(listRef.current) listRef.current.resetAfterIndex(0);\r\n        setOpenIndex(i);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(listRef.current) listRef.current.resetAfterIndex(0);\r\n    }, [options])\r\n\r\n    const varCount = options.reduce((acc, cur) => acc + cur.variables.length, 0);\r\n\r\n    return (\r\n        <>\r\n        <Typography className={classes.heading}>\r\n        {\r\n            vizSearchResultsLoadingState === states.inProgress ?\r\n            'Searching....' :\r\n            varCount ? `${make} Data - Showing ${varCount} variables in ${options.length} datasets`\r\n            : `${make} Data - No variables found for current search parameters`\r\n        }\r\n        </Typography>\r\n            <VariableSizeList\r\n                ref={listRef}\r\n                itemData={options}\r\n                itemCount={options.length}\r\n                height={props.height || 270}\r\n                width='100%'\r\n                estimatedItemSize={38}\r\n                style={{overflowY: 'scroll'}}\r\n                itemSize={(i) => openIndex === i ? options[i].variables.length * 32 + 38 + 8: 38}\r\n            >\r\n                {({ index, style }) => (\r\n                    <div style={style}>\r\n                        <Grid \r\n                            container \r\n                            className={classes.searchOption}\r\n                            onClick={() => index === openIndex ? handleSetOpenClick(null) : handleSetOpenClick(index)}\r\n                        >                                \r\n                            <Grid item xs={9} container alignItems='center' style={{paddingLeft: '8px'}}>\r\n                                <span className={classes.searchOptionsMenuItemText}>{options[index].Dataset_Name || options[index].Dataset_Name}</span>\r\n                            </Grid>\r\n\r\n                            <Tooltip title={`Dataset contains ${options[index].variables.length} variables matching the search criteria`}>\r\n                                <Grid item xs={1} className={classes.memberCount} container alignItems='center' justify='center'>\r\n                                    {options[index].variables.length}\r\n                                </Grid>\r\n                            </Tooltip>\r\n\r\n                            <Grid item xs={2} style={{paddingLeft: '12px'}} container alignItems='center'>\r\n                                <Tooltip title='Open Product Page'>\r\n                                    <Info style={{color: colors.primary}}/>\r\n                                </Tooltip>\r\n                            </Grid>                            \r\n                        </Grid>\r\n                        \r\n                        {\r\n                            index === openIndex ?\r\n                            <Grid container className={classes.variablesWrapper}>\r\n                                {options[index].variables.map((e, i) => (\r\n                                    <Grid \r\n                                        item \r\n                                        xs={12} \r\n                                        key={e.Long_Name} \r\n                                        className={classes.variableItem} \r\n                                        container \r\n                                        alignItems='center'\r\n                                        onClick={() => handleSelectDataTarget(e)}\r\n                                    >\r\n                                        <Grid item xs={9}>{e.Long_Name}</Grid>\r\n                                        <Grid item xs={3}>\r\n                                            <Tooltip title='View Product Information'>\r\n                                                <Info onClick={(event) => {\r\n                                                        event.stopPropagation();\r\n                                                        setTableStatsTarget(e);\r\n                                                    }}\r\n                                                    style={{marginLeft: '6px', color: colors.primary}}/>\r\n                                            </Tooltip>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                ))}\r\n                            </Grid>\r\n                            : ''\r\n                        }\r\n                    </div>\r\n                )}\r\n            </VariableSizeList>\r\n        </>\r\n    )\r\n})));\r\n\r\nconst styles = (theme) => ({\r\n\r\n});\r\n\r\nconst observationListRef = React.createRef();\r\nconst modelListRef = React.createRef();\r\n\r\n// const sortCartFirst\r\n\r\nconst ProductList = (props) => {\r\n\r\n    const { options, classes, handleSelectDataTarget, handleShowMemberVariables, vizSearchResultsLoadingState } = props;\r\n    \r\n    const [ tableStatsTarget, setTableStatsTarget ] = React.useState(null);\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            {\r\n                tableStatsTarget ? \r\n                <TableStatsDialog\r\n                    open={Boolean(tableStatsTarget)}\r\n                    onClose={() => setTableStatsTarget(null)}\r\n                    data={tableStatsTarget}\r\n                /> : ''\r\n            }\r\n\r\n            <MakeGroup\r\n                make='Observation'\r\n                options={options.Observation}\r\n                setTableStatsTarget={setTableStatsTarget}\r\n                listRef = {observationListRef}\r\n                handleSelectDataTarget={handleSelectDataTarget}\r\n            />\r\n\r\n            <MakeGroup\r\n                make='Model'\r\n                options={options.Model}\r\n                setTableStatsTarget={setTableStatsTarget}\r\n                listRef={modelListRef}\r\n                handleSelectDataTarget={handleSelectDataTarget}\r\n            />\r\n\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(ProductList);","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, IconButton, Typography, Grid, Tooltip } from '@material-ui/core';\r\nimport { Close, Info, InsertChart } from '@material-ui/icons';\r\n\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nimport TableStatsDialog from './TableStatsDialog';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport { memberVariablesFetch } from '../../Redux/actions/visualization';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    memberVariables: state.memberVariables\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    memberVariablesFetch\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    closeChartIcon: {\r\n        float: 'right',\r\n        // marginTop: '-4px',\r\n        // marginRight: '-2px'\r\n    },\r\n\r\n    listHeader: {\r\n        marginTop: '12px',\r\n        padding: '0 8px',\r\n        overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n        // width: '80%'\r\n    },\r\n\r\n    searchOptionsMenuItemText: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n\r\n    variableWrapper: {\r\n        '&:hover': {\r\n            borderBottom: `1px solid ${colors.primary}`\r\n        }\r\n    }\r\n});\r\n\r\nconst MemberVariablesList = React.memo((props) => {\r\n    const {\r\n        handleHideMemberVariables,\r\n        handleCreatePlot,\r\n        classes,\r\n        dataset,\r\n        memberVariablesFetch,\r\n        memberVariables\r\n    } = props;\r\n\r\n    useEffect(() => {\r\n        if(dataset){\r\n            memberVariablesFetch(dataset.Dataset_ID);\r\n        }\r\n    }, [dataset])\r\n\r\n    const [ tableStatsTarget, setTableStatsTarget ] = React.useState(null);\r\n\r\n    return dataset ? (\r\n        <React.Fragment>\r\n\r\n            {\r\n                tableStatsTarget ? \r\n\r\n                <TableStatsDialog\r\n                    open={Boolean(tableStatsTarget)}\r\n                    onClose={() => setTableStatsTarget(null)}\r\n                    data={tableStatsTarget}\r\n                /> : ''\r\n            }\r\n            \r\n            <IconButton className={classes.closeChartIcon} color=\"inherit\" onClick={handleHideMemberVariables} disableFocusRipple disableRipple>\r\n                <Close style={{color:colors.primary}}/>\r\n            </IconButton>\r\n\r\n            <Typography className={classes.listHeader}>\r\n                {dataset.Long_Name} \r\n            </Typography>\r\n\r\n            <Typography style={{marginBottom: '24px'}}>\r\n                Member Variables\r\n            </Typography>\r\n\r\n            <FixedSizeList\r\n                    itemData={memberVariables}\r\n                    itemCount={memberVariables.length}\r\n                    height={props.height || 460}\r\n                    width='100%'\r\n                    itemSize={42}\r\n                >\r\n                    {({ index, style }) => (\r\n                        <Grid \r\n                            container \r\n                            style={style} \r\n                            className={classes.variableWrapper}\r\n                            // className={classes.searchOption}\r\n                            // onClick={() => handleSelectDataTarget(options[index])}\r\n                        >\r\n\r\n                                <Grid item xs={6} lg={7} container alignItems='center' style={{paddingLeft: '8px'}}>\r\n                                    <span className={classes.searchOptionsMenuItemText}>{memberVariables[index].Long_Name}</span>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={5} lg={4} style={{paddingLeft: '12px'}} container alignItems='center'>\r\n                                    <Tooltip title='Show Variable Details'>\r\n                                        <Info \r\n                                            style={{marginLeft: '3px', cursor: 'pointer', color: colors.primary}} \r\n                                            onClick={() => setTableStatsTarget(memberVariables[index])}\r\n                                        />\r\n                                    </Tooltip>\r\n\r\n                                    {\r\n                                        memberVariables[index].Visualize ?\r\n                                        \r\n                                        <Tooltip title='Create a Plot Using This Variable'>\r\n                                            <InsertChart \r\n                                                style={{marginLeft: '3px', cursor: 'pointer', color: colors.primary}} \r\n                                                onClick={(e) => {\r\n                                                    // e.stopPropagation();\r\n                                                    // window.open(`/catalog/${options[index].Name ? 'cruises' : 'datasets'}/${options[index].Name ? options[index].Name : options[index].Short_Name}`, '_blank');\r\n                                                }}\r\n                                            />\r\n                                        </Tooltip> : ''\r\n                                    }\r\n                                </Grid>\r\n                            </Grid>                      \r\n                    )}\r\n                </FixedSizeList>\r\n        </React.Fragment>\r\n    ) : ''\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(MemberVariablesList));","// for use in select component\r\n// value is 'lat1 lat2 lon1 lon2'\r\n// regions use most inclusive boundaries\r\n\r\nexport default [\r\n    {\r\n        label: 'Southern Ocean',\r\n        value: '-90 -60 -180 180'\r\n    },\r\n\r\n    {\r\n        label: 'Arctic Ocean',\r\n        value: '60 90 -180 180'\r\n    },\r\n\r\n    {\r\n        label: 'Atlantic Ocean',\r\n        value: '-90 90 -83 14'\r\n    },\r\n\r\n    {\r\n        label: 'Northern Atlantic Ocean',\r\n        value: '0 90 -83 14'\r\n    },\r\n\r\n    {\r\n        label: 'Southern Atlantic Ocean',\r\n        value: '-90 0 -83 14'\r\n    },\r\n\r\n    {\r\n        label: 'Pacific Ocean',\r\n        value: '-90 65 146 -70'\r\n    },\r\n\r\n    {\r\n        label: 'Northern Pacific Ocean',\r\n        value: '0 90 146 -70'\r\n    },\r\n\r\n    {\r\n        label: 'Southern Pacific Ocean',\r\n        value: '-90 0 146 -70'\r\n    },\r\n\r\n    {\r\n        label: 'Indian Ocean',\r\n        value: '-90 30 14 147'\r\n    },\r\n\r\n    {\r\n        label: 'Mediterranean Sea',\r\n        value: '30 46 -6 37'\r\n    },\r\n\r\n    {\r\n        label: 'Gulf of Mexico',\r\n        value: '18 31 -99 -80'\r\n    }\r\n];","import React from 'react';\r\n\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { TextField, MenuItem, Popper, Grow, ClickAwayListener, Link, Paper } from '@material-ui/core';\r\n\r\nimport regions from '../../Enums/regions';\r\n\r\n// takes onSelect prop\r\n// takes buttonClass prop\r\n// takes listClass prop\r\n// takes inputClass prop\r\nconst RegionSelector = (props) => {\r\n\r\n    const [ anchorEl, setAnchorEl ] = React.useState(null);\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleChange = (event, option) => {\r\n        props.onSelect(option)\r\n        handleClose();\r\n    }\r\n\r\n    const handleButtonLinkClick = (e) => {\r\n        setAnchorEl(e.currentTarget);\r\n    }\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            {/* <Link\r\n                component='button'\r\n                onClick={handleButtonLinkClick}\r\n            >\r\n                Select Named Region\r\n            </Link>\r\n\r\n            <Popper open={Boolean(anchorEl)} anchorEl={anchorEl} role={undefined} transition placement='right-end'>\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow\r\n                    {...TransitionProps}\r\n                    style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                    >\r\n                        <Paper className={props.paperClass} style={{width: '300px'}}>\r\n                            <ClickAwayListener onClickAway={handleClose}> */}\r\n                                <Autocomplete\r\n                                    options={regions}\r\n                                    renderInput={(params) => <TextField margin='dense' {...params} label=\"Ocean Region\" InputLabelProps={{style:{fontSize: '12px'}}}/>}\r\n                                    getOptionLabel={(option) => option.label}\r\n                                    onChange={handleChange}\r\n                                    disablePortal\r\n                                    classes={{\r\n                                        paper: props.paperClass,\r\n                                        input: props.inputClass,\r\n                                        option: props.optionClass\r\n                                    }}\r\n                                />\r\n                            {/* </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>             */}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default RegionSelector;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Chip, TextField, MenuList, MenuItem, InputAdornment, Grid, Tooltip, IconButton, Link, Typography, FormControl, Select, FormHelperText, Button } from '@material-ui/core';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { Search, Layers, DirectionsBoat, CallMissedOutgoing, Info, InsertChart } from '@material-ui/icons';\r\n\r\nimport matchSorter from 'match-sorter';\r\n// import * as JsSearch from 'js-search';\r\n// import { FixedSizeList } from 'react-window';\r\n\r\nimport ProductList from './ProductList';\r\nimport MemberVariablesList from './MemberVariablesList';\r\nimport RegionSelector from '../UI/RegionSelector';\r\n\r\nimport { vizSearchResultsFetch, vizSearchResultsSetLoadingState, variableNameAutocompleteFetch, vizSearchResultsStore } from '../../Redux/actions/visualization';\r\nimport { keywordsFetch, searchOptionsFetch } from '../../Redux/actions/catalog';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport states from '../../Enums/asyncRequestStates';\r\nimport zIndex from '@material-ui/core/styles/zIndex';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    // datasets: state.datasets,\r\n    // cruiseList: state.cruiseList,\r\n    vizSearchResults: state.vizSearchResults,\r\n    // keywords: state.keywords,\r\n    vizSearchResultsLoadingState: state.vizSearchResultsLoadingState,\r\n    autocompleteVariableNames: state.autocompleteVariableNames,\r\n    submissionOptions: state.submissionOptions\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    vizSearchResultsFetch,\r\n    // keywordsFetch,\r\n    vizSearchResultsSetLoadingState,\r\n    variableNameAutocompleteFetch,\r\n    vizSearchResultsStore,\r\n    searchOptionsFetch\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    inputRoot: {\r\n        border: `1px solid ${colors.primary}`\r\n    },\r\n\r\n    chip: {\r\n        maxWidth: '160px',\r\n        color: 'white',\r\n        borderColor: theme.palette.primary.main,\r\n        marginRight: '6px',\r\n        height: '28px'\r\n    },\r\n\r\n    // autoComplete: {\r\n    //     // width: 'calc(100% - 48px)',\r\n    //     zIndex: 2000\r\n    // },\r\n\r\n    autocompletePopperPaper: {\r\n        backgroundColor: 'black',\r\n        zIndex: 30000\r\n    },\r\n\r\n    autocompleteOptions: {\r\n        '&[data-focus=\"true\"]': {\r\n            backgroundColor: colors.greenHover,\r\n          },\r\n          textAlign: 'left'\r\n    },\r\n\r\n    searchWrapper: {\r\n        position: '-webkit-sticky',\r\n        position: 'sticky',\r\n        top: '152px',\r\n        padding: '14px 20px'\r\n    },\r\n\r\n    chip: {\r\n        maxWidth: '160px',\r\n        color: 'white',\r\n        borderColor: theme.palette.primary.main,\r\n        marginRight: '6px',\r\n        height: '28px'\r\n    },\r\n\r\n    resetButton: {\r\n        textTransform: 'none',\r\n        width: '160px',\r\n        height: '37px',\r\n        color: theme.palette.primary.main,\r\n        borderColor: theme.palette.primary.main,\r\n        marginTop: '12px'\r\n    },\r\n\r\n    searchPanelRow: {\r\n        marginTop: '10px',\r\n    },\r\n\r\n    depthFormControlRoot: {\r\n        textAlign: 'left'\r\n    },\r\n\r\n    formControl: {\r\n        width: '90%',\r\n        marginBottom: '6px'\r\n    },\r\n\r\n    autoComplete: {\r\n        width: 'calc(100% - 48px)'\r\n    },\r\n\r\n    searchSectionHeader: {\r\n        color: theme.palette.primary.main,\r\n        textAlign: 'left',\r\n        marginBottom: '8px'\r\n    },\r\n\r\n    showAdvancedWrapper: {\r\n        textAlign: 'left',\r\n        marginTop: '4px',\r\n        width: '100%'\r\n    },\r\n\r\n    regionSelectorInput: {\r\n        fontSize: '13px',\r\n        // padding: '4px 0px'\r\n    },\r\n\r\n    sensorInputLabel: {\r\n        fontSize: '21px'\r\n    },\r\n\r\n    sensorTextField: {\r\n        paddingTop: '8px'\r\n    },\r\n\r\n    popperDisablePortal: {\r\n        bottom: 130\r\n    },\r\n\r\n    addBorder: {\r\n        border: `1px solid ${colors.primary}`\r\n    }\r\n});\r\n\r\n// const filterOptions = (options, { inputValue }) => {\r\n//     let values = inputValue.replace('_',' ').split(' ');\r\n//     let result = options;\r\n\r\n//     values.forEach(value => {\r\n//         result = matchSorter(result, value);\r\n//     });\r\n\r\n//     return result.sort((a,b) => a.length - b.length);\r\n// }\r\n\r\nconst defaultState = {\r\n    hasDepth: 'any',\r\n    timeStart: '1900-01-01',\r\n    timeEnd: new Date().toISOString().slice(0,10),\r\n    latStart: -90,\r\n    latEnd: 90,\r\n    lonStart: -180,\r\n    lonEnd: 180,\r\n    sensor: 'Any',\r\n    searchTerms: [],\r\n    searchInputValue: '',\r\n    sensorInputValue: '',\r\n    temporalResolution: 'Any',\r\n    spatialResolution: 'Any',\r\n    dataSource: 'Any',\r\n    distributor: 'Any',\r\n    processLevel: 'Any'\r\n}\r\n\r\nclass DataSearch extends React.Component {\r\n\r\n    state = {\r\n        memberVariablesDataset: null,\r\n        showAdvanced: false,\r\n        ...defaultState\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.props.vizSearchResultsFetch({});\r\n        // if(!this.props.submissionOptions || !this.props.submissionOptions.length){\r\n        //     this.props.searchOptionsFetch();\r\n        // }\r\n    }\r\n\r\n    handleSearchInputValueChange = (e) => {\r\n        this.props.variableNameAutocompleteFetch((e && e.target && e.target.value) || '');\r\n        this.setState({...this.state, searchInputValue: (e && e.target && e.target.value) || ''});\r\n    }\r\n\r\n    handleChangeSearchValue = (e, altTypeValue) => {\r\n        this.props.vizSearchResultsSetLoadingState(states.inProgress);\r\n        this.props.vizSearchResultsStore({Observation: [], Model: []});\r\n\r\n        const target = e.target.name === undefined ? \r\n            typeof altTypeValue === 'string' || altTypeValue === null ? 'sensor' : 'searchTerms' : e.target.name;\r\n\r\n        let value = e.target.name === 'searchTerms'  || e.target.name === undefined || e.target.name === 'sensor' ? altTypeValue : e.target.value;\r\n        \r\n        if(target === 'sensor' && value === null) value = 'Any';\r\n\r\n        let newState = {...this.state, [target]: value};\r\n\r\n        this.setState(newState);\r\n        newState.keywords = newState.searchTerms;\r\n        this.props.vizSearchResultsFetch(newState);\r\n    }\r\n\r\n    handleToggleShowAdvanced = () => {\r\n        this.setState({...this.state, showAdvanced: !this.state.showAdvanced});\r\n    }\r\n\r\n    handleShowMemberVariables = (dataset) => {\r\n        this.setState({...this.state, memberVariablesDataset: dataset});\r\n    }\r\n\r\n    handleSelectRegion = (option) => {\r\n        let coverageArray = option ? \r\n            option.value.split(' ').map(e => parseFloat(e)) :\r\n            [-90, 90, -180, 180];\r\n\r\n        let latStart = coverageArray[0];\r\n        let latEnd = coverageArray[1];\r\n        let lonStart = coverageArray[2];\r\n        let lonEnd = coverageArray[3];\r\n\r\n        let newState = {...this.state, latStart, latEnd, lonStart, lonEnd};\r\n        this.setState({...newState});\r\n        this.props.vizSearchResultsFetch(newState);\r\n        this.props.vizSearchResultsSetLoadingState(states.inProgress);\r\n        this.props.vizSearchResultsStore({Observation: [], Model: []});\r\n\r\n    }\r\n\r\n    handleResetSearch = () => {\r\n        this.setState({...this.state, ...defaultState});\r\n        this.props.vizSearchResultsStore({Observation: [], Model: []});\r\n        this.props.vizSearchResultsFetch({});\r\n        this.props.vizSearchResultsSetLoadingState(states.inProgress);\r\n    }\r\n\r\n    render = () => {\r\n        const {\r\n            classes,\r\n            handleSelectDataTarget,\r\n            // keywords,\r\n            vizSearchResults,\r\n            // vizSearchResultsSetLoadingState,\r\n            autocompleteVariableNames\r\n        } = this.props;\r\n\r\n        const { \r\n            searchTerms, \r\n            searchInputValue, \r\n            memberVariablesDataset,\r\n            hasDepth, \r\n            timeStart, \r\n            timeEnd, \r\n            latStart, \r\n            latEnd, \r\n            lonStart, \r\n            lonEnd,\r\n            temporalResolution,\r\n            spatialResolution,\r\n            dataSource,\r\n            distributor,\r\n            processLevel\r\n        } = this.state;\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <Grid container>\r\n                    <Grid item xs={5} style={{padding: '16px', backgroundColor: 'rgba(0,0,0,.4)', display: memberVariablesDataset ? 'none' : ''}}>\r\n                        <Autocomplete\r\n                            className={classes.autoComplete}\r\n                            value={searchTerms}\r\n                            onChange={this.handleChangeSearchValue}\r\n                            clearOnBlur={true}\r\n                            size='small'\r\n                            classes={{\r\n                                paper: classes.autocompletePopperPaper,\r\n                                option: classes.autocompleteOptions\r\n                            }}\r\n                            disablePortal\r\n                            fullWidth={false}\r\n                            filterOptions={options => options}\r\n                            handleHomeEndKeys={true}\r\n                            open={Boolean(autocompleteVariableNames && autocompleteVariableNames.length) && Boolean(searchInputValue && searchInputValue.length)}\r\n                            multiple\r\n                            id=\"catalog-search-autocomplete\"\r\n                            options={autocompleteVariableNames}\r\n                            clearOnEscape\r\n                            freeSolo\r\n                            inputValue={searchInputValue}\r\n                            onInputChange={this.handleSearchInputValueChange}\r\n                            renderTags={(value, getTagProps) => (\r\n                                value.map((option, index) => (\r\n                                    <Tooltip title={option} key={option}>\r\n                                        <Chip variant='outlined' label={option} {...getTagProps({ index })} className={classes.chip}/>\r\n                                    </Tooltip>\r\n                                ))\r\n                            )}\r\n                            renderInput={(params) => (\r\n                                <TextField\r\n                                    {...params}\r\n                                    name='searchTerms'\r\n                                    placeholder={searchTerms.length > 0 ? '' : 'Search'}\r\n                                    InputProps={{\r\n                                        ...params.InputProps,\r\n                                        classes: {\r\n                                            root: classes.inputRoot\r\n                                        },\r\n                                        startAdornment: (\r\n                                            <React.Fragment>\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <Search style={{color: colors.primary}}/>\r\n                                                </InputAdornment>\r\n                                                {params.InputProps.startAdornment}\r\n                                            </React.Fragment>\r\n                                        )\r\n                                    }}\r\n                                    variant=\"outlined\"                            \r\n                                />\r\n                            )}\r\n                        />  \r\n\r\n                    <div className={classes.showAdvancedWrapper}>\r\n                        <Link\r\n                            component='button'\r\n                            onClick={this.handleToggleShowAdvanced}\r\n                        >\r\n                            {this.state.showAdvanced ? 'Hide Advanced Search' : 'Advanced Search'}\r\n                        </Link>\r\n                    </div>\r\n\r\n\r\n                    {   this.state.showAdvanced ?\r\n                    <>\r\n\r\n                        <Grid item container xs={12} className={classes.searchPanelRow}>\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='timeStart'\r\n                                    className={classes.formControl}\r\n                                    id=\"date\"\r\n                                    label=\"Start Date\"\r\n                                    type=\"date\"\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={timeStart}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='timeEnd'\r\n                                    className={classes.formControl}\r\n                                    id=\"date\"\r\n                                    label=\"End Date\"\r\n                                    type=\"date\"\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={timeEnd}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>                        \r\n\r\n                        <Grid item container xs={12} className={classes.searchPanelRow}>\r\n                            <Grid item xs={12} style={{textAlign: 'left', margin: '-20px 0 8px 10px'}}>\r\n                                <RegionSelector\r\n                                    onSelect={this.handleSelectRegion}\r\n                                    paperClass={`${classes.autocompletePopperPaper} ${classes.addBorder}`}\r\n                                    inputClass={classes.regionSelectorInput}\r\n                                    optionClass={classes.autocompleteOptions}\r\n                                    addTopMargin={false}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='latStart'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lat Start&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -90,\r\n                                        max: 90\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={latStart}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='latEnd'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lat End&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -90,\r\n                                        max: 90\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={latEnd}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='lonStart'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lon Start&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -180,\r\n                                        max: 180\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lonStart}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='lonEnd'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lon End&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -180,\r\n                                        max: 180\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lonEnd}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>                            \r\n\r\n                            <Grid item xs={6}>\r\n                                <FormControl className={classes.formControl}>\r\n                                <FormHelperText>Depth Levels</FormHelperText>\r\n                                <Select\r\n                                    value={hasDepth}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                    name='hasDepth'\r\n                                    MenuProps={{\r\n                                        PopoverClasses: {\r\n                                            paper: `${classes.autocompletePopperPaper} ${classes.addBorder}`\r\n                                        },\r\n                                        style:{zIndex: 8000}\r\n                                    }}\r\n                                >\r\n                                    <MenuItem value='any'>Any</MenuItem>\r\n                                    <MenuItem value='yes'>Multiple Levels</MenuItem>\r\n                                    <MenuItem value='no'>Surface Only</MenuItem>\r\n                                </Select>                            \r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <Autocomplete\r\n                                    options={this.props.submissionOptions ? this.props.submissionOptions.Sensor : []}\r\n                                    disablePortal\r\n                                    renderInput={(params) => (\r\n                                            <TextField \r\n                                                {...params}\r\n                                                margin='dense'\r\n                                                name='sensor' \r\n                                                label=\"Sensor\" \r\n                                                InputLabelProps={{style:{fontSize: '16px'}}}\r\n                                                fullWidth\r\n                                                classes={{\r\n                                                    root: classes.sensorTextField,\r\n                                                }}\r\n                                                InputLabelProps={{\r\n                                                    shrink: true,\r\n                                                    classes: {\r\n                                                        root: classes.sensorInputLabel,\r\n                                                    }\r\n                                                }}\r\n                                        />)}\r\n                                    // getOptionLabel={(option) => option.label}\r\n                                    value={this.state.sensor}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                    inputValue={this.state.sensor}\r\n                                    onInputChange={(e, v) => ''}\r\n                                    classes={{\r\n                                        paper: `${classes.autocompletePopperPaper} ${classes.addBorder}`,\r\n                                        popperDisablePortal: classes.popperDisablePortal,\r\n                                        option: classes.autocompleteOptions\r\n                                        // input: props.inputClass\r\n                                    }}\r\n                                />\r\n                                </Grid>\r\n                                \r\n                                <Grid item xs={6}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <FormHelperText>Process Level</FormHelperText>\r\n                                        <Select\r\n                                            value={processLevel}\r\n                                            onChange={this.handleChangeSearchValue}\r\n                                            name='processLevel'\r\n                                            MenuProps={{\r\n                                                PopoverClasses: {\r\n                                                    paper: `${classes.autocompletePopperPaper} ${classes.addBorder}`\r\n                                                },\r\n                                                style:{zIndex: 8000}\r\n                                            }}\r\n                                        >\r\n                                            {\r\n                                                this.props.submissionOptions.Process_Level.map((e) => (\r\n                                                    <MenuItem key={e} value={e}>{e}</MenuItem>\r\n                                                ))\r\n                                            }\r\n                                        </Select>                            \r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={6}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <FormHelperText>Temporal Resolution</FormHelperText>\r\n                                        <Select\r\n                                            value={temporalResolution}\r\n                                            onChange={this.handleChangeSearchValue}\r\n                                            name='temporalResolution'\r\n                                            MenuProps={{\r\n                                                PopoverClasses: {\r\n                                                    paper: `${classes.autocompletePopperPaper} ${classes.addBorder}`\r\n                                                },\r\n                                                style:{zIndex: 8000}\r\n                                            }}\r\n                                        >\r\n                                            {\r\n                                                this.props.submissionOptions.Temporal_Resolution.map((e) => (\r\n                                                    <MenuItem key={e} value={e}>{e}</MenuItem>\r\n                                                ))\r\n                                            }\r\n                                        </Select>                            \r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={6}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <FormHelperText>Spatial Resolution</FormHelperText>\r\n                                        <Select\r\n                                            value={spatialResolution}\r\n                                            onChange={this.handleChangeSearchValue}\r\n                                            name='spatialResolution'\r\n                                            MenuProps={{\r\n                                                PopoverClasses: {\r\n                                                    paper: `${classes.autocompletePopperPaper} ${classes.addBorder}`\r\n                                                },\r\n                                                style:{zIndex: 8000}\r\n                                            }}\r\n                                        >\r\n                                            {\r\n                                                this.props.submissionOptions.Spatial_Resolution.map((e) => (\r\n                                                    <MenuItem key={e} value={e}>{e}</MenuItem>\r\n                                                ))\r\n                                            }\r\n                                        </Select>                            \r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={6}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <FormHelperText>Data Source</FormHelperText>\r\n                                        <Select\r\n                                            value={dataSource}\r\n                                            onChange={this.handleChangeSearchValue}\r\n                                            name='dataSource'\r\n                                            MenuProps={{\r\n                                                PopoverClasses: {\r\n                                                    paper: `${classes.autocompletePopperPaper} ${classes.addBorder}`\r\n                                                },\r\n                                                style:{zIndex: 8000}\r\n                                            }}\r\n                                        >\r\n                                            {\r\n                                                this.props.submissionOptions.Data_Source.map((e) => (\r\n                                                    <MenuItem key={e} value={e}>{e}</MenuItem>\r\n                                                ))\r\n                                            }\r\n                                        </Select>                            \r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={6}>\r\n                                    <FormControl className={classes.formControl}>\r\n                                        <FormHelperText>Distributor</FormHelperText>\r\n                                        <Select\r\n                                            value={distributor}\r\n                                            onChange={this.handleChangeSearchValue}\r\n                                            name='distributor'\r\n                                            MenuProps={{\r\n                                                PopoverClasses: {\r\n                                                    paper: `${classes.autocompletePopperPaper} ${classes.addBorder}`\r\n                                                },\r\n                                                style:{zIndex: 8000}\r\n                                            }}\r\n                                        >\r\n                                            {\r\n                                                this.props.submissionOptions.Distributor.map((e) => (\r\n                                                    <MenuItem key={e} value={e}>{e}</MenuItem>\r\n                                                ))\r\n                                            }\r\n                                        </Select>                            \r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.searchPanelRow}>\r\n                            <Button variant='outlined' onClick={this.handleResetSearch} className={classes.resetButton}>\r\n                                Reset Filters\r\n                            </Button>\r\n                        </Grid>\r\n                        </>\r\n                        : ''\r\n                    }\r\n                                          \r\n                    </Grid>\r\n\r\n                    {/* <Grid item xs={5} style={memberVariablesDataset ? {} : {display: 'none'}}> */}\r\n                        {/* <MemberVariablesList\r\n                            handleHideMemberVariables={() => this.setState({...this.state, memberVariablesDataset: null})}\r\n                            dataset={memberVariablesDataset}\r\n                        /> */}\r\n                    {/* </Grid> */}\r\n\r\n                    <Grid item xs={7}>\r\n                        <ProductList \r\n                            options={vizSearchResults}\r\n                            handleSelectDataTarget={handleSelectDataTarget}\r\n                            handleShowMemberVariables={this.handleShowMemberVariables}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DataSearch));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, Paper, ButtonGroup, Grid, IconButton, Icon, ListItem, MenuItem, Typography, Drawer, TextField, FormControl, InputLabel, Button, Tooltip, ClickAwayListener} from '@material-ui/core';\r\nimport { PlayArrow, ControlCamera , Settings, Fastfood, ShowChart, Search, Cached, LibraryBooks, ArrowRight, ChevronLeft, ChevronRight, InsertChartOutlined, Language, Delete, ShoppingCart, Info, DirectionsBoat } from '@material-ui/icons';\r\n\r\nimport { cruiseTrajectoryRequestSend, clearCharts, csvDownloadRequestSend, vizPageDataTargetSet } from '../../Redux/actions/visualization';\r\nimport { snackbarOpen } from '../../Redux/actions/ui';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport DataSearch from './DataSearch';\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    catalog: state.catalog,\r\n    catalogRequestState: state.catalogRequestState,\r\n    cruiseTrajectory: state.cruiseTrajectory,\r\n    showHelp: state.showHelp,\r\n    datasets: state.datasets,\r\n    charts: state.charts,\r\n    cart: state.cart,\r\n    cruiseList: state.cruiseList,\r\n    dataTarget: state.vizPageDataTarget\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseTrajectoryRequestSend,\r\n    clearCharts,\r\n    csvDownloadRequestSend,\r\n    snackbarOpen,\r\n    vizPageDataTargetSet\r\n}\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst styles = (theme) => ({\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n        height: 'auto',\r\n        // minHeight: 400,\r\n        top: 'calc(50% - 270px)',\r\n        borderRadius: '0 4px 4px 0',\r\n        boxShadow: '2px 2px  2px 2px #242424',\r\n        border: 'none',\r\n        overflow: 'visible',\r\n        backgroundColor: colors.backgroundGray\r\n    },\r\n\r\n    dataSearchMenuPaper: {\r\n        position: 'fixed',\r\n        // top: 'calc(50% - 270px)',\r\n        top: 120,\r\n        // left: drawerWidth + 10,\r\n        left: 0,\r\n        width: '100vw',\r\n        height: 'auto',\r\n        maxHeight: 'calc(100vh - 120px)',\r\n        zIndex: 1500,\r\n        backgroundColor: 'rgba(0,0,0,.6)',\r\n        backdropFilter: 'blur(5px)',\r\n    },\r\n\r\n    openPanelChevron: {\r\n        position: 'fixed',\r\n        left: 5,\r\n        top: 'calc(50% - 8px)',\r\n        zIndex: 1100\r\n      },\r\n    \r\n      closePanelChevron: {\r\n        position: 'fixed',\r\n        left: drawerWidth + 5,\r\n        top: 'calc(50% - 8px)',\r\n        zIndex: 1100\r\n      },\r\n\r\n    controlPanelItem: {\r\n        textTransform: 'none',\r\n        textAlign: 'left',\r\n        fontSize: '17px',\r\n        fontWeight: 200,\r\n        color: colors.primary,\r\n        justifyContent: 'flex-start'\r\n    },\r\n\r\n    controlPanelItemLabel: {\r\n      whiteSpace: 'nowrap',\r\n      overflow: 'hidden',\r\n      textOverflow: 'ellipsis',\r\n      display: 'inline-block'\r\n    },\r\n\r\n    controlPanelItemStartIcon: {\r\n        display: 'inline-block'\r\n    }\r\n});\r\n\r\nclass NewVizControlPanel extends React.Component {\r\n\r\n    state = {\r\n        showControlPanel: true,\r\n        dataSearchMenuOpen: false,\r\n        relatedDataMenuOpen: false\r\n    }\r\n\r\n    handleSelectDataTarget = (target) => {\r\n        this.setState({...this.state, dataSearchMenuOpen: false, relatedDataMenuOpen: false});\r\n        this.props.vizPageDataTargetSet(target);\r\n    }\r\n\r\n    handleClickAway = () => {\r\n        if(this.state.dataSearchMenuOpen){\r\n            this.setState({...this.state, dataSearchMenuOpen: false});\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n        const { \r\n            classes, \r\n            fields, \r\n            depth1,\r\n            depth2,\r\n            dt1,\r\n            dt2,\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            selectedVizType,\r\n            catalog,\r\n            catalogRequestState,\r\n            showCharts,\r\n            handleShowGlobe,\r\n            handleChange,\r\n            handleLatLonChange,\r\n            datasets,\r\n            cruiseList,\r\n            dataTarget\r\n        } = this.props;\r\n\r\n        const {\r\n            showControlPanel,\r\n            dataSearchMenuOpen\r\n        } = this.state;\r\n\r\n        const targetType = dataTarget && dataTarget.Name ? 'cruise' : 'dataset';\r\n\r\n        return (\r\n            <React.Fragment>\r\n                { \r\n                    showControlPanel ? \r\n                    <IconButton \r\n                        className={classes.closePanelChevron} \r\n                        aria-label=\"toggle-panel\" \r\n                        color=\"primary\" \r\n                        onClick={() => this.setState({...this.state, showControlPanel: false})}>\r\n                        <ChevronLeft />\r\n                    </IconButton>\r\n                    :\r\n\r\n                    <IconButton \r\n                        className={classes.openPanelChevron} \r\n                        aria-label=\"toggle-panel\" \r\n                        color=\"primary\" \r\n                        onClick={() => this.setState({...this.state, showControlPanel: true})}>\r\n                        <ChevronRight />\r\n                    </IconButton>\r\n                }\r\n\r\n                <Drawer\r\n                    className={classes.drawer}\r\n                    variant=\"persistent\"\r\n                    // open={showControlPanel}\r\n                    classes={{\r\n                        paper: `${classes.drawerPaper}`,\r\n                    }}\r\n                    open={showControlPanel}\r\n                    anchor=\"left\"\r\n                >\r\n                    <Button\r\n                        fullWidth={true}\r\n                        // startIcon={<Search/>}\r\n                        className={classes.controlPanelItem}\r\n                        startIcon={dataTarget ?\r\n                            <Tooltip title='Open Product Information Page' placement='top'>\r\n                                <Info \r\n                                    style={{fontSize: '22px', margin: '0 0 -5px 4px'}}\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        window.open(`/catalog/${dataTarget.Name ? 'cruises' : 'datasets'}/${dataTarget.Name ? dataTarget.Name : dataTarget.Short_Name}`, '_blank');\r\n                                    }}\r\n                                />\r\n                            </Tooltip>  : \r\n                            <Search style={{fontSize: '22px', margin: '0 0 -6px 4px'}}/>\r\n                        }\r\n                        onClick={() => this.setState({...this.state, dataSearchMenuOpen: true})}\r\n                        classes={{\r\n                            label: classes.controlPanelItemLabel,\r\n                            startIcon: classes.controlPanelItemStartIcon\r\n                        }}\r\n                    >\r\n                        { dataTarget ? (dataTarget.Name || dataTarget.Long_Name) : 'Select a Variable'}\r\n                    </Button>\r\n\r\n                    {\r\n                        dataTarget ?\r\n                            <Button\r\n                                fullWidth={true}\r\n                                className={classes.controlPanelItem}\r\n                                startIcon={<ControlCamera style={{fontSize: '22px', marginLeft: '5px'}}/>}\r\n                            >\r\n                                Find Related Data\r\n                            </Button>  \r\n\r\n                            :\r\n\r\n                            ''\r\n                    }\r\n\r\n                    {\r\n                        dataTarget && dataTarget.Name ?\r\n                        \r\n                        <>                                                                   \r\n                            <Button\r\n                                fullWidth={true}\r\n                                className={classes.controlPanelItem}\r\n                                \r\n                            >\r\n                                Show Data on Globe\r\n                            </Button>\r\n                        </> : ''\r\n                    }\r\n\r\n                    {\r\n                        dataTarget && dataTarget.Product_Type === 'Dataset' ?\r\n                        <>\r\n                            <Button\r\n                                fullWidth={true}\r\n                                className={classes.controlPanelItem}                                \r\n                            >\r\n                                Create Plot\r\n                            </Button>\r\n                        </>\r\n                        : ''\r\n                    }\r\n                </Drawer>\r\n                \r\n                <ClickAwayListener \r\n                    onClickAway={this.handleClickAway}\r\n                    mouseEvent='onMouseDown'\r\n                >\r\n                    <Paper className={classes.dataSearchMenuPaper} style={dataSearchMenuOpen ? {} : {display: 'none'}}>\r\n                        <DataSearch\r\n                            handleSelectDataTarget={this.handleSelectDataTarget}\r\n                        />\r\n                    </Paper>\r\n                </ClickAwayListener>\r\n            </React.Fragment>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(NewVizControlPanel));","export default [\r\n    null,\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December'\r\n]","import months from '../Enums/months';\r\n\r\nexport default (dateString, hasHour, isMonthly) => {\r\n    return isMonthly ? months[parseInt(dateString)] : hasHour ? dateString.slice(0,10) + ' ' + dateString.slice(11,16): dateString.slice(0,10);\r\n}","import colors from '../Enums/colors';\r\n\r\nexport default {\r\n    layout: {\r\n        font: {color: '#ffffff'},\r\n        paper_bgcolor: colors.backgroundGray,\r\n        autosize: true\r\n    },\r\n\r\n    config: {\r\n        displaylogo: false\r\n    },\r\n\r\n    annotations: (distributor, height = 40) => {\r\n        let yshift = ((document.documentElement.clientWidth * (height / 100)) / -2) + 20;\r\n        return (\r\n            [\r\n                {\r\n                    text: `Data Source: ${distributor.length < 35 ? \r\n                        distributor : \r\n                        distributor.slice(0,32) + '...'} -- Provided by Simons CMAP`,\r\n                    font: {\r\n                        color: 'white',\r\n                        size: 10\r\n                    },\r\n                    xref: 'paper',\r\n                    yref: 'paper',\r\n                    // yshift: height ? 0 - height + 160 : -290,\r\n                    yshift,\r\n                    showarrow: false,\r\n                }\r\n            ]\r\n        )   \r\n    }\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Button from '@material-ui/core/Button';\r\nimport { DateRange, CloudDownload, Palette, SwapVert, Gamepad, LineWeight, ShowChart, Tune } from '@material-ui/icons';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport { ButtonGroup } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n\r\n    popover: {\r\n        width: '470px',\r\n        height: '120px',\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(1),\r\n        paddingLeft: theme.spacing(2.5),\r\n        paddingRight: theme.spacing(2.5)\r\n    },\r\n\r\n    iconButton: {\r\n        boxShadow: '0px 1px 1px 1px #242424',\r\n    },\r\n\r\n    colorForm: {\r\n        width: '100%'\r\n    },\r\n\r\n    lastIcon: {\r\n        borderTopRightRadius: '10%',\r\n        borderBottomRightRadius: '10%'\r\n    },\r\n\r\n    buttonGroup: {\r\n        display: 'block',\r\n        margin: '0px auto 8px auto',\r\n        maxWidth: '700px'\r\n    },\r\n\r\n    depressed: {\r\n        boxShadow: 'inset 1px 1px 5px #262626'\r\n    },\r\n\r\n    colorscaleMenu: {\r\n        maxHeight: '400px'\r\n    },\r\n\r\n    grayBackground: {\r\n        backgroundColor: colors.backgroundGray\r\n    }\r\n})\r\n\r\nconst colorscaleOptions = [\r\n    'Default',\r\n    'Greys', \r\n    'YlGnBu', \r\n    'Greens', \r\n    'YlOrRd',\r\n    'Bluered',\r\n    'RdBu',\r\n    'Reds',\r\n    'Blues',\r\n    'Picnic',\r\n    'Rainbow',\r\n    'Portland',\r\n    'Jet',\r\n    'Hot',\r\n    'Blackbody',\r\n    'Earth',\r\n    'Electric',\r\n    'Viridis',\r\n    'Cividis'];\r\n\r\nfunction usePreviousSize(value) {\r\n    let size = value ? value.size : null;\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n        ref.current = size;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nfunction usePreviousColor(value) {\r\n    let color = value ? value.color : null;\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n        ref.current = color;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nfunction usePreviousOpacity(value) {\r\n    let opacity = value ? value.opacity : null;\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n        ref.current = opacity;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nconst ChartControlPanel = (props) => {\r\n\r\n    const { \r\n        classes, \r\n        onToggleSplitByDate,\r\n        splitByDate,\r\n        onToggleSplitBySpace,\r\n        splitBySpace,\r\n        orientation, \r\n        downloadCsv, \r\n        handleZValueConfirm,\r\n        zValues,\r\n        markerOptions,\r\n        handleMarkerOptionsConfirm,\r\n        showErrorBars,\r\n        handleSetShowErrorBars,\r\n        showLines,\r\n        handleSetShowLines\r\n    } = props;\r\n\r\n    const [paletteAnchorElement, setPaletteAnchorElement] = useState(null);\r\n\r\n    let handleOpenPalette = (event) => {\r\n        setPaletteAnchorElement(event.currentTarget);\r\n    }\r\n\r\n    // Local version, not from props\r\n    let handlePaletteChoice = (option) => {\r\n        setPaletteAnchorElement(null);\r\n        props.handlePaletteChoice(option);\r\n    }\r\n\r\n    const [zScalePopoverAnchorElement, setZScalePopoverAnchorElement] = React.useState(null);\r\n    const [localZMin, setLocalZMin] = React.useState(zValues && zValues[0]);\r\n    const [localZMax, setLocalZMax] = React.useState(zValues && zValues[1]);\r\n\r\n    const zScalePopoverOpen = Boolean(zScalePopoverAnchorElement);\r\n    const zScalePopoverID = zScalePopoverOpen ? 'zscale-popover' : undefined;\r\n\r\n    const handleZScalePopoverClose = () => {\r\n        setZScalePopoverAnchorElement(null);\r\n    };\r\n    \r\n    const checkLocalZMin = () => {\r\n        if(localZMin > localZMax) return `Min must be higher than max`;\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(localZMin)) return 'Invalid value';\r\n    }\r\n\r\n    const checkLocalZMax = () => {\r\n        if(localZMin > localZMax) return `Min must be higher than max`;\r\n        if(!/^[-+]?[0-9]*\\.?[0-9]+$/.test(localZMax)) return 'Invalid value';\r\n    }\r\n\r\n    const zScaleValidations = [\r\n        checkLocalZMin(),\r\n        checkLocalZMax()\r\n    ];\r\n\r\n    const [\r\n        zMinMessage,\r\n        zMaxMessage\r\n    ] = zScaleValidations;\r\n\r\n    const handleLocalZConfirm = () => {\r\n        handleZValueConfirm([localZMin, localZMax]);\r\n        handleZScalePopoverClose();\r\n    }\r\n\r\n    const [markerOptionsAnchorElement, setMarkerOptionsAnchorElement] = React.useState(null);\r\n    const [localMarkerOpacity, setLocalMarkerOpacity] = React.useState(markerOptions && markerOptions.opacity);\r\n    const [localMarkerColor, setLocalMarkerColor] = React.useState(markerOptions && markerOptions.color);\r\n    const [localMarkerSize, setLocalMarkerSize] = React.useState(markerOptions && markerOptions.size);\r\n\r\n    var previousOpacity = usePreviousOpacity(markerOptions);\r\n    var previousColor = usePreviousColor(markerOptions);\r\n    var previousSize = usePreviousSize(markerOptions);\r\n\r\n    useEffect(() => {\r\n        if(markerOptions){\r\n            if(markerOptions.opacity !== previousOpacity){\r\n                setLocalMarkerOpacity(markerOptions.opacity);\r\n            }\r\n    \r\n            if(markerOptions.color !== previousColor){\r\n                setLocalMarkerColor(markerOptions.color);\r\n            }\r\n    \r\n            if(markerOptions.size !== previousSize){\r\n                setLocalMarkerSize(markerOptions.size);\r\n            }\r\n        }\r\n    })\r\n\r\n    const markerPopoverOpen = Boolean(markerOptionsAnchorElement);\r\n    const markerPopoverID = markerPopoverOpen ? 'marker-popover' : undefined;\r\n\r\n    const handleMarkerOptionsClose = () => {\r\n        setMarkerOptionsAnchorElement(null);\r\n    }\r\n\r\n    const checkLocalMarkerOpacity = () => {\r\n        if(localMarkerOpacity < 0.1 || localMarkerOpacity > 1 || !/^[-+]?[0-9]*\\.?[0-9]+$/.test(localMarkerOpacity)){\r\n            return 'Opacity should be 0.1 to 1'\r\n        }\r\n    }\r\n\r\n    const checkLocalMarkerSize = () => {\r\n        if(localMarkerSize < 1 || localMarkerSize > 18 || !/^[-+]?[0-9]*\\.?[0-9]+$/.test(localMarkerSize)){\r\n            return 'Size should be 1 to 18'\r\n        }\r\n    }\r\n\r\n    const markerOptionsValidations = [\r\n        checkLocalMarkerOpacity(),\r\n        checkLocalMarkerSize()\r\n    ]\r\n\r\n    const [\r\n        localMarkerOpacityMessage,\r\n        localMarkerSizeMessage\r\n    ] = markerOptionsValidations;\r\n\r\n    const handleLocalMarkerOptionsConfirm = () => {\r\n        handleMarkerOptionsConfirm({opacity: localMarkerOpacity, color: localMarkerColor, size: localMarkerSize});\r\n        handleMarkerOptionsClose();\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ButtonGroup className={classes.buttonGroup}>\r\n\r\n                {Boolean(onToggleSplitByDate) && \r\n                    <Tooltip placement='top' title='Split By Date'>\r\n                        <IconButton color='inherit' className={`${classes.iconButton} ${splitByDate && classes.depressed}`} \r\n                            onClick={onToggleSplitByDate}\r\n                        >\r\n                            <DateRange/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(onToggleSplitBySpace) && \r\n                    <Tooltip placement='top' title={orientation === 'zonal' ? 'Split by Latitude' : 'Split by Longitude'}>\r\n                        <IconButton color='inherit' className={`${classes.iconButton} ${splitBySpace && classes.depressed}`} \r\n                            onClick={onToggleSplitBySpace}\r\n                        >\r\n                            <LineWeight/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                <Tooltip placement='top' title='Download CSV'>\r\n                    <IconButton color='inherit' onClick={downloadCsv} className={classes.iconButton} >\r\n                        <CloudDownload/>\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                {Boolean(handleZValueConfirm) &&\r\n                    <Tooltip title='Change Colorscale Range' placement='top'>\r\n                        <IconButton color='inherit' onClick={(event) => setZScalePopoverAnchorElement(event.currentTarget)} className={classes.iconButton}>\r\n                            <SwapVert/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(handleSetShowLines) &&\r\n                    <Tooltip title={showLines ? 'Hide Plot Line' : 'Show Plot Line'} placement='top'>\r\n                        <IconButton color='inherit' onClick={() => handleSetShowLines(!showLines)} className={`${classes.iconButton} ${showLines && classes.depressed}`}>\r\n                            <ShowChart/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(handleSetShowErrorBars) &&\r\n                    <Tooltip title={showErrorBars ? 'Hide Error Bars' : 'Show Error Bars'} placement='top'>\r\n                        <IconButton color='inherit' onClick={() => handleSetShowErrorBars(!showErrorBars)} className={`${classes.iconButton} ${showErrorBars && classes.depressed}`}>\r\n                            <Tune/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n\r\n                {Boolean(props.handlePaletteChoice) &&\r\n                    <Tooltip title='Change Palette' placement='top'>\r\n                        <IconButton disabled={!Boolean(props.handlePaletteChoice)} color='inherit' onClick={handleOpenPalette} className={classes.iconButton}>\r\n                            <Palette/>\r\n                        </IconButton>                \r\n                    </Tooltip>      \r\n                }\r\n\r\n                {Boolean(props.handleMarkerOptionsConfirm) &&\r\n                    <Tooltip title='Marker Options' placement='top'>\r\n                        <IconButton color='inherit' onClick={(event) => setMarkerOptionsAnchorElement(event.currentTarget)} className={`${classes.iconButton} ${classes.lastIcon}`} >\r\n                            <Gamepad/>\r\n                        </IconButton>                \r\n                    </Tooltip>\r\n                }\r\n                \r\n            </ButtonGroup>\r\n            \r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={paletteAnchorElement}\r\n                keepMounted\r\n                open={Boolean(paletteAnchorElement)}\r\n                onClose={() => setPaletteAnchorElement(null)}\r\n                className={classes.colorscaleMenu}\r\n                MenuListProps= {{\r\n                    className: classes.grayBackground\r\n                }}\r\n            >\r\n                {colorscaleOptions.map((option, index) => (\r\n                    <MenuItem onClick={() => handlePaletteChoice(option === 'Default' ? 'heatmap' : option)} key={index}>{option}</MenuItem>\r\n                ))}\r\n                \r\n            </Menu>\r\n            \r\n            {/* zscale popover */}\r\n            <Popover\r\n                id={zScalePopoverID}\r\n                open={zScalePopoverOpen}\r\n                anchorEl={zScalePopoverAnchorElement}\r\n                onClose={handleZScalePopoverClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n                PaperProps={{\r\n                    className: classes.grayBackground\r\n                }}\r\n            >\r\n                <div className={classes.popover}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(zMinMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='z-min-input' >Min</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='z-min-input'\r\n                                    value={localZMin}\r\n                                    onChange={(event) => setLocalZMin(event.target.value)}\r\n                                    aria-describedby='local-zmin-error'\r\n                                    labelWidth={36}\r\n                                    name='local-zmin'\r\n                                />\r\n                                <FormHelperText id='local-zmin-error'>{zMinMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(zMaxMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='z-max-input' >Max</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='z-max-input'\r\n                                    value={localZMax}\r\n                                    onChange={(event) => setLocalZMax(event.target.value)}\r\n                                    aria-describedby=\"local-zmax-error\"\r\n                                    labelWidth={36}\r\n                                    name='local-zmax'\r\n                                />\r\n                                <FormHelperText id=\"local-zmax-error\">{zMaxMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={7}>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button onClick={handleZScalePopoverClose}>\r\n                                Cancel\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button \r\n                                color='primary'\r\n                                onClick={handleLocalZConfirm}\r\n                                disabled={Boolean(zMinMessage || zMaxMessage)}\r\n                            >\r\n                                Confirm\r\n                            </Button>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={1}>\r\n                        </Grid>\r\n\r\n                    </Grid>                    \r\n                </div>\r\n            </Popover>\r\n                \r\n            {/* Marker popover */}\r\n            <Popover\r\n                id={markerPopoverID}\r\n                open={markerPopoverOpen}\r\n                anchorEl={markerOptionsAnchorElement}\r\n                onClose={handleMarkerOptionsClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n                PaperProps={{\r\n                    className: classes.grayBackground\r\n                }}\r\n            >\r\n                <div className={classes.popover}>\r\n                    <Grid container spacing={1}>\r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                error={Boolean(localMarkerOpacityMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='local-marker-opacity' >Opacity</InputLabel>\r\n                                <OutlinedInput\r\n                                    id='local-marker-opacity'\r\n                                    value={localMarkerOpacity}\r\n                                    onChange={(event) => setLocalMarkerOpacity(event.target.value)}\r\n                                    aria-describedby='local-marker-opacity'\r\n                                    labelWidth={44}\r\n                                    name='local-marker-opacity'\r\n                                />\r\n                            <FormHelperText id=\"local-marker-opacity-error\">{localMarkerOpacityMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                // error={Boolean(zMaxMessage)} \r\n                            >\r\n                                <InputLabel htmlFor='local-marker-size' >Size</InputLabel>\r\n                                <OutlinedInput\r\n                                    error={Boolean(localMarkerSizeMessage)}\r\n                                    id='local-marker-size'\r\n                                    value={localMarkerSize}\r\n                                    onChange={(event) => setLocalMarkerSize(event.target.value)}\r\n                                    aria-describedby=\"local-marker-size\"\r\n                                    labelWidth={36}\r\n                                    name='local-marker-size'\r\n                                />\r\n                                <FormHelperText id=\"local-marker-size-error\">{localMarkerSizeMessage}</FormHelperText>\r\n                            </FormControl>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={6}>\r\n                            <FormControl \r\n                                variant='outlined'\r\n                                className={classes.colorForm}\r\n                            >\r\n                                <InputLabel htmlFor='z-min-input'>Color</InputLabel>\r\n                                <OutlinedInput\r\n                                    type='color'\r\n                                    id='marker-color'\r\n                                    value={localMarkerColor}\r\n                                    onChange={(event) => setLocalMarkerColor(event.target.value)}\r\n                                    aria-describedby='local-marker-color'\r\n                                    labelWidth={44}\r\n                                    name='local-marker-color'\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={1}></Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button onClick={handleMarkerOptionsClose}>\r\n                                Cancel\r\n                            </Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2}>\r\n                            <Button \r\n                                color='primary'\r\n                                onClick={handleLocalMarkerOptionsConfirm}\r\n                                disabled={Boolean(localMarkerOpacityMessage || localMarkerSizeMessage)}\r\n                            >\r\n                                Confirm\r\n                            </Button>\r\n                        </Grid> \r\n\r\n                        <Grid item xs={1}>\r\n                        </Grid>\r\n\r\n                    </Grid>                    \r\n                </div>\r\n            </Popover>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(ChartControlPanel);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport handleChartDateString from '../../Utility/handleChartDatestring';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nimport { csvFromVizRequestSend } from '../../Redux/actions/visualization';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    },\r\n    iconButtonWrapper: {\r\n        display: 'inline-block'\r\n    },    \r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    csvFromVizRequestSend\r\n}\r\n\r\n// User for all histograms sparse or otherwise\r\nconst SparseHistogram = (props) => {\r\n    const { csvFromVizRequestSend } = props;\r\n    const { data } = props.chart;\r\n    const { metadata, parameters } = data;\r\n\r\n    const downloadCsv = () => {\r\n        csvFromVizRequestSend(data, metadata.Table_Name, metadata.Variable, metadata.Long_Name);\r\n    }\r\n\r\n    const date = parameters.dt1 === parameters.dt2 ? handleChartDateString(parameters.dt1) :\r\n        handleChartDateString(parameters.dt1) + ' to ' + handleChartDateString(parameters.dt2);\r\n\r\n    const lat = parameters.lat1 === parameters.lat2 ? parameters.lat1 + '\\xb0' :\r\n        parameters.lat1 + '\\xb0 to ' + parameters.lat2 + '\\xb0';\r\n\r\n    const lon = parameters.lon1 === parameters.lon2 ? parameters.lon1 + '\\xb0' :\r\n        parameters.lon1 + '\\xb0 to ' + parameters.lon2 + '\\xb0';\r\n\r\n    const depth = !data.hasDepth ? 'Surface' :\r\n        parameters.depth1 === parameters.depth2 ? `${parameters.depth1}[m]` :\r\n        `${parameters.depth1}[m] to ${parameters.depth2}[m]`;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ChartControlPanel\r\n                downloadCsv={downloadCsv}\r\n            />\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                // display:'inline-block',\r\n                width: '60vw',\r\n                height: '40vw'\r\n            }}\r\n\r\n            useResizeHandler={true}\r\n\r\n            data={[\r\n                {\r\n                    x: data.variableValues,\r\n                    name: data.parameters.fields,\r\n                    type: 'histogram',\r\n                    marker: {\r\n                        color: '#00FFFF'\r\n                    }\r\n                }\r\n            ]}\r\n            \r\n            layout= {{\r\n                ...chartBase.layout,\r\n                plot_bgcolor: 'transparent',\r\n                title: {\r\n                    text: `${parameters.fields} [${metadata.Unit}]` + \r\n                        `<br>${date}, ` + \r\n                        depth + \r\n                        `<br>Lat: ${lat}, ` +\r\n                        `Lon: ${lon}`,\r\n                    font: {\r\n                        size: 13\r\n                    }\r\n                },\r\n                xaxis: {\r\n                    title: `${parameters.fields} [${metadata.Unit}]`,\r\n                    exponentformat: 'power',\r\n                    color: '#ffffff'\r\n                },\r\n                yaxis:{\r\n                    color: '#ffffff',\r\n                    title: 'Frequency'\r\n                },\r\n                annotations: chartBase.annotations(metadata.Distributor)             \r\n            }}\r\n            config={{...chartBase.config}}\r\n        />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SparseHistogram));","export default (infoObject) => {\r\n\r\n    let lonRange = infoObject.lonMax - infoObject.lonMin;\r\n\r\n    let sectionSize;\r\n    if(lonRange < 2){\r\n        sectionSize = (lonRange / 6).toFixed(2);\r\n    } else {\r\n        sectionSize = Math.floor(lonRange / 6);\r\n    }\r\n\r\n    let tickvals = Array.from(Array(5), (e, i) => Math.ceil(infoObject.lonMin + ((i + 1) * sectionSize)));\r\n    let ticktext = tickvals.map(e => e > 180 ? e - 360 : e);\r\n\r\n    return {\r\n        tickmode: 'array',\r\n        tickvals,\r\n        ticktext\r\n    }\r\n}","export default (infoObject) => {    \r\n    const xRange = infoObject.lonMax - infoObject.lonMin;\r\n    const yRange = infoObject.latMax - infoObject.latMin;\r\n    const sizeRatio = xRange / yRange;\r\n\r\n    let height = 40;\r\n    let width = 40;\r\n\r\n    if(isNaN(sizeRatio)){\r\n        height = height / 1.65;\r\n    } else if (sizeRatio > 1) {\r\n        if(sizeRatio <= 1.5){\r\n            width = width * sizeRatio;\r\n            // height = sizeRatio > 2 ? height / 2 : height / sizeRatio;\r\n        } else {\r\n            width = width * 1.5;\r\n            height = sizeRatio > 3 ? height / 1.65 : height * (1.8 / sizeRatio);\r\n        }\r\n    } else {\r\n        width = sizeRatio < .5 ? width * .5 : width * sizeRatio;\r\n    }\r\n\r\n    return [height, width];\r\n}","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport SparseHistogram from './SparseHistogram';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport vizSubTypes from '../../Enums/visualizationSubTypes';\r\n\r\nimport handleXTicks from '../../Utility/handleXTicks';\r\nimport chartBase from '../../Utility/chartBase';\r\nimport getChartDimensions from '../../Utility/getChartDimensions';\r\nimport handleChartDateString from '../../Utility/handleChartDatestring';\r\nimport countWebGLContexts from '../../Utility/countWebGLContexts';\r\n\r\nimport { setLoadingMessage, snackbarOpen } from '../../Redux/actions/ui';\r\nimport { csvFromVizRequestSend } from '../../Redux/actions/visualization';\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { format } from 'd3-format';\r\nimport subTypes from '../../Enums/visualizationSubTypes';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    charts: state.charts\r\n})\r\n\r\nconst handleContourMap = (subsets, infoObject, splitByDate, splitByDepth, palette, zMin, zMax) => {\r\n    const { parameters, metadata } = infoObject;\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n    \r\n    // Handle axis labels when crossing 180th meridian\r\n    let xTicks = infoObject.parameters.lon1 > infoObject.parameters.lon2 ? handleXTicks(infoObject) : {};\r\n\r\n    const [ height, width ] = getChartDimensions(infoObject);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const date = dates.length <= 1 ? handleChartDateString(dates[0], infoObject.hasHour, infoObject.isMonthly) :\r\n            !splitByDate ? `Averaged Values ${handleChartDateString(dates[0], infoObject.hasHour, infoObject.isMonthly)} to ${handleChartDateString(dates[dates.length - 1], infoObject.hasHour, infoObject.isMonthly)}` :  \r\n            splitByDepth ? handleChartDateString(dates[Math.floor(index/depths.length)], infoObject.hasHour, infoObject.isMonthly) : \r\n            handleChartDateString(dates[index], infoObject.hasHour, infoObject.isMonthly);\r\n\r\n        const depth = !infoObject.hasDepth ? 'Surface' :\r\n            depths.length === 1 ? depths[0] + '[m]':\r\n            !splitByDepth ? `Averaged Values ${parameters.depth1} to ${parameters.depth2}` : \r\n            splitByDate ? depths[index % depths.length].toFixed(2) + '[m]' : depths[index].toFixed(2) + '[m]';\r\n\r\n        const latTitle = parameters.lat1 === parameters.lat2 ? `${parameters.lat1}\\xb0` :\r\n            `${parameters.lat1}\\xb0 to ${parameters.lat2}\\xb0`;\r\n\r\n        const lonTitle = parameters.lon1 === parameters.lon2 ? `${parameters.lon1}\\xb0` :\r\n            `${parameters.lon1}\\xb0 to ${parameters.lon2}\\xb0`; \r\n\r\n        var hovertext = subset.map((value, i) => {\r\n            let abs = Math.abs(value);\r\n            let formatter = abs > .01 && abs < 1000 ? '.2f' : '.2e';\r\n            if(value === null) return `Lat: ${format('.2f')(infoObject.lats[i])}\\xb0` +\r\n                `<br>` +\r\n                `Lon: ${infoObject.lons[i] > 180 ? format('.2f')(infoObject.lons[i] - 360) : format('.2f')(infoObject.lons[i])}\\xb0`\r\n\r\n            return `Lat: ${format('.2f')(infoObject.lats[i])}\\xb0` +\r\n            `<br>` +\r\n            `Lon: ${infoObject.lons[i] > 180 ? format('.2f')(infoObject.lons[i] - 360) : format('.2f')(infoObject.lons[i])}\\xb0` + \r\n            '<br>' +\r\n            `${infoObject.parameters.fields}: ${format(formatter)(value)} [${infoObject.metadata.Unit}]`;\r\n        });\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                // display:'inline-block',\r\n                width: `${width}vw`,\r\n                height: `${height}vw`,\r\n                minWidth: `${width * 10}px`,\r\n                minHeight: `${height * 10}px`,\r\n                margin: '0 auto'\r\n            }}\r\n\r\n            useResizeHandler={true}\r\n            \r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zMin,\r\n                    zmax: zMax,\r\n                    x: infoObject.lons,\r\n                    y: infoObject.lats,\r\n                    z: subset,\r\n                    connectgaps: false,\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n\r\n                    hoverinfo: 'text',\r\n                    hovertext,\r\n                    \r\n                    name: infoObject.parameters.fields,\r\n                    type: 'contour',\r\n                    contours: {\r\n                        coloring: palette,\r\n                        showlabels: true,\r\n                        labelfont: {\r\n                            family: 'Raleway',\r\n                            size: 12,\r\n                            color: 'white',\r\n                        },\r\n                        labelformat: infoObject.zMin > 1 && infoObject.zMin < 1000 ? '.2f' : '.2e'\r\n                    },\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat: 'power'\r\n                    }\r\n                }\r\n            ]}\r\n\r\n            config={{...chartBase.config}}\r\n            \r\n            key={index}\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                // autosize: true,\r\n                title: {\r\n                    text: `${parameters.fields} [${metadata.Unit}]` + \r\n                        `<br>${date}, ` + \r\n                        `${depth} <br>` + \r\n                        `Lat: ${latTitle}, ` +\r\n                        `Lon: ${lonTitle}`,\r\n                    font: {\r\n                        size: 13\r\n                    }\r\n                },\r\n                xaxis: {title: 'Longitude', color: '#ffffff', ...xTicks},\r\n                yaxis: {title: 'Latitude', color: '#ffffff'},\r\n                annotations: chartBase.annotations(infoObject.metadata.Distributor, height)\r\n            }}   \r\n        />)\r\n    })\r\n}\r\n\r\nconst handleHeatmap = (subsets, infoObject, splitByDate, splitByDepth, palette, zMin, zMax) => {\r\n    const { parameters, metadata } = infoObject;\r\n\r\n    const depths = Array.from(infoObject.depths).map(depth => parseFloat(depth));\r\n    const dates = Array.from(infoObject.dates);\r\n\r\n    let xTicks = infoObject.parameters.lon1 > infoObject.parameters.lon2 ? handleXTicks(infoObject) : {};\r\n\r\n    const [ height, width ] = getChartDimensions(infoObject);\r\n\r\n    return subsets.map((subset, index) => {\r\n\r\n        const date = dates.length <= 1 ? handleChartDateString(dates[0], infoObject.hasHour, infoObject.isMonthly) :\r\n            !splitByDate ? `Averaged Values ${handleChartDateString(dates[0], infoObject.hasHour, infoObject.isMonthly)} to ${handleChartDateString(dates[dates.length - 1], infoObject.hasHour, infoObject.isMonthly)}` :  \r\n            splitByDepth ? handleChartDateString(dates[Math.floor(index/depths.length)], infoObject.hasHour, infoObject.isMonthly) : \r\n            handleChartDateString(dates[index], infoObject.hasHour, infoObject.isMonthly);\r\n\r\n        const depth = !infoObject.hasDepth ? 'Surface' :\r\n            depths.length === 1 ? depths[0] + '[m]':\r\n            !splitByDepth ? `Averaged Values ${parameters.depth1} to ${parameters.depth2}` : \r\n            splitByDate ? depths[index % depths.length].toFixed(2) + '[m]' : depths[index].toFixed(2) + '[m]';\r\n\r\n        const latTitle = parameters.lat1 === parameters.lat2 ? `${parameters.lat1}\\xb0` :\r\n            `${parameters.lat1}\\xb0 to ${parameters.lat2}\\xb0`;\r\n\r\n        const lonTitle = parameters.lon1 === parameters.lon2 ? `${parameters.lon1}\\xb0` :\r\n            `${parameters.lon1}\\xb0 to ${parameters.lon2}\\xb0`;\r\n        \r\n        var hovertext = subset.map((value, i) => {\r\n            let abs = Math.abs(value);\r\n            let formatter = abs > .01 && abs < 1000 ? '.2f' : '.2e';\r\n            if(value === null || isNaN(value)) return `Lat: ${format('.2f')(infoObject.lats[i])}\\xb0` +\r\n                `<br>` +\r\n                `Lon: ${infoObject.lons[i] > 180 ? format('.2f')(infoObject.lons[i] - 360) : format('.2f')(infoObject.lons[i])}\\xb0`\r\n\r\n            return `Lat: ${format('.2f')(infoObject.lats[i])}\\xb0` +\r\n            `<br>` +\r\n            `Lon: ${infoObject.lons[i] > 180 ? format('.2f')(infoObject.lons[i] - 360) : format('.2f')(infoObject.lons[i])}\\xb0` + \r\n            '<br>' +\r\n            `${infoObject.parameters.fields}: ${format(formatter)(value)} [${infoObject.metadata.Unit}]`;\r\n        });\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                // display:'inline-block',\r\n                width: `${width}vw`,\r\n                height: `${height}vw`,\r\n                minWidth: `${width * 10}px`,\r\n                minHeight: `${height * 10}px`,\r\n            }}\r\n\r\n            useResizeHandler={true}\r\n\r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zMin,\r\n                    zmax: zMax,\r\n                    zsmooth: subset.length < 20000 ? 'fast' : 'false',\r\n                    x: infoObject.lons,\r\n                    y: infoObject.lats,\r\n                    z: subset,\r\n                    connectgaps: false,\r\n                    name: infoObject.parameters.fields,\r\n                    type: 'heatmap',\r\n                    colorscale: palette,\r\n                    autocolorscale: false,\r\n                    \r\n                    hoverinfo: 'text',\r\n                    text: hovertext,\r\n\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat:'power'\r\n                    },\r\n                    \r\n                },\r\n                // // Mask null values - currently tooltips aren't working\r\n                // {\r\n                //     x: infoObject.lons,\r\n                //     y: infoObject.lats,\r\n                //     z: subset.map(value => value === null ? 0 : 1),\r\n                //     type: 'heatmap',\r\n\r\n                //     colorscale: [\r\n                //         [0, 'rgba(255,255,255,1)'],\r\n                //         [0.5, 'rgba(255,255,255,1)'],\r\n                //         [0.5, 'rgba(0,0,0,0)'],\r\n                //         [1.0, 'rgba(0,0,0,0)'],\r\n                //     ],\r\n                //     showscale: false\r\n                // }\r\n            ]}                \r\n            key={index}\r\n\r\n            config={{...chartBase.config}}\r\n\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                title: {\r\n                    text: `${parameters.fields} [${metadata.Unit}]` + \r\n                        `<br>${date}, ` + \r\n                        `${depth} <br>` + \r\n                        `Lat: ${latTitle}, ` +\r\n                        `Lon: ${lonTitle}`,\r\n                    font: {\r\n                        size: 13\r\n                    }\r\n                },\r\n                xaxis: {\r\n                    title: 'Longitude[\\xB0]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    ...xTicks\r\n                },\r\n                yaxis: {\r\n                    title: 'Latitude[\\xB0]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                annotations: chartBase.annotations(infoObject.metadata.Distributor, height)\r\n            }}   \r\n        />)\r\n    })\r\n}\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    },\r\n    iconButtonWrapper: {\r\n        display: 'inline-block'\r\n    },    \r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage,\r\n    snackbarOpen,\r\n    csvFromVizRequestSend\r\n}\r\n\r\nconst SpaceTimeChart = (props) => {\r\n\r\n    const { snackbarOpen, csvFromVizRequestSend } = props;\r\n    const { data, subType } = props.chart;\r\n    const { dates, depths, extent, metadata } = data;\r\n\r\n    const [splitByDate, setSplitByDate] = useState(false);\r\n    const [splitByDepth, setSplitByDepth] = useState(true);\r\n    const [palette, setPalette] = useState('heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [zMin, zMax] = zValues;\r\n\r\n    const subSets = data.generatePlotData(subType, splitByDate, splitByDepth);\r\n    var plots;\r\n    switch(subType){\r\n        case vizSubTypes.contourMap:\r\n            plots = handleContourMap(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        case vizSubTypes.heatmap:\r\n            plots = handleHeatmap(subSets, data, splitByDate, splitByDepth, palette, zMin, zMax);\r\n            break;\r\n\r\n        case vizSubTypes.histogram:\r\n            return <SparseHistogram chart={{data}}/>;\r\n\r\n        default:\r\n            plots = '';\r\n            break;        \r\n\r\n    }\r\n\r\n    const onToggleSplitByDate = () => {\r\n        let chartCount = depths ? depths.size : 1;\r\n\r\n        if(subType === vizSubTypes.heatmap){\r\n            let availableWGLContexts = 15 - countWebGLContexts(props.charts);\r\n\r\n            if(!splitByDate && chartCount * dates.size > availableWGLContexts){\r\n                snackbarOpen('Unable to split. Rendering limit exceeded.');\r\n                return;\r\n            }\r\n        }\r\n\r\n        if(subType === vizSubTypes.contourMap){\r\n            if(!splitByDate && chartCount * dates.size > 20){\r\n            snackbarOpen('Unable to split. Rendering limit exceeded.');\r\n            return;\r\n            }\r\n        }\r\n\r\n        props.setLoadingMessage('Processing Data');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitByDate(!splitByDate);\r\n        }, 100)\r\n    }\r\n \r\n    const onToggleSplitByDepth = () => {\r\n        props.setLoadingMessage('Processing Data');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setSplitByDepth(!splitByDepth);\r\n        }, 100)\r\n    }\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const downloadCsv = () => {\r\n        csvFromVizRequestSend(data, metadata.Table_Name, metadata.Variable, metadata.Long_Name);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ChartControlPanel\r\n                handlePaletteChoice={subType !== subTypes.histogram && handlePaletteChoice}\r\n                onToggleSplitByDepth={depths.size===1 ? null : onToggleSplitByDepth}\r\n                onToggleSplitByDate={dates.size===1 ? null : onToggleSplitByDate}\r\n                splitByDepth={splitByDepth}\r\n                splitByDate={splitByDate}\r\n                handleZValueConfirm={subType !== subTypes.histogram && handleZValueConfirm}\r\n                zValues={subType !== subTypes.histogram && zValues}\r\n                extent={subType !== subTypes.histogram && extent}\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            {plots}     \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SpaceTimeChart));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport months from '../../Enums/months';\r\nimport chartBase from '../../Utility/chartBase';\r\nimport handleChartDateString from '../../Utility/handleChartDatestring';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\nimport { csvFromVizRequestSend } from '../../Redux/actions/visualization';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage,\r\n    csvFromVizRequestSend\r\n}\r\n\r\nconst TimeSeriesChart = (props) => {\r\n    const { csvFromVizRequestSend } = props;\r\n    const { data } = props.chart;\r\n    const { stds, variableValues, dates, parameters, metadata } = data;\r\n\r\n    const [ markerOptions, setMarkerOptions ] = React.useState({opacity: .2, color:'#ff1493', size: 12});\r\n    const [ showLines, setShowLines ] = React.useState(true);\r\n    const [ showErrorBars, setShowErrorBars ] = React.useState(variableValues && variableValues.length <= 40 ? true : false);\r\n\r\n    const downloadCsv = () => {\r\n        csvFromVizRequestSend(data, metadata.Table_Name, metadata.Variable, metadata.Long_Name);\r\n    }\r\n\r\n    const handleMarkerOptionsConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setMarkerOptions(values);\r\n        }, 50)\r\n    }\r\n\r\n    const handleSetShowLines = (value) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setShowLines(value);\r\n        }, 50)\r\n    }\r\n\r\n    const handleSetShowErrorBars = (value) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setShowErrorBars(value);\r\n        }, 50)\r\n    }\r\n\r\n    let hovertext = variableValues.map((value, i) => {\r\n        return `Time: ${dates[i].slice(0,10)}<br>${parameters.fields}: ${format('.2e')(value)} \\xb1 ${format('.2e')(stds[i])} [${metadata.Unit}]`;\r\n    })\r\n\r\n    const date = parameters.dt1 === parameters.dt2 ? handleChartDateString(dates[0], data.hasHour, data.isMonthly) :\r\n        handleChartDateString(dates[0], data.hasHour, data.isMonthly) + ' to ' + handleChartDateString(dates[dates.length - 1], data.hasHour, data.isMonthly);\r\n\r\n    const lat = parameters.lat1 === parameters.lat2 ? parameters.lat1 + '\\xb0' :\r\n        parameters.lat1 + '\\xb0 to ' + parameters.lat2 + '\\xb0';\r\n\r\n    const lon = parameters.lon1 === parameters.lon2 ? parameters.lon1 + '\\xb0' :\r\n        parameters.lon1 + '\\xb0 to ' + parameters.lon2 + '\\xb0';\r\n\r\n    const depth = parameters.depth2 === 0 ? 'Surface' :\r\n        parameters.depth1 === parameters.depth2 ? `${parameters.depth1}[m]` :\r\n        `${parameters.depth1}[m] to ${parameters.depth2}[m]`;\r\n\r\n    const x = data.isMonthly ? dates.map(date => months[parseInt(date)]) : dates;\r\n\r\n    return (\r\n        <div>\r\n            <ChartControlPanel\r\n                downloadCsv={downloadCsv}\r\n                handleMarkerOptionsConfirm={handleMarkerOptionsConfirm}\r\n                markerOptions={markerOptions}\r\n                showErrorBars={showErrorBars}\r\n                handleSetShowErrorBars={handleSetShowErrorBars}\r\n                showLines={showLines}\r\n                handleSetShowLines={handleSetShowLines}\r\n            />\r\n            <Plot\r\n                style= {{\r\n                    position: 'relative',\r\n                    width: '60vw',\r\n                    height: '40vw'\r\n                }}\r\n\r\n                useResizeHandler={true}\r\n\r\n                data={[\r\n                  {\r\n                    // mode: 'lines+markers',\r\n                    mode: showLines ? 'lines+markers' : 'markers',\r\n                    x: x,\r\n                    y: variableValues,\r\n                    error_y: {\r\n                        type: 'data',\r\n                        array: stds,\r\n                        opacity: 0.3,\r\n                        color: showErrorBars ? '#f2f2f2' : 'transparent',\r\n                        visible: true\r\n                    },\r\n\r\n                    name: parameters.fields,\r\n                    type: 'scatter',\r\n                    line: {color: markerOptions.color},\r\n                    marker: {\r\n                        opacity: markerOptions.opacity,\r\n                        size: markerOptions.size,\r\n                        color: markerOptions.color\r\n                    },\r\n                    hoverinfo: 'text',\r\n                    hovertext\r\n                  },\r\n                ]}\r\n                config={{...chartBase.config}}\r\n                layout= {{\r\n                    ...chartBase.layout,\r\n                    plot_bgcolor: 'transparent',\r\n                    title: {\r\n                        text: `${parameters.fields} [${metadata.Unit}]` + \r\n                            `<br>${date}, ` + \r\n                            depth + \r\n                            `<br>Lat: ${lat}, ` +\r\n                            `Lon: ${lon}`,\r\n                        font: {\r\n                            size: 13\r\n                        }\r\n                    },\r\n                  xaxis: {\r\n                      title: data.isMonthy? 'Month' : 'Time',\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  yaxis: {\r\n                      title: `${parameters.fields}[${metadata.Unit}]`,\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  annotations: chartBase.annotations(metadata.Distributor)\r\n                }}\r\n                \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(TimeSeriesChart));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\nimport { csvFromVizRequestSend } from '../../Redux/actions/visualization';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nimport handleChartDateString from '../../Utility/handleChartDatestring';\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage,\r\n    csvFromVizRequestSend\r\n}\r\n\r\nconst DepthProfileChart = (props) => {\r\n\r\n    const { setLoadingMessage, csvFromVizRequestSend } = props;\r\n    const { data } = props.chart;\r\n    const { stds, variableValues, depths, parameters, metadata } = data;\r\n\r\n    const [ showLines, setShowLines ] = React.useState(true);\r\n    const [ showErrorBars, setShowErrorBars ] = React.useState(variableValues && variableValues.length <= 40 ? true : false);\r\n\r\n    var infoObject = data;\r\n\r\n    const [markerOptions, setMarkerOptions] = React.useState({opacity: .2, color:'#ff1493', size: 12})\r\n\r\n    let hovertext = variableValues.map((value, i) => {\r\n        return `Depth: ${format('.2f')(depths[i])} [m] <br>${parameters.fields}: ${format('.2e')(value)} \\xb1 ${format('.2e')(stds[i])} [${metadata.Unit}]`;\r\n    })\r\n\r\n    const downloadCsv = () => {\r\n        csvFromVizRequestSend(data, metadata.Table_Name, metadata.Variable, metadata.Long_Name);\r\n    }    \r\n\r\n    const handleMarkerOptionsConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setMarkerOptions(values);\r\n        }, 100)\r\n    }\r\n\r\n    const handleSetShowLines = (value) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setShowLines(value);\r\n        }, 50)\r\n    }\r\n\r\n    const handleSetShowErrorBars = (value) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setShowErrorBars(value);\r\n        }, 50)\r\n    }\r\n\r\n    const date1 = infoObject.isMonthly ? new Date(parameters.dt1).getMonth() + 1 : parameters.dt1;\r\n    const date2 = infoObject.isMonthly ? new Date(parameters.dt2).getMonth() + 1 : parameters.dt2;\r\n\r\n    const date = date1 === date2 ? handleChartDateString(date1, infoObject.hasHour, infoObject.isMonthly) :\r\n            handleChartDateString(date1, infoObject.hasHour, infoObject.isMonthly) + ' to ' + handleChartDateString(date2, infoObject.hasHour, infoObject.isMonthly);\r\n    \r\n            return (\r\n        <div>\r\n            <ChartControlPanel\r\n                downloadCsv={downloadCsv}\r\n                handleMarkerOptionsConfirm={handleMarkerOptionsConfirm}\r\n                markerOptions={markerOptions}\r\n                showErrorBars={showErrorBars}\r\n                handleSetShowErrorBars={handleSetShowErrorBars}\r\n                showLines={showLines}\r\n                handleSetShowLines={handleSetShowLines}\r\n            />\r\n            <Plot\r\n                style= {{\r\n                    position: 'relative',\r\n                    width: '60vw',\r\n                    height: '40vw'\r\n                }}\r\n\r\n                useResizeHandler={true}\r\n\r\n                data={[\r\n                    {   \r\n                        // mode: 'lines+markers',\r\n                        mode: showLines ? 'lines+markers' : 'markers',\r\n                        y: depths,\r\n                        x: variableValues,\r\n                        error_x: {\r\n                            type: 'data',\r\n                            array: stds,\r\n                            opacity: 0.3,\r\n                            color: showErrorBars ? '#f2f2f2' : 'transparent',\r\n                            visible: true\r\n                        },\r\n                        name: parameters.fields,\r\n                        type: 'scatter',\r\n\r\n                        marker: {\r\n                            line: {color: markerOptions.color},\r\n                            opacity: markerOptions.opacity,\r\n                            size: markerOptions.size,\r\n                            color: markerOptions.color\r\n                        },\r\n\r\n                        hoverinfo: 'text',\r\n                        hovertext\r\n                    },\r\n                ]}\r\n                config={{...chartBase.config}}\r\n                layout= {{\r\n                    ...chartBase.layout,\r\n                    plot_bgcolor: 'transparent',\r\n                    title: {\r\n                        text: `${parameters.fields} [${metadata.Unit}]` + \r\n                            `<br>${date}, ` + \r\n                            `${parameters.depth1}[m] to ${parameters.depth2}[m] <br>` + \r\n                            `Lat: ${parameters.lat1}\\xb0 to ${parameters.lat2}\\xb0, ` +\r\n                            `Lon: ${parameters.lon1}\\xb0 to ${parameters.lon2}\\xb0`,\r\n                        font: {\r\n                            size: 13\r\n                        }\r\n                    },\r\n                        \r\n                  yaxis: {\r\n                      title: 'Depth[m]',\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power',\r\n                      autorange:'reversed'\r\n                    },\r\n                  xaxis: {\r\n                      title: `${parameters.fields}[${metadata.Unit}]`,\r\n                      color: '#ffffff',\r\n                      exponentformat: 'power'\r\n                    },\r\n                  annotations: chartBase.annotations(metadata.Distributor)\r\n                }}\r\n                \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(DepthProfileChart));","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport { setLoadingMessage, snackbarOpen } from '../../Redux/actions/ui';\r\nimport { csvFromVizRequestSend } from '../../Redux/actions/visualization';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport visualizationSubTypes from '../../Enums/visualizationSubTypes';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nimport handleXTicks from '../../Utility/handleXTicks';\r\nimport handleChartDateString from '../../Utility/handleChartDatestring';\r\nimport chartBase from '../../Utility/chartBase';\r\n\r\nconst handleSectionMap = (subsets, infoObject, splitByDate, splitBySpace, orientation, palette, zMin, zMax) => {\r\n    const { parameters, metadata } = infoObject;\r\n\r\n    const dates = Array.from(infoObject.dates);\r\n    const depths = Array.from(infoObject.depths);\r\n    const lats = Array.from(infoObject.lats);\r\n    const lons = Array.from(infoObject.lons);\r\n\r\n    const distinctMeridiansOrParallelsForSplitting = \r\n        orientation === 'zonal' ?\r\n        lats : \r\n        lons;\r\n\r\n    const xAxis = orientation === 'zonal' ?\r\n        'Longitude' :\r\n        'Latitude';\r\n\r\n    let xTicks = parameters.lon1 > parameters.lon2 && orientation === 'zonal' ? handleXTicks(infoObject) : {};\r\n\r\n\r\n    return subsets.map((subset, index) => {\r\n        let z = subset;\r\n        let x = [];\r\n        let y = [];\r\n\r\n        if(orientation === 'zonal'){\r\n            for(let i = 0; i < subset.length; i++){\r\n                x.push(lons[Math.floor(i / depths.length)])\r\n            }\r\n        } else {\r\n            for(let i = 0; i < subset.length; i++){\r\n                x.push(lats[Math.floor(i / depths.length)])\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < subset.length; i++){\r\n            y.push(depths[i % depths.length]);\r\n        }\r\n\r\n        const latTitle = orientation === 'meridional' ? `${parameters.lat1}\\xb0 to ${parameters.lat2}\\xb0` :\r\n            splitBySpace ? distinctMeridiansOrParallelsForSplitting[index % distinctMeridiansOrParallelsForSplitting.length] + '\\xb0' : \r\n            `Averaged Values ${parameters.lat1}\\xb0 to ${parameters.lat2}\\xb0`;\r\n\r\n        const lonTitle = orientation === 'zonal' ? `${parameters.lon1}\\xb0 to ${parameters.lon2}\\xb0` :\r\n            splitBySpace ? distinctMeridiansOrParallelsForSplitting[index % distinctMeridiansOrParallelsForSplitting.length] + '\\xb0' : \r\n            `Averaged Values ${parameters.lon1}\\xb0 to ${parameters.lon2}\\xb0`;\r\n\r\n        const date = dates.length < 2 ? handleChartDateString(dates[0], infoObject.hasHour, infoObject.isMonthly) :\r\n            splitByDate && splitBySpace ? handleChartDateString(dates[Math.floor(index / distinctMeridiansOrParallelsForSplitting.length)], infoObject.hasHour, infoObject.isMonthly) : \r\n            splitByDate ? handleChartDateString(dates[index], infoObject.hasHour, infoObject.isMonthly) :\r\n            'Averaged Values ' + handleChartDateString(dates[0], infoObject.hasHour, infoObject.isMonthly) + ' to ' + handleChartDateString(dates[dates.length - 1], infoObject.hasHour, infoObject.isMonthly);\r\n\r\n        let hovertext = z.map((value, i) => {\r\n            \r\n            if(orientation === 'zonal'){\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                if(isNaN(value)) return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                    `<br>` +\r\n                    `Lon: ${format('.2f')(x[i] > 180 ? x[i] - 360 : x[i])}\\xb0`\r\n    \r\n                return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                `<br>` +\r\n                `Lon: ${format('.2f')(x[i] > 180 ? x[i] - 360 : x[i])}\\xb0` + \r\n                '<br>' +\r\n                `${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`;\r\n            } else {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                if(isNaN(value)) return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                    `<br>` +\r\n                    `Lat: ${format('.2f')(x[i])}\\xb0`\r\n    \r\n                return `Depth: ${format('.2f')(y[i])} [m]` +\r\n                `<br>` +\r\n                `Lat: ${format('.2f')(x[i])}\\xb0` + \r\n                '<br>' +\r\n                `${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`;\r\n            }\r\n        });\r\n\r\n        return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                // display:'inline-block',\r\n                width: '60vw',\r\n                height: '40vw',\r\n                minWidth: '510px',\r\n                minHeight: '340px'\r\n            }}\r\n\r\n            useResizeHandler={true}\r\n\r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zMin,\r\n                    zmax: zMax,\r\n\r\n                    connectgaps: false,\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n                    zsmooth: subset.length < 20000 ? 'best' : 'fast',\r\n                    x,\r\n                    y,\r\n                    z,\r\n                    name: parameters.fields,\r\n                    type: infoObject.subType === visualizationSubTypes.contourSectionMap ? 'contour' : 'heatmap',\r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${metadata.Unit}]`\r\n                        },\r\n                        exponentformat:'power'\r\n                    },\r\n\r\n                    contours: {\r\n                        coloring: palette,\r\n                        showlabels: true,\r\n                        labelfont: {\r\n                            family: 'Raleway',\r\n                            size: 12,\r\n                            color: 'white',\r\n                        },\r\n                        labelformat: '.2e'\r\n                    },\r\n\r\n                    hoverinfo: 'text',\r\n                    hovertext\r\n                }\r\n            ]}                \r\n            key={index}\r\n\r\n            layout= {{\r\n                font: {color: '#ffffff'},\r\n                title: {\r\n                    text: `${parameters.fields} [${metadata.Unit}]` + \r\n                        `<br>${date}, ` + \r\n                        `${parameters.depth1}[m] to ${parameters.depth2}[m] <br>` + \r\n                        `Lat: ${latTitle}, ` +\r\n                        `Lon: ${lonTitle}`,\r\n                    font: {\r\n                        size: 13\r\n                    }\r\n                },\r\n                xaxis: {\r\n                    title: `${xAxis}[\\xB0]`,\r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    ...xTicks\r\n                },\r\n                yaxis: {\r\n                    title: 'Depth[m]', \r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    autorange: 'reversed'\r\n                },\r\n                paper_bgcolor: colors.backgroundGray,\r\n                annotations: chartBase.annotations(metadata.Distributor)\r\n\r\n            }}   \r\n        />\r\n        )\r\n    })\r\n}\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n    buttonBlock: {\r\n        display:'block'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage,\r\n    snackbarOpen,\r\n    csvFromVizRequestSend\r\n}\r\n\r\nconst SectionMapChart = (props) => {\r\n\r\n    const { classes, snackbarOpen, csvFromVizRequestSend } = props;\r\n    const { data } = props.chart;\r\n    const { dates, extent, lats, lons, metadata } = data;\r\n\r\n    const [splitByDate, setSplitByDate] = useState(false);\r\n    const [splitBySpace, setSplitBySpace] = useState(false);\r\n    const [orientation, setOrientation] = useState(data.orientation);\r\n    const [palette, setPalette] = useState('heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [zMin, zMax] = zValues;\r\n\r\n    var spaces = orientation === 'zonal' ? lats : lons;\r\n\r\n    const subsets = data.generatePlotData(orientation, splitByDate, splitBySpace);\r\n    var plots = handleSectionMap(subsets, data, splitByDate, splitBySpace, orientation, palette, zMin, zMax);\r\n\r\n    const downloadCsv = () => {\r\n        csvFromVizRequestSend(data, metadata.Table_Name, metadata.Variable, metadata.Long_Name);\r\n    }\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const onToggleSplitBySpace = () => {\r\n        let chartCount = splitByDate ? dates.size : 1;\r\n        if(!splitBySpace && chartCount * spaces.size > 20){\r\n            snackbarOpen('Unable to split. Rendering limit exceeded.');\r\n            return;\r\n        }\r\n        else {\r\n            props.setLoadingMessage('Re-rendering');\r\n            setTimeout(() => {\r\n                window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n                setSplitBySpace(!splitBySpace);\r\n            }, 100)\r\n        }\r\n    }\r\n\r\n    const onToggleSplitByDate = () => {\r\n        let chartCount = splitBySpace ? spaces.size : 1;\r\n        if(!splitByDate && chartCount * dates.size > 20){\r\n            snackbarOpen('Unable to split. Rendering limit exceeded.');\r\n            return;\r\n        }\r\n        else {\r\n            props.setLoadingMessage('Re-rendering');\r\n            setTimeout(() => {\r\n                window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n                setSplitByDate(!splitByDate);\r\n            }, 100)\r\n        }     \r\n    }\r\n\r\n    const switchOrientation = () => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setOrientation(orientation === 'zonal' ? 'meridional' : 'zonal');\r\n        }, 100)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.buttonBlock}>\r\n            <ChartControlPanel\r\n                orientation={orientation}\r\n                switchOrientation={switchOrientation}\r\n                onToggleSplitBySpace={spaces.size === 1 ? null : onToggleSplitBySpace}\r\n                splitBySpace={splitBySpace}\r\n                onToggleSplitByDate={dates.size === 1 ? null : onToggleSplitByDate}\r\n                splitByDate={splitByDate}\r\n                handlePaletteChoice={handlePaletteChoice}\r\n                handleZValueConfirm={handleZValueConfirm}\r\n                zValues={zValues}\r\n                extent={extent}\r\n                downloadCsv={downloadCsv}\r\n            />\r\n            </div>\r\n            {plots}      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SectionMapChart));","import React from 'react';\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport chartBase from '../../Utility/chartBase';\r\nimport handleChartDateString from '../../Utility/handleChartDatestring';\r\n\r\nimport { format } from 'd3-format';\r\n\r\nconst SparseScatter = (props) => {\r\n    const {\r\n        xValues,\r\n        yValues,\r\n        markerOptions,\r\n        infoObject,\r\n        xTitle,\r\n        yTitle,\r\n        type\r\n    } = props;\r\n\r\n    const { parameters, metadata, hasDepth, variableValues, times, lats, lons, depths } = infoObject;\r\n\r\n    // const title = `${parameters.fields} [${metadata.Unit}]`;\r\n    \r\n    var hovertext;\r\n\r\n    switch(type){\r\n        case 'time':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                let time= times[i].slice(0,20);\r\n                time = time.replace('T', ' ');\r\n                return `Time: ${time}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        case 'latitude':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                return `Lat: ${lats[i].toFixed(2)}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        case 'longitude':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                return `Lon: ${lons[i].toFixed(2)}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        case 'depth':\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                return `Depth: ${depths[i].toFixed(2)}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n            break;\r\n\r\n        default:\r\n            hovertext = variableValues.map((value, i) => {\r\n                let formatter = value > 1 && value < 1000 ? '.2f' : '.2e';\r\n                let time= times[i].slice(0,20);\r\n                time = time.replace('T', ' ');\r\n                return `Time: ${time}<br>${parameters.fields}: ${format(formatter)(value)} [${metadata.Unit}]`\r\n            })\r\n        }\r\n        \r\n    const date = parameters.dt1 === parameters.dt2 ? handleChartDateString(parameters.dt1) :\r\n        handleChartDateString(parameters.dt1) + ' to ' + handleChartDateString(parameters.dt2);\r\n\r\n    const lat = parameters.lat1 === parameters.lat2 ? parameters.lat1 + '\\xb0' :\r\n        parameters.lat1 + '\\xb0 to ' + parameters.lat2 + '\\xb0';\r\n\r\n    const lon = parameters.lon1 === parameters.lon2 ? parameters.lon1 + '\\xb0' :\r\n        parameters.lon1 + '\\xb0 to ' + parameters.lon2 + '\\xb0';\r\n\r\n    const depth = !hasDepth ? 'Surface' :\r\n        parameters.depth1 === parameters.depth2 ? `${parameters.depth1}[m]` :\r\n        `${parameters.depth1}[m] to ${parameters.depth2}[m]`;\r\n\r\n    return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                // display:'inline-block',\r\n                width: '60vw',\r\n                height: '40vw'\r\n            }}\r\n\r\n            useResizeHandler={true}\r\n    \r\n            data={[\r\n                {\r\n                    x: xValues,\r\n                    y: yValues,\r\n                    mode: 'markers',\r\n                    name: parameters.fields,\r\n                    type: variableValues.length > 10000 ? 'scattergl' : 'scatter',\r\n                    // type: 'scatter',\r\n                    marker: {\r\n                        opacity: markerOptions.opacity,\r\n                        size: markerOptions.size,\r\n                        color: markerOptions.color\r\n                    },\r\n                    hoverinfo: 'text',\r\n                    hovertext\r\n                },\r\n            ]}\r\n            config={{...chartBase.config}}\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                plot_bgcolor: 'transparent',\r\n                // width: 800,\r\n                // height: 570,\r\n                title: {\r\n                    text: `${parameters.fields} [${metadata.Unit}]` + \r\n                        `<br>${date}, ` + \r\n                        depth + \r\n                        `<br>Lat: ${lat}, ` +\r\n                        `Lon: ${lon}`,\r\n                    font: {\r\n                        size: 13\r\n                    }\r\n                },\r\n                xaxis: {\r\n                    title: xTitle,\r\n                    color: '#ffffff',\r\n                    exponentformat: 'power'\r\n                },\r\n                yaxis: {\r\n                    title: yTitle,\r\n                    color: '#ffffff',\r\n                    exponentformat: 'power',\r\n                    autorange: type === 'depth' ? 'reversed' : true\r\n                },\r\n                annotations: chartBase.annotations(metadata.Distributor)\r\n            }}            \r\n        />\r\n    )\r\n}\r\n\r\nexport default SparseScatter;","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport ChartControlPanel from './ChartControlPanel';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport chartBase from '../../Utility/chartBase';\r\nimport handleChartDateString from '../../Utility/handleChartDatestring';\r\n\r\nimport { setLoadingMessage } from '../../Redux/actions/ui';\r\nimport { csvFromVizRequestSend } from '../../Redux/actions/visualization';\r\n\r\nimport SparseScatter from './SparseScatter';\r\n\r\nconst handleSparseMap = (infoObject, palette, zValues) => {\r\n\r\n    const { parameters, metadata } = infoObject;\r\n\r\n    const date = parameters.dt1 === parameters.dt2 ? handleChartDateString(parameters.dt1) :\r\n        handleChartDateString(parameters.dt1) + ' to ' + handleChartDateString(parameters.dt2);\r\n\r\n    const lat = parameters.lat1 === parameters.lat2 ? parameters.lat1 + '\\xb0' :\r\n        parameters.lat1 + '\\xb0 to ' + parameters.lat2 + '\\xb0';\r\n\r\n    const lon = parameters.lon1 === parameters.lon2 ? parameters.lon1 + '\\xb0' :\r\n        parameters.lon1 + '\\xb0 to ' + parameters.lon2 + '\\xb0';\r\n\r\n    const depth = !infoObject.hasDepth ? 'Surface' :\r\n        parameters.depth1 === parameters.depth2 ? `${parameters.depth1}[m]` :\r\n        `${parameters.depth1}[m] to ${parameters.depth2}[m]`;\r\n\r\n    return (\r\n        <Plot\r\n            style= {{\r\n                position: 'relative',\r\n                // display:'inline-block',\r\n                width: '60vw',\r\n                height: '40vw',\r\n                minWidth: '510px',\r\n                minHeight: '340px'\r\n            }}\r\n            \r\n            useResizeHandler={true}\r\n            \r\n            data={[\r\n                {   \r\n                    zauto: false,\r\n                    zmin: zValues[0],\r\n                    zmax: zValues[1],\r\n                    lon: infoObject.lons,\r\n                    lat: infoObject.lats,\r\n                    z: infoObject.variableValues,\r\n                    autocolorscale: false,\r\n                    colorscale: palette,\r\n                    radius: 6,                    \r\n                    name: infoObject.parameters.fields,\r\n                    type: 'densitymapbox',\r\n                    \r\n                    colorbar: {\r\n                        title: {\r\n                            text: `[${infoObject.metadata.Unit}]`\r\n                        },\r\n                        exponentformat: 'power'\r\n                    },\r\n                }\r\n            ]}\r\n\r\n            layout= {{\r\n                ...chartBase.layout,\r\n                title: {\r\n                    text: `${parameters.fields} [${metadata.Unit}]` + \r\n                        `<br>${date}, ` + \r\n                        depth + \r\n                        `<br>Lat: ${lat}, ` +\r\n                        `Lon: ${lon}`,\r\n                    font: {\r\n                        size: 13\r\n                    }\r\n                },\r\n                mapbox: {\r\n                    style: \"white-bg\",\r\n                    layers: [\r\n                        {\r\n                            sourcetype: \"raster\",\r\n                            source: [\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"],\r\n                            below: \"traces\"\r\n                        }\r\n                    ],\r\n                    center: infoObject.center,\r\n                    zoom: infoObject.zoom\r\n                },\r\n\r\n                annotations: chartBase.annotations(infoObject.metadata.Distributor)\r\n            }}\r\n            \r\n            config={{\r\n                ...chartBase.config,\r\n                mapboxAccessToken:\r\n                  \"pk.eyJ1IjoiZGVuaG9sdHoiLCJhIjoiY2p1ZW9obTNhMDVxZjQzcDRvMmdlcDN2aiJ9.HvLaX2bcradeE5T-lpTc8w\",\r\n                \r\n              }}\r\n        />)\r\n}\r\n\r\n\r\nconst styles = theme => ({\r\n    chartWrapper: {\r\n        display: 'inline-block',\r\n        backgroundColor: colors.backgroundGray,\r\n        boxShadow: \"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\r\n        margin: '20px',\r\n        color: 'white'\r\n    },\r\n\r\n    buttonBlock: {\r\n        display:'block'\r\n    },\r\n\r\n    tabs: {\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    tab: {\r\n        boxShadow: '1px 1px 1px 1px #242424',\r\n        fontSize: '15px',\r\n        textTransform: 'none',\r\n        color: theme.palette.primary.main\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setLoadingMessage,\r\n    csvFromVizRequestSend\r\n}\r\n\r\nfunction tabProps(index) {\r\n    return {\r\n      id: `sparse-tab-${index}`,\r\n      'aria-controls': `sparse-tab-${index}`,\r\n    };\r\n  }\r\n\r\nconst SparseTabPanel = (props) => {\r\n    const { children, selectedTab, index, controlPanelProps, } = props;\r\n\r\n    return (\r\n        <div hidden={selectedTab !== index}>\r\n            <ChartControlPanel\r\n                {...controlPanelProps}\r\n            />\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst SparseMap = (props) => {\r\n\r\n    const { classes, csvFromVizRequestSend } = props;\r\n    const { data } = props.chart;\r\n    const { metadata } = data;\r\n\r\n    const [palette, setPalette] = useState('Heatmap');\r\n    const [zValues, setZValues] = useState([data.zMin, data.zMax]);\r\n    const [markerOptions, setMarkerOptions] = useState({opacity: .7, color:'#ff1493', size: 12});\r\n    const [tab, setTab] = useState(0);\r\n\r\n    const plot = handleSparseMap(data, palette, zValues)\r\n\r\n    const handlePaletteChoice = (option) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setPalette(option);\r\n        }, 100)\r\n    }\r\n\r\n    const handleZValueConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setZValues(values);\r\n        }, 100)\r\n    }\r\n\r\n    const handleTabChange = (event, newValue) => {\r\n        setTab(newValue)\r\n    }\r\n\r\n    const downloadCsv = () => {\r\n        csvFromVizRequestSend(data, metadata.Table_Name, metadata.Variable, metadata.Long_Name);\r\n    }\r\n\r\n    const handleMarkerOptionsConfirm = (values) => {\r\n        props.setLoadingMessage('Re-rendering');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => props.setLoadingMessage(''));\r\n            setMarkerOptions(values);\r\n        }, 100)\r\n    }\r\n\r\n    const forceResize = () => {\r\n        setTimeout(() => window.dispatchEvent(new Event('resize')), 30);        \r\n    }\r\n\r\n    const controlPanelProps = {\r\n        map: {\r\n            palette,\r\n            handlePaletteChoice,\r\n            zValues,\r\n            handleZValueConfirm,\r\n            downloadCsv\r\n        },\r\n\r\n        scatter: {\r\n            downloadCsv,\r\n            markerOptions,\r\n            setMarkerOptions,\r\n            handleMarkerOptionsConfirm\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tabs \r\n                value={tab} \r\n                onChange={handleTabChange} \r\n                aria-label=\"Sparse tabs\" \r\n                centered\r\n                indicatorColor='primary'\r\n                className={classes.tabs}\r\n            >\r\n                <Tab label=\"Map\" {...tabProps(0)} className={classes.tab} onClick={forceResize}/>\r\n                <Tab label=\"By Time\" {...tabProps(1)} className={classes.tab}/>\r\n                <Tab label=\"By Lat\" {...tabProps(2)} className={classes.tab}/>\r\n                <Tab label=\"By Lon\" {...tabProps(3)} className={classes.tab}/>\r\n                {data.hasDepth && <Tab label=\"By Depth\" {...tabProps(4)} className={classes.tab}/>}\r\n            </Tabs>\r\n            <SparseTabPanel selectedTab={tab} index={0} controlPanelProps={controlPanelProps.map}>\r\n                {tab === 0 && plot}\r\n            </SparseTabPanel>\r\n            \r\n            <SparseTabPanel selectedTab={tab} index={1} controlPanelProps={controlPanelProps.scatter}>\r\n                {tab === 1 &&\r\n                    <SparseScatter\r\n                        xValues={data.times}\r\n                        yValues={data.variableValues}\r\n                        markerOptions={markerOptions}\r\n                        infoObject={data}\r\n                        xTitle='Time'\r\n                        yTitle={`${data.parameters.fields}[${metadata.Unit}]`}\r\n                        type='time'\r\n                    />\r\n                }\r\n            </SparseTabPanel>\r\n\r\n            <SparseTabPanel selectedTab={tab} index={2} controlPanelProps={controlPanelProps.scatter}>\r\n                {tab === 2 &&\r\n                    <SparseScatter\r\n                        xValues={data.lats}\r\n                        yValues={data.variableValues}\r\n                        markerOptions={markerOptions}\r\n                        infoObject={data}\r\n                        xTitle='Latitude'\r\n                        yTitle={data.parameters.fields}\r\n                        type='latitude'\r\n                    />                \r\n                }\r\n            </SparseTabPanel>\r\n\r\n            <SparseTabPanel selectedTab={tab} index={3} controlPanelProps={controlPanelProps.scatter}>\r\n                {tab === 3 && \r\n                    <SparseScatter\r\n                        xValues={data.lons}\r\n                        yValues={data.variableValues}\r\n                        markerOptions={markerOptions}\r\n                        infoObject={data}\r\n                        xTitle='Longitude'\r\n                        yTitle={data.parameters.fields}\r\n                        type='longitude'\r\n                    />                \r\n                }\r\n            </SparseTabPanel>\r\n\r\n            {data.hasDepth &&\r\n                <SparseTabPanel selectedTab={tab} index={4} controlPanelProps={controlPanelProps.scatter}>\r\n                    {tab === 4 &&\r\n                        <SparseScatter\r\n                            xValues={data.variableValues}\r\n                            yValues={data.depths}\r\n                            markerOptions={markerOptions}\r\n                            infoObject={data}\r\n                            xTitle={data.parameters.fields}\r\n                            yTitle='Depth[m]'\r\n                            type='depth'\r\n                        />                    \r\n                    }\r\n                </SparseTabPanel>            \r\n            }\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(SparseMap));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Plot from 'react-plotly.js';\r\n\r\nimport { IconButton, Paper } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport storedProcedures from '../../Enums/storedProcedures';\r\nimport vizSubTypes from '../../Enums/visualizationSubTypes';\r\n\r\nimport SpaceTimeChart from './SpaceTimeChart';\r\nimport TimeSeriesChart from './TimeSeriesChart';\r\nimport DepthProfileChart from './DepthProfileChart';\r\nimport SectionMapChart from './SectionMapChart';\r\nimport SparseMap from './SparseMap';\r\nimport SparseHistogram from './SparseHistogram';\r\n\r\nimport spatialResolutions from '../../Enums/spatialResolutions';\r\n\r\nimport { deleteChart } from '../../Redux/actions/visualization';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    charts: state.charts\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  deleteChart\r\n}\r\n\r\nconst styles = (theme) => ({\r\n  chartPaper: {\r\n    backgroundColor: colors.backgroundGray,\r\n    marginTop: '5vh',\r\n    marginBottom: '2vh',\r\n    padding: theme.spacing(1),\r\n    boxShadow: '2px 2px 2px 2px #242424',\r\n  }\r\n})\r\n\r\nconst SamplePlot = () => {\r\n  let x = [0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4];\r\n  let y = [0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,];\r\n  let z = [0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,0,1,2,3,4,0,1,2,3,4];\r\n  \r\n  return (\r\n\r\n      <Plot\r\n      useResizeHandler={true}\r\n      style= {{\r\n          position: 'relative',\r\n          display:'inline-block',\r\n          // marginTop: '30px',\r\n          width: '66vw',\r\n          height: '44vw'\r\n      }}\r\n      \r\n      data={[\r\n          {   \r\n              x,\r\n              y,\r\n              z,\r\n              connectgaps: false,\r\n              zsmooth: 'best',\r\n\r\n              name: 'Test',\r\n              type: 'heatmap',\r\n              contours: {\r\n                  showlabels: true,\r\n                  labelfont: {\r\n                      family: 'Raleway',\r\n                      size: 12,\r\n                      color: 'white',\r\n                  },\r\n                  labelformat: '.2e'\r\n              },\r\n              colorbar: {\r\n                  title: {\r\n                      text: `test`\r\n                  },\r\n                  exponentformat: 'power'\r\n              }\r\n          }\r\n      ]}\r\n\r\n      config={{responsive: true}}\r\n      \r\n      layout= {{\r\n        autosize: true,\r\n          font: {color: '#ffffff'},\r\n          margin: {\r\n            t: 50\r\n          },\r\n          title: {\r\n              text: `A sample chart title`,\r\n              font: {\r\n                size: 16\r\n              }\r\n          },\r\n          paper_bgcolor: colors.backgroundGray,\r\n          xaxis: {title: 'Longitude', color: '#ffffff'},\r\n          yaxis: {title: 'Latitude', color: '#ffffff'},\r\n          annotations: [\r\n              {\r\n                  text: `Brought to you by chef boyardee`,\r\n                    font: {\r\n                        color: 'white',\r\n                        size: 10\r\n                    },\r\n                  yref: 'paper',\r\n                  y: -.24,\r\n                  showarrow: false,\r\n                  xref: 'paper',\r\n                  x: .5\r\n                  }\r\n              ]\r\n              \r\n          }}   \r\n          />\r\n          )\r\n}\r\n\r\nconst closeChartStyles = {\r\n    closeChartIcon: {\r\n      float: 'right',\r\n      marginTop: '-12px',\r\n      marginRight: '-8px'\r\n    }\r\n}\r\n\r\nconst _CloseChartIcon = (props) => {\r\n  const { classes } = props;\r\n  return (\r\n    <React.Fragment>\r\n      <IconButton className={classes.closeChartIcon} color=\"inherit\" onClick={() => props.handleDeleteChart(props.chartIndex)} disableFocusRipple disableRipple>\r\n        <Close/>\r\n      </IconButton>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst CloseChartIcon = withStyles(closeChartStyles)(_CloseChartIcon);\r\n\r\nclass Charts extends Component {\r\n\r\n  handleDeleteChart = (chartIndex) => {\r\n    this.props.deleteChart(chartIndex);\r\n  }\r\n\r\n    render(){\r\n        const { classes, charts } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n              {/* <Paper elevation={12} className={classes.chartPaper}>\r\n              <SamplePlot/> \r\n              </Paper> */}\r\n                {charts.map((chart, index) => {\r\n                    switch(chart.data.parameters.spName){\r\n\r\n                        case storedProcedures.spaceTime:\r\n                          if(chart.subType === vizSubTypes.sparse) {\r\n                            return (\r\n                              <div key={chart.id}>\r\n                                <Paper elevation={12} className={classes.chartPaper} key={chart.id}>\r\n                                  <CloseChartIcon chartIndex={index} handleDeleteChart={this.handleDeleteChart}/>\r\n                                  <SparseMap chart={chart}/>\r\n                                </Paper>\r\n                              </div>\r\n                            )\r\n                          } else if(chart.data.metadata.Spatial_Resolution === spatialResolutions.irregular) {\r\n                            return (\r\n                              <div key={chart.id}>\r\n                                <Paper elevation={12} className={classes.chartPaper} key={chart.id}>\r\n                                  <CloseChartIcon chartIndex={index} handleDeleteChart={this.handleDeleteChart}/>\r\n                                  <SparseHistogram chart={chart}/>\r\n                                </Paper>\r\n                              </div>\r\n                            )\r\n                          }\r\n                          else return (\r\n                            <div key={chart.id}>\r\n                              <Paper elevation={12} className={classes.chartPaper} key={chart.id}>\r\n                                <CloseChartIcon chartIndex={index} handleDeleteChart={this.handleDeleteChart}/>\r\n                                <SpaceTimeChart chart={chart}/>\r\n                              </Paper>\r\n                            </div>\r\n                          )\r\n\r\n                        case storedProcedures.timeSeries:\r\n                          return (\r\n                            <div key={chart.id}>\r\n                              <Paper elevation={12} className={classes.chartPaper} key={chart.id}>\r\n                                <CloseChartIcon chartIndex={index} handleDeleteChart={this.handleDeleteChart}/>\r\n                                <TimeSeriesChart chart={chart}/>\r\n                              </Paper>\r\n                            </div>\r\n                          )\r\n\r\n                        case storedProcedures.depthProfile:\r\n                          return (\r\n                            <div key={chart.id}>\r\n                              <Paper elevation={12} className={classes.chartPaper} key={chart.id}>\r\n                                <CloseChartIcon chartIndex={index} handleDeleteChart={this.handleDeleteChart}/>\r\n                                <DepthProfileChart chart={chart}/>\r\n                              </Paper>\r\n                            </div>\r\n                          )\r\n\r\n                        case storedProcedures.sectionMap:\r\n                          return (\r\n                            <div key={chart.id}>\r\n                              <Paper elevation={12} className={classes.chartPaper} key={chart.id}>\r\n                                <CloseChartIcon chartIndex={index} handleDeleteChart={this.handleDeleteChart}/>\r\n                                <SectionMapChart chart={chart}/>\r\n                              </Paper>\r\n                            </div>\r\n                          )\r\n                        \r\n                        default:\r\n                          return '';\r\n                  }\r\n                })}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Charts));","import React from 'react';\r\nimport { withStyles } from '@material-ui/core';\r\nimport { ZoomOutMap } from '@material-ui/icons';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = (theme) => ({\r\n    icon: {\r\n        padding: '12px 12px 12px 0',\r\n        color: colors.primary,\r\n        verticalAlign: 'middle'\r\n    }\r\n});\r\n\r\nconst DragIcon = (props) => {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ZoomOutMap id={props.iconID} className={props.classes.icon}/>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(DragIcon);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport * as JsSearch from 'js-search';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Search, ZoomOutMap } from '@material-ui/icons';\r\nimport { Table, TableBody, TableCell, TableRow, Icon, Tooltip } from '@material-ui/core';\r\n\r\nimport { cruiseListRequestSend, cruiseTrajectoryRequestSend, cruiseTrajectoryClear } from '../../Redux/actions/visualization';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\nimport colors from '../../Enums/colors';\r\nimport Draggable from 'react-draggable';\r\nimport HelpButtonAndDialog from '../UI/HelpButtonAndDialog';\r\nimport DragIcon from './DragIcon';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    cruiseList: state.cruiseList,\r\n    getCruiseListState: state.getCruiseListState\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseListRequestSend,\r\n    cruiseTrajectoryRequestSend,\r\n    cruiseTrajectoryClear\r\n}\r\n\r\nconst esriFonts = '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif';\r\nconst esriFontColor = 'white';\r\n\r\nconst styles = theme => ({\r\n    outerDiv: {\r\n        padding:'12px',\r\n        maxWidth: '360px',\r\n        backgroundColor: 'transparent',\r\n        color: esriFontColor,\r\n        borderRadius: '4px',\r\n        boxShadow: '2px',\r\n        position: 'relative',\r\n        backdropFilter: 'blur(2px)',\r\n        transform: 'translateY(35px)',\r\n        marginTop: '24px',\r\n        position: 'fixed',\r\n        right: '0px',\r\n        top: '60px'\r\n    },\r\n\r\n    cruiseSelect: {\r\n        width: '260px',\r\n        borderRadius: '4px',\r\n        display: 'inline-block'\r\n    },\r\n\r\n    cruiseInfo: {\r\n        color: esriFontColor,\r\n        fontFamily: esriFonts,\r\n        margin: '12px auto 0 auto',\r\n    },\r\n\r\n    cruiseInfoCell: {\r\n        color: esriFontColor,\r\n        fontFamily: esriFonts,\r\n        borderStyle: 'none',\r\n    },\r\n\r\n    dragIcon: {\r\n        padding: '12px 12px 12px 0',\r\n        color: colors.primary,\r\n        verticalAlign: 'middle'\r\n    }\r\n})\r\n\r\n// Replace react-select selected option\r\nconst SingleValue = (props) => {\r\n    return (\r\n        <components.SingleValue {...props} className={props.className}/>\r\n    )\r\n}\r\n\r\n// Replace react-select option\r\nconst Option = (props) => {\r\n    return (\r\n      <components.Option \r\n        {...props} \r\n        innerProps={{\r\n            ...props.innerProps, \r\n            // Prevent focus / scroll events when mousing over options\r\n            onMouseMove: (e) => e.preventDefault(), \r\n            onMouseOver: (e) => e.preventDefault()\r\n        }}>\r\n    </components.Option>\r\n    )\r\n}\r\n\r\nconst cruiseSort =  (a,b) => a.Name < b.Name ? -1 : 1;\r\n\r\nconst ValueContainer = (props) => {\r\n    return (\r\n        <components.ValueContainer {...props}>\r\n            <Search style={{ position: \"absolute\", left: 6, color: colors.primary }}/>\r\n            {props.children}\r\n        </components.ValueContainer>\r\n    )\r\n}\r\n\r\nclass CruiseSelector extends Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n\r\n        var search = new JsSearch.Search('ID');\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Nickname');\r\n        search.addIndex('Name');\r\n        search.addIndex('Chief_Name');\r\n        search.addIndex('Keywords');\r\n        try{\r\n            if(props.cruiseList && props.cruiseList.length) search.addDocuments(props.cruiseList);\r\n        } catch(e) {\r\n            console.log(e);\r\n            console.log(props.cruiseList);\r\n        }\r\n\r\n        this.state = {\r\n            search,\r\n            searchField: '',\r\n            selectedCruise: null\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.cruiseList || !this.props.cruiseList.length) this.props.cruiseListRequestSend();\r\n    }\r\n\r\n    formatOptionLabel = (option) => {\r\n        let label = option.data.Name === option.data.Nickname ?\r\n            option.data.Name :\r\n            `${option.data.Name} - ${option.data.Nickname}`;\r\n\r\n        return label;\r\n    }\r\n\r\n    getSelectOptionsFromCruiseList = (list) => {\r\n        return list.map(item => ({\r\n            value: item.Name,\r\n            label: item.Name,\r\n            data: item\r\n        })) || []\r\n    }\r\n\r\n    handleCruiseSelect = (selection) => {\r\n        if(selection && selection.data){\r\n            const id = selection.data.ID;\r\n            this.props.cruiseTrajectoryRequestSend(id);\r\n        } else {this.props.cruiseTrajectoryClear()}\r\n\r\n        this.setState({...this.state, selectedCruise: selection});\r\n        this.props.updateParametersFromCruiseBoundary(selection);\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.cruiseList && prevProps.cruiseList.length) && (this.props.cruiseList && this.props.cruiseList.length)){\r\n            this.state.search.addDocuments(this.props.cruiseList);\r\n            this.setState({search: this.state.search})\r\n        }\r\n    }\r\n\r\n    onAutoSuggestChange = (searchString, action) => {\r\n        if(action.action === 'input-change') this.setState({...this.state, searchField: searchString});\r\n        if(action.action ==='set-value' || action.action === 'menu-close') this.setState({...this.state, searchField: ''});\r\n    }\r\n\r\n    render(){\r\n\r\n        const { search, searchField, selectedCruise } = this.state;        \r\n        const { classes, cruiseList} = this.props;\r\n        \r\n        const options = searchField && cruiseList ? this.getSelectOptionsFromCruiseList(search.search(searchField).sort(cruiseSort)) \r\n            : cruiseList ? this.getSelectOptionsFromCruiseList(cruiseList) \r\n            : []\r\n\r\n        return (\r\n            <Draggable handle='#drag-icon-cruise'>\r\n                <div id='cruise-selector' className={classes.outerDiv} style={this.props.showCruiseControl ? {} : {display: 'none'}}>\r\n                    {/* <ConnectedTooltip placement='left' title={tooltips.visualization.cruiseSelector}> */}\r\n                        <Select\r\n                            isLoading={this.props.getCruiseListState === states.inProgress}\r\n                            components={{\r\n                                IndicatorSeparator:'',\r\n                                Option,\r\n                                SingleValue,\r\n                                ValueContainer\r\n                            }}\r\n                            isClearable\r\n                            formatOptionLabel={this.formatOptionLabel}\r\n                            onInputChange={this.onAutoSuggestChange}\r\n                            filterOption={null}\r\n                            className={classes.cruiseSelect}\r\n                            escapeClearsValue\r\n                            label=\"Cruise\"\r\n                            options={options}\r\n                            onChange={this.handleCruiseSelect}\r\n                            value={this.state.selectedCruise}\r\n                            placeholder=\"Search Cruises\"\r\n                            styles={{\r\n                                menu: provided => ({ ...provided, zIndex: 9999 }),\r\n\r\n                                menuList: provided => ({...provided, backgroundColor: colors.backgroundGray}),\r\n\r\n                                input: provided => ({...provided,\r\n                                    color: 'inherit',\r\n                                    fontFamily: esriFonts\r\n                                }),\r\n\r\n                                control: provided => ({...provided,\r\n                                    backgroundColor: colors.backgroundGray,\r\n                                    border: 'none',\r\n                                    boxShadow: '1px 1px 1px 1px #242424',\r\n                                    color: esriFontColor,\r\n                                    borderRadius: 4,\r\n                                    '&:hover': { \r\n                                        border: `1px solid white`,\r\n                                    },\r\n                                    '&:focus-within': {\r\n                                        borderColor: colors.primary\r\n                                    }\r\n                                }),\r\n\r\n                                placeholder: provided => ({...provided,\r\n                                    fontFamily: esriFonts,\r\n                                    color: colors.primary,\r\n                                    fontSize: '14px'\r\n                                }),\r\n\r\n                                noOptionsMessage: provided => ({...provided,\r\n                                    fontFamily: esriFonts,\r\n                                    color: esriFontColor,\r\n                                    backgroundColor: colors.backgroundGray\r\n                                }),\r\n\r\n                                option: (provided, state) => ({...provided,\r\n                                    backgroundColor: colors.backgroundGray,\r\n                                    color: state.isFocused ? colors.primary : 'white',\r\n                                    '&:hover': { backgroundColor: colors.greenHover}\r\n                                }),\r\n\r\n                                singleValue: (provided, state) => ({...provided,\r\n                                    fontFamily: esriFonts,\r\n                                    color: 'inherit',\r\n                                    paddingRight: '20px',\r\n                                }),\r\n\r\n                                valueContainer: provided => ({\r\n                                    ...provided,\r\n                                    padding: '0 0 0 34px',\r\n                                    fontWeight: 100\r\n                                }),\r\n                            }}\r\n                            theme={theme => ({\r\n                                ...theme,\r\n                                colors: {\r\n                                    ...theme.colors,\r\n                                    // Background color of hovered options\r\n                                    primary25: '#e0e0e0',\r\n                                    primary: '#212121',\r\n                                },\r\n                            })}\r\n                        />\r\n\r\n                        <HelpButtonAndDialog\r\n                            title='Cruise Help'\r\n                            content='Cruise Help Content'\r\n                        />\r\n\r\n                        <DragIcon iconID='drag-icon-cruise'/>\r\n\r\n                    {selectedCruise &&\r\n                        <Table size='small' className={classes.cruiseInfo}>\r\n                            <TableBody>\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Cruise:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        Nickname:\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.cruiseInfoCell}>\r\n                                        {selectedCruise.data.Nickname}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                {\r\n                                    selectedCruise.data.Start_Time &&\r\n                                    <TableRow>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            Start Date:\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            {selectedCruise.data.Start_Time.slice(0,10)}\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                }\r\n\r\n                                {\r\n                                    selectedCruise.data.End_Time &&\r\n                                    <TableRow>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            End Date:\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            {selectedCruise.data.End_Time.slice(0,10)}\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                }\r\n\r\n                                {\r\n                                    selectedCruise.data.Chief_Name &&\r\n                                    <TableRow>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            Chief Scientist:\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            {selectedCruise.data.Chief_Name}\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                }\r\n\r\n                                {\r\n                                    selectedCruise.data.Ship_Name &&\r\n                                    <TableRow>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            Ship:\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.cruiseInfoCell}>\r\n                                            {selectedCruise.data.Ship_Name}\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                }\r\n                            </TableBody>\r\n                        </Table>\r\n                    }\r\n                </div>\r\n            </Draggable>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(CruiseSelector));","import React, { Component } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Scene } from '@esri/react-arcgis';\r\n\r\nimport CruiseSelector from './CruiseSelector';\r\nimport colors from '../../Enums/colors';\r\n\r\nimport Draggable from 'react-draggable';\r\n\r\nimport { throttle } from 'throttle-debounce';\r\n\r\nconst styles = (theme) => ({\r\n    container: {\r\n        margin: '0 auto 0 auto',\r\n        width: '100vw',\r\n        height: '100vh',\r\n    }\r\n})\r\n\r\n// const drawButtonStyles = (theme) => ({\r\n//     outerDiv: {\r\n//         // padding:'12px 0 12px 0',\r\n//         backgroundColor: 'transparent',\r\n//         // width: '180px',\r\n//         borderRadius: '4px',\r\n//         marginRight: '20px',\r\n//         position: 'fixed',\r\n//         top: '60px',\r\n//         right: '12px',\r\n//     },\r\n\r\n//     drawButton: {\r\n//         // border: '1px solid #333333',\r\n//         border: `1px solid #333333`,\r\n//         borderRadius: '4px',\r\n//         color: colors.primary,        \r\n//         cursor: 'pointer',\r\n//         padding: '6px',\r\n//         width: '160px',\r\n//         fontSize:'14px',\r\n//         backgroundColor: colors.backgroundGray,\r\n//         boxShadow: '1px 1px 1px 1px #242424',\r\n//         // backgroundColor: 'rgba(255, 128, 0, .8)',\r\n//         // backgroundColor: 'transparent',\r\n//         fontFamily: '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif',\r\n//         '&:hover': { \r\n//             borderColor: 'white'\r\n//         },\r\n//     },\r\n\r\n//     helpText: {\r\n//         marginTop: 0,\r\n//         color: 'white',\r\n//         fontFamily: '\"Avenir Next W00\",\"Helvetica Neue\",Helvetica,Arial,sans-serif'\r\n//     },\r\n\r\n//     cancelButton: {\r\n//         display: 'none',\r\n//         color: 'white'\r\n//     }\r\n// })\r\n\r\n// const DrawButtonRaw = (props) => {\r\n//     const { classes, showHelp } = props;\r\n\r\n//     return (\r\n//         <Draggable>\r\n//             <div className={classes.outerDiv} id='draw-region-div'>\r\n//                 {showHelp && <p className={classes.helpText}>Click once to draw <br/>and again to finish</p>}\r\n//                 <button id='draw-button' className={classes.drawButton}>\r\n//                     Select Region\r\n//                 </button>\r\n//                 <button id='cancel-button' className={`${classes.drawButton} ${classes.cancelButton}`}>\r\n//                     Cancel\r\n//                 </button>\r\n//             </div>\r\n//         </Draggable>\r\n//     )\r\n// }\r\n\r\n// const DrawButton = withStyles(drawButtonStyles)(DrawButtonRaw);\r\n\r\nconst polygonSymbol = {\r\n    type: \"polygon-3d\",\r\n    symbolLayers: [\r\n        {\r\n            type: \"fill\",\r\n            material: {\r\n            color: [0, 255, 255, .3]\r\n            },\r\n            outline: {\r\n                color: [0, 255, 255, 1],\r\n                size: '2px'\r\n            }\r\n        }\r\n    ]\r\n};\r\n\r\nconst polylineSymbol = {\r\n    type: \"line-3d\",\r\n        symbolLayers: [\r\n            {\r\n                type: \"line\",\r\n                size: \"3px\",\r\n                material: {\r\n                    color: {\r\n                        r: 0,\r\n                        g: 255,\r\n                        b: 255,\r\n                        a: 0\r\n                    }\r\n                },\r\n            }\r\n        ]\r\n}\r\n\r\nclass UiComponents extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.sketchModel = new props.esriModules.SketchViewModel({\r\n            layer: props.regionLayer,\r\n            view: props.view,\r\n            polygonSymbol,\r\n            polylineSymbol,\r\n            defaultUpdateOptions: {\r\n                toggleToolOnClick: false,\r\n                tool: \"transform\"\r\n            }\r\n        })\r\n    }\r\n\r\n    shouldComponentUpdate = (nextProps, nextState) => {\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        const { view, esriModules, regionLayer, setShowHelp } = this.props;\r\n        var { sketchModel } = this;\r\n\r\n        // var drawButton = document.getElementById('draw-button');\r\n        // var cancelButton = document.getElementById('cancel-button');\r\n\r\n        const throttledUpdate = throttle(75, (event) => {\r\n            if(event.state === 'active'){\r\n                this.props.updateDomainFromGraphicExtent(esriModules.Utils.webMercatorToGeographic(event.graphic.geometry.extent));\r\n            }\r\n        })\r\n\r\n        sketchModel.on(\"create\", (event) => {\r\n            if(event.state === 'active' && event.toolEventInfo && event.toolEventInfo.type === 'vertex-add'){\r\n                sketchModel.complete();\r\n            }\r\n\r\n            if(event.graphic && event.graphic.visible) {\r\n                event.graphic.visible = false;\r\n            }\r\n            if(event.state === 'cancel'){\r\n                setShowHelp(false);\r\n                // drawButton.style.display = 'inline-block';\r\n                // cancelButton.style.display = 'none';\r\n            }\r\n\r\n            if(event.state === \"complete\") {\r\n                setShowHelp(false);\r\n                this.props.updateDomainFromGraphicExtent(esriModules.Utils.webMercatorToGeographic(event.graphic.geometry.extent));\r\n                // drawButton.style.display = 'inline-block';\r\n                // cancelButton.style.display = 'none';\r\n            }\r\n        });\r\n\r\n        sketchModel.on('create', throttledUpdate)\r\n\r\n        sketchModel.on('update', (event) => {\r\n            if(event.toolEventInfo && event.toolEventInfo.type === 'move-stop'){\r\n                if(event.state === 'cancel') return;\r\n                this.props.updateDomainFromGraphicExtent(event.graphics[0].geometry.extent);\r\n                // drawButton.style.display = 'inline-block';\r\n                // cancelButton.style.display = 'none';\r\n            }\r\n        });   \r\n        \r\n        // drawButton.addEventListener(\"click\", (event) => {\r\n        //         regionLayer.removeAll();\r\n        //         setShowHelp(true);\r\n        //         sketchModel.create('polyline', {\r\n        //             mode:'click'            \r\n        //         });\r\n        //         drawButton.style.display = 'none';\r\n        //         cancelButton.style.display = 'inline-block';\r\n        // });\r\n\r\n        // cancelButton.addEventListener('click', (event) => {\r\n        //     sketchModel.cancel();\r\n        //     setShowHelp(false);\r\n        //     // drawButton.style.display = 'inline-block';\r\n        //     cancelButton.style.display = 'none';\r\n        // })\r\n\r\n        // view.ui.add('draw-region-div', 'bottom-right');\r\n        // view.ui.add('cruise-selector', 'top-right');\r\n\r\n        view.ui.remove('zoom');\r\n        view.ui.remove('navigation-toggle');\r\n        view.ui.remove('compass');\r\n        view.ui.remove('attribution');\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nconst TrajectoryController = React.memo((props) => {\r\n    const { cruiseTrajectory, trajectoryLayer, esriModules } = props;\r\n    \r\n    if(cruiseTrajectory){\r\n        const { lons, lats } = cruiseTrajectory;\r\n\r\n        let midIndex = Math.floor(lons.length / 2);\r\n\r\n        trajectoryLayer.removeAll();\r\n\r\n        var polyLines = [[]];\r\n        var lineIndex = 0;\r\n\r\n        let lonStart = lons[0];\r\n        let latStart = lats[0];\r\n        let maxDistance = 0;\r\n\r\n        // Create a new path array each time 180 lon is crossed\r\n        lons.forEach((lon, i) => {\r\n            let lat = lats[i];\r\n\r\n            let latDistance = Math.abs(lat - latStart);\r\n            let _lonDistance = Math.abs(lon - lonStart);\r\n            let lonDistance = _lonDistance > 180? 360 - _lonDistance : _lonDistance;\r\n\r\n            let distance = Math.sqrt(latDistance * latDistance + lonDistance * lonDistance);\r\n            maxDistance = distance > maxDistance ? distance : maxDistance;\r\n\r\n            polyLines[lineIndex].push([lon, lat]);\r\n\r\n            if(i < lons.length - 1){\r\n                if((lon > 160 && lon < 180) && (lons[i + 1] > -180 && lons[i + 1] < -160)){\r\n                    polyLines.push([]);\r\n                    lineIndex ++;\r\n                }\r\n\r\n                if((lon > -180 && lon < -160) && (lon[i + 1] > 160 && lon[i + 1] < 180)){\r\n                    polyLines.push([]);\r\n                    lineIndex ++;\r\n                }\r\n            }\r\n        })\r\n\r\n        var cruiseTrajectorySymbol = {\r\n            type: 'line-3d',\r\n            symbolLayers: [{\r\n                type: 'line',\r\n                material: { color: [0, 255, 255, 1] },\r\n                cap:  'round',\r\n                join: 'round',\r\n                size: 2\r\n            }]\r\n        }\r\n\r\n        polyLines.forEach(line => {\r\n\r\n            let cruiseTrajectoryGeometry = {\r\n                type: 'polyline',\r\n                paths: line\r\n            }\r\n\r\n            let graphic = new esriModules.Graphic({\r\n                geometry: cruiseTrajectoryGeometry,\r\n                symbol: cruiseTrajectorySymbol\r\n            });\r\n\r\n            trajectoryLayer.add(graphic);\r\n        })\r\n\r\n        try {\r\n            const center = [lons[midIndex], lats[midIndex]];\r\n\r\n            var zoom = 7 - Math.floor(maxDistance / 6);            \r\n    \r\n            props.view.goTo({\r\n                target: center,\r\n                zoom\r\n            }, {\r\n                maxDuration: 2500,\r\n                speedFactor: .5\r\n            });    \r\n\r\n        } catch(e) {console.log(e)}\r\n\r\n    } else {\r\n        trajectoryLayer.removeAll();\r\n\r\n        props.view.goTo({\r\n            target: [-140, 30],\r\n            zoom: 3\r\n        }, {\r\n            maxDuration: 2500,\r\n            speedFactor: .5\r\n        }); \r\n    }\r\n    return '';\r\n})\r\n\r\nclass MapContainer extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showHelp: false\r\n        }\r\n        this.regionLayer = new props.esriModules.GraphicsLayer();\r\n        this.trajectoryLayer = new props.esriModules.GraphicsLayer();\r\n    }\r\n\r\n    render = () => {\r\n        const { classes, esriModules, spParams, cruiseTrajectory, globeUIRef } = this.props;\r\n\r\n\r\n        const lat1 = parseFloat(spParams.lat1);\r\n        const lat2 = parseFloat(spParams.lat2);\r\n        const lon1 = parseFloat(spParams.lon1);\r\n        let _lon2 = parseFloat(spParams.lon2);\r\n        const lon2 = _lon2 < lon1 ? _lon2 + 360 : _lon2;\r\n\r\n        this.regionLayer.removeAll();\r\n\r\n        var polygon = {\r\n            type: 'polygon', \r\n            rings: [\r\n                [lon1, lat1],\r\n                [lon2, lat1],\r\n                [lon2, lat2],\r\n                [lon1, lat2],\r\n                [lon1, lat1]\r\n            ]\r\n        };\r\n\r\n        let regionGraphic = new esriModules.Graphic({\r\n            geometry: polygon,\r\n            symbol: polygonSymbol\r\n        })\r\n\r\n        this.regionLayer.add(regionGraphic);\r\n\r\n        return (\r\n            <div className={classes.container} id='found-you'>\r\n                <Scene\r\n                    mapProperties={{ \r\n                        basemap: 'satellite',\r\n                        layers: [\r\n                            this.regionLayer,\r\n                            this.trajectoryLayer\r\n                        ],\r\n\r\n                    }}\r\n                    viewProperties={{\r\n                        center: [-140, 30],\r\n                        zoom: 3,\r\n                        highlightOptions: {\r\n                            haloOpacity: 0,\r\n                            haloColor: 'rgba(0, 0, 0, 0)',\r\n                            fillOpacity: 0,\r\n                            color: \"rgba(0, 0, 0, 0)\"\r\n                        }\r\n                    }}\r\n                >\r\n                    <TrajectoryController \r\n                        cruiseTrajectory={cruiseTrajectory}\r\n                        trajectoryLayer={this.trajectoryLayer}\r\n                        esriModules={esriModules}\r\n                    />\r\n                    <UiComponents\r\n                        updateDomainFromGraphicExtent = {this.props.updateDomainFromGraphicExtent}\r\n                        esriModules={esriModules}\r\n                        measurementPositions={this.props.measurementPositions}\r\n                        regionLayer={this.regionLayer}\r\n                        setShowHelp={(showHelp) => this.setState({...this.state, showHelp})}\r\n                        ref={globeUIRef}\r\n                    />\r\n                </Scene>\r\n\r\n                {/* <DrawButton showHelp={this.state.showHelp}/> */}\r\n                <CruiseSelector updateParametersFromCruiseBoundary={this.props.updateParametersFromCruiseBoundary} showCruiseControl={this.props.showCruiseControl}/>\r\n            </div>            \r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(MapContainer);","const cleanSPParams = ({depth1, depth2, dt1, dt2, fields, lat1, lat2, lon1, lon2, spName, tableName}) => ({\r\n    depth1: parseFloat(depth1),\r\n    depth2: parseFloat(depth2),\r\n    dt1,\r\n    dt2,\r\n    fields,\r\n    lat1: parseFloat(lat1),\r\n    lat2: parseFloat(lat2),\r\n    lon1: parseFloat(lon1),\r\n    lon2: parseFloat(lon2),\r\n    spName,\r\n    tableName,\r\n})\r\n\r\nexport default cleanSPParams;","const localDateToString = (date) => {\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate()\r\n\r\n    let nYear = year.toString();\r\n    let nMonth = month < 10 ? '0' + month.toString() : month.toString();\r\n    let nDay = day < 10 ? '0' + day.toString() : day.toString();\r\n\r\n    return nYear + '-' + nMonth + '-' + nDay;\r\n}\r\n\r\nexport default localDateToString;","const metaTags = {\r\n    default: {\r\n        title: 'Simons Collaborative Marine Ocean Atlas',\r\n        description: \"Simons Collaborative Marine Atlas Project is an open-source data portal interconnecting data sets across Oceanography disciplines. It enables scientists and the public to dive into the vast and often underutilized ocean datasets to retrieve custom subsets of data.\",\r\n    },\r\n\r\n    visualization: {\r\n        title: 'CMAP Data Visualization',\r\n        description: 'Generate scatter plots, heatmaps, cruise routes, and more using oceanographic data from from CMAP datasets.'\r\n    },\r\n\r\n    catalog: {\r\n        title: 'CMAP Catalog',\r\n        description: 'Search for oceanographic datasets in the CMAP database using keywords, or temporal or spatial coverage.'\r\n    },\r\n\r\n    dataSubmission: {\r\n        title: 'CMAP Data Submission',\r\n        description: 'Validate and submit your dataset. Track the progress of your previous submissions.'\r\n    },\r\n\r\n    community: {\r\n        title: 'CMAP Community',\r\n        description: 'Join the CMAP team on slack, follow us on github, or download the CMAP software package for Python, R, Julia, or MATLAB.'\r\n    }\r\n}\r\n\r\nexport default metaTags;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { withStyles, Dialog, DialogContent, DialogTitle, Button } from '@material-ui/core';\r\n\r\nconst styles = (theme) => ({\r\n    dialogPaper: {\r\n        backgroundColor: 'black',\r\n        width: '400px',\r\n        height: '180px'\r\n    },\r\n\r\n    button: {\r\n        textTransform: 'none',\r\n        marginLeft: '20px',\r\n        marginTop: '24px'\r\n    },\r\n});\r\n\r\nconst ModuleSelector = (props) => {\r\n    const { history, classes } = props;\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <Dialog \r\n                open\r\n                PaperProps={{\r\n                    className: classes.dialogPaper\r\n                }}\r\n            >\r\n                <DialogTitle>\r\n                    Select a Visualization Module\r\n                </DialogTitle>\r\n\r\n                <DialogContent>\r\n                    <Button\r\n                        variant='outlined'\r\n                        onClick={() => history.push('/visualization/charts')}\r\n                        className={classes.button}\r\n                        color='primary'\r\n                    >\r\n                        Charts and Plots\r\n                    </Button>\r\n\r\n                    <Button\r\n                        variant='outlined'\r\n                        onClick={() => history.push('/visualization/cruises')}\r\n                        color='primary'\r\n                        className={classes.button}\r\n                    >\r\n                        Explore Cruises\r\n                    </Button>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </React.Fragment>\r\n        )\r\n    }\r\n\r\nexport default withStyles(styles)(withRouter(ModuleSelector));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, BrowserRouter, Switch } from 'react-router-dom'\r\n\r\nimport vizSubTypes from '../../Enums/visualizationSubTypes';\r\nimport storedProcedures from '../../Enums/storedProcedures';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport LoginRequiredPrompt from '../User/LoginRequiredPrompt';\r\n// import VisualizationController from './VisualizationController';\r\nimport VizControlPanel from './VizControlPanel';\r\nimport NewVizControlPanel from './NewVizControlPanel';\r\n\r\nimport { showLoginDialog, snackbarOpen } from '../../Redux/actions/ui';\r\nimport { queryRequestSend, storedProcedureRequestSend, cruiseListRequestSend, completedShowCharts } from '../../Redux/actions/visualization';\r\nimport { retrievalRequestSend, datasetRetrievalRequestSend } from '../../Redux/actions/catalog';\r\n\r\nimport { loadModules } from 'esri-loader';\r\n\r\nimport depthUtils from '../../Utility/depthCounter';\r\n\r\nimport Charts from './Charts';\r\nimport MapContainer from './MapContainer';\r\nimport colors from '../../Enums/colors'\r\nimport cleanSPParams from '../../Utility/cleanSPParams';\r\nimport localDateToString from '../../Utility/localDateToString';\r\nimport utcDateStringToLocal from '../../Utility/utcDateStringToLocal';\r\nimport temporalResolutions from '../../Enums/temporalResolutions';\r\nimport stars from '../../Utility/starsBase64';\r\nimport metaTags from '../../Enums/metaTags';\r\nimport ModuleSelector from './ModuleSelector';\r\n\r\nconst mapVizType = (vizType) => {\r\n    const mapping = {\r\n        [vizSubTypes.sectionMap]: {\r\n            sp: storedProcedures.sectionMap,\r\n            subType: vizSubTypes.sectionMap\r\n        },\r\n        [vizSubTypes.contourSectionMap]: {\r\n            sp: storedProcedures.sectionMap,\r\n            subType: vizSubTypes.contourSectionMap\r\n        },\r\n        [vizSubTypes.timeSeries]: {\r\n            sp: storedProcedures.timeSeries,\r\n            subType: vizSubTypes.timeSeries\r\n        },\r\n        [vizSubTypes.histogram]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.histogram\r\n        },\r\n        [vizSubTypes.depthProfile]: {\r\n            sp: storedProcedures.depthProfile,\r\n            subType: vizSubTypes.depthProfile\r\n        },\r\n        [vizSubTypes.heatmap]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.heatmap\r\n        },\r\n        [vizSubTypes.contourMap]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.contourMap\r\n        },\r\n        [vizSubTypes.sparse]: {\r\n            sp: storedProcedures.spaceTime,\r\n            subType: vizSubTypes.sparse\r\n        }\r\n    }\r\n\r\n    return mapping[vizType];\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user,\r\n    sampleData: state.sampleData,\r\n    queryRequestState: state.queryRequestState,\r\n    maps: state.maps,\r\n    charts: state.charts,\r\n    data: state.data,\r\n    storedProcedureRequestState: state.storedProcedureRequestState,\r\n    loadingMessage: state.loadingMessage,\r\n    cruiseTrajectory: state.cruiseTrajectory,\r\n    cruiseList: state.cruiseList,\r\n    showChartsOnce: state.showChartsOnce,\r\n    datasets: state.datasets,\r\n    catalog: state.catalog\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog,\r\n    queryRequestSend,\r\n    retrievalRequestSend,\r\n    storedProcedureRequestSend,\r\n    snackbarOpen,\r\n    cruiseListRequestSend,\r\n    completedShowCharts,\r\n    datasetRetrievalRequestSend\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    displayNone: {\r\n        display: 'none'\r\n    },\r\n\r\n    background: {\r\n        backgroundColor: colors.backgroundGray\r\n    },\r\n\r\n    showCharts: {\r\n        display: 'inline-block',\r\n        paddingTop: theme.spacing(6)\r\n        // width: '90%'\r\n    },\r\n\r\n    vizWrapper: {\r\n        minHeight: '100vh',\r\n        // overflow: 'hidden',\r\n        // width: '100vw',\r\n        background: `url(${stars})`\r\n    }\r\n})\r\n\r\nconst baseSPParams = {\r\n    tableName: '',\r\n    fields: null,\r\n    depth1: 0,\r\n    depth2: 0,\r\n    dt1: new Date(),\r\n    dt2: new Date(),\r\n    lat1: 0,\r\n    lat2: 0,\r\n    lon1: 0,\r\n    lon2: 0,\r\n    selectedVizType: ''\r\n}\r\n\r\nclass Visualization extends Component {\r\n    globeUIRef = React.createRef();\r\n\r\n    state = {\r\n        filteredData: [],\r\n        opacity: 1,\r\n        showCharts: false,\r\n        showUI: false,\r\n        surfaceOnly: false,\r\n        irregularSpatialResolution: false,\r\n        showCruiseControl: false,\r\n\r\n        spParams: baseSPParams\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        document.title = metaTags.visualization.title;\r\n        document.description = metaTags.visualization.description;\r\n        \r\n        // if(!this.props.catalog) this.props.retrievalRequestSend();\r\n        // if(!this.props.cruiseList) this.props.cruiseListRequestSend();\r\n        // if(!this.props.datasets) this.props.datasetRetrievalRequestSend();\r\n\r\n        const esriModuleNames = [\r\n            'AreaMeasurement3D',\r\n            'Search',\r\n            'GraphicsLayer',\r\n            'SketchViewModel',\r\n            'Utils',\r\n            'Graphic',\r\n        ];\r\n\r\n        var loadedModules = await loadModules([\r\n            'esri/widgets/AreaMeasurement3D',\r\n            'esri/widgets/Search',\r\n            'esri/layers/GraphicsLayer',\r\n            'esri/widgets/Sketch/SketchViewModel',\r\n            'esri/geometry/support/webMercatorUtils',\r\n            'esri/Graphic',\r\n        ], {version: '4.14'});\r\n\r\n        var esriModules = esriModuleNames.reduce((accumulator, currentValue, currentIndex) => {\r\n            accumulator[currentValue] = loadedModules[currentIndex];\r\n            return accumulator;\r\n        }, {});\r\n\r\n        this.setState({...this.state, esriModules});        \r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        document.title = metaTags.default.title;\r\n        document.description = metaTags.default.description;\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(this.props.showChartsOnce) {\r\n            this.props.completedShowCharts();\r\n            this.setState({...this.state, showCharts: true})\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({...this.state, spParams: {...this.state.spParams, [event.target.name]: event.target.value}})\r\n    };\r\n\r\n    handleLatLonChange = (event) => {\r\n        this.setState({\r\n            ...this.state, \r\n            spParams: {...this.state.spParams, [event.target.name]: event.target.value},\r\n        })\r\n    }\r\n\r\n    handleStartDateChange = (date) => {\r\n        if(date){\r\n            let newDate = new Date();\r\n            newDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\r\n            this.setState({...this.state, spParams: {...this.state.spParams, dt1:newDate}});\r\n        }\r\n    }\r\n\r\n    handleEndDateChange = (date) => {\r\n        if(date){\r\n            let newDate = new Date();\r\n            newDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\r\n            this.setState({...this.state, spParams: {...this.state.spParams, dt2:newDate}});\r\n        }\r\n    }\r\n\r\n    onVisualize = () => {\r\n        const { depth1, depth2, dt1, dt2, lat1, lat2, lon1, lon2, selectedVizType } = this.state.spParams;\r\n\r\n        let mapping = mapVizType(selectedVizType);\r\n        let parameters = cleanSPParams({\r\n            depth1,\r\n            depth2,\r\n            dt1: localDateToString(dt1),\r\n            dt2: localDateToString(dt2),\r\n            lat1,\r\n            lat2,\r\n            lon1,\r\n            lon2,\r\n            fields: this.state.spParams.fields && this.state.spParams.fields.value,\r\n            tableName: this.state.spParams.fields && this.state.spParams.tableName,\r\n            spName: mapping.sp\r\n        });\r\n\r\n        let payload = {\r\n            parameters,\r\n            subType: mapping.subType,\r\n            metadata: this.state.spParams.fields && this.state.spParams.fields.data\r\n        }\r\n    \r\n        this.props.storedProcedureRequestSend(payload);\r\n    }\r\n\r\n    // Update the \"fields\" state piece when the variables input changes\r\n    // Field in this case refers to a react-select option, which contains catalog metadata\r\n    updateFields = (fields) => {\r\n        if(fields) {\r\n            let surfaceOnly = !fields.data.Depth_Min;\r\n            let irregularSpatialResolution = fields.data.Spatial_Resolution === 'Irregular';\r\n\r\n            let sparseMaxDate = utcDateStringToLocal(fields.data.Time_Max);\r\n            sparseMaxDate.setDate(sparseMaxDate.getDate() + 1);\r\n\r\n            let dt1 = fields.data.Temporal_Resolution === temporalResolutions.monthlyClimatology ?\r\n                this.state.spParams.dt1 : utcDateStringToLocal(fields.data.Time_Min);\r\n            let dt2 = fields.data.Temporal_Resolution === temporalResolutions.monthlyClimatology ?\r\n                this.state.spParams.dt2 : \r\n                irregularSpatialResolution ? sparseMaxDate :\r\n                utcDateStringToLocal(fields.data.Time_Min);\r\n            \r\n            let latMin = Math.floor(fields.data.Lat_Min * 1000) /1000;\r\n            let latMax = Math.ceil(fields.data.Lat_Max * 1000) /1000;\r\n            let lonMin = Math.floor(fields.data.Lon_Min * 1000) /1000;\r\n            let lonMax = Math.ceil(fields.data.Lon_Max * 1000) /1000;\r\n\r\n            let lat1 = irregularSpatialResolution ? latMin : this.state.spParams.lat1;\r\n            let lat2 = irregularSpatialResolution ? latMax : this.state.spParams.lat2;\r\n            let lon1 = irregularSpatialResolution ? lonMin : this.state.spParams.lon1;\r\n            let lon2 = irregularSpatialResolution ? lonMax : this.state.spParams.lon2;\r\n            let depth1 = irregularSpatialResolution ? fields.data.Depth_Min || 0 : \r\n                depthUtils.piscesTable.has(fields.data.Table_Name) ? 0 :\r\n                depthUtils.darwinTable.has(fields.data.Table_Name) ? 0 : \r\n                this.state.spParams.depth1;\r\n\r\n            let depth2 = irregularSpatialResolution ? fields.data.Depth_Max || 0 : \r\n                depthUtils.piscesTable.has(fields.data.Table_Name) ? ((depthUtils.piscesDepths[0] + depthUtils.piscesDepths[1]) / 2).toFixed(2) :\r\n                depthUtils.darwinTable.has(fields.data.Table_Name) ? ((depthUtils.darwinDepths[0] + depthUtils.darwinDepths[1]) / 2) : \r\n                this.state.spParams.depth2;\r\n\r\n            if(irregularSpatialResolution){\r\n                this.globeUIRef.current.props.view.goTo({\r\n                    target: [(parseFloat(lon1) + parseFloat(lon2)) / 2, (parseFloat(lat1) + parseFloat(lat2)) / 2],\r\n                    zoom: 3\r\n                }, {\r\n                    maxDuration: 2500,\r\n                    speedFactor: .5\r\n                }); \r\n            }\r\n\r\n            let tableName = fields.data.Table_Name;\r\n            \r\n            this.setState({...this.state,\r\n                surfaceOnly,\r\n                irregularSpatialResolution,\r\n                spParams: {...this.state.spParams, \r\n                    fields,\r\n                    dt1,\r\n                    dt2,\r\n                    lat1,\r\n                    lat2,\r\n                    lon1,\r\n                    lon2,\r\n                    depth1,\r\n                    depth2,\r\n                    tableName,\r\n                    selectedVizType: ''\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({...this.state, spParams: {...this.state.spParams, fields, tableName: ''}})\r\n        }\r\n    }\r\n\r\n    updateParametersFromCruiseBoundary = (cruise) => {\r\n        if(cruise && this.state.spParams.fields){\r\n            this.props.snackbarOpen('Setting chart parameters to cruise boundaries.');\r\n            let lat1 = Math.floor(cruise.data.Lat_Min * 1000) / 1000;\r\n            let lat2 = Math.ceil(cruise.data.Lat_Max * 1000) / 1000;\r\n            let lon1 = Math.floor(cruise.data.Lon_Min * 1000) / 1000;\r\n            let lon2 = Math.ceil(cruise.data.Lon_Max * 1000) / 1000;\r\n\r\n            this.setState({...this.state,\r\n                spParams: {...this.state.spParams,\r\n                    lat1,\r\n                    lat2,\r\n                    lon1,\r\n                    lon2,\r\n                    dt1: utcDateStringToLocal(cruise.data.Start_Time),\r\n                    dt2: utcDateStringToLocal(cruise.data.End_Time)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    handleShowCharts = () => {\r\n        this.setState({...this.state, showCharts: true})\r\n    }\r\n\r\n    handleShowGlobe = () => {\r\n        this.setState({...this.state, showCharts: false})\r\n    }\r\n\r\n    handleShowCruiseControl = () => {\r\n        this.setState({...this.state, showCruiseControl: !this.state.showCruiseControl});\r\n    }\r\n\r\n    toggleShowUI = () => {\r\n        this.setState({...this.state, showUI: !this.state.showUI});\r\n    }\r\n\r\n    updateDomainFromGraphicExtent = (extent) => {\r\n        var _lon1 = extent.xmin;\r\n\r\n        while(_lon1 < -180) _lon1 += 360;\r\n        while (_lon1 > 180) _lon1 -= 360;\r\n\r\n        var _lon2 = extent.xmax;\r\n\r\n        while(_lon2 < -180) _lon2 += 360;\r\n        while(_lon2 > 180) _lon2 -= 360;\r\n\r\n        var newCoordinates = {\r\n            lat1: extent.ymin.toFixed(3),\r\n            lat2: extent.ymax.toFixed(3),\r\n            lon1: _lon1.toFixed(3),\r\n            lon2: _lon2.toFixed(3)\r\n        };\r\n\r\n        this.setState({...this.state, spParams: {...this.state.spParams, ...newCoordinates}});\r\n    }\r\n\r\n    resetSPParams = () => {\r\n        this.setState({...this.state, spParams: baseSPParams})\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        if(!this.props.user) return <LoginRequiredPrompt/>\r\n\r\n        return (\r\n            <div className={classes.vizWrapper}>\r\n\r\n                {/* <VizControlPanel\r\n                    toggleChartView={this.toggleChartView}\r\n                    toggleShowUI={this.toggleShowUI}\r\n                    handleChange={this.handleChange}\r\n                    handleLatLonChange={this.handleLatLonChange}\r\n                    handleStartDateChange={this.handleStartDateChange} \r\n                    handleEndDateChange={this.handleEndDateChange} \r\n                    showUI={this.state.showUI}\r\n                    onVisualize={this.onVisualize}\r\n                    updateFields={this.updateFields}\r\n                    {...this.state.spParams}\r\n                    surfaceOnly={this.state.surfaceOnly}\r\n                    irregularSpatialResolution={this.state.irregularSpatialResolution}\r\n                    showCharts={this.state.showCharts}\r\n                    handleShowCharts={this.handleShowCharts}\r\n                    handleShowGlobe={this.handleShowGlobe}\r\n                    resetSPParams={this.resetSPParams}\r\n                    handleShowCruiseControl={this.handleShowCruiseControl}\r\n                    showCruiseControl={this.state.showCruiseControl}\r\n                /> */}\r\n\r\n                { this.state.esriModules &&\r\n                    <div className={`${this.state.showCharts ? classes.displayNone : ''}`}>\r\n                        <MapContainer\r\n                            globeUIRef={this.globeUIRef}\r\n                            updateDomainFromGraphicExtent={this.updateDomainFromGraphicExtent}\r\n                            updateParametersFromCruiseBoundary={this.updateParametersFromCruiseBoundary}\r\n                            esriModules={this.state.esriModules}\r\n                            spParams={this.state.spParams}\r\n                            cruiseTrajectory={this.props.cruiseTrajectory}\r\n                            showCruiseControl={this.state.showCruiseControl}\r\n                        />\r\n                    </div>\r\n                }\r\n\r\n                <Switch>          \r\n                    <Route exact path='/visualization' component={ModuleSelector} />\r\n                    <Route path='/visualization/charts' component={NewVizControlPanel}\r\n                            // <NewVizControlPanel\r\n                            toggleChartView={this.toggleChartView}\r\n                            toggleShowUI={this.toggleShowUI}\r\n                            handleChange={this.handleChange}\r\n                            handleLatLonChange={this.handleLatLonChange}\r\n                            handleStartDateChange={this.handleStartDateChange} \r\n                            handleEndDateChange={this.handleEndDateChange} \r\n                            showUI={this.state.showUI}\r\n                            onVisualize={this.onVisualize}\r\n                            updateFields={this.updateFields}\r\n                            {...this.state.spParams}\r\n                            surfaceOnly={this.state.surfaceOnly}\r\n                            irregularSpatialResolution={this.state.irregularSpatialResolution}\r\n                            showCharts={this.state.showCharts}\r\n                            handleShowCharts={this.handleShowCharts}\r\n                            handleShowGlobe={this.handleShowGlobe}\r\n                            resetSPParams={this.resetSPParams}\r\n                            handleShowCruiseControl={this.handleShowCruiseControl}\r\n                            showCruiseControl={this.state.showCruiseControl}\r\n                    //     />\r\n                    // }\r\n                    />\r\n                    <Route path='/visualization/cruises' component={''}/>\r\n                </Switch>              \r\n\r\n                <div className={this.state.showCharts ? classes.showCharts : classes.displayNone}>\r\n                    <Charts/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Visualization));","export default 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdcAAAEZCAIAAABKBPhSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAStSURBVHhe7d1Lb1NHFADgzFw/YucFzoNGhQURSDwVqVWhUBCbZMUP6Y/gNyLEAqkSbKiEqorIIbEdx8/0hs6WLlrXz++T5bnnzNLy0blz7ZklZlGI8faDBz88e5ZiYGZlaWTW9Lrdxpcv7VYrxQCMVbiUrgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOBfytIIExJCKFcqF1+lFCySmEaYhLwEL1erTw8Pt65dSylYMHphJixvgVuNxmm93u/3UwqAcco74nQFAAAAAAAAAAAAAAAAAAAAwH+TZVm5UrGfA4yfnS253Exna3f36cFBaXk5pYBxsbMllwb9fuPkpHlyYqt1GLOR3YHm/VSxXK7t7PS63dN6PX9PE8yI/BNUgmH8RtYLxyy7srn588FBbXv7pF4/azbTBADfNrJ14RjjRq32y+HhTy9ebO/upiwA/2h068L5DW0I9aOj3968+f39+875ecoD8G2jXBcuFIvV1dXBYNButQbOEAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWVJZGplgI4freXqlcPms2UwqYFzGNTLMQVtfXl6vVFAIwZiHGvCNOAQAAAMw8T+dgehVLpb07d7qdTv5KKeaOp3MwrUKIWbZRq+W1OGUAGLPowSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwHZz+CcyMEMLW1tVCodDpdFNq9jn9E5gZeRW+e3fvxo3vUgzAmFUq5VKpmAIAxsyB1AAAAAAAzDa/F4YFFWK8s7+/XK2eHh+nFJPg98KwqC4uWo3GebudQgDGLHyVAibEigQzoFQu57fPw+EwxTBHVGGmXYxx/8mTSrVa//w5pWCOqMLMgPN2+/T4uNvppBiAcbpcu7R8CQAAAAAAAKMRQtja3b2+t5diWBj+wcy0qFSrq+vrKQBgzC7/Sxu1BQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMI1CWNrYWLt//1axWEgp+D/FNAJJKJeLtdpGjL4dAJMQQlCCAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAWQpXEuhBhLpdLG5mZ+PRwOLy4u/s4DTK25qsLFYrG2s/Pj8+f9fr/davW63TQBMK3mqgpXV1Zu3bv366tXvV7vz0+fTuv1NAEwreaqCscYs0Ihb4TfvX79x8ePnXY7TQBMq5DGuZBlWWVlpbazc1KvtxqNfq+XJgAAAAAAAAAAAAAAAAAAAAAAAAAAGL252l8YZkWpVNzevlqrbXQ63cFgmLIsJFUYJuDKlbVHjx4+fHj76Oi42TwbDp2RuLhiGoExWltbffx4/+XLFzdvfp9lmqGF5uOHCYgxnp423r378Pbt+1brzHnhi2yuTjyCWVEsFqrV5bwLbjRa/X5fEQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4NuWlv4CeM/T726poh8AAAAASUVORK5CYII=';","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport Link from '@material-ui/core/Link';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\nimport colors from '../../Enums/colors';\r\n\r\nimport { showLoginDialog, hideLoginDialog, restoreInterfaceDefaults, snackbarOpen } from '../../Redux/actions/ui';\r\nimport { logOut, userLoginRequestSend, googleLoginRequestSend } from '../../Redux/actions/user';\r\n\r\nimport GoogleSignInButton from './GoogleSignInButton';\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        loginDialogIsOpen: state.loginDialogIsOpen,\r\n        userLoginState: state.userLoginState,\r\n        userLoginError: state.userLoginError\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    hideLoginDialog,\r\n    showLoginDialog,\r\n    logOut,\r\n    userLoginRequestSend,\r\n    restoreInterfaceDefaults,\r\n    googleLoginRequestSend,\r\n    snackbarOpen\r\n}\r\n\r\nconst styles = theme => ({\r\n    wrapper: {\r\n        margin: theme.spacing(1),\r\n        position: 'relative',\r\n    },\r\n\r\n    buttonProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n\r\n    googleIconWrapper: {\r\n        marginRight: '100px',\r\n        marginLeft: '-8px'\r\n    },\r\n\r\n    dialogWrapper: {\r\n        backgroundColor: colors.solidPaper\r\n    },\r\n\r\n    colorCorrectionPrimary: {\r\n        color: colors.primary\r\n    },\r\n\r\n    colorCorrectionWhite: {\r\n        color: 'white'\r\n    }\r\n})\r\n\r\nconst loginClickHandlerTarget = 'g-signin';\r\n\r\nclass LoginDialog extends Component{\r\n    // Text input state is managed in the TopNavBar component\r\n\r\n    handleLogin = (event) => {\r\n        this.props.userLoginRequestSend(this.props.username, this.props.password);\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.props.clearState();\r\n        this.props.hideLoginDialog();\r\n        this.props.restoreInterfaceDefaults();\r\n    }\r\n\r\n    onGoogleSignin = (user) => {\r\n        let token = user.getAuthResponse(true).id_token;\r\n        this.props.googleLoginRequestSend(token);\r\n    }\r\n\r\n    onDialogEnter = () => {\r\n        // clean up listener on unmount\r\n        let _this = this;\r\n        let auth = window.gapi.auth2\r\n        if(auth){\r\n            let authInstance = auth.getAuthInstance();\r\n            authInstance.attachClickHandler(\r\n                loginClickHandlerTarget, \r\n                null, \r\n                _this.onGoogleSignin,\r\n                () => _this.props.snackbarOpen('There was a problem accessing your google account')\r\n            );\r\n        } else {\r\n            setTimeout(_this.onDialogEnter, 20);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n        let loginDisabled = !this.props.username || !this.props.password;\r\n\r\n        return (\r\n            <Dialog\r\n                open={this.props.loginDialogIsOpen}\r\n                onClose={this.handleClose}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                onEnter={this.onDialogEnter}\r\n                PaperProps={{\r\n                    className: classes.dialogWrapper\r\n                }}\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\r\n                <DialogContent>                \r\n                    <DialogContentText>\r\n                        Please enter your username and password, or <Link className={classes.colorCorrectionPrimary} onClick={this.handleClose} component={RouterLink} to={{pathname: '/register'}}>Register.</Link>\r\n                    </DialogContentText>\r\n                    <form onSubmit={e => (e.preventDefault())}>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"normal\"\r\n                            id=\"username\"\r\n                            label=\"Username\"\r\n                            type=\"text\"\r\n                            variant='outlined'\r\n                            name='username'\r\n                            value={this.props.username}\r\n                            onChange={this.props.handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}                            \r\n                        />\r\n\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id=\"name\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='password'\r\n                            value={this.props.password}\r\n                            onChange={this.props.handleChange}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            helperText={<Link className={classes.colorCorrectionPrimary} onClick={this.handleClose} component={RouterLink} to={{pathname: '/forgotpass'}}>Forgot Username or Password</Link>}\r\n                        />\r\n\r\n                        <DialogActions>\r\n                            <div className={classes.googleIconWrapper}>\r\n                                <GoogleSignInButton clickHandlerTarget={loginClickHandlerTarget} text='Sign in with Google'/>\r\n                            </div>\r\n\r\n                            <Button onClick={this.handleClose}>\r\n                                <span className={classes.colorCorrectionWhite}>Cancel</span>\r\n                            </Button>\r\n\r\n                            <div className={classes.wrapper}>\r\n                                <Button \r\n                                    color=\"primary\" \r\n                                    type='submit' \r\n                                    onClick={this.handleLogin} \r\n                                    disabled={loginDisabled}\r\n                                    className={loginDisabled ? '' : classes.colorCorrection}\r\n                                >\r\n                                    Log In\r\n                                </Button>\r\n                            </div>\r\n                        </DialogActions>\r\n                    </form>\r\n                    {this.props.userLoginState === states.failed ?\r\n                    <DialogContentText>\r\n                        Login failed. Please try again.\r\n                    </DialogContentText>\r\n                    : ''               \r\n                    }\r\n                </DialogContent>\r\n                \r\n            </Dialog>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LoginDialog));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { snackbarClose } from '../../Redux/actions/ui';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    snackbarIsOpen: state.snackbarIsOpen,\r\n    snackbarMessage: state.snackbarMessage\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    snackbarClose,\r\n}\r\n\r\nconst styles = (theme) => {\r\n    return ({\r\n\r\n    })\r\n}\r\n\r\nconst SnackbarWrapper = (props) => {\r\n    const { classes } = props;\r\n    return (\r\n        \r\n        <React.Fragment>\r\n            <Snackbar\r\n                autoHideDuration={2500} \r\n                message={props.snackbarMessage}\r\n                onClose={props.snackbarClose}\r\n                open={props.snackbarIsOpen}\r\n                anchorOrigin={{horizontal:'center', vertical:'top'}}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SnackbarWrapper));","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport * as Spinner from 'react-spinkit';\r\n\r\nconst styles = theme => ({\r\n    loader: {\r\n        backgroundColor: '#000000',\r\n        position: 'fixed',\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        opacity: 0.5,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '100vw',\r\n        height: '100vh',\r\n        zIndex: 9998\r\n    },\r\n\r\n    loaderContent: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItem: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 9999,\r\n        opacity: 1\r\n    },\r\n\r\n    spinnerText: {\r\n        zIndex: 10000,\r\n        color: theme.palette.primary.main,\r\n        // color: '#FF8000',\r\n        marginTop: '25px',\r\n        opacity: 1\r\n    },\r\n\r\n    spinner: {\r\n        opacity: 1\r\n    }\r\n})\r\n\r\nconst LoadingOverlay = (props) => {\r\n    const { classes, loadingMessage } = props;\r\n\r\n    if(loadingMessage && loadingMessage.length){\r\n        return (\r\n            <div className={classes.loader}>\r\n                <div className={classes.loaderContent}>\r\n                    <Spinner className={classes.spinner} color={colors.primary} name=\"ball-pulse-rise\" fadeIn='quarter'/>\r\n                    <Typography variant='h6' className={classes.spinnerText}>{loadingMessage}</Typography>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else return '';\r\n\r\n}\r\n\r\nexport default withStyles(styles)(LoadingOverlay);","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Typography } from '@material-ui/core';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst styles = (theme) => ({\r\n\r\n});\r\n\r\nconst CartHelpContents = (props) => {\r\n\r\n    return (\r\n            <React.Fragment>\r\n                <Typography>\r\n                    Adding datasets to your cart allows quick and easy access without returning to the catalog. Additionally, datasets in your cart will appear\r\n                    first when searching on the visualization page, and will be marked with a cart icon as below.\r\n                </Typography>\r\n\r\n                <img \r\n                    src='/images/help_cart_marked_in_search.png' \r\n                    style={{\r\n                        margin: '20px auto',\r\n                        display: 'block',\r\n                        width: '480px',\r\n                        maxWidth: '80vw'\r\n                    }}\r\n                    alt='Dataset With Cart Icon Example'\r\n                />\r\n\r\n                <Typography>\r\n                    Some datasets do not contain any variables intended for visualization. These can be identified by a yellow icon on the catalog page\r\n                    or in the cart, and can be added to your cart for easier access, but won't appear on the visualization page.\r\n                </Typography>\r\n\r\n                <img \r\n                    src='/images/help_cart_warning_icon.png' \r\n                    style={{\r\n                        margin: '20px auto',\r\n                        display: 'block',\r\n                        width: '480px',\r\n                        maxWidth: '80vw'\r\n                    }}\r\n                    alt='Dataset With A Warning Icon'\r\n                />\r\n\r\n                <img \r\n                    src='/images/help_cart_yellow_cart_Icon.png' \r\n                    style={{\r\n                        margin: '20px auto',\r\n                        display: 'block',\r\n                        width: '480px',\r\n                        maxWidth: '80vw'\r\n                    }}\r\n                    alt='Dataset With Yellow Cart Icon'\r\n                />\r\n\r\n                <Typography>\r\n                    Items will remain in your cart on subsequent visits as long as you are logged in.\r\n                </Typography>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(CartHelpContents));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport { withStyles, Dialog, DialogTitle, DialogContent, Button, DialogActions } from '@material-ui/core';\r\nimport { ShowChart, Delete } from '@material-ui/icons';\r\n\r\nimport SearchResult from '../Catalog/SearchResult';\r\n\r\nimport { setShowCart } from '../../Redux/actions/ui';\r\nimport { cartClear } from '../../Redux/actions/catalog';\r\nimport { cartPersistClear } from '../../Redux/actions/user';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport HelpButtonAndDialog from './HelpButtonAndDialog';\r\nimport CartHelpContents from './CartHelpContents';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    cart: state.cart,\r\n    showCart: state.showCart\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    setShowCart,\r\n    cartClear,\r\n    cartPersistClear\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.solidPaper,\r\n        '@media (max-width: 600px)': {\r\n            width: '100vw',\r\n            margin: '12px'\r\n        },\r\n        width: '60vw',\r\n    },\r\n\r\n    dialogPaperViz: {\r\n        backgroundColor: colors.backgroundGray,\r\n        '@media (max-width: 600px)': {\r\n            width: '100vw',\r\n            margin: '12px'\r\n        },\r\n        width: '60vw',\r\n    },\r\n\r\n    dialogTitle: {\r\n        paddingBottom: '8px',\r\n        color: colors.primary\r\n    },\r\n\r\n    dialogActions: {\r\n        marginTop: '12px'\r\n    },\r\n\r\n    helpButton: {\r\n        marginTop: '-4px'\r\n    }\r\n});\r\n\r\nconst Cart = (props) => {\r\n    const { classes, cart } = props;\r\n    let cartItems = Object.values(cart);\r\n\r\n    const handleCartClear = () => {\r\n        props.cartClear();\r\n        props.cartPersistClear();\r\n    }\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <Dialog\r\n                PaperProps={{\r\n                    className: window.location.pathname.includes('/visualization') ? classes.dialogPaperViz : classes.dialogPaper\r\n                }}\r\n                open={props.showCart} \r\n                onClose={() => props.setShowCart(false)} \r\n                maxWidth={false}\r\n            >\r\n                <DialogTitle>\r\n                    Your Cart \r\n                    <HelpButtonAndDialog\r\n                        title='Dataset Cart'\r\n                        content={<CartHelpContents/>}\r\n                        iconClass={classes.helpIcon}\r\n                        buttonClass={classes.helpButton}\r\n                    />\r\n                </DialogTitle>\r\n\r\n                <DialogContent>\r\n                    {   cartItems && cartItems.length ?\r\n                        <>  \r\n                            {\r\n                                cartItems.map((e, i) => (\r\n                                <SearchResult key={i} dataset={e}/>\r\n                                ))\r\n                            }\r\n\r\n                            <DialogActions className={classes.dialogActions}>\r\n                                <Button\r\n                                    variant=\"text\"\r\n                                    color=\"primary\"\r\n                                    className={props.cartButtonClass}\r\n                                    startIcon={<ShowChart/>}\r\n                                    component={RouterLink} \r\n                                    to={`/visualization`}\r\n                                    onClick={() => props.setShowCart(false)}\r\n                                >\r\n                                    Visualization\r\n                                </Button>\r\n\r\n                                <Button\r\n                                    variant=\"text\"\r\n                                    color=\"primary\"\r\n                                    className={props.cartButtonClass}\r\n                                    startIcon={<Delete/>}\r\n                                    onClick={handleCartClear}\r\n                                >\r\n                                    Clear Cart\r\n                                </Button>\r\n                            </DialogActions>                      \r\n\r\n                        </>\r\n\r\n                        : 'Nothing in your cart. Visit the catalog page to add datasets.'\r\n                    }\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Cart));","// This component is a wrapper and control center for\r\n// UI components that need to be accessible anywhere\r\n// in the application such as login dialog and snackbar.\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport LoginDialog from '../User/LoginDialog';\r\nimport SnackbarWrapper from './SnackbarWrapper';\r\nimport LoadingOverlay from './LoadingOverlay';\r\nimport Cart from './Cart';\r\n\r\nimport { loginDialogWasCleared } from '../../Redux/actions/user';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    clearLoginDialog: state.clearLoginDialog,\r\n    loadingMessage: state.loadingMessage\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    loginDialogWasCleared\r\n}\r\n\r\nclass GlobalUIComponentWrapper extends Component {\r\n\r\n    state = {\r\n        // Login dialog\r\n        username: '',\r\n        password: ''\r\n    }\r\n    \r\n    // Controls login dialog text fields to allow reset from logout button\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    };\r\n\r\n    handleLogOut = () => {\r\n        this.clearState();\r\n    }\r\n\r\n    clearState = () => {\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        });\r\n        this.props.loginDialogWasCleared();\r\n    }\r\n\r\n    componentDidUpdate = (preProps) => {\r\n        if(this.props.clearLoginDialog) {\r\n            this.clearState();\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <React.Fragment>    \r\n                <LoginDialog clearState={this.clearState} username={this.state.username} password={this.state.password} handleChange={this.handleChange}/>\r\n                <SnackbarWrapper/>\r\n                <LoadingOverlay loadingMessage={this.props.loadingMessage}/>\r\n                <Cart/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GlobalUIComponentWrapper);","import React, { Component } from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Accordion, AccordionSummary, AccordionDetails, AccordionActions, Grid } from '@material-ui/core';\r\n\r\nimport RegionSelector from '../Components/UI/RegionSelector';\r\n\r\nimport Draggable from 'react-draggable';\r\n\r\nconst styles = theme => ({\r\n    landingWrapper: {\r\n        margin: '15vh auto'\r\n    },\r\n\r\n    accordion: {\r\n        width: '30%'\r\n    },\r\n\r\n    gridSection: {\r\n        border: '1px solid pink',\r\n        width: '50%',\r\n        minHeight: '200px'\r\n    },\r\n\r\n    parent: {\r\n        height: '80vh',\r\n        width: '80vw',\r\n        margin: '10vh 10vw',\r\n        border: '1px solid green'\r\n    }\r\n})\r\n\r\n\r\n\r\nlet items = {\r\n    'item-1': {\r\n        id: 'item-1',\r\n        order: 0,\r\n    }\r\n}\r\n\r\n// type item = {\r\n    // bounds ??\r\n    // contents\r\n    // order\r\n    // id\r\n    // defaultPosition\r\n// }\r\n\r\n// const DraggableMenuItem = (props) => {\r\n//     const handleStop = (e) => {\r\n\r\n//     }\r\n    \r\n//     return (\r\n//         <Draggable grid={[25, 25]} defaultPosition={props.defaultPosition || null}>\r\n//             <Accordion className={classes.accordion}>\r\n//                 <AccordionSummary>\r\n//                     {props.title}\r\n//                 </AccordionSummary>\r\n//                 <AccordionDetails>\r\n//                     {props.contents}\r\n//                 </AccordionDetails>\r\n//             </Accordion>\r\n//         </Draggable>\r\n//     )\r\n// }\r\n\r\nclass LandingPage extends Component {\r\n\r\n    state = {\r\n        panelItems: [0, 1, 2],\r\n        draggedItems: []\r\n    }\r\n\r\n    handleDrop = (event) => {\r\n        console.log(event.target);\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <div className={classes.parent}>\r\n                <div className={classes.gridSection}>\r\n                    <RegionSelector/>\r\n                            {/* <Accordion draggable={true}  className={classes.accordion}>\r\n                                <AccordionSummary>\r\n                                    I'm an accordion summary.\r\n                                </AccordionSummary>\r\n                                <AccordionDetails>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin iaculis risus sit amet ipsum vestibulum tempor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt dolor in porta interdum.\r\n                                </AccordionDetails>\r\n                            </Accordion>\r\n\r\n                            <Accordion draggable={true} className={classes.accordion}>\r\n                                <AccordionSummary>\r\n                                    I'm an accordion summary 2.\r\n                                </AccordionSummary>\r\n                                <AccordionDetails>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin iaculis risus sit amet ipsum vestibulum tempor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt dolor in porta interdum.\r\n                                </AccordionDetails>\r\n                            </Accordion>\r\n\r\n                            <Accordion draggable={true} className={classes.accordion}>\r\n                                <AccordionSummary>\r\n                                    I'm an accordion summary 3.\r\n                                </AccordionSummary>\r\n                                <AccordionDetails>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin iaculis risus sit amet ipsum vestibulum tempor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt dolor in porta interdum.\r\n                                </AccordionDetails>\r\n                            </Accordion> */}\r\n\r\n                            {/* <Draggable>\r\n                                <Accordion className={classes.accordion}>\r\n                                    <AccordionSummary>\r\n                                        I'm an accordion summary 1.\r\n                                    </AccordionSummary>\r\n                                    <AccordionDetails>\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin iaculis risus sit amet ipsum vestibulum tempor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt dolor in porta interdum.\r\n                                    </AccordionDetails>\r\n                                </Accordion>\r\n                            </Draggable>\r\n\r\n                            <Draggable>\r\n                                <Accordion className={classes.accordion}>\r\n                                    <AccordionSummary>\r\n                                        I'm an accordion summary 1.\r\n                                    </AccordionSummary>\r\n                                    <AccordionDetails>\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin iaculis risus sit amet ipsum vestibulum tempor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt dolor in porta interdum.\r\n                                    </AccordionDetails>\r\n                                </Accordion>\r\n                            </Draggable>\r\n\r\n                            <Draggable onStop={(e) => {\r\n                                    console.log(e);\r\n                                    e.stopPropagation();\r\n                                }}>\r\n                                <Accordion className={classes.accordion}>\r\n                                    <AccordionSummary>\r\n                                        I'm an accordion summary 1.\r\n                                    </AccordionSummary>\r\n                                    <AccordionDetails>\r\n                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin iaculis risus sit amet ipsum vestibulum tempor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam tincidunt dolor in porta interdum.\r\n                                    </AccordionDetails>\r\n                                </Accordion>                                \r\n                            </Draggable> */}\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(LandingPage);","const jss = {\r\n    // styles for top navbar links\r\n    navLink: theme => ({\r\n        textDecoration: 'none',\r\n        marginRight: 40,\r\n        fontFamily: '\"Lato\",sans-serif',\r\n        color: 'white',\r\n        '&:hover': {\r\n            color: theme.palette.primary.main\r\n        },\r\n        fontSize: '15px',\r\n        fontWeight: 100,\r\n        display: 'inline-block',\r\n        cursor: 'pointer' ,\r\n        verticalAlign: 'middle',\r\n        pointerEvents: 'all',\r\n        fontWeight: 500,\r\n        letterSpacing: 'normal'\r\n    }),\r\n}\r\n\r\nexport default jss;","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { ExpandLess, ExpandMore } from '@material-ui/icons';\r\nimport { Typography, MenuItem, ClickAwayListener, Grow, Paper, Popper, MenuList } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { logOut } from '../../Redux/actions/user';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport JSS from '../../Stylesheets/JSS';\r\n\r\nconst styles = (theme) => ({\r\n    navLink: JSS.navLink(theme),\r\n\r\n    icon: {\r\n        display: 'inline-flex',\r\n        verticalAlign: 'middle',\r\n        color: colors.primary\r\n    },\r\n\r\n    dropdown: {\r\n        zIndex: 1300,\r\n        marginTop: '21px',\r\n        width: '200px'\r\n    },\r\n\r\n    popperPaperBlue: {\r\n        borderTopLeftRadius: 0,\r\n        borderTopRightRadius: 0,\r\n        backgroundColor: '#1D4962'\r\n    },\r\n\r\n    popperPaperBlack: {\r\n        borderTopLeftRadius: 0,\r\n        borderTopRightRadius: 0,\r\n        backgroundColor: 'black'\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    logOut\r\n}\r\n\r\nconst UserNavbarDropdown = (props) => {\r\n    const { classes, user, pathname, logOut } = props;\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n    const paperClass = window.location.pathname.includes('/visualization') ? classes.popperPaperBlack : classes.popperPaperBlue;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Typography variant='caption' className={`${classes.navLink}`} onClick={handleClick}>\r\n                {user.email}{anchorEl ? <ExpandLess className={classes.icon} color='primary' fontSize='small'/> : <ExpandMore className={classes.icon} color='primary' fontSize='small'/>}\r\n            </Typography>\r\n            <Popper open={Boolean(anchorEl)} anchorEl={anchorEl} role={undefined} transition className={classes.dropdown}>\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow\r\n                    {...TransitionProps}\r\n                    style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                    >\r\n                        <Paper className={paperClass}>\r\n                            <ClickAwayListener onClickAway={handleClose}>\r\n                                <MenuList id=\"menu-list-grow\">\r\n                                    <MenuItem onClick={handleClose} component={Link} to='/profile'>Profile</MenuItem>\r\n                                    <MenuItem onClick={handleClose} component={Link} to='/apikeymanagement'>API Access</MenuItem>\r\n                                    <MenuItem onClick={logOut}>Logout</MenuItem>\r\n                                </MenuList>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(UserNavbarDropdown)));","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { logOut } from '../../Redux/actions/user';\r\n\r\nimport { ExpandLess, ExpandMore } from '@material-ui/icons';\r\n\r\nimport { Typography, MenuItem, ClickAwayListener, Grow, Paper, Popper, MenuList } from '@material-ui/core';\r\n\r\nimport JSS from '../../Stylesheets/JSS';\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = (theme) => ({\r\n    navLink: JSS.navLink(theme),\r\n\r\n    icon: {\r\n        display: 'inline-flex',\r\n        verticalAlign: 'middle'\r\n    },\r\n\r\n    icon: {\r\n        display: 'inline-flex',\r\n        verticalAlign: 'middle',\r\n        color: colors.primary\r\n    },\r\n\r\n    dropdown: {\r\n        zIndex: 1300,\r\n        marginTop: '21px',\r\n        width: '200px'\r\n    },\r\n\r\n    popperPaperBlue: {\r\n        borderTopLeftRadius: 0,\r\n        borderTopRightRadius: 0,\r\n        backgroundColor: '#1D4962'\r\n    },\r\n\r\n    popperPaperBlack: {\r\n        borderTopLeftRadius: 0,\r\n        borderTopRightRadius: 0,\r\n        backgroundColor: 'black'\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    logOut\r\n}\r\n\r\nconst DataSubmissionNavbarDropdown = (props) => {\r\n    const { classes, user, pathname, logOut } = props;\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const paperClass = window.location.pathname.includes('/visualization') ? classes.popperPaperBlack : classes.popperPaperBlue;\r\n\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <Typography variant='caption' className={`${classes.navLink}`} onClick={handleClick}>\r\n                Data Submission{anchorEl ? <ExpandLess className={classes.icon} color='primary' fontSize='small'/> : <ExpandMore className={classes.icon} color='primary' fontSize='small'/>}\r\n            </Typography>\r\n            <Popper open={Boolean(anchorEl)} anchorEl={anchorEl} role={undefined} transition className={classes.dropdown}>\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow\r\n                    {...TransitionProps}\r\n                    style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                    >\r\n                        <Paper className={paperClass}>\r\n                            <ClickAwayListener onClickAway={handleClose}>\r\n                                <MenuList id=\"menu-list-grow\">\r\n                                    <MenuItem onClick={handleClose} component={Link} to='/datasubmission/guide'>Submission Guide</MenuItem>\r\n                                    <MenuItem onClick={handleClose} component={Link} to='/datasubmission/validationtool'>Submit Data</MenuItem>\r\n                                    <MenuItem onClick={handleClose} component={Link} to='/datasubmission/userdashboard'>User Dashboard</MenuItem>\r\n                                    {user && user.isDataSubmissionAdmin &&\r\n                                        <MenuItem onClick={handleClose} component={Link} to='/datasubmission/admindashboard'>Admin Dashboard</MenuItem>\r\n                                    }\r\n                                </MenuList>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(DataSubmissionNavbarDropdown)));","import React from 'react';\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { logOut } from '../../Redux/actions/user';\r\n\r\nimport { Typography, IconButton, Drawer, List, ListItem, ListItemIcon, ListItemText, Divider } from '@material-ui/core';\r\nimport { Menu } from '@material-ui/icons';\r\n\r\nimport JSS from '../../Stylesheets/JSS';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = theme => ({\r\n    menuIcon: {\r\n        color: 'white',\r\n        cursor: 'pointer'\r\n    },\r\n\r\n    iconButton: {\r\n        ...JSS.navLink(theme),\r\n        padding: '8px'\r\n    },\r\n\r\n    drawerPaper: {\r\n        backgroundColor: colors.solidPaper,\r\n        paddingLeft: '8px'\r\n    },\r\n\r\n    listItem: {\r\n        '&:hover': {\r\n            color: theme.palette.primary.main\r\n        }\r\n    }\r\n})\r\n\r\nconst MobileNavbarMenu = (props) => {\r\n    const { classes, user, handleLogOut, showLoginDialog } = props;\r\n\r\n    const [drawerState, setDrawerState] = React.useState(false);\r\n\r\n    const handleLoginClick = () => {\r\n        showLoginDialog();\r\n        setDrawerState(false);\r\n    }\r\n\r\n    const handleLogoutClick = () => {\r\n        handleLogOut();\r\n        setDrawerState(false);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <IconButton onClick={() => setDrawerState(true)} className={classes.iconButton}>\r\n                <Menu className={classes.menuIcon}/>\r\n            </IconButton>\r\n\r\n            <Drawer \r\n                anchor='top' \r\n                open={drawerState} \r\n                onClose={() => setDrawerState(false)}\r\n                PaperProps={{\r\n                    className: classes.drawerPaper\r\n                }}\r\n            >\r\n                <List>\r\n                    <ListItem button component={Link} to='/catalog' onClick={() => setDrawerState(false)}>\r\n                        Catalog\r\n                    </ListItem>\r\n\r\n                    <ListItem button component={Link} to='/visualization' onClick={() => setDrawerState(false)}>\r\n                        Visualization\r\n                    </ListItem>\r\n\r\n                    <ListItem button component={Link} to='/community' onClick={() => setDrawerState(false)}>\r\n                        Community\r\n                    </ListItem>\r\n\r\n                    <ListItem button component={Link} to='/datasubmission' onClick={() => setDrawerState(false)}>\r\n                        Data Submission\r\n                    </ListItem>\r\n                </List>\r\n                <Divider/>\r\n                {user &&\r\n                    <List>\r\n                        <ListItem button component={Link} to='/profile' onClick={() => setDrawerState(false)}>\r\n                            Profile\r\n                        </ListItem>\r\n\r\n                        <ListItem button component={Link} to='/apikeymanagement' onClick={() => setDrawerState(false)}>\r\n                            API Access\r\n                        </ListItem>\r\n\r\n                        <ListItem button onClick={handleLogoutClick}>\r\n                                Log Out\r\n                        </ListItem>\r\n                    </List>                \r\n                }\r\n\r\n                {!user && \r\n                    <List>\r\n                        <ListItem button onClick={handleLoginClick}>\r\n                            Log In\r\n                        </ListItem>\r\n\r\n                        <ListItem button component={Link} to='/register' onClick={() => setDrawerState(false)}>\r\n                            Register\r\n                        </ListItem>\r\n                    </List> \r\n                }\r\n            </Drawer>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withRouter(withStyles(styles)(MobileNavbarMenu));","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { ExpandLess, ExpandMore } from '@material-ui/icons';\r\n\r\nimport { Typography, MenuItem, ClickAwayListener, Grow, Paper, Popper, MenuList } from '@material-ui/core';\r\n\r\nimport JSS from '../../Stylesheets/JSS';\r\nimport colors from '../../Enums/colors';\r\n\r\nconst styles = (theme) => ({\r\n    navLink: JSS.navLink(theme),\r\n\r\n    icon: {\r\n        display: 'inline-flex',\r\n        verticalAlign: 'middle'\r\n    },\r\n\r\n    icon: {\r\n        display: 'inline-flex',\r\n        verticalAlign: 'middle',\r\n        color: colors.primary\r\n    },\r\n\r\n    dropdown: {\r\n        zIndex: 1300,\r\n        marginTop: '21px',\r\n        width: '200px'\r\n    },\r\n\r\n    popperPaperBlue: {\r\n        borderTopLeftRadius: 0,\r\n        borderTopRightRadius: 0,\r\n        backgroundColor: '#1D4962'\r\n    },\r\n\r\n    popperPaperBlack: {\r\n        borderTopLeftRadius: 0,\r\n        borderTopRightRadius: 0,\r\n        backgroundColor: 'black'\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user\r\n})\r\n\r\nconst VizNavbarDropdown = (props) => {\r\n    const { classes, user, pathname, logOut } = props;\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const paperClass = window.location.pathname.includes('/visualization') ? classes.popperPaperBlack : classes.popperPaperBlue;\r\n\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <Typography variant='caption' className={`${classes.navLink}`} onClick={handleClick}>\r\n                Visualization{anchorEl ? <ExpandLess className={classes.icon} color='primary' fontSize='small'/> : <ExpandMore className={classes.icon} color='primary' fontSize='small'/>}\r\n            </Typography>\r\n            <Popper open={Boolean(anchorEl)} anchorEl={anchorEl} role={undefined} transition className={classes.dropdown}>\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow\r\n                    {...TransitionProps}\r\n                    style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                    >\r\n                        <Paper className={paperClass}>\r\n                            <ClickAwayListener onClickAway={handleClose}>\r\n                                <MenuList id=\"menu-list-grow\">\r\n                                    <MenuItem onClick={handleClose} component={Link} to='/visualization/charts'>Charts and Plots</MenuItem>\r\n                                    <MenuItem onClick={handleClose} component={Link} to='/visualization/cruises'>Explore Cruises</MenuItem>\r\n                                </MenuList>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(withRouter(withStyles(styles)(VizNavbarDropdown)));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { showLoginDialog, restoreInterfaceDefaults, snackbarOpen, toggleShowHelp, setShowCart } from '../../Redux/actions/ui';\r\nimport { logOut } from '../../Redux/actions/user';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport UserNavbarDropdown from '../User/UserNavbarDropdown';\r\nimport DataSubmissionNavbarDropdown from '../DataSubmission/DataSubmissionNavbarDropdown';\r\nimport MobileNavbarMenu from './MobileNavbarMenu';\r\n\r\nimport JSS from '../../Stylesheets/JSS';\r\nimport VizNavbarDropdown from '../Visualization/VizNavbarDropdown';\r\n\r\nconst styles = theme => ({\r\n\r\n    simonsLogo: {\r\n        verticalAlign: 'middle',\r\n        display: 'inline-block',\r\n    },\r\n    \r\n    simonsLogoWrapper: {\r\n        pointerEvents: 'all',\r\n        display: 'inline-block',\r\n        marginRight: '60px !important',     \r\n        verticalAlign: 'middle',   \r\n    },\r\n\r\n    navWrapper: {\r\n        position: 'fixed',\r\n        width: '100vw',\r\n        top: '0px',\r\n        backgroundColor: 'transparent',\r\n        zIndex: 50,\r\n        paddingTop: '14px',\r\n        paddingBottom: '14px',\r\n        paddingLeft: '20px',\r\n        paddingRight: '20px',\r\n        textAlign: 'left',\r\n        boxSizing: 'border-box',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        pointerEvents: 'none'\r\n    },\r\n\r\n    navWrapperBlue: {\r\n        backgroundColor: '#1D4962'\r\n    },\r\n\r\n    rightSectionWrapper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-around'\r\n    },\r\n\r\n    navLink: JSS.navLink(theme),\r\n\r\n    rightNavLink: {\r\n        marginRight: 30\r\n    },    \r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user,\r\n    showHelp: state.showHelp,\r\n    cart: state.cart\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog,\r\n    logOut,\r\n    restoreInterfaceDefaults,\r\n    snackbarOpen,\r\n    toggleShowHelp,\r\n    setShowCart\r\n}\r\n\r\nclass TopNavBar extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            layout: window.innerWidth >= 860 ? 'desktop' : 'mobile'\r\n        }\r\n        \r\n    }\r\n    \r\n    componentDidMount = () => {\r\n        window.addEventListener(\"resize\", this.handleResize);\r\n    }\r\n\r\n    handleResize = (e) => {\r\n        let w = e.target.innerWidth;\r\n\r\n        if(w < 860 && this.state.layout === 'desktop'){\r\n            this.setState({...this.state, layout:'mobile'});\r\n        }\r\n\r\n        else if(w >= 860 && this.state.layout === 'mobile'){\r\n            this.setState({...this.state, layout:'desktop'});\r\n        }\r\n    }\r\n\r\n    // Controls login dialog text fields to allow reset from logout button\r\n    handleChange = (event) => {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    };\r\n\r\n    handleLogOut = () => {\r\n        this.clearState();\r\n        this.props.logOut();\r\n        this.props.restoreInterfaceDefaults();\r\n    }\r\n\r\n    clearState = () => {\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const { classes, history, user, showHelp, cart } = this.props;\r\n        const { pathname } = history.location;\r\n\r\n        let cartSize = cart && Object.keys(cart).length ? Object.keys(cart).length : 0;\r\n\r\n        return (\r\n            <div className={`${classes.navWrapper} ${!pathname.includes('/visualization') && classes.navWrapperBlue}`}>\r\n                {\r\n                    this.state.layout === 'desktop' ?\r\n\r\n                    <React.Fragment>\r\n                        {/* Left side of navbar */}\r\n                        <div>\r\n                            <Typography variant='caption' href='/' component='a' className={`${classes.navLink} ${classes.simonsLogoWrapper}`}>\r\n                                <img src='/images/CMAP_white_logo_2.png' width='40' alt='CMAP logo' className={classes.simonsLogo}/>\r\n                            </Typography>\r\n                            <Typography variant='caption' to='/catalog' component={Link} className={classes.navLink}>Catalog</Typography>\r\n                            <VizNavbarDropdown/>\r\n                            {/* <Typography variant='caption' to='/visualization' component={Link} className={classes.navLink}>Visualization</Typography> */}\r\n                            <Typography variant='caption' to='/community' component={Link} className={classes.navLink}>Community</Typography>\r\n                            <DataSubmissionNavbarDropdown/>\r\n                        </div>\r\n\r\n                        {/* Right side of navbar */}\r\n                        <div className={classes.rightSectionWrapper}>\r\n                            <div>\r\n                                {\r\n                                    cartSize > 0 ?\r\n                                    <Typography variant='caption' onClick={() => this.props.setShowCart(true)} className={`${classes.navLink} ${classes.rightNavLink}`}>Cart ({cartSize})</Typography> :\r\n                                    ''\r\n                                }\r\n\r\n                                {user && <UserNavbarDropdown pathname={pathname} user={user}/>}\r\n                                {!user && <Typography variant='caption' onClick={() => this.props.showLoginDialog()} className={`${classes.navLink} ${classes.rightNavLink}`}>Log In</Typography>}\r\n                                {!user && <Typography variant='caption' to='/register' component={Link} className={`${classes.navLink} ${classes.rightNavLink}`}>Register</Typography>}\r\n                            </div>\r\n                        </div>\r\n                    </React.Fragment>\r\n\r\n                    :\r\n\r\n                    <React.Fragment>\r\n                        <Typography variant='caption' href='/' component='a' className={`${classes.navLink} ${classes.simonsLogoWrapper}`}>\r\n                            <img src='/images/CMAP_white_logo_2.png' width='40' alt='CMAP logo' className={classes.simonsLogo}/>\r\n                        </Typography>\r\n                        <MobileNavbarMenu handleLogOut={this.handleLogOut} showLoginDialog={this.props.showLoginDialog} user={user}/>\r\n                    </React.Fragment>\r\n                }\r\n\r\n            </div>        \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(TopNavBar)));","import { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { showLoginDialog } from '../../Redux/actions/ui';\r\n\r\nconst mapDispatchToProps = {\r\n    showLoginDialog\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user\r\n})\r\n\r\nconst Login = (props) => {\r\n\r\n    useEffect(() => {\r\n        if(!props.user) props.showLoginDialog();\r\n        else window.location.href = \"/catalog\";\r\n    })\r\n    \r\n    return (\r\n        ''\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Grid, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Button, TextField } from '@material-ui/core';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport { changePasswordRequestSend } from '../../Redux/actions/user';\r\nimport { hideChangePasswordDialog } from '../../Redux/actions/ui';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    changePasswordRequestSend,\r\n    hideChangePasswordDialog\r\n}\r\n\r\nconst styles = theme => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.solidPaper,\r\n        '@media (max-width: 768px)': {\r\n            margin: 0\r\n        },\r\n    },\r\n\r\n    formWrapper: {\r\n        padding: '3vh 5vw'\r\n    }\r\n})\r\n\r\nconst testNewPassword = (password) => {\r\n    return /^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/.test(password);\r\n};\r\n\r\n\r\nconst ChangePassword = (props) => {\r\n    const { classes } = props;\r\n    \r\n    const [currentPassword, setCurrentPassword] = React.useState('');\r\n    const [newPassword, setNewPassword] = React.useState('');\r\n    const [newPasswordConfirm, setNewPasswordConfirm] = React.useState('')\r\n    \r\n    const newPasswordValid = Boolean(testNewPassword(newPassword) || !newPassword);\r\n    const newPasswordConfirmValid = Boolean(!newPasswordConfirm || newPasswordConfirm === newPassword);\r\n    \r\n    const resetFields = () => {\r\n        setCurrentPassword('');\r\n        setNewPassword('');\r\n        setNewPasswordConfirm('');\r\n    }\r\n\r\n    const handleClose = () => {\r\n        props.hideChangePasswordDialog();\r\n        resetFields();\r\n    }\r\n    \r\n    const handleConfirm = () => {\r\n        props.changePasswordRequestSend(currentPassword, newPassword, props.user.username);\r\n    }\r\n    \r\n    const changePasswordButtonRef = React.useRef();\r\n\r\n    const handleKeyPress = event => {\r\n        if (event.key === 'Enter') {\r\n            changePasswordButtonRef.current.click();\r\n        }\r\n    }\r\n\r\n    const buttonIsDisabled = Boolean(!newPassword || !newPasswordConfirm || !newPasswordValid || !newPasswordConfirmValid);\r\n\r\n    return (\r\n        <Dialog\r\n            open={props.open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"form-dialog-title\"\r\n            PaperProps={{\r\n                className: classes.dialogPaper\r\n            }}\r\n            onEnter={resetFields}\r\n        >\r\n            <DialogTitle id=\"form-dialog-title\">Change Password</DialogTitle>\r\n            <DialogContent>                \r\n                <DialogContentText>\r\n                    Please enter your current and new password.\r\n                </DialogContentText>\r\n\r\n                <Grid container className={classes.formWrapper}>\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"normal\"\r\n                            id=\"currentPassword\"\r\n                            label=\"Current Password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='currentPassword'\r\n                            value={currentPassword}\r\n                            onChange={(e) => setCurrentPassword(e.target.value)}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            fullWidth\r\n                            onKeyPress={handleKeyPress}\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id=\"newPassword\"\r\n                            label=\"New Password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='newPassword'\r\n                            value={newPassword}\r\n                            onChange={(e) => setNewPassword(e.target.value)}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            fullWidth\r\n                            error={!newPasswordValid}\r\n                            helperText={!newPasswordValid ? 'Must be 8 to 32 characters with 1 number and 1 special character.' : ''}\r\n                            onKeyPress={handleKeyPress}\r\n                        />                        \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id=\"newPasswordConfirm\"\r\n                            label=\"Confirm New Password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='newPasswordConfirm'\r\n                            value={newPasswordConfirm}\r\n                            onChange={(e) => setNewPasswordConfirm(e.target.value)}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            fullWidth\r\n                            error={!newPasswordConfirmValid}\r\n                            helperText={newPasswordConfirmValid ? '' : 'Passwords must match.'}\r\n                            onKeyPress={handleKeyPress}\r\n                        />                        \r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <DialogActions>\r\n                    <Button onClick={() => handleClose()} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n\r\n                    <Button \r\n                        color=\"primary\" \r\n                        variant='contained'\r\n                        onClick={handleConfirm}\r\n                        disabled={buttonIsDisabled}\r\n                        ref={changePasswordButtonRef}\r\n                    >\r\n                        Confirm\r\n                    </Button>\r\n                </DialogActions>\r\n            </DialogContent>            \r\n        </Dialog>\r\n        )\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ChangePassword));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Grid, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Button, TextField } from '@material-ui/core';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport { changeEmailRequestSend } from '../../Redux/actions/user';\r\nimport { hideChangeEmailDialog } from '../../Redux/actions/ui';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    changeEmailRequestSend,\r\n    hideChangeEmailDialog\r\n}\r\n\r\nconst styles = theme => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.solidPaper,\r\n        '@media (max-width: 768px)': {\r\n            margin: 0\r\n        },\r\n    },\r\n\r\n    formWrapper: {\r\n        padding: '3vh 5vw'\r\n    }\r\n})\r\n\r\nconst testEmail = (email) => {\r\n    return /^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/.test(email);\r\n};\r\n\r\nconst ChangePassword = (props) => {\r\n    const { classes } = props;\r\n\r\n    const [password, setpassword] = React.useState('');\r\n    const [email, setEmail] = React.useState('');\r\n    const [emailConfirm, setEmailConfirm] = React.useState('')\r\n\r\n    const resetFields = () => {\r\n        setpassword('');\r\n        setEmail('');\r\n        setEmailConfirm('');\r\n    }\r\n\r\n    const handleClose = () => {\r\n        resetFields();\r\n        props.hideChangeEmailDialog();\r\n    }\r\n\r\n    const handleConfirm = () => {\r\n        props.changeEmailRequestSend(email, password, props.user.username);\r\n    }\r\n    \r\n    const changeEmailButtonRef = React.useRef();\r\n\r\n    const handleKeyPress = event => {\r\n        if (event.key === 'Enter') {\r\n            changeEmailButtonRef.current.click();\r\n        }\r\n    }\r\n\r\n    const emailValid = Boolean(testEmail(email) || !email);\r\n    const emailConfirmValid = Boolean(!emailConfirm || email === emailConfirm); \r\n\r\n    const buttonIsDisabled = Boolean(!email || !emailConfirm || !emailValid || !emailConfirmValid);\r\n\r\n    return (\r\n        <Dialog\r\n            open={props.open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"form-dialog-title\"\r\n            PaperProps={{\r\n                className: classes.dialogPaper\r\n            }}\r\n            onEnter={resetFields}\r\n        >\r\n            <DialogTitle id=\"form-dialog-title\">Change Email</DialogTitle>\r\n            <DialogContent>                \r\n                <DialogContentText>\r\n                    Please enter your account password, and new email address.\r\n                </DialogContentText>\r\n\r\n                <Grid container className={classes.formWrapper}>\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"normal\"\r\n                            id=\"currentPassword\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='currentPassword'\r\n                            value={password}\r\n                            onChange={(e) => setpassword(e.target.value)}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            onKeyPress={handleKeyPress}\r\n                            fullWidth\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id=\"email\"\r\n                            label=\"New Email\"\r\n                            type=\"text\"\r\n                            variant='outlined'\r\n                            name='email'\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            fullWidth\r\n                            error={!emailValid}\r\n                            helperText={!emailValid ? 'Please enter a valid email address' : ''}\r\n                        />                        \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id=\"emailConfirm\"\r\n                            label=\"Confirm Email\"\r\n                            type=\"text\"\r\n                            variant='outlined'\r\n                            name='emailConfirm'\r\n                            value={emailConfirm}\r\n                            onChange={(e) => setEmailConfirm(e.target.value)}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            fullWidth\r\n                            onKeyPress={handleKeyPress}\r\n                            error={!emailConfirmValid}\r\n                            helperText={emailConfirmValid ? '' : 'Email addresses must match.'}                            \r\n                        />                        \r\n                    </Grid>\r\n                </Grid>\r\n\r\n                    <DialogActions>\r\n                        <Button onClick={handleClose} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n\r\n                        <Button \r\n                            color=\"primary\" \r\n                            variant='contained'\r\n                            onClick={handleConfirm}\r\n                            ref={changeEmailButtonRef}\r\n                            disabled={buttonIsDisabled}\r\n                        >\r\n                            Confirm\r\n                        </Button>\r\n                    </DialogActions>\r\n            </DialogContent>            \r\n        </Dialog>\r\n        )\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ChangePassword));","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { IconButton, Tooltip, Paper, Button, TextField, Typography, Grid } from '@material-ui/core';\r\nimport { Edit } from '@material-ui/icons';\r\n\r\nimport { updateUserInfoRequestSend } from '../../Redux/actions/user';\r\nimport { showChangePasswordDialog, showChangeEmailDialog } from '../../Redux/actions/ui';\r\n\r\nimport ChangePassword from './ChangePassword';\r\nimport ChangeEmail from './ChangeEmail';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user,\r\n    changePasswordDialogIsOpen: state.changePasswordDialogIsOpen,\r\n    changeEmailDialogIsOpen: state.changeEmailDialogIsOpen\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    updateUserInfoRequestSend,\r\n    showChangePasswordDialog,\r\n    showChangeEmailDialog\r\n}\r\n\r\nconst styles = theme => ({\r\n    profilePaper: {\r\n        '@media (min-width: 768px)': {\r\n            width: '60vw'\r\n        },\r\n        width: '100vw',\r\n        margin: `${theme.spacing(16)}px auto 0 auto`,\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n\r\n    accountPaper: {\r\n        '@media (min-width: 768px)': {\r\n            width: '60vw'\r\n        },\r\n        width: '100vw',\r\n        margin: `${theme.spacing(6)}px auto 0 auto`,\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n\r\n    textField: {\r\n        margin: theme.spacing(1),\r\n        width: '80%',\r\n        maxWidth: 'calc(100% - 52px)'\r\n    },\r\n\r\n    buttonGrid: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n\r\n    editButton: {\r\n        float: 'right',\r\n        display: 'inline-block',\r\n        marginTop: '-16px'\r\n    },\r\n\r\n    header: {\r\n        paddingLeft: theme.spacing(3),\r\n        display: 'inline-block',\r\n        marginTop: '-4px',\r\n        float: 'left'\r\n    },\r\n\r\n    accountEditButton: {\r\n        float: 'left',\r\n        marginTop: '6px'\r\n    }\r\n})\r\n\r\nconst userProperties = {\r\n    firstName: {\r\n        label:'First Name',\r\n        name: 'firstName',\r\n        type: 'text',\r\n        requirement: 'Must be 2 or more alphabetical characters.',\r\n    },\r\n\r\n    lastName: {\r\n        label:'Last Name',\r\n        name: 'lastName',\r\n        type: 'text',\r\n        requirement: 'Must be 2 or more alphabetical characters.',\r\n    },\r\n\r\n    institute: {\r\n        label:'Institute',\r\n        name: 'institute',\r\n        type: 'text',\r\n        requirement: 'Maximum length is 150 characters.',\r\n    },\r\n\r\n    department: {\r\n        label:'Department',\r\n        name: 'department',\r\n        type: 'text',\r\n        requirement: 'Maximum length is 150 characters.',\r\n    },\r\n\r\n    country: {\r\n        label:'Country',\r\n        name: 'country',\r\n        type: 'text',\r\n        requirement: 'Maximum length is 150 characters.',\r\n    }\r\n}\r\n\r\nconst userToState = (user) => ({\r\n    editable: false,\r\n    firstName: {\r\n        value: user.firstName,\r\n        valid: true\r\n    },\r\n\r\n    lastName: {\r\n        value: user.lastName,\r\n        valid: true\r\n    },\r\n    institute: {\r\n        value: user.institute || '',\r\n        valid: true\r\n    },\r\n    department: {\r\n        value: user.department || '',\r\n        valid: true\r\n    },\r\n    country: {\r\n        value: user.country || '',\r\n        valid: true\r\n    },\r\n    email: {\r\n        value: user.email || '',\r\n        valid: true\r\n    }\r\n})\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        if(!props.user) return;\r\n\r\n        this.state = {\r\n            ...userToState(props.user),\r\n            editable: false,\r\n            infoHasChanged: false\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        let fieldName = event.target.name;\r\n        let valid = this.handleValidation(fieldName, newValue);\r\n        this.setState({\r\n            ...this.state,\r\n            infoHasChanged: true,\r\n            [fieldName]: {\r\n                value: newValue,\r\n                valid\r\n            }\r\n        })\r\n    };\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(prevProps.user !== this.props.user){\r\n            this.setState({...this.state, ...userToState(this.props.user)});\r\n        }\r\n    }\r\n\r\n    handleValidation = (fieldName, newValue) => {\r\n        let value = newValue.trim();\r\n        let pattern = /$^/;\r\n\r\n        switch(fieldName){\r\n            case 'firstName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'lastName':\r\n                pattern = /^[A-Za-z ]{2,40}$/;\r\n                break;\r\n            case 'email':\r\n                pattern = /^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/;\r\n                break;\r\n            case 'institute':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'department':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            case 'country':\r\n                pattern = /^.{0,150}$/\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return pattern.test(value);\r\n    }\r\n\r\n    handleEdit = () => {\r\n        this.setState({...this.state, editable: true})\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.setState({...userToState(this.props.user), editable: false, infoHasChanged: false})\r\n    }\r\n\r\n    handleConfirm = () => {\r\n        this.props.updateUserInfoRequestSend({\r\n            firstName: this.state.firstName.value.trim(),\r\n            lastName: this.state.lastName.value.trim(),\r\n            institute: this.state.institute.value.trim(),\r\n            department: this.state.department.value.trim(),\r\n            country: this.state.country.value.trim()\r\n        })\r\n    }\r\n\r\n    render(){\r\n        if(!this.props.user) {\r\n            window.location.href = \"/login\";\r\n            return '';\r\n        }\r\n\r\n        const { classes, changeEmailDialogIsOpen, changePasswordDialogIsOpen, showChangePasswordDialog, showChangeEmailDialog } = this.props;\r\n        const { editable, infoHasChanged } = this.state;\r\n        let formIsValid = true;\r\n        \r\n        Object.keys(userProperties).forEach((property) => {\r\n            if(!this.state[property].valid) formIsValid = false;\r\n        })\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <ChangePassword\r\n                    open={changePasswordDialogIsOpen}\r\n                    close={() => this.setState({...this.state, changePasswordDialogOpen: false})}\r\n                />\r\n                <ChangeEmail\r\n                    open={changeEmailDialogIsOpen}\r\n                    close={() => this.setState({...this.state, changeEmailDialogOpen: false})}\r\n                />\r\n\r\n                <Paper className={classes.profilePaper} elevation={6}>\r\n                    <Typography variant='h5' align='left' className={classes.header}>\r\n                        Profile\r\n                    </Typography>\r\n\r\n                    <Tooltip title='Edit Information'>\r\n                        <IconButton className={classes.editButton} color=\"primary\" onClick={this.handleEdit} disableFocusRipple disableRipple>\r\n                                <Edit/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <Grid container spacing={1}>\r\n                        {\r\n                            Object.keys(userProperties).map((property, index) => (\r\n                                <Grid key={index} item xs={12} md={6}>\r\n                                    <TextField\r\n                                        name={property}\r\n                                        label={userProperties[property].label}\r\n                                        value={this.state[property].value}\r\n                                        error={!this.state[property].valid}\r\n                                        helperText={this.state[property].valid ? '' : userProperties[property].requirement}\r\n                                        key={index}\r\n                                        onChange={this.handleChange}\r\n                                        inputProps={{\r\n                                            readOnly: !editable\r\n                                        }}\r\n                                        InputLabelProps={{\r\n                                            shrink: true,\r\n                                        }}\r\n                                        className={classes.textField}\r\n                                    />\r\n                                </Grid>\r\n                            ))\r\n                        }\r\n\r\n                        <Grid item xs={6}>\r\n\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    { editable &&\r\n                        <Grid className={classes.buttonGrid} container>\r\n                                <Grid item md={9} xs={false}></Grid>\r\n                                <Grid item md={1} xs={6}>\r\n                                    <Button onClick={this.handleCancel}>Cancel</Button>\r\n\r\n                                </Grid>\r\n\r\n                                <Grid item md={2} xs={6}>\r\n                                    <Button\r\n                                        onClick={this.handleConfirm}\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        disabled={!infoHasChanged || !formIsValid}\r\n                                    >\r\n                                        Confirm\r\n                                    </Button>\r\n                                </Grid>\r\n                        </Grid>\r\n                    }\r\n\r\n                </Paper>\r\n\r\n                <Paper className={classes.accountPaper} elevation={6}>\r\n                    <Typography variant='h5' align='left' className={classes.header}>\r\n                        Account\r\n                    </Typography>\r\n                    <Grid container >\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                name='email'\r\n                                label= 'Email'\r\n                                value={this.state.email.value}\r\n                                inputProps={{\r\n                                    readOnly: true\r\n                                }}\r\n                                InputLabelProps={{\r\n                                    shrink: true,\r\n                                }}\r\n                                className={classes.textField}\r\n                            />\r\n                            <Tooltip title='Change Email'>\r\n                                <IconButton \r\n                                    color=\"primary\" \r\n                                    disableFocusRipple \r\n                                    disableRipple\r\n                                    onClick={() => showChangeEmailDialog()}\r\n                                >\r\n                                    <Edit/>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>                            \r\n                            <TextField\r\n                                name='Password'\r\n                                label= 'Password'\r\n                                value= '********'\r\n                                inputProps={{\r\n                                    readOnly: true\r\n                                }}\r\n                                InputLabelProps={{\r\n                                    shrink: true,\r\n                                }}\r\n                                className={classes.textField}\r\n                            />\r\n                            <Tooltip title='Change Password'>\r\n                                <IconButton \r\n                                    color=\"primary\" \r\n                                    disableFocusRipple \r\n                                    disableRipple\r\n                                    onClick={() => showChangePasswordDialog()}\r\n                                >\r\n                                    <Edit/>\r\n                                </IconButton>\r\n                            </Tooltip>                            \r\n                        </Grid>\r\n                    </Grid>\r\n\r\n\r\n                </Paper>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Profile));","import React from 'react';\r\n\r\nimport { ClickAwayListener } from '@material-ui/core';\r\n\r\nclass DSCellEditor extends React.Component {\r\n    constructor(props){\r\n        const { getAuditReport, sheet } = props.context;\r\n        const { rowIndex } = props;\r\n        const { colId } = props.column;\r\n        let auditReport = getAuditReport();\r\n\r\n        super(props);\r\n        this.inputRef = React.createRef();\r\n        this.parseValue = props.parseValue;\r\n        this.state = {\r\n            value: props.value || '',\r\n            errors: auditReport[sheet][rowIndex] && auditReport[sheet][rowIndex][colId] ? auditReport[sheet][rowIndex][colId] : [],\r\n            attached: false\r\n        }\r\n    }\r\n\r\n    getValue(){\r\n        return this.parseValue(this.state.value);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const { value } = e.target;\r\n\r\n        let errors = this.props.context.auditCell(value, this.props.column.colId, this.props.rowIndex);\r\n        this.setState({...this.state, value, errors});\r\n    }\r\n\r\n    afterGuiAttached = () => {\r\n        this.inputRef.current.focus();\r\n        this.inputRef.current.select();\r\n        setTimeout(() => {\r\n            this.setState({...this.state, attached: true})\r\n        }, 20);\r\n    }\r\n\r\n    handleClickAway = () => {\r\n        if(this.state.attached){\r\n            this.props.stopEditing();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    maxWidth: '175px',\r\n                    margin: '0 auto'\r\n                }}\r\n            >\r\n                <ClickAwayListener onClickAway={this.handleClickAway}>\r\n                    <div>\r\n                        <input\r\n                            spellCheck='false'\r\n                            ref={this.inputRef}\r\n                            value={this.state.value}\r\n                            onChange={this.handleChange}\r\n                            style={{\r\n                                backgroundColor: 'transparent',\r\n                                color: 'white',\r\n                                height: '28px',\r\n                                border: `1px solid black`,\r\n                                borderRadius: '2px',\r\n                                padding: '2px 6px',\r\n                                maxWidth: '100%'\r\n                            }}\r\n                        />\r\n                        {\r\n                            errors.map((err, i) => {\r\n                                return (\r\n                                    <p \r\n                                        key={i}\r\n                                        style={{\r\n                                            lineHeight: 1.2,\r\n                                            margin: '6px auto',\r\n                                            textAlign: 'left',\r\n                                            maxWidth: '100%',\r\n                                            whiteSpace: 'pre-wrap'\r\n                                        }}\r\n                                    >\r\n                                        {err}\r\n                                    </p>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </ClickAwayListener>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DSCellEditor;","import React from 'react';\r\n\r\nimport { ClickAwayListener } from '@material-ui/core';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nclass DSCellEditorTextArea extends React.Component {\r\n    constructor(props){\r\n        const { getAuditReport, sheet } = props.context;\r\n        const { rowIndex } = props;\r\n        const { colId } = props.column;\r\n        super(props);\r\n        let auditReport = getAuditReport();\r\n        this.inputRef = React.createRef();\r\n        this.parseValue = props.parseValue;\r\n        this.state = {\r\n            value: props.value || '',\r\n            errors: auditReport[sheet][rowIndex] && auditReport[sheet][rowIndex][colId] ? auditReport[sheet][rowIndex][colId] : [],\r\n            attached: false\r\n        }\r\n    }\r\n\r\n    getValue(){\r\n        return this.parseValue(this.state.value);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const { value } = e.target;\r\n\r\n        let errors = this.props.context.auditCell(value, this.props.column.colId, this.props.rowIndex);\r\n        this.setState({...this.state, value, errors});\r\n    }\r\n\r\n    afterGuiAttached = () => {\r\n        this.inputRef.current.focus();\r\n        setTimeout(() => {\r\n            this.setState({...this.state, attached: true})\r\n        }, 20);\r\n    }\r\n\r\n    handleClickAway = () => {\r\n        if(this.state.attached){\r\n            this.props.stopEditing();\r\n        }\r\n    }\r\n\r\n    isPopup = () => true;\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n        const { column, context } = this.props;\r\n\r\n        const rowCount = context.textAreaLookup[column.colId];\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    margin: '0 auto',\r\n                    width: 'auto',\r\n                    padding: '12px',\r\n                    height: 'auto'\r\n                }}\r\n            >\r\n                <ClickAwayListener onClickAway={this.handleClickAway}>\r\n                    <div>\r\n                        <textarea\r\n                            rows={rowCount}\r\n                            cols='70'\r\n                            spellCheck='false'\r\n                            ref={this.inputRef}\r\n                            value={this.state.value}\r\n                            onChange={this.handleChange}\r\n                            style={{\r\n                                backgroundColor: 'transparent',\r\n                                color: 'white',\r\n                                border: `1px solid ${colors.primary}`,\r\n                                borderRadius: '2px',\r\n                                padding: '2px 6px',\r\n                            }}\r\n                        />\r\n                        {\r\n                            errors.map((err, i) => {\r\n                                return (\r\n                                    <p \r\n                                        key={i}\r\n                                        style={{\r\n                                            lineHeight: 1.2,\r\n                                            margin: '6px auto',\r\n                                            textAlign: 'left',\r\n                                            maxWidth: '100%',\r\n                                            whiteSpace: 'pre-wrap'\r\n                                        }}\r\n                                    >\r\n                                        {err}\r\n                                    </p>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </ClickAwayListener>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DSCellEditorTextArea;","import React from 'react';\r\n\r\nimport { ClickAwayListener } from '@material-ui/core';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nclass DSCellEditorSelect extends React.Component {\r\n    constructor(props){\r\n        const { getAuditReport, sheet } = props.context;\r\n        const { rowIndex } = props;\r\n        const { colId } = props.column;\r\n        let auditReport = getAuditReport();\r\n        super(props);\r\n        this.inputRef = React.createRef();\r\n        this.parseValue = props.parseValue;\r\n        let checkAgainst = new Set(props.context.selectOptions[colId]);\r\n        let value = props.value ? props.value.toLowerCase() : '';\r\n        value = checkAgainst.has(value) ? value : '';\r\n        this.state = {\r\n            value,\r\n            errors: auditReport[sheet][rowIndex] && auditReport[sheet][rowIndex][colId] ? auditReport[sheet][rowIndex][colId] : [],\r\n            attached: false\r\n        }\r\n    }\r\n\r\n    getValue(){\r\n        return this.parseValue(this.state.value);\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const { value } = e.target;\r\n\r\n        this.setState({...this.state, value}, () => this.props.stopEditing());\r\n    }\r\n\r\n    afterGuiAttached = () => {\r\n        this.inputRef.current.focus();\r\n        setTimeout(() => {\r\n            this.setState({...this.state, attached: true})\r\n        }, 20);\r\n    }\r\n\r\n    handleClickAway = () => {\r\n        if(this.state.attached){\r\n            this.props.stopEditing();\r\n        }\r\n    }\r\n\r\n    isPopup = () => true;\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n        const { column, context } = this.props;       \r\n\r\n        let dynamicOpts = context.selectOptions[column.colId].map( (e, i) => (\r\n            <option\r\n                key={i + 1} \r\n                value={e.toLowerCase()}\r\n                className='ds-cell-editor-select-option'\r\n                style={{\r\n                    backgroundColor: '#184562',\r\n                }}\r\n            >\r\n                {e}\r\n            </option>\r\n        ));\r\n\r\n        let opts = [<option key={0} disabled style={{display: 'none'}} value=''></option>, ...dynamicOpts];\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    margin: '0 auto',\r\n                    width: 'auto',\r\n                    padding: '12px',\r\n                    height: 'auto',\r\n                    maxWidth: '300px'\r\n                }}\r\n            >\r\n                <ClickAwayListener onClickAway={this.handleClickAway}>\r\n                    <div>\r\n                        <select\r\n                            ref={this.inputRef}\r\n                            value={this.state.value}\r\n                            onChange={this.handleChange}\r\n                            style={{\r\n                                backgroundColor: 'transparent',\r\n                                color: 'white',\r\n                                // height: '28px',\r\n                                border: `1px solid ${colors.primary}`,\r\n                                borderRadius: '2px',\r\n                                padding: '2px 6px',\r\n                                // maxWidth: '100%'\r\n                            }}\r\n                        >\r\n                            {opts}\r\n                        </select>\r\n                        {\r\n                            errors.map((err, i) => {\r\n                                return (\r\n                                    <p \r\n                                        key={i}\r\n                                        style={{\r\n                                            lineHeight: 1.2,\r\n                                            margin: '6px auto',\r\n                                            textAlign: 'left',\r\n                                            maxWidth: '100%',\r\n                                            whiteSpace: 'pre-wrap'\r\n                                        }}\r\n                                    >\r\n                                        {err}\r\n                                    </p>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                        <p \r\n                            style={{\r\n                                lineHeight: 1.2,\r\n                                margin: '10px auto',\r\n                                textAlign: 'left',\r\n                                maxWidth: '100%',\r\n                                whiteSpace: 'pre-wrap'\r\n                            }}\r\n                        >\r\n                            If you don't see the correct value on this list please contact us at: {'\\n'}<a style={{color:colors.primary, textDecoration: 'none'}} href=\"mailto:cmap-data-submission@uw.edu\">cmap-data-submission@uw.edu</a>.\r\n                        </p>\r\n                    </div>\r\n                </ClickAwayListener>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DSCellEditorSelect;","import React from 'react';\r\n\r\nimport { AgGridReact } from 'ag-grid-react';\r\n\r\nimport DSCellEditor from './DSCellEditor';\r\nimport DSCellEditorTextArea from './DSCellEditorTextArea';\r\nimport DSCellEditorSelect from './DSCellEditorSelect';\r\n\r\nconst numberParser = ({newValue}) => isNaN(newValue) ? null : Number(newValue);\r\n\r\nconst columnDefs = {\r\n    data: [\r\n        {\r\n            headerName: 'Time',\r\n            field: 'time'\r\n        },\r\n    \r\n        {\r\n            headerName: 'Latitude',\r\n            field: 'lat',\r\n            valueParser: numberParser\r\n        },\r\n    \r\n        {\r\n            headerName: 'Longitude',\r\n            field: 'lon',\r\n            valueParser: numberParser\r\n        },\r\n    \r\n        {\r\n            headerName: 'Depth',\r\n            field: 'depth',\r\n            valueParser: numberParser\r\n        }\r\n    ],\r\n\r\n    dataset_meta_data: [\r\n        {\r\n            headerName: 'Short Name',\r\n            field: 'dataset_short_name',\r\n            autoHeight: true,\r\n            tooltipField: 'dataset_short_name',\r\n        },\r\n\r\n        {\r\n            headerName: 'Long Name',\r\n            field: 'dataset_long_name',\r\n            autoHeight: true,\r\n            tooltipField: 'dataset_long_name',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        {\r\n            headerName: 'Version',\r\n            field: 'dataset_version',\r\n            autoHeight: true\r\n        },\r\n        \r\n\r\n        {\r\n            headerName: 'Release Date',\r\n            field: 'dataset_release_date',\r\n            autoHeight: true\r\n        },\r\n\r\n        {\r\n            headerName: 'Make',\r\n            field: 'dataset_make',\r\n            autoHeight: true,\r\n            cellEditor: 'DSCellEditorSelect'\r\n        },\r\n\r\n        {\r\n            headerName: 'Source',\r\n            field: 'dataset_source',\r\n            autoHeight: true\r\n        },\r\n\r\n        {\r\n            headerName: 'Cruise Names',\r\n            field: 'cruise_names',\r\n            autoHeight: true,\r\n            tooltipField: 'cruise_names',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        {\r\n            headerName: 'Distributor',\r\n            field: 'dataset_distributor',\r\n            autoHeight: true,\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        {\r\n            headerName: 'acknowledgement',\r\n            field: 'dataset_acknowledgement',\r\n            autoHeight: true,\r\n            tooltipField: 'dataset_acknowledgement',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        // {\r\n        //     headerName: 'Contact Email',\r\n        //     field: 'contact_email',\r\n        //     autoHeight: true\r\n        // },\r\n\r\n        {\r\n            headerName: 'History',\r\n            field: 'dataset_history',\r\n            autoHeight: true,\r\n            tooltipField: 'dataset_history',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },      \r\n\r\n        {\r\n            headerName: 'Description',\r\n            field: 'dataset_description',\r\n            autoHeight: true,\r\n            tooltipField: 'dataset_description',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        {\r\n            headerName: 'References',\r\n            field: 'dataset_references',\r\n            autoHeight: true,\r\n            tooltipField: 'dataset_references',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        {\r\n            headerName: 'climatology',\r\n            field: 'climatology',\r\n            valueParser: numberParser\r\n        },\r\n    ],\r\n\r\n    vars_meta_data: [\r\n        {\r\n            headerName: 'Short Name',\r\n            field: 'var_short_name',\r\n            autoHeight: true,\r\n            tooltipField: 'var_short_name'\r\n        },\r\n\r\n        {\r\n            headerName: 'Long Name',\r\n            field: 'var_long_name',\r\n            autoHeight: true,\r\n            tooltipField: 'var_long_name',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        {\r\n            headerName: 'Sensor',\r\n            field: 'var_sensor',\r\n            autoHeight: true,\r\n            cellEditor: 'DSCellEditorSelect'\r\n        },\r\n\r\n        {\r\n            headerName: 'Unit',\r\n            field: 'var_unit',\r\n            autoHeight: true\r\n        },\r\n\r\n        {\r\n            headerName: 'Spatial Resolution',\r\n            field: 'var_spatial_res',\r\n            autoHeight: true,\r\n            cellEditor: 'DSCellEditorSelect'\r\n        },\r\n\r\n        {\r\n            headerName: 'Temporal Resolution',\r\n            field: 'var_temporal_res',\r\n            autoHeight: true,\r\n            cellEditor: 'DSCellEditorSelect'\r\n        },\r\n\r\n        {\r\n            headerName: 'Discipline',\r\n            field: 'var_discipline',\r\n            autoHeight: true,\r\n            cellEditor: 'DSCellEditor'\r\n        },\r\n\r\n        {\r\n            headerName: 'Visualize',\r\n            field: 'visualize',\r\n            autoHeight: true,\r\n            valueParser: numberParser\r\n        },\r\n\r\n        {\r\n            headerName: 'Keywords',\r\n            field: 'var_keywords',\r\n            autoHeight: true,\r\n            tooltipField: 'var_keywords',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n\r\n        {\r\n            headerName: 'Comment',\r\n            field: 'var_comment',\r\n            tooltipField: 'var_comment',\r\n            autoHeight: true,\r\n            tooltipField: 'var_comment',\r\n            cellEditor: 'DSCellEditorTextArea'\r\n        },\r\n    ]\r\n}\r\n\r\nclass ValidationGrid extends React.Component {\r\n\r\n    render = () => {\r\n        const { gridContext } = this.props;\r\n        \r\n        return (\r\n            <AgGridReact\r\n                singleClickEdit={true}\r\n                onModelUpdated={this.props.onModelUpdated}\r\n                columnDefs={columnDefs[gridContext.sheet]}\r\n                defaultColDef={this.props.defaultColumnDef}\r\n                rowData={this.props.rowData}\r\n                onGridReady={this.props.onGridReady}\r\n                // onGridSizeChanged={this.props.onGridSizeChanged}\r\n                suppressDragLeaveHidesColumns={true}\r\n                suppressMovableColumns={true}\r\n                enableCellTextSelection={true}\r\n                suppressContextMenu={true}\r\n                onCellValueChanged={this.props.handleCellValueChanged}\r\n                context={gridContext}\r\n                onGridSizeChanged={this.props.handleGridSizeChanged}\r\n                frameworkComponents={{\r\n                    DSCellEditor,\r\n                    DSCellEditorSelect,\r\n                    DSCellEditorTextArea\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default ValidationGrid;","export default (data, workbook) => {\r\n\r\n    try {\r\n        let sample = data[0].time;\r\n\r\n        // Test sample row for correct format\r\n        if(/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\\\.[0-9]+)?(Z)?$/.test(sample)){\r\n        }\r\n\r\n        else {\r\n            let is1904 = !!(((workbook.Workbook||{}).WBProps||{}).date1904);\r\n    \r\n            let type = typeof sample;\r\n    \r\n            if(type === 'number') {\r\n                if(is1904){\r\n                    data.forEach(e => {\r\n                        e.time = new Date(((e.time - (25567))*86400*1000) + 1000 * 60 * 60 * 24 * 365 * 4).toISOString().slice(0, -5);\r\n                    })\r\n                }\r\n        \r\n                else {\r\n                    data.forEach(e => {\r\n                        e.time = new Date(((e.time - (25567))*86400*1000)).toISOString().slice(0, -5);\r\n                    })\r\n                }\r\n        \r\n            }\r\n        \r\n            else {\r\n                data.forEach(e => {\r\n                    e.time = new Date(e.time).toISOString().slice(0, -5);\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    catch(e){\r\n        console.log('Caught while formatting data');\r\n    }\r\n\r\n    let cols = Object.keys(data[0]);\r\n    let keysContaining__EMPTY = [];\r\n    cols.forEach(e => {\r\n        if(e.indexOf('__EMPTY') !== -1) keysContaining__EMPTY.push(e);\r\n    })\r\n\r\n    if(keysContaining__EMPTY.length){\r\n        data.forEach(e => {\r\n            keysContaining__EMPTY.forEach(key => {\r\n                delete e[key];\r\n            })\r\n        })\r\n    }\r\n\r\n    return data;\r\n}","export default (metadata, workbook) => {\r\n    try {\r\n        var sample = metadata[0];\r\n        var type = typeof sample.dataset_release_date;\r\n\r\n        var is1904 = !!(((workbook.Workbook||{}).WBProps||{}).date1904);\r\n\r\n        if(type === 'number') {\r\n            if(is1904){\r\n                sample.dataset_release_date = new Date(((sample.dataset_release_date - (25567))*86400*1000) + 1000 * 60 * 60 * 24 * 365 * 4).toISOString().slice(0, -14);\r\n            }\r\n    \r\n            else {\r\n                sample.dataset_release_date = new Date(((sample.dataset_release_date - (25567))*86400*1000)).toISOString().slice(0, -14);\r\n            }    \r\n        }\r\n    \r\n        else {\r\n            sample.dataset_release_date = new Date(sample.dataset_release_date).toISOString().slice(0, -14);\r\n        }\r\n    }\r\n\r\n    catch{\r\n        \r\n    }\r\n\r\n    let cols = Object.keys(metadata[0]);\r\n    let keysContaining__EMPTY = [];\r\n    cols.forEach(e => {\r\n        if(e.indexOf('__EMPTY') !== -1) keysContaining__EMPTY.push(e);\r\n    })\r\n\r\n    if(keysContaining__EMPTY.length){\r\n        metadata.forEach(e => {\r\n            keysContaining__EMPTY.forEach(key => {\r\n                delete e[key];\r\n            })\r\n        })\r\n    }\r\n\r\n    return metadata;\r\n}\r\n\r\n// Format must match 2016-04-21T15:22:00\r\n\r\n// const localDateToString = (date) => {\r\n//     let year = date.getFullYear();\r\n//     let month = date.getMonth() + 1;\r\n//     let day = date.getDate()\r\n\r\n//     let nYear = year.toString();\r\n//     let nMonth = month < 10 ? '0' + month.toString() : month.toString();\r\n//     let nDay = day < 10 ? '0' + day.toString() : day.toString();\r\n\r\n//     return nYear + '-' + nMonth + '-' + nDay;\r\n// }\r\n\r\n// export default localDateToString;","export default (metadata) => {\r\n    let cols = Object.keys(metadata[0]);\r\n    let keysContaining__EMPTY = [];\r\n    cols.forEach(e => {\r\n        if(e.indexOf('__EMPTY') !== -1) keysContaining__EMPTY.push(e);\r\n    })\r\n\r\n    if(keysContaining__EMPTY.length){\r\n        metadata.forEach(e => {\r\n            keysContaining__EMPTY.forEach(key => {\r\n                delete e[key];\r\n            })\r\n        })\r\n    }\r\n\r\n    return metadata;\r\n}","export default (submissionOptions) => {\r\n    const { Make, Sensor, Spatial_Resolution, Study_Domain, Temporal_Resolution } = submissionOptions;\r\n    \r\n    const number = (value) => {\r\n        if(!value && value !== 0) return null;\r\n        if(isNaN(value) || isNaN(parseInt(value))) return 'Must be a number';\r\n    }\r\n    \r\n    const validLat = (value) => {\r\n        if(value < -90 || value > 90) return 'Must be -90 to 90';\r\n    }\r\n    \r\n    const validLon = (value) => {\r\n        if(value < -180 || value > 180) return 'Must be -180 to 180';\r\n    }\r\n    \r\n    const validTime = (value) => {\r\n        if(!value && value !== 0) return null;\r\n    \r\n    \r\n        if(/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\\\.[0-9]+)?(Z)?$/.test(value) === false){\r\n            return 'Format must match 2016-04-21T15:22:00'\r\n        }    \r\n    }\r\n\r\n    const required = (value) => {\r\n        if(value === null || value === undefined || value === '') return 'Value is required';\r\n    }\r\n\r\n    const datasetRequired = (value, row) => {\r\n        if(row !== 0) return;\r\n        if(value === null || value === undefined || value === '') return 'Value is required';\r\n    }\r\n    \r\n    const length = (min, max) => {\r\n        return (value) => {\r\n            value = value + '';\r\n            if(value.length < min || value.length > max) {\r\n                return `Must be ${min} to ${max} characters in length`;\r\n            }\r\n        }\r\n    }\r\n\r\n    const datasetLength = (min, max) => {\r\n        return (value, row) => {\r\n            value = value + '';\r\n            if((value.length < min && row === 0) || (value.length > max && row === 0)) {\r\n                return `Must be ${min} to ${max} characters in length`;\r\n            }\r\n        }\r\n    }\r\n    \r\n    const positive = (value) => {\r\n        if(value < 0) return 'Cannot be negative';\r\n    }\r\n    \r\n    const makes = Make.map(e => e.toLowerCase());\r\n    const makesSet = new Set(makes);\r\n    \r\n    const validMake = (value) => {\r\n        if(value && value !== 0 && !makesSet.has(value.toLowerCase())) {\r\n            return `Must be one of the above options.`;\r\n        }\r\n    }\r\n    \r\n    const disciplines = Study_Domain.map(e => e.toLowerCase());\r\n    const disciplinesSet = new Set(disciplines);\r\n    \r\n    const validDiscipline = (value) => {\r\n        if(value && value !== 0 && !disciplinesSet.has(value.toLowerCase())) {\r\n            return `Must be one of the above options.`;\r\n        }\r\n    }\r\n    \r\n    const sensors = Sensor.map(e => e.toLowerCase());\r\n    const sensorsSet = new Set(sensors);\r\n    \r\n    const validSensor = (value) => {\r\n        if(value && value !== 0 && !sensorsSet.has(value.toLowerCase())) {\r\n            return `Must be one of the above options.`;\r\n        }\r\n    }\r\n    \r\n    const codeFriendly = (value) => {\r\n        if(!(/^[a-zA-Z]{1}[a-zA-Z0-9_]*$/.test(value))){\r\n            return 'Must start with a letter and contain only letters, numbers, and underscores.'\r\n        }\r\n    }\r\n    \r\n    const binary = (value) => {\r\n        if(!value || value == 1 || value == 0){\r\n            return;\r\n        }\r\n    \r\n        else {\r\n            return 'Must be 0, 1, or empty.';\r\n        }\r\n    }\r\n    \r\n    // const validEmail = (value, row) => {\r\n    //     if(!value) return;\r\n    //     if(row > 0) return;\r\n    //     if(!(/^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/.test(value))){\r\n    //         return 'Must be a valid email address'\r\n    //     }\r\n    // }\r\n    \r\n    const spatialResolutions = Spatial_Resolution.map(e => e.toLowerCase());\r\n    const spatialResolutionSet = new Set(spatialResolutions);\r\n    const validSpatialResolution = (value) => {\r\n        if(value && value !== 0 && !spatialResolutionSet.has(value.toLowerCase())) {\r\n            return `Must be one of the above options.`;\r\n        }\r\n    }\r\n    \r\n    const temporalResolutions = Temporal_Resolution.map(e => e.toLowerCase());\r\n    const temporalResolutionsSet = new Set(temporalResolutions);\r\n    const validTemporalResolution = (value) => {\r\n        if(value && value !== 0 && !temporalResolutionsSet.has(value.toLowerCase())) {\r\n            return `Must be one of the above options.`;\r\n        }\r\n    }\r\n    \r\n    const maxDepth = (value) => {\r\n        if(value > 11000) {\r\n            return 'Cannot be greater than 11000';\r\n        }\r\n    }\r\n    \r\n    const releaseDate = (value, row) => {\r\n        if(row !== 0) return;\r\n        if(!(/^([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/.test(value))){\r\n            return 'Format must match 2018-06-20'\r\n        }\r\n    }\r\n\r\n    const firstRowOnly = (value, row) => {\r\n        if((value || value === 0) && row > 0){\r\n            return 'Value only allowed in first row of sheet'\r\n        }\r\n    }\r\n    \r\n    return {\r\n        time: [required, validTime],\r\n        lat: [number, required, validLat],\r\n        lon: [number, required, validLon],\r\n        depth: [number, positive, maxDepth],\r\n    \r\n        dataset_short_name: [codeFriendly, datasetLength(1, 50), firstRowOnly],\r\n        dataset_long_name: [datasetLength(1, 130), firstRowOnly],\r\n        dataset_version: [length(0, 50), firstRowOnly],\r\n        dataset_release_date: [releaseDate, firstRowOnly],\r\n        dataset_make: [datasetRequired, validMake, firstRowOnly],\r\n        dataset_source: [datasetLength(1, 100), firstRowOnly],\r\n        dataset_distributor: [length(0, 100), firstRowOnly],\r\n        dataset_acknowledgement: [datasetLength(1, 10000)],\r\n        dataset_history: [length(0, 500), firstRowOnly],\r\n        dataset_description: [datasetLength(50, 10000), firstRowOnly],\r\n        dataset_references: [datasetLength(1, 500)],\r\n        climatology: [binary, firstRowOnly],\r\n        // contact_email: [validEmail, firstRowOnly],\r\n        cruise_names: [datasetLength(0, 200)],\r\n        \r\n        var_short_name: [codeFriendly, length(1, 50)],\r\n        var_long_name: [length(1, 200)],\r\n        var_sensor: [validSensor],\r\n        var_unit: [],\r\n        var_spatial_res: [required, validSpatialResolution],\r\n        var_temporal_res: [required, validTemporalResolution],\r\n        var_discipline: [],\r\n        visualize: [binary],\r\n        var_keywords: []\r\n    }\r\n}\r\n\r\n// match data column names to data_metadata\r\n// there should be at least 1 additional column \r\n// check resolutions against time and lat/lon increments\r\n// keyword validation","import { mean, deviation } from 'd3-array';\r\n\r\nlet checkSheets = (workbook) => {\r\n    let expected = ['data', 'vars_meta_data', 'dataset_meta_data'];\r\n    let missingSheets = [];\r\n\r\n    expected.forEach(e => {\r\n        if(!workbook.Sheets[e]){\r\n            missingSheets.push(e);\r\n        }\r\n    });\r\n    \r\n    return missingSheets;\r\n}\r\n\r\nlet checkVariableNameMismatches = (data, vars_meta_data, userVariables) => {\r\n    let shortNames = vars_meta_data.map(e => e.var_short_name);\r\n    return shortNames.filter(e => !userVariables.has(e));\r\n}\r\n\r\nconst checkMissingVarMetadataRows = (data, vars_meta_data, userVariables) => {\r\n    let shortNames = new Set(vars_meta_data.map(e => e.var_short_name));\r\n    return Array.from(userVariables).filter(e => !shortNames.has(e));\r\n}\r\n\r\nlet checkEmptyColumns = (data, userVariables) => {\r\n    let emptyColumns = [];\r\n\r\n    userVariables.forEach(header => {\r\n        for(let i = 0; i < data.length; i++){\r\n            if(data[i][header] || data[i][header] === 0) return;\r\n        }\r\n    \r\n        emptyColumns.push(header);\r\n    });\r\n\r\n    return emptyColumns;    \r\n}\r\n\r\nlet checkMissingCruiseNames = (dataset_meta_data, vars_meta_data) => {\r\n    let hasInSitu = vars_meta_data.some(e => e.var_sensor && e.var_sensor.toLowerCase() == 'in-situ');\r\n    let isObservation = dataset_meta_data[0].dataset_make && dataset_meta_data[0].dataset_make.toLowerCase() == 'observation';\r\n    let shouldHaveCruise = Boolean(hasInSitu && isObservation);\r\n    let hasCruise = (dataset_meta_data[0]['cruise_names']);\r\n    return Boolean(shouldHaveCruise && !hasCruise);\r\n}\r\n\r\nlet checkRadians = (data) => {\r\n    let lonMin = data[0].lon;\r\n    let lonMax = data[0].lon;\r\n    let latMin = data[0].lat;\r\n    let latMax = data[0].lat;\r\n    let pi = Math.PI;\r\n\r\n    data.forEach(e => {\r\n        if(e.lon < lonMin) lonMin = e.lon;\r\n        if(e.lon > lonMax) lonMax = e.lon;\r\n        if(e.lat < latMin) latMin = e.lat;\r\n        if(e.lat > latMax) latMax = e.lat;\r\n    });\r\n\r\n    return Boolean(lonMin >= -pi && lonMax <= pi && latMin >= -pi/2 && latMax <= pi/2);\r\n}\r\n\r\nlet checkUniqueSpaceTime = (data) => {\r\n    let includeDepth = Boolean(data[0].depth || data[0].depth == 0);\r\n    let obj = {};\r\n    let result = []; //{row: Number, matched: Number}\r\n\r\n    try {\r\n        for(let i = 0; i < data.length; i++){\r\n            if(obj[data[i].time] === undefined){\r\n                obj[data[i].time] = {};\r\n            }\r\n    \r\n            if(obj[data[i].time][data[i].lat] === undefined){\r\n                obj[data[i].time][data[i].lat] = {};\r\n            }\r\n\r\n            if(!includeDepth){\r\n                if(obj[data[i].time][data[i].lat][data[i].lon] === undefined){\r\n                    obj[data[i].time][data[i].lat][data[i].lon] = i + 2;\r\n                }\r\n\r\n                else {\r\n                    result.push({row: i + 2, matched: obj[data[i].time][data[i].lat][data[i].lon]});\r\n                    if(result.length > 5) return result;\r\n                }\r\n            }\r\n\r\n            else {\r\n                if(obj[data[i].time][data[i].lat][data[i].lon] === undefined){\r\n                    obj[data[i].time][data[i].lat][data[i].lon] = {};\r\n                }\r\n\r\n                if(obj[data[i].time][data[i].lat][data[i].lon][data[i].depth] === undefined){\r\n                    obj[data[i].time][data[i].lat][data[i].lon][data[i].depth] = i + 2;\r\n                }\r\n\r\n                else {\r\n                    result.push({row: i + 2, matched: obj[data[i].time][data[i].lat][data[i].lon][data[i].depth]});\r\n                    if(result.length > 5) return result;\r\n                }\r\n            }    \r\n        }\r\n    }\r\n\r\n    catch(e) {\r\n        result = [];\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nlet checkTypeConsistency = (data, userVariables) => {\r\n    // Look for mixture of strings and numbers\r\n    let result = [];\r\n\r\n    userVariables.forEach(e => {\r\n        let columnIsNumerical;\r\n        for(let i = 0; i < data.length; i++){\r\n            if(columnIsNumerical === undefined){\r\n                if(data[i][e] || data[i][e] == 0) columnIsNumerical = !isNaN(parseFloat(data[i][e]));\r\n            }\r\n\r\n            else if(columnIsNumerical && (data[i][e] || data[i][e] == 0)) {\r\n                if(isNaN(parseFloat(data[i][e]))){\r\n                    result.push({column: e, row: i + 2});\r\n                    break;\r\n                }\r\n            }\r\n\r\n            else if(data[i][e] || data[i][e] == 0){\r\n                if(!isNaN(parseFloat(data[i][e]))){\r\n                    result.push({column: e, row: i + 2});\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    return result;\r\n}\r\n\r\nlet allSameValueHelper = (data, col) => {\r\n    let sampleValue;\r\n    let i = 0;\r\n\r\n    while(sampleValue === undefined && i < data.length){\r\n        if(data[i][col] || data[i][col] == 0){\r\n            sampleValue = data[i][col];\r\n        }\r\n        i++;\r\n    }\r\n\r\n    for(let j = i; j < data.length; j++){\r\n        if(data[j][col] != sampleValue) return false;\r\n    }\r\n\r\n    return true;    \r\n}\r\n\r\nlet checkAllSameValue = (data, userVariables) => {\r\n    let result = [];\r\n\r\n    userVariables.forEach(e => {\r\n        let allSame = allSameValueHelper(data, e);\r\n        if(allSame) result.push(e);\r\n    })\r\n\r\n    return result;\r\n}\r\n\r\nlet checkDepthAllOrNone = (data) => {\r\n    let includeDepth = Boolean(data[0].depth || data[0].depth == 0);\r\n\r\n    for(let i = 0; i < data.length; i++){\r\n        if(includeDepth != Boolean(data[i].depth || data[i].depth == 0)){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nlet nanVariants = new Set(['nan', 'NaN', 'NAN', 'Nan', 'null', 'Null', 'NULL'])\r\nlet checkNans = (data, userVariables) => {\r\n    let result = []; // {row, column}\r\n\r\n    for(let i = 0; i < data.length; i++){\r\n        for(let j = 0; j < userVariables.length; j++){\r\n            if(nanVariants.has(data[i][userVariables[j]])){\r\n                result.push({row: i + 2, column: userVariables[j]});\r\n                if(result.length > 4) return result;\r\n            }\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nlet outlierN = 5;\r\nlet checkOutliers = (data, userVariables) => {\r\n    let outliers = []; //{row, column}\r\n    let vectors = {};\r\n    userVariables.forEach(e => vectors[e] = []);\r\n\r\n    let stats = {};\r\n    userVariables.forEach(e => stats[e] = {});\r\n\r\n    data.forEach(row => {\r\n        userVariables.forEach(e => {\r\n            vectors[e].push(row[e]);\r\n        })\r\n    });\r\n\r\n    userVariables.forEach(e => {\r\n        stats[e].mean = mean(vectors[e]);\r\n        stats[e].deviation = deviation(vectors[e]);\r\n    })\r\n    \r\n    let keys = Object.keys(stats);\r\n\r\n    for(let i = 0; i < keys.length; i++){\r\n        if((stats[keys[i]].mean || stats[keys[i]].mean === 0) && (stats[keys[i]].deviation || stats[keys[i]].deviation === 0)){\r\n            for(let j = 0; j < data.length; j++){\r\n                if((data[j][keys[i]] ||  data[j][keys[i]] == 0) && Math.abs(data[j][keys[i]] - stats[keys[i]].mean) > outlierN * stats[keys[i]].deviation){\r\n                    outliers.push({row: j + 2, column: keys[i], value:data[j][keys[i]]});\r\n                    if(outliers.length > 9) return outliers;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return outliers;\r\n}\r\n\r\nlet checkRequiredCols = data => {\r\n    let missingCols = [];\r\n    let sample = data[0];\r\n\r\n    ['time', 'lat', 'lon'].forEach(e => {\r\n        if(!sample[e] && sample[e] !== 0 ) missingCols.push(e);\r\n    })\r\n\r\n    return missingCols;\r\n}\r\n\r\nexport default ({ data, dataset_meta_data, vars_meta_data, workbook }) => {\r\n    let errors = [];\r\n    let warnings = [];\r\n\r\n    let sheetCheck = checkSheets(workbook);\r\n    if(sheetCheck.length){\r\n        errors.push(`Workbook is missing required sheet${sheetCheck.length > 1 ? 's' : ''}: ${sheetCheck.join(', ')}.`);\r\n        return {errors, warnings};\r\n    }\r\n\r\n    if(!data.length){\r\n        errors.join.push(`Found no rows on the data sheet`);\r\n        return {errors, warnings};\r\n    }\r\n\r\n    let missingCols = checkRequiredCols(data);\r\n    if(missingCols.length){\r\n        errors.push(`Data sheet is missing required column${missingCols.length > 1 ? 's' : ''}: ${missingCols.join(', ')}`);\r\n    }\r\n\r\n    let fixedVariables = new Set(['time', 'lat', 'lon', 'depth']);        \r\n    let userVariables = new Set(Object.keys(data[0]).filter(key => !fixedVariables.has(key)));\r\n    \r\n    let variableNameMismatches = checkVariableNameMismatches(data, vars_meta_data, userVariables);\r\n    if(variableNameMismatches.length){\r\n        errors.push(`The following value${variableNameMismatches.length > 1 ? 's' : ''} ` +\r\n        `for var_short_name on the vars_meta_data sheet did not match a column header on the data sheet:\\n` +\r\n        `${variableNameMismatches.join(', ')}.`);\r\n    }\r\n\r\n    let missingVarMetadataRows = checkMissingVarMetadataRows(data, vars_meta_data, userVariables);\r\n    if(missingVarMetadataRows.length){\r\n        errors.push(`The following column header${missingVarMetadataRows.length > 1 ? 's' : ''} on the data sheet ` +\r\n            `did not match any value for var_short_name on the vars_meta_data sheet: \\n` +\r\n            `${missingVarMetadataRows.join(', ')}.`);\r\n    }\r\n\r\n    let emptyColumns = checkEmptyColumns(data, userVariables);\r\n    if(emptyColumns.length){\r\n        errors.push(`The column${emptyColumns.length > 1 ? 's' : ''} ${emptyColumns.join(', ')} contain${emptyColumns > 1 ? '' : 's'} no values.`);\r\n    }\r\n\r\n    if(!checkDepthAllOrNone(data)){\r\n        errors.push('The depth column on the data sheet must contain a value for every row, or be empty.');\r\n    }\r\n\r\n    if(checkMissingCruiseNames(dataset_meta_data, vars_meta_data)){\r\n        warnings.push(`The supplied values for make and sensor suggest that some or all of your data may ` + \r\n        `have been gathered on a scientific cruise, but no values were included for cruise_names in the dataset_meta_data sheet. ` +\r\n        `Including cruise names will improve the discoverability of your data.`);\r\n    }\r\n\r\n    if(checkRadians(data)){\r\n        warnings.push(`Values supplied for lat and lon indicate the possible use of radian as unit of measurement.` +\r\n        `Lat and lon must be in degrees north and degrees east, respectively.`);\r\n    }\r\n\r\n    let duplicates = checkUniqueSpaceTime(data);\r\n    if(duplicates.length){\r\n        warnings.push(`Found non-unique space and time value combinations` +\r\n            `${duplicates.length >= 5 ? '(Showing a maximum of 5 matches)' : ''}:\\n` +         \r\n            `${duplicates.map(e => `Row ${e.row} matched ${e.matched}`).join('\\n')}`);\r\n    }\r\n\r\n    let typeConsistency = checkTypeConsistency(data, userVariables);\r\n    if(typeConsistency.length){\r\n        warnings.push(`Found column${typeConsistency.length > 1 ? 's' : ''} with a mixture of string and numerical data types.` +\r\n        `\\n${typeConsistency.map(e => `Column ${e.column} contained a value of unexpected type in row ${e.row}`).join('\\n')}`)\r\n    }\r\n\r\n    let allSameValue = checkAllSameValue(data, userVariables);\r\n    if(allSameValue.length){\r\n        warnings.push(`Found column${allSameValue.length > 1 ? 's' : ''} on data sheet with all identical values: ${allSameValue.join(', ')}.`);\r\n    }\r\n\r\n    let containsNans = checkNans(data, userVariables);\r\n    if(containsNans.length){\r\n        errors.push(`NaN and null strings are not allowed. Cells should contain a value or be blank.` +\r\n            `${containsNans.length > 4 ? 'Showing a maximum of 5 matches.' : ''}` +\r\n            `Found illegal value${containsNans.length > 1 ? 's' : ''}` +\r\n            `at ${containsNans.map(e => `row ${e.row} column ${e.column}`).join('\\n')}.`)\r\n    }\r\n\r\n    let outliers = checkOutliers(data, userVariables);\r\n    if(outliers.length){\r\n        warnings.push(`Found possible data outlier${outliers.length > 1 ? 's' : ''} ` +\r\n            `${outliers.length > 9 ? '(Showing a maximum of 10 values)' : ''}:\\n` +\r\n            `${outliers.map(e => `Value ${e.value} in column ${e.column} row ${e.row}`).join('\\n')}`);\r\n    }\r\n\r\n    return {errors, warnings};\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport XLSX from 'xlsx';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, Paper, Button, Link, IconButton, Tooltip, List, ListItem, ListItemIcon, ListItemText, Divider, Tabs, Tab, Badge } from '@material-ui/core';\r\nimport { ErrorOutline, ArrowBack, ArrowForward, Done } from \"@material-ui/icons\";\r\n\r\nimport { uploadSubmission, retrieveMostRecentFile, storeSubmissionFile, checkSubmissionOptionsAndStoreFile, setUploadState } from '../../Redux/actions/dataSubmission';\r\nimport { snackbarOpen, setLoadingMessage } from '../../Redux/actions/ui';\r\n\r\nimport ValidationGrid from './ValidationGrid';\r\nimport LoginRequiredPrompt from '../User/LoginRequiredPrompt';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport formatDataSheet from '../../Utility/DataSubmission/formatDataSheet';\r\nimport formatDatasetMetadataSheet from '../../Utility/DataSubmission/formatDatasetMetadataSheet';\r\nimport formatVariableMetadataSheet from '../../Utility/DataSubmission/formatVariableMetadataSheet';\r\nimport generateAudits from '../../Utility/DataSubmission/generateAudits';\r\nimport workbookAudits from '../../Utility/DataSubmission/workbookAudits';\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    submissionFile: state.submissionFile,\r\n    submissionOptions: state.submissionOptions,\r\n    submissionUploadState: state.submissionUploadState,\r\n    user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    snackbarOpen,\r\n    uploadSubmission,\r\n    setLoadingMessage,\r\n    retrieveMostRecentFile,\r\n    storeSubmissionFile,\r\n    checkSubmissionOptionsAndStoreFile\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    paper: {\r\n        width: '40vw',\r\n        // height: '30vh',\r\n        margin:'40px auto'\r\n    },\r\n\r\n    dragTarget: {\r\n        border: '1px solid red',\r\n        width: '100px',\r\n        height: '100px',\r\n        margin:'40px auto'\r\n    },\r\n\r\n    input: {\r\n        display: 'none'\r\n    },\r\n\r\n    button: {\r\n        color: 'white',\r\n        textTransform: 'none',\r\n        display: 'block',\r\n        maxWidth: '100px',\r\n        margin: '12px auto 0px auto'\r\n    },\r\n\r\n    needHelp: {\r\n        float: 'left',\r\n        color: 'white',\r\n        margin: '12px 0 0 12px',\r\n        letterSpacing: 'normal'\r\n    },\r\n\r\n    needHelpLink: {\r\n        letterSpacing: 'normal',\r\n        color: theme.palette.primary.main,\r\n        cursor: 'pointer'\r\n    },\r\n\r\n    fileSelectPaper: {\r\n        margin: '70px auto 24px auto',\r\n        maxWidth: '50vw',\r\n        padding: '16px',        \r\n        padding: '12px',\r\n        whiteSpace: 'pre-wrap'\r\n    },\r\n\r\n    workbookAuditPaper: {\r\n        margin: '70px auto 24px auto',\r\n        maxWidth: '50vw',\r\n        padding: '16px',        \r\n        padding: '12px',\r\n        minHeight: '110px',\r\n        whiteSpace: 'pre-wrap',\r\n        textAlign: 'left'\r\n    },\r\n\r\n    addBorder: {\r\n        border: `1px dashed ${theme.palette.primary.main}`\r\n    },\r\n\r\n    fileName: {\r\n        color: theme.palette.primary.main,\r\n        letterSpacing: 'normal'\r\n    },\r\n\r\n    chooseNewFileLabel: {\r\n        display: 'inline',\r\n        position: 'absolute',\r\n        marginTop: '10px',\r\n        marginLeft : '14px',\r\n        fontSize: '11px',\r\n        borderRadius: '2px',\r\n        color: colors.primary,\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: 'rgba(0,0,0,.2)'\r\n        }\r\n    },\r\n\r\n    linkLabel: {\r\n        color: colors.primary,\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            backgroundColor: 'rgba(0,0,0,.2)'\r\n        }\r\n    },\r\n\r\n    dataTable: {\r\n        maxWidth: '80vw',\r\n        margin: '0 auto 24px auto'\r\n    },\r\n\r\n    tableWrapper: {\r\n        maxWidth: '80vw',\r\n        margin: '24px auto'\r\n    },\r\n\r\n    submitButton: {\r\n        color: 'white',\r\n        margin: '24px 0 12px 0'\r\n    },\r\n\r\n    tabPaper: {\r\n        maxWidth: '80vw',\r\n        height: '70vh',\r\n        margin: '0 auto 24px auto'\r\n    },\r\n\r\n    errorStepperPaper: {\r\n        width: '80vw',\r\n        margin: '0 auto 24px auto'\r\n    },\r\n\r\n    currentlyViewingTypography: {\r\n        marginLeft: '4px'\r\n    },\r\n\r\n    ilb: {\r\n        display: 'inline-block'\r\n    },\r\n\r\n    findNextButton: {\r\n        textTransform: 'none',\r\n        marginBottom: '12px'\r\n    },\r\n\r\n    link: {\r\n        cursor: 'pointer'\r\n    },\r\n\r\n    currentSectionSpan: {\r\n        margin: '4px 8px 0 8px',\r\n        width: '200px',\r\n        display: 'inline-block'\r\n    },\r\n\r\n    divider: {\r\n        margin: '8px 0'\r\n    },\r\n\r\n    workbookTab: {\r\n        textTransform: 'none'\r\n    },\r\n\r\n    submittedTypography: {\r\n        marginBottom: '12px'\r\n    }\r\n\r\n});\r\n\r\nconst _CleanupDummy = (props) => {\r\n    React.useEffect(() => {\r\n        return function cleanup() {\r\n            props.setUploadState(null);\r\n        };\r\n    });\r\n\r\n    return '';\r\n}\r\n\r\nconst CleanupDummy = connect(null, {setUploadState})(_CleanupDummy);\r\n\r\nconst textAreaLookup = {\r\n    var_keywords: 4,\r\n    var_comment: 5,\r\n    var_long_name: 3,\r\n    dataset_references: 8,\r\n    dataset_description: 14,\r\n    dataset_acknowledgement: 8,\r\n    cruise_names: 5,\r\n    dataset_long_name: 3,\r\n    dataset_history: 3,\r\n    dataset_distributor: 3\r\n};\r\n\r\nconst validationSteps = [\r\n    {\r\n        // before selecting file\r\n    },\r\n\r\n    {\r\n        label: 'Workbook Validation',\r\n        sheet: 'workbook'\r\n    },\r\n\r\n    {\r\n        label: 'Data Sheet',\r\n        sheet: 'data'\r\n    },\r\n\r\n    {\r\n        label: 'Dataset Metadata Sheet',\r\n        sheet: 'dataset_meta_data'\r\n    },\r\n\r\n    {\r\n        label: 'Variable Metadata Sheet',\r\n        sheet: 'vars_meta_data'\r\n    },\r\n\r\n    {\r\n        label: 'Submission',\r\n        sheet: 'submission'\r\n    }\r\n];\r\n\r\nlet orderedColumns = {\r\n    data: ['time', 'lat', 'lon', 'depth'],\r\n    dataset_meta_data: ['dataset_short_name', 'dataset_long_name', 'dataset_version', 'dataset_release_date', 'dataset_make', 'cruise_names', 'dataset_source', 'dataset_distributor', 'dataset_acknowledgement', //'contact_email'\r\n    , 'dataset_doi', 'dataset_history', 'dataset_description', 'dataset_references', 'climatology'],\r\n    vars_meta_data: ['var_short_name', 'var_long_name', 'var_unit', 'var_sensor', 'var_spatial_res', 'var_temporal_res', 'var_discipline', 'visualize',\t'var_keywords', 'var_comment']\r\n}\r\n\r\nconst generateSelectOptions = (reduxStoreOptions) => ({\r\n    var_temporal_res: reduxStoreOptions.Temporal_Resolution,\r\n    var_discipline: reduxStoreOptions.Study_Domain,\r\n    var_sensor: reduxStoreOptions.Sensor,\r\n    var_spatial_res: reduxStoreOptions.Spatial_Resolution,\r\n    dataset_make: reduxStoreOptions.Make\r\n});\r\n\r\nconst StyledBadgeRed = withStyles((theme) => ({\r\n    badge: {\r\n        right: -11,\r\n        top: 1,\r\n        backgroundColor: 'rgba(255, 0, 0, .6)'\r\n    },\r\n}))(Badge);\r\n\r\nconst StyledBadgeGreen = withStyles((theme) => ({\r\n    badge: {\r\n        right: -11,\r\n        top: 1,\r\n        backgroundColor: 'green'\r\n    },\r\n}))(Badge);\r\n\r\nlet fileSizeTooLargeDummyState = {\r\n    auditReport: {\r\n        workbook: {\r\n            errors: ['This workbook exceeds the file size limit of this application. Please contact our data curation team at cmap-data-submission@uw.edu for assistance.'],\r\n            warnings: []\r\n        },\r\n        data: [],\r\n        dataset_meta_data: [],\r\n        vars_meta_data: []\r\n    },\r\n    validationStep: 1,\r\n};\r\n\r\nclass ValidationTool extends React.Component {\r\n\r\n    checkCellStyle = (params) => {\r\n        let row = params.node.childIndex;\r\n        let colId = params.column.colId; \r\n        let { sheet } = params.context;\r\n\r\n        let styles = {\r\n            //TODO fix view of long strings as below but better\r\n            // whiteSpace: 'pre-wrap !important',\r\n            // paddingLeft: '10px',\r\n            // paddingRight: '10px',\r\n            // overflow: 'visible'\r\n        };\r\n        \r\n        if(this.state.auditReport && this.state.auditReport[sheet] && this.state.auditReport[sheet][row] && this.state.auditReport[sheet][row][colId]){\r\n            styles.boxShadow = 'inset 0 0 3px 2px rgba(255, 0, 0, .5)'\r\n        }\r\n\r\n        return styles;\r\n    }\r\n\r\n    state = {\r\n        validationStep: 0,\r\n        file: null,\r\n        data: null,\r\n        dataset_meta_data: null,\r\n        vars_meta_data: null,\r\n        auditReport: null,\r\n        defaultColumnDef: {\r\n            menuTabs: [],\r\n            resizable: true,\r\n            editable: true,\r\n            cellStyle: this.checkCellStyle,\r\n            cellEditor: 'DSCellEditor',\r\n            width: 270\r\n        }\r\n    }\r\n\r\n    handleGridSizeChanged = () => {\r\n        if(this.state.validationStep === 2){\r\n            this.gridApi.sizeColumnsToFit()\r\n        }\r\n    }\r\n\r\n    handleDragOver = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    auditCell = (value, col, row) => {\r\n        let cellAudit = [];\r\n        let auditFuncs = this.audits[col];\r\n    \r\n        if(auditFuncs){\r\n            auditFuncs.forEach(func => {\r\n                let result = func(value, row);\r\n    \r\n                if(result) {\r\n                    cellAudit.push(result);\r\n                }\r\n            });\r\n        }\r\n    \r\n        return cellAudit;\r\n    }\r\n\r\n    auditWorkbook = (params) => {\r\n        return workbookAudits(params);\r\n    }\r\n\r\n    auditRows = (rows) => {\r\n        let audit = [];\r\n\r\n        rows.forEach((row, i) => {\r\n            let rowAudit = {};\r\n\r\n            let columns = Object.keys(row);\r\n\r\n            columns.forEach((col) => {\r\n                let cellAudit = this.auditCell(row[col], col, i);\r\n\r\n                if(cellAudit.length){\r\n                    rowAudit[col] = cellAudit;\r\n                }\r\n            });\r\n\r\n            if(Object.keys(rowAudit).length){\r\n                audit[i] = rowAudit;\r\n            }\r\n        });\r\n\r\n        return audit;\r\n    }\r\n\r\n    // Takes a workbook and returns an audit report\r\n    performAudit = (info) => {\r\n        let report = {\r\n            workbook: this.auditWorkbook(info),\r\n            data: this.auditRows(info.data),\r\n            dataset_meta_data: this.auditRows(info.dataset_meta_data),\r\n            vars_meta_data: this.auditRows(info.vars_meta_data),\r\n        };\r\n\r\n        return report;\r\n    }\r\n\r\n    handleResetState = () => {\r\n        this.props.storeSubmissionFile(null);\r\n        this.props.history.push({ pathname: '/datasubmission/validationtool', query: {} });\r\n        this.setState({\r\n            ...this.state,\r\n            data: null,\r\n            dataset_meta_data: null,\r\n            vars_meta_data: null,\r\n            validationStep: 0\r\n        });\r\n    }\r\n\r\n    handleChangeValidationStep = (validationStep) => {\r\n        this.setState({...this.state, validationStep}, () => {\r\n            if(this.gridApi && validationStep == 2) this.gridApi.sizeColumnsToFit()\r\n        });\r\n    }\r\n    \r\n    handleCellValueChanged = ({rowIndex, newValue, column, node, context, oldValue}) => {\r\n        if(oldValue === newValue) return;\r\n\r\n        let { sheet } = context;\r\n\r\n        let newAudit = this.auditCell(newValue, column.colId, rowIndex);\r\n        \r\n        let auditReport = {...this.state.auditReport};\r\n\r\n        if(!auditReport[sheet][rowIndex]) auditReport[sheet][rowIndex] = {};\r\n\r\n        auditReport[sheet] = [...this.state.auditReport[sheet]];\r\n\r\n        if(newAudit.length){\r\n            auditReport[sheet][rowIndex][column.colId] = newAudit\r\n        } else delete auditReport[sheet][rowIndex][column.colId];\r\n\r\n        if(!Object.keys(auditReport[sheet][rowIndex]).length) {\r\n            auditReport[sheet][rowIndex] = null;\r\n        }\r\n\r\n        let updated = [...this.state[sheet].slice(0, rowIndex), node.data, ...this.state[sheet].slice(rowIndex + 1)];\r\n        this.setState({...this.state, [sheet]: updated, auditReport}, () => {\r\n            this.gridApi.redrawRows();\r\n        });\r\n    }\r\n\r\n    handleReadFile = (file) => {\r\n        var reader = new FileReader();\r\n        if(file.size > 150000000){\r\n            this.setState({...this.state, ...fileSizeTooLargeDummyState}, () => this.props.setLoadingMessage(''));\r\n            return;\r\n        }\r\n        \r\n        reader.onload = (progressEvent) => {\r\n            var readFile = new Uint8Array(progressEvent.target.result);\r\n            var workbook = XLSX.read(readFile, {type: 'array'});\r\n            let _data = XLSX.utils.sheet_to_json(workbook.Sheets['data'], {defval: null});\r\n            let data = _data ? formatDataSheet(_data, workbook) : _data;\r\n\r\n            let _dataset_meta_data = XLSX.utils.sheet_to_json(workbook.Sheets['dataset_meta_data'], {defval: null});\r\n            let dataset_meta_data = _dataset_meta_data ? formatDatasetMetadataSheet(_dataset_meta_data, workbook) : _dataset_meta_data;\r\n            \r\n            let _vars_meta_data = XLSX.utils.sheet_to_json(workbook.Sheets['vars_meta_data'], {defval: null});\r\n            let vars_meta_data = _vars_meta_data ? formatVariableMetadataSheet(_vars_meta_data) : _vars_meta_data;\r\n\r\n            var auditReport = this.performAudit({workbook, data, dataset_meta_data, vars_meta_data});\r\n\r\n            let validationStep = (auditReport.workbook.errors.length || auditReport.workbook.warnings.length) ? 1 : 2;\r\n            this.setState({...this.state, data, dataset_meta_data, vars_meta_data, auditReport, validationStep}, () => this.props.setLoadingMessage(''));\r\n        }\r\n\r\n        reader.readAsArrayBuffer(file);        \r\n    }\r\n\r\n    handleDrop = (e) => {\r\n        e.preventDefault();        \r\n        var file = e.dataTransfer.items[0].getAsFile();\r\n        this.props.setLoadingMessage('Reading Workbook');\r\n        this.props.checkSubmissionOptionsAndStoreFile(file);\r\n    }\r\n\r\n    handleFileSelect = (e) => {\r\n        var file = e.target.files[0];\r\n        if(!file) return;\r\n        this.props.setLoadingMessage('Reading Workbook');\r\n        this.props.checkSubmissionOptionsAndStoreFile(file);\r\n        e.target.value = null;\r\n    }\r\n\r\n    handleUploadSubmission = () => {\r\n        let workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet(this.state.data), 'data');\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet(this.state.dataset_meta_data), 'dataset_meta_data');\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet(this.state.vars_meta_data), 'vars_meta_data');\r\n        \r\n        let wbArray = XLSX.write(workbook, {bookType:'xlsx', type:'array'});\r\n        let file = new Blob([wbArray]);\r\n        file.name = `${this.state.dataset_meta_data[0].dataset_short_name}.xlsx`;\r\n        this.props.uploadSubmission({file, datasetName: this.state.dataset_meta_data[0].dataset_short_name});\r\n    }\r\n\r\n    handleDownload = () => {\r\n        this.props.setLoadingMessage('Downloading');\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => this.props.setLoadingMessage(''));\r\n        }, 50)\r\n        let workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet(this.state.data), 'data');\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet(this.state.dataset_meta_data), 'dataset_meta_data');\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet(this.state.vars_meta_data), 'vars_meta_data');\r\n        XLSX.writeFile(workbook, this.state.dataset_meta_data[0].dataset_short_name + '.xlsx');\r\n    }\r\n\r\n    onGridReady = (params) => {\r\n        this.gridApi = params.api;\r\n        this.columnApi = params.columnApi;\r\n        if(this.state.validationStep === 2) this.gridApi.sizeColumnsToFit();\r\n    }\r\n\r\n    onModelUpdated = (params) => {\r\n        if(this.gridApi && validationSteps[this.state.validationStep].sheet === 'data'){\r\n            this.gridApi.sizeColumnsToFit();\r\n        }\r\n    }\r\n\r\n    scrollGridTo = (index) => {\r\n        this.gridApi.ensureIndexVisible(index, 'middle')\r\n    }\r\n\r\n    //TODO clean this up when it's not late at night\r\n    handleFindNext = () => {\r\n        let lastFocused = this.gridApi.getFocusedCell();\r\n        let { sheet } = validationSteps[this.state.validationStep];\r\n        let { auditReport } = this.state;\r\n        \r\n        let cols = orderedColumns[sheet];\r\n        var startRow = lastFocused ? lastFocused.rowIndex : -1;\r\n        var startColIndex = lastFocused ? cols.findIndex(e => e === lastFocused.column.colId) : 0;\r\n\r\n        // Search the remaining columns in focused row\r\n        if(lastFocused){\r\n            for(let i = startColIndex + 1; i < cols.length && i > -1; i++){\r\n                if(auditReport[sheet][startRow] && auditReport[sheet][startRow][cols[i]]){\r\n                    this.gridApi.ensureColumnVisible(cols[i]);\r\n                    this.gridApi.startEditingCell({\r\n                        rowIndex: startRow,\r\n                        colKey: cols[i]\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Start from startRow + 1, end at beginning of startRow\r\n        for(let i = startRow + 1; i != startRow; i++){\r\n            if(auditReport[sheet][i]){\r\n                for(let j = 0; j < cols.length; j++){\r\n                    if(auditReport[sheet][i][cols[j]]){\r\n                        this.gridApi.ensureColumnVisible(cols[j]);\r\n                        this.gridApi.startEditingCell({\r\n                            rowIndex: i,\r\n                            colKey: cols[j]\r\n                        });\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(i === auditReport[sheet].length) i = -1;\r\n        }\r\n\r\n        // Search the rest of start row\r\n        if(lastFocused){\r\n            for(let i = 0; i <= startColIndex && i < cols.length; i++){\r\n                if(auditReport[sheet][startRow] && auditReport[sheet][startRow][cols[i]]){\r\n                    this.gridApi.ensureColumnVisible(cols[i]);\r\n                    this.gridApi.startEditingCell({\r\n                        rowIndex: startRow,\r\n                        colKey: cols[i]\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    countErrors = () => {\r\n        let counts = {\r\n            workbook: this.state.auditReport.workbook.errors.length,\r\n            data: 0,\r\n            dataset_meta_data: 0,\r\n            vars_meta_data: 0\r\n        };        \r\n\r\n        this.state.auditReport['data'].forEach(e => {\r\n            if(e){\r\n                counts.data += Object.keys(e).length;\r\n            }\r\n        })\r\n\r\n        this.state.auditReport['dataset_meta_data'].forEach(e => {\r\n            if(e){\r\n                counts.dataset_meta_data += Object.keys(e).length;\r\n            }\r\n        })\r\n\r\n        this.state.auditReport['vars_meta_data'].forEach(e => {\r\n            if(e){\r\n                counts.vars_meta_data += Object.keys(e).length;\r\n            }\r\n        })\r\n\r\n        return counts;\r\n    }\r\n\r\n    handleClickTab = (event, newValue) => {\r\n        this.setState({...this.state, validationStep: newValue});\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        let submissionID = new URLSearchParams(window.location.search).get('submissionID');\r\n        if(submissionID){\r\n            this.props.retrieveMostRecentFile(submissionID);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.props.storeSubmissionFile(null);\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if((!prevProps.submissionOptions && this.props.submissionOptions) || (!this.audits && this.props.submissionOptions)){\r\n            this.audits = generateAudits(this.props.submissionOptions);\r\n        }\r\n        if(prevProps.submissionFile !== this.props.submissionFile && this.props.submissionFile){\r\n            this.handleReadFile(this.props.submissionFile);\r\n        }\r\n\r\n    }\r\n\r\n    render = () => {\r\n        if(!this.props.user) return <LoginRequiredPrompt/>\r\n\r\n        const { classes } = this.props;\r\n        const { validationStep } = this.state;\r\n\r\n        const datasetName = this.state.dataset_meta_data && this.state.dataset_meta_data.length ? this.state.dataset_meta_data[0].dataset_short_name : null;\r\n\r\n        const sheet = validationSteps[validationStep].sheet;\r\n\r\n        var errorCount;\r\n\r\n        if(validationStep > 0 && validationStep < 5){\r\n            errorCount = this.countErrors();\r\n        }       \r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <Typography className={classes.needHelp}>\r\n                    Need help? \r\n                    <Link \r\n                        href='https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx' \r\n                        download='datasetTemplate.xlsx' \r\n                        className={classes.needHelpLink}\r\n                    >\r\n                        &nbsp;Download\r\n                    </Link>\r\n                    &nbsp;a blank template, or view the <Link className={classes.needHelpLink} component={RouterLink} to='/datasubmission/guide'>Data Submission Guide</Link>.\r\n                </Typography>\r\n\r\n                <Paper elevation={2} className={`${classes.fileSelectPaper} ${!this.props.submissionFile && classes.addBorder}`} onDragOver={this.handleDragOver} onDrop={this.handleDrop}>\r\n                    {\r\n                        this.props.submissionFile ?\r\n                        <React.Fragment>\r\n\r\n                            <Typography variant='h6' className={classes.currentlyViewingTypography}>\r\n\r\n                                {datasetName ? `${datasetName}` : ''} \r\n                                <label htmlFor=\"select-file-input\" className={classes.chooseNewFileLabel}>\r\n                                    Select a Different File\r\n                                </label> {'\\n'}\r\n                            </Typography>\r\n\r\n                            <div>\r\n                                <Tooltip title='Previous Section'>\r\n                                    <div className={classes.ilb}>\r\n                                        <IconButton \r\n                                            size='small'\r\n                                            onClick={() => this.handleChangeValidationStep(this.state.validationStep - 1)}\r\n                                            disabled={Boolean(this.state.validationStep <= 1)}\r\n                                        >\r\n                                            <ArrowBack/>\r\n                                        </IconButton>\r\n                                    </div>\r\n                                </Tooltip>\r\n\r\n                                <span className={classes.currentSectionSpan}>{validationSteps[validationStep].label}</span>\r\n\r\n                                <Tooltip title='Next Section'>\r\n                                    <div className={classes.ilb}>\r\n                                        <IconButton \r\n                                            size='small'\r\n                                            onClick={() => this.handleChangeValidationStep(this.state.validationStep + 1)}\r\n                                            disabled={\r\n                                                Boolean(\r\n                                                    validationStep >= 5 || \r\n                                                    (validationStep === 1 && errorCount.workbook) ||\r\n                                                    (validationStep === 4 && (\r\n                                                        errorCount.data > 0 || \r\n                                                        errorCount.dataset_meta_data > 0 ||\r\n                                                        errorCount.vars_meta_data > 0\r\n                                                    ))\r\n                                                )\r\n                                            }\r\n                                        >\r\n                                            <ArrowForward/>\r\n                                        </IconButton>\r\n                                    </div>\r\n                                </Tooltip>\r\n                            </div>\r\n                        </React.Fragment>\r\n\r\n                        :\r\n\r\n                        <React.Fragment>\r\n                            <Typography variant='h5'>\r\n                                To begin drag or \r\n\r\n                                <label htmlFor=\"select-file-input\">\r\n                                    <Button variant='contained' color=\"primary\" component=\"span\" className={classes.button}>\r\n                                        Select File\r\n                                    </Button>\r\n                                </label>                                \r\n                            </Typography>\r\n\r\n                            \r\n                        </React.Fragment>\r\n                    }\r\n\r\n                    {\r\n                        (validationStep > 1 && validationStep < 5) &&\r\n                        <React.Fragment>\r\n                            <Divider className={classes.divider}/>\r\n                            {\r\n                                Boolean(errorCount[sheet] > 0) ?\r\n\r\n                                <Typography variant='body2'>\r\n                                    <ErrorOutline style={{color: 'rgba(255, 0, 0, .7)', margin: '0 2px -5px 0', fontSize: '1.4em'}}/> \r\n                                    We found {errorCount[sheet]} cell{errorCount[sheet] > 1 ? 's' : ''} with errors on this sheet. \r\n                                    <span className={classes.linkLabel} onClick={this.handleFindNext}> Find Errors</span>\r\n                                </Typography>\r\n\r\n                                :\r\n\r\n                                Boolean(sheet === 'vars_meta_data' && (errorCount['data'] || errorCount['dataset_meta_data'])) ?\r\n\r\n                                <Typography variant='body2'>\r\n                                    <ErrorOutline style={{color: 'rgba(255, 0, 0, .7)', margin: '0 2px -5px 0', fontSize: '1.4em'}}/> \r\n                                    Please correct errors from the previous sheets before moving forward. \r\n                                </Typography>\r\n                                \r\n                                :\r\n                                \r\n                                <Typography variant='body2'>\r\n                                    <Done style={{color: colors.primary, margin: '0 2px -5px 0', fontSize: '1.4em'}}/>All set! Click the arrow above to move to the next step.\r\n                                </Typography>\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                </Paper>\r\n\r\n                {Boolean(validationStep === 1) &&\r\n                    <Paper elevation={2} className={`${classes.workbookAuditPaper}`}>\r\n                        <Typography style={{marginBottom: '24px'}}>\r\n                            {\r\n                                Boolean(this.state.auditReport.workbook.errors.length) &&\r\n\r\n                                <React.Fragment>\r\n                                    One or more parts of your submission did not match CMAP's requirements. \r\n                                    Please review the information below, update your workbook, \r\n                                    and <label className={classes.linkLabel} htmlFor='select-file-input'>try again</label>.\r\n                                </React.Fragment>\r\n                            }\r\n\r\n                            {\r\n                                Boolean(!this.state.auditReport.workbook.errors.length && this.state.auditReport.workbook.warnings.length) &&\r\n                                'We found some potential issues with your submission.'\r\n                            }\r\n\r\n                            {\r\n                                Boolean(this.state.auditReport.workbook.warnings.length) &&\r\n                                    <React.Fragment>\r\n                                        {'\\n'}\r\n                                        {'\\n'}\r\n                                        Messages marked with a yellow icon\r\n                                        <ErrorOutline style={{color: 'rgba(255, 255, 0, .7)', fontSize: '18px', margin: '0 3px -4px 3px'}}/>\r\n                                        are warnings. These should be reviewed and corrected if necessary, but will not prevent you \r\n                                        from moving to the next validation step.\r\n                                    </React.Fragment>\r\n                            }\r\n                        </Typography>\r\n\r\n                        {\r\n\r\n                        <List dense={true}>\r\n                            {\r\n                                this.state.auditReport.workbook.errors.map((e,i) => (\r\n                                    <ListItem key={i}>\r\n                                        <ListItemIcon style={{color: 'rgba(255, 0, 0, .7)'}}>\r\n                                            <ErrorOutline/>\r\n                                        </ListItemIcon>\r\n                                        <ListItemText\r\n                                            primary={e}\r\n                                        />\r\n                                    </ListItem>\r\n                                ))\r\n                            }\r\n\r\n                            {\r\n                                this.state.auditReport.workbook.warnings.map((e,i) => (\r\n                                    <ListItem key={i}>\r\n                                        <ListItemIcon style={{color: 'rgba(255, 255, 0, .7)'}}>\r\n                                            <ErrorOutline/>\r\n                                        </ListItemIcon>\r\n                                        <ListItemText\r\n                                            primary={e}\r\n                                        />\r\n                                    </ListItem>\r\n                                    ))\r\n                            }\r\n                            \r\n                        </List>\r\n                        }\r\n                    </Paper>\r\n                }\r\n\r\n                {Boolean((this.state.data && this.state.data.length) && (validationStep >= 2 && validationStep < 5)) &&\r\n                    <React.Fragment>\r\n\r\n                        <Paper elevation={2} className={classes.tabPaper + \" ag-theme-material\"}>\r\n                            <Tabs value={validationStep} onChange={this.handleClickTab}>\r\n                                <Tab \r\n                                    value={2}\r\n                                    label={ \r\n                                        errorCount['data'] > 0 ?\r\n                                        <StyledBadgeRed badgeContent={errorCount['data']}>Data</StyledBadgeRed>\r\n                                        :                              \r\n                                        <StyledBadgeGreen badgeContent={'\\u2713'}>Data</StyledBadgeGreen>\r\n                                    } \r\n                                    className={classes.workbookTab}\r\n                                />\r\n\r\n                                <Tab \r\n                                    value={3}\r\n                                    label={ \r\n                                        errorCount['dataset_meta_data'] > 0 ?\r\n                                        <StyledBadgeRed badgeContent={errorCount['dataset_meta_data']}>Dataset Metadata</StyledBadgeRed>\r\n                                        :                              \r\n                                        <StyledBadgeGreen badgeContent={'\\u2713'}>Dataset Metadata</StyledBadgeGreen>\r\n                                    } \r\n                                    className={classes.workbookTab}\r\n                                />\r\n\r\n                                <Tab \r\n                                    value={4}\r\n                                    label={ \r\n                                        errorCount['vars_meta_data'] > 0 ?\r\n                                        <StyledBadgeRed badgeContent={errorCount['vars_meta_data']}>Variable Metadata</StyledBadgeRed>\r\n                                        :                              \r\n                                        <StyledBadgeGreen badgeContent={'\\u2713'}>Variable Metadata</StyledBadgeGreen>\r\n                                    } \r\n                                    className={classes.workbookTab}\r\n                                />\r\n                            </Tabs>\r\n\r\n                            <div style={{height: 'calc(100% - 48px)'}}>\r\n                                <ValidationGrid\r\n                                    onGridReady={this.onGridReady}\r\n                                    rowData={this.state[sheet]}\r\n                                    defaultColumnDef={this.state.defaultColumnDef}\r\n                                    handleCellValueChanged={this.handleCellValueChanged}\r\n                                    handleGridSizeChanged={this.handleGridSizeChanged}\r\n                                    gridContext={{\r\n                                        sheet, \r\n                                        getAuditReport: () => this.state.auditReport, \r\n                                        textAreaLookup, \r\n                                        selectOptions: generateSelectOptions(this.props.submissionOptions),\r\n                                        auditCell: this.auditCell\r\n                                    }}\r\n                                    onModelUpdated={this.onModelUpdated}\r\n                                />\r\n                            </div>\r\n                        </Paper>\r\n                    </React.Fragment>\r\n                }\r\n\r\n                {Boolean(validationStep === 5) && \r\n                    <Paper elevation={2} className={`${classes.fileSelectPaper}`}>\r\n                        <CleanupDummy/>                        \r\n                        {\r\n                            this.props.submissionUploadState === states.succeeded ?\r\n                                <React.Fragment>\r\n                                    <Typography className={classes.submittedTypography}>\r\n                                        Your dataset has been successfully submitted, and will be reviewed by our data curation team.\r\n                                    </Typography>\r\n\r\n                                    <Typography className={classes.submittedTypography}>\r\n                                        You can view the status of your submission <Link style={{display: 'inline-block'}} className={classes.needHelpLink} component={RouterLink} to={`/datasubmission/userdashboard?datasetName=${encodeURI(datasetName)}`}>here</Link>.\r\n                                    </Typography>\r\n\r\n                                    <Typography className={classes.submittedTypography}>                                    \r\n                                        If you made any changes during this process you can download the edited workbook <Link style={{display: 'inline-block'}} className={classes.needHelpLink} onClick={this.handleDownload} component='span'>here</Link>.\r\n                                    </Typography>\r\n\r\n                                    <Typography className={classes.submittedTypography}>\r\n                                        A detailed description of remaining steps in the submission process can be found in the <Link style={{display: 'inline-block'}} className={classes.needHelpLink} component={RouterLink} to='/datasubmission/guide'>Data Submission Guide</Link>.\r\n                                    </Typography>\r\n                                </React.Fragment>\r\n\r\n                            :\r\n\r\n                            this.props.submissionUploadState === states.failed ?\r\n\r\n                            <React.Fragment>\r\n                                <List>\r\n                                    <ListItem>\r\n                                        <ListItemIcon style={{color: 'rgba(255, 0, 0, .7)'}}>\r\n                                            <ErrorOutline/>\r\n                                        </ListItemIcon>\r\n                                        <ListItemText\r\n                                            primary=\"A dataset with this name has already been submitted by another user. If you believe you're receiving this message in error please contact us at cmap-data-submission@uw.edu.\"\r\n                                        />\r\n                                    </ListItem>\r\n                                </List>\r\n                                    \r\n                                <Typography className={classes.submittedTypography}>                                    \r\n                                    If you made any changes during this process you can download the edited workbook <Link style={{display: 'inline-block'}} className={classes.needHelpLink} onClick={this.handleDownload} component='span'>here</Link>.\r\n                                </Typography>\r\n\r\n                            </React.Fragment>\r\n\r\n                            :\r\n\r\n                            <React.Fragment>\r\n                                <Typography>\r\n                                    You've completed dataset validation! Click the button below to upload your workbook.\r\n                                </Typography>\r\n\r\n                                <Button variant='contained' color='primary' className={classes.submitButton} onClick={this.handleUploadSubmission}>\r\n                                    Submit\r\n                                </Button>\r\n                            </React.Fragment>\r\n                        }\r\n                    </Paper>\r\n                }\r\n                <input\r\n                    onChange={this.handleFileSelect}\r\n                    className={classes.input}\r\n                    accept='.xlsx'\r\n                    id=\"select-file-input\"\r\n                    type=\"file\"\r\n                />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(ValidationTool)));\r\n\r\n//Undo / redo\r\n// https://www.ag-grid.com/javascript-grid-undo-redo-edits/\r\n\r\n","import React from 'react';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Typography, ListItem, List, ListItemText, Grid, Paper, Divider, Link, Table, TableRow, TableHead, TableCell, TableBody } from '@material-ui/core';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst doiProviderList = [\r\n    {link: 'https://zenodo.org/', name: 'Zenodo'},\r\n    {link: 'https://datadryad.org/stash', name: 'Dryad'},\r\n    {link: 'https://figshare.com/', name: 'FigShare'},\r\n    {link: 'https://osf.io/', name: 'Open Science Framework'},\r\n    {link: 'https://dataverse.harvard.edu/', name: 'Harvard Dataverse'},\r\n    {link: 'https://www.nodc.noaa.gov/', name: 'NCEI'},\r\n    {link: 'https://daac.ornl.gov/', name: 'ORNL DAAC'},\r\n    {link: 'https://portal.edirepository.org/nis/home.jsp', name: 'EDI'},\r\n    {link: 'https://www.pangaea.de/', name: 'PANGAEA'},\r\n    {link: 'https://www.seanoe.org/', name: 'SEANOE'},\r\n    {link: 'https://disc.gsfc.nasa.gov/', name: 'NASA Goddard'},\r\n    {link: 'https://nerc.ukri.org/research/sites/data/', name: 'NERC'},\r\n];\r\n\r\nconst dataSheetProps = [\r\n    {\r\n        label: 'time',\r\n        anchorEnd: 'time',\r\n        text: [\r\n            'This column holds datetime values with the following format: %Y-%m-%dT%H:%M:%S. The date and time sections are separated by a “T” character.',\r\n            'Example: 2010-02-09T18:15:00'\r\n        ],\r\n        bullets: [\r\n            'Year (%Y) is a four-digit value: example 2010',\r\n            'Month (%m) is a two-digit value: example 02 (for Feburary)',\r\n            'Day (%d) is a two-digit value: example 09',\r\n            'Hour (%H) is a two-digit value from 00 to 23: example 18',\r\n            'Minute (%M) is a two-digit value from 00 to 59: example 15',\r\n            'Second (%S) is a two-digit value from 00 to 59: example 00',\r\n            'Time zone: UTC'\r\n        ]\r\n    },\r\n    {\r\n        label: 'lat',\r\n        anchorEnd: 'lat',\r\n        text: ['This column holds the latitude values with the following characteristics:'],\r\n        bullets: [\r\n            'Type: Numeric values from -90 to 90',\r\n            'Format: Decimal (not military grid system)',\r\n            'Unit: degree North'\r\n        ]\r\n    },\r\n    {\r\n        label: 'lon',\r\n        anchorEnd: 'lon',\r\n        text: ['This column holds the longitude values with the following characteristics:'],\r\n        bullets: [\r\n            'Type: Numeric values from -180 to 180',\r\n            'Format: Decimal (not military grid system)',\r\n            'Unit: degree East'\r\n        ]\r\n    },\r\n    {\r\n        label: 'depth',\r\n        anchorEnd: 'depth',\r\n        text: ['This column holds the depth values with the following characteristics:'],\r\n        bullets: [\r\n            'Type: Positive numeric values. It is 0 at surface with increased values with depth.',\r\n            'Format: Decimal',\r\n            'Unit: meter',\r\n        ]\r\n    },\r\n    {\r\n        label: <React.Fragment>var<sub>1</sub>...var<sub>n</sub></React.Fragment>,\r\n        anchorEnd: 'var',\r\n        text: [\r\n            <React.Fragment>\r\n                These columns represent the dataset variables (measurements). Please rename them to names appropriate for your data.\r\n                Note that these names should be identical to the names defined as <Link href='#data-structure-var_short_name'>var_short_name</Link> \r\n                &nbsp;in the <Link href='#data-structure-variable'>Variable Metadata</Link> sheet. Please do not include units in these columns; \r\n                units are recorded in the Variable Metadata sheet. Leave a given cell empty for those instances when data was not taken and a value \r\n                is missing. Do not replace the missing data with arbitrary values such as “99999”, “0”, “UNKNOWN”, etc. Please review the example \r\n                datasets in the <Link href='#resources'>resources</Link> section for more information.\r\n            </React.Fragment>\r\n        ],\r\n        bullets: []\r\n    },\r\n\r\n];\r\n\r\nconst datasetMetadataSheetProps = [\r\n    {\r\n        label: 'dataset_short_name',\r\n        anchorEnd: 'dataset_short_name',\r\n        text: ['This name is meant to be used in programming codes and scripts. It should only contain a combination of letters, numbers, and underscores (the first character can not be a number). Do not use space, dash, or special characters such as <, +, %, etc.'],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 50 characters'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'dataset_long_name',\r\n        anchorEnd: 'dataset_long_name',\r\n        text: [\r\n            <React.Fragment>\r\n                A descriptive and human-readable name for the dataset. This name will identify your dataset in the CMAP \r\n                catalog (<Link href='#fig-1'>Fig.1</Link>) and visualization search dialog (<Link href='#fig-2'>Fig.2</Link>). \r\n                Any Unicode character can be used here, but please avoid names longer than 200 characters as they may get \r\n                trimmed when displayed on graphical interfaces. A full textual description of your dataset, with no length limits, \r\n                is entered in “<Link href='#data-structure-dataset_description'>dataset_description</Link>”. If your dataset is \r\n                associated with a cruise, we recommend including the official cruise and and the cruise nickname in the\r\n                dataset_long_name. For example: Underway CTD Gradients 3 KM1906.\r\n            </React.Fragment>\r\n            ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 200 characters'\r\n        ],\r\n        images: [            \r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_long_name_cat.png',\r\n                alt: 'Dataset Long_name in Catalog',\r\n                caption: 'Figure 1. A sample dataset shown in the Simons CMAP catalog. The \"dataset_long_name\" is enclosed in the red rectangle.',\r\n                id: 'fig-1'\r\n            },\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_long_name_viz_search.png',\r\n                alt: 'Dataset Long_name in Visualization Page',\r\n                caption: 'Figure 2. The \"dataset_long_name\" appears in the visualization page search dialog.',\r\n                id: 'fig-2'\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        label: 'dataset_version',\r\n        anchorEnd: 'dataset_version',\r\n        text: ['Please assign a version number or an identifier to your dataset such as “1.0.0” or “Final”. Version identifiers will help track the evolution of a dataset over time.'],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 50 characters',\r\n            'Example: 1.0'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'dataset_release_date',\r\n        anchorEnd: 'dataset_release_date',\r\n        text: ['Indicates the release date of the dataset. If your dataset has been previously published or released publicly, please specify that date. Otherwise, use the date the dataset was submitted to CMAP.'],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 50 characters',\r\n            'Example: 2020-06-22'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'dataset_make',\r\n        anchorEnd: 'dataset_make',\r\n        text: ['This is a required field that provides a broad category description of how a dataset was produced (also referred to as dataset make). Each dataset requires a single descriptor from a fixed set of options (observation, model, assimilation, laboratory), which are described below. This field will help in discovery of data in CMAP by categorizing datasets according to their Make class. Please contact us if you believe your dataset Make is not consistent with any of the categories below:'],\r\n        bullets: [\r\n            'Observation: refers to any in-situ or remote sensing measurements such as measurements made during a cruise expedition, data from an in-situ sensor, or satellite observations. Observations made as part of laboratory experiments have their own distinct category and do not fall in this category.',\r\n            'Model: refers to the outputs of numerical simulations.',\r\n            'Assimilation: refers to products that are a blend of observations and numerical models.',\r\n            'Laboratory: refers to the observations made in a laboratory setting such as culture experiment results.'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'dataset_source',\r\n        anchorEnd: 'dataset_source',\r\n        text: [\r\n            <React.Fragment>\r\n                Specifies the group and/or the institute name of the data owner(s). It can also include any link (such as a website) to \r\n                the data producers. This information will be visible in the CMAP catalog as shown in <Link href='#fig-3'>Fig 3</Link>. \r\n                Also, dataset_source will be annotated to any visualization made using the dataset (<Link href='#fig-4'>Fig. 4</Link>).\r\n            </React.Fragment>\r\n            ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 100 characters',\r\n            'Example: Armbrust Lab, University of Washington'\r\n        ],\r\n        images: [\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_source_cat.png',\r\n                alt: 'Dataset Source in Catalog',\r\n                caption: 'Figure 3. A sample dataset shown in the Simons CMAP catalog. The \"dataset_source\" is enclosed in the red rectangle.',\r\n                id: 'fig-3'\r\n            },\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_source_viz.png',\r\n                alt: 'Dataset Source in Visualizations\"',\r\n                caption: 'Figure 4. The \"dataset_source\" appears in visualizations made using the corresponding dataset (enclosed in the red rectangle).',\r\n                id: 'fig-4'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        label: 'dataset_distributor',\r\n        anchorEnd: 'dataset_distributor',\r\n        text: ['If your dataset has already been published by a data distributor provide a link to the data distributor. Otherwise, leave this field empty.'],\r\n        bullets: [\r\n            'Required: No (optional)',\r\n            'Constraint: Less than 100 characters',\r\n            'Example: http://marine.copernicus.eu/'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'dataset_acknowledgement',\r\n        anchorEnd: 'dataset_acknowledgement',\r\n        text: [\r\n            <React.Fragment>\r\n                Specify how your dataset should be acknowleged. You may mention your funding agency, grant number, or \r\n                you may ask those that use your data to acknowledge your dataset with a particular statement. Dataset \r\n                acknowlegment will be visible in the catalog page (<Link href='#fig-5'>Fig. 5</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: No (optional)',\r\n            'Constraint: No length limits'\r\n        ],\r\n        images: [\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_ack_cat.png',\r\n                alt: 'Dataset Acknowledgment in Catalog',\r\n                caption: 'Figure 5. A sample dataset shown in the Simons CMAP catalog. The \"dataset_acknowledgement\" is enclosed in the red rectangle.',\r\n                id: 'fig-5'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        label: 'dataset_history',\r\n        anchorEnd: 'dataset_history',\r\n        text: ['Use this field if your dataset has evolved over time and you wish to add notes about the history of your dataset. Otherwise, leave this field empty.'],\r\n        bullets: ['Required: No (optional)'],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'dataset_description',\r\n        anchorEnd: 'dataset_description',\r\n        text: [\r\n            <React.Fragment>\r\n                Include any description that you think will help a reader better understand your dataset. This description can \r\n                include information about data acquisition, processing methods, figures, and links to external content. This \r\n                field serves as the dataset documentation that is visible in the Simons CMAP catalog (<Link href='#fig-6'>Fig. 6</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: No length limits'\r\n        ],\r\n        images: [\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/dataset_description_cat.png',\r\n                alt: 'Dataset description in Catalog',\r\n                caption: 'Figure 6. A sample dataset shown in the Simons CMAP catalog. The \"dataset_description\" is accessible using the \"Dataset Details\" button, enclosed in the red rectangle.',\r\n                id: 'fig-6'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        label: 'dataset_references',\r\n        anchorEnd: 'dataset_references',\r\n        text: ['List any publications or documentation that one may cite in reference to the dataset. If there are more than one reference, please put them in separate cells under the dataset_reference column. Leave this field empty if there are no publications associated with this dataset.'],\r\n        bullets: ['Required: No (optional)'],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'climatology',\r\n        anchorEnd: 'climatology',\r\n        text: ['This is a flag indicating whether the dataset represents a climatological product. If your dataset is a climatological product fill this field with “1”. Otherwise, leave this field blank.'],\r\n        bullets: ['Required: No (optional)'],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'cruise_names',\r\n        anchorEnd: 'cruise_names',\r\n        text: ['If your dataset represents measurements made during a cruise expedition (or expeditions), provide a list of cruise official names here. If your dataset is associated with more than one cruise, please put them in separate cells under the cruise_names column. If the cruises have any nicknames, please include them in the same cell as the official cruise name separated by a comma(s). Leave this field blank if your dataset is not associated with a cruise expedition.'],\r\n        bullets: [\r\n            'Required: No (optional)',\r\n            'Constraint: No length limits',\r\n            'Example: KOK1606, Gradients 1'\r\n        ],\r\n        images: []\r\n    }\r\n];\r\n\r\nconst variableMetadataSheetProps = [\r\n    {\r\n        label: 'var_short_name',\r\n        anchorEnd: 'var_short_name',\r\n        text: [\r\n            <React.Fragment>\r\n                This name is meant to be used in programming codes and scripts. It should only contain a combination of letters, numbers, \r\n                and underscores (the first character can not be a number). Do not use space, dash, or special characters such as {'<'}, +, \r\n                %, etc. Finally, there must be a one-to-one match between the short_names listed here and the variable column names in the \r\n                “Data” sheet (see <Link href='#data-structure-var'>vars</Link>). var_short_name will be seen in the CMAP catalog \r\n                (<Link href='#fig-7'>Fig. 7</Link>), and will appear as the title of the generated figures (\r\n                <Link href='#fig-8'>Fig. 8</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 50 characters'\r\n        ],\r\n        images: [\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_short_name_cat.png',\r\n                alt: 'Variable short name in catalog',\r\n                caption: 'Figure 7. A sample dataset shown in the Simons CMAP catalog. The \"var_short_name\" is highlighted in the red rectangle.',\r\n                id: 'fig-7'\r\n            },\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/viz_short_name.png',\r\n                alt: 'Variable short name in a figure',\r\n                caption: 'Figure 8. A sample figure generated in the Simons CMAP catalog. The \"var_short_name\" appears as the figure title and is highlighted in the red rectangle.',\r\n                id: 'fig-8'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        label: 'var_long_name',\r\n        anchorEnd: 'var_long_name',\r\n        text: [\r\n            <React.Fragment>\r\n                A descriptive and human-readable label for the variable in accordance with the CF and COARDS conventions [\r\n                <Link href='#reference-1'>1</Link>, <Link href='#reference-2'>2</Link>, <Link href='#reference-3'>3</Link>]. This \r\n                name will present your variable in the CMAP catalog (<Link href='#fig-9'>Fig. 9</Link>) and visualization search \r\n                dialog (<Link href='#fig-10'>Fig. 10</Link>). var_long_name can contain any unicode character, but please avoid names \r\n                longer than 200 characters as they may get trimmed while displayed on graphical interfaces. Please use&nbsp;\r\n                <Link href='#data-structure-var_comment'>var_comment</Link> if you would like to add a full textual description \r\n                (with no length limits) for your variable.\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 200 characters'\r\n        ],\r\n        images: [\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_long_name_cat.png',\r\n                alt: 'Variable long name in catalog',\r\n                caption: 'Figure 9. A sample dataset shown in the Simons CMAP catalog. The \"var_long_name\" is highlighted in the red rectangle.',\r\n                id: 'fig-9'\r\n            },\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_long_name_viz_search.png',\r\n                alt: 'var long name in visualization page',\r\n                caption: 'Figure 10. The \"var_long_name\" appears in the visualization page search dialog.',\r\n                id: 'fig-10'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        label: 'var_sensor',\r\n        anchorEnd: 'var_sensor',\r\n        text: ['This is a required field that refers to the instrument used to produce the measurements such as CTD, fluorometer, flow cytometer, sediment trap, etc. If your dataset is the result of a field expedition but you are not sure about the name of the instrument used for the measurements, use the term “in-situ” to fill out this field. If your dataset is the output of a numerical model or a combination of model and observation, use the term “simulation” and “blend”, respectively. This field will significantly help to find and categorize data generated using a similar class of instruments. var_sensor will be visible in the Simons CMAP catalog.'],\r\n        bullets: [],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'var_unit',\r\n        anchorEnd: 'var_unit',\r\n        text: [\r\n            <React.Fragment>\r\n                Specifies variable units, if applicable. Leave this field blank if your variable is unitless (e.g. “station numbers” or “quality \r\n                flags”). Units may contain unicode characters such as subscripts and superscripts. var_unit will be visible in the Simons CMAP \r\n                catalog (see <Link href='#fig-9'>Fig. 9</Link>) and in the generated visualizations (see <Link href='#fig-8'>Fig. 8</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: No (optional)',\r\n            'Constraint: Less than 50 characters',\r\n            <React.Fragment>Example: ug L<sup>-1</sup></React.Fragment>\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'var_spatial_res',\r\n        anchorEnd: 'var_spatial_res',\r\n        text: [\r\n            <React.Fragment>\r\n                Specifies the spatial resolution of the variable. Typically, gridded products have uniform spatial spacing (such as 0.25° X 0.25°) \r\n                while field expeditions do not have a regular spatial resolution. If your variable does not have a regular spatial resolution, \r\n                use the term “irregular” to fill out this field. Note that if samples are taken at a series of distinct but spatially-non-uniform \r\n                stations, the spatial resolution is considered irregular. var_spatial_res may contain unicode characters such as degree symbol ( ° ) \r\n                and will be visible in the Simons CMAP catalog (see <Link href='#fig-9'>Fig. 9</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 50 characters',\r\n            'Example: irregular'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'var_temporal_res',\r\n        anchorEnd: 'var_temporal_res',\r\n        text: [\r\n            <React.Fragment>\r\n                Specifies the temporal resolution of measurements (such as daily, hourly, 3-minutes, etc). If the measurements do not have a \r\n                regular temporal spacing, use the term “irregular” to fill out this field. var_temporal_res will be visible in the Simons CMAP \r\n                catalog (see <Link href='#fig-9'>Fig. 9</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 50 characters',\r\n            'Example: irregular'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'var_discipline',\r\n        anchorEnd: 'var_discipline',\r\n        text: [\r\n            <React.Fragment>\r\n                Indicates in which disciplines (such as Physics, Biology …) this variable is commonly studied. You can specify more than one \r\n                discipline. If you list multiple disciplines per variable, please separate them by comma. var_discipline will be visible in \r\n                the Simons CMAP catalog (referred to as “Study Domain” in <Link href='#fig-9'>Fig. 9</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: Yes',\r\n            'Constraint: Less than 100 characters',\r\n            'Example: Physics, BioGeoChemistry'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'visualize',\r\n        anchorEnd: 'visualize',\r\n        text: ['This is a flag field and can only be 0 or 1. Fill this field with 1, if you think this variable can be visualized on a graph by Simons CMAP. In principle, any variable with numeric values can be visualized while variables with string values, station numbers, or quality flags may not be the best candidates for visualization in CMAP. Please consult with the data curation team if you have any questions.'],\r\n        bullets: ['Required: No'],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'var_keywords',\r\n        anchorEnd: 'var_keywords',\r\n        text: ['Every variable in CMAP is annotated with a range of semantically related keywords to ensure a variable can be easily discovered. For example, use of keywords allows you to search using the term “PO4” and retrieve a list of all phosphate data even if “PO4” was not used as the var_long_name for a given dataset. Similarly, if one searches for “MIT”, CMAP returns all variables generated by MIT groups, or if one looks for “model”, only model outputs are returned. These “semantic” searches are made possible using the keywords that are added to each variable. We would like to have keywords to cover the following areas described below (where applicable). Please note that there is no limit to the number of keywords used for a variable. The keywords are case-insensitive and you may add/remove them at any point (even after data ingestion). This is a required field.'],\r\n        bullets: [\r\n            'Alternative names: other official, unofficial, abbreviation, technical (or jargon) names or notations associated with the variable. Examples: Nitrate, NO3, NO_3',\r\n            'Method and Instrument: Keywords related to the method and instruments used for the variable measurements. Examples: observation, in-situ, model, satellite, remote sensing, cruise, CTD, cytometry, ….',\r\n            'Note these keywords are not mutually exclusive. For example, a CTD temperature measurement made during a cruise can have all of the following keywords: observation, in-situ, cruise, CTD',\r\n            'Data Producers: Keywords associated with the lead scientist/lab name/institute name. Examples: UW, University of Washington, Virginia Armbrust, Ginger',\r\n            'Cruise: The official/unoffical name of the cruise(s) during which the variable was measured, if applicable. Examples: KOK1606, Gradients_1, diel',\r\n            'Project name: If your data are in the context of a project, include the project name. Examples: HOT, Darwin, SeaFlow'\r\n        ],\r\n        images: []\r\n    },\r\n    {\r\n        label: 'var_comment',\r\n        anchorEnd: 'var_comment',\r\n        text: [\r\n            <React.Fragment>\r\n                Use this field to communicate any detailed information about this particular variable with the users. This could include, \r\n                for example, description of method(s) used to process the raw measurements. var_comment is visible in the Simons CMAP \r\n                catalog (<Link href='#fig-11'>Fig. 11</Link>).\r\n            </React.Fragment>\r\n        ],\r\n        bullets: [\r\n            'Required: No (optional)',\r\n            'Constraint: No length limits'\r\n        ],\r\n        images: [\r\n            {\r\n                src: 'https://cmap.readthedocs.io/en/latest/_static/data_submission_pics/var_comment_cat.png',\r\n                alt: 'Variable description in Catalog',\r\n                caption: 'Figure 11. A sample dataset shown in the Simons CMAP catalog. The \"var_commentn\" is accessible using the \"Comment\" button, highlighted in the red rectangle.',\r\n                id: 'fig-11'\r\n            }\r\n        ]\r\n    }\r\n];\r\n\r\nconst styles = (theme) => ({\r\n    stickyPaper: {\r\n        position: '-webkit-sticky',\r\n        maxHeight: 'calc(100vh - 128px)',\r\n        position: 'sticky',\r\n        top: '90px',\r\n        width: '200px',\r\n        marginLeft: '20px',\r\n        paddingLeft: '12px',\r\n        backgroundColor: 'rgba(0,0,0,.4)',\r\n        overflow: 'auto'\r\n    },\r\n\r\n    guideSection: {\r\n        width: '90%',\r\n        // height: '2000px',\r\n        margin: '20px auto 0 auto',\r\n        textAlign: 'left',\r\n        padding: '12px 32px',\r\n        fontFamily: '\"roboto\", Serif',\r\n        maxWidth: '800px',\r\n        backgroundColor: 'rgba(0,0,0,.4)',\r\n        marginBottom: '20px'\r\n    },\r\n\r\n    sectionHeader: {\r\n        margin: '8px 0',\r\n        fontWeight: 100,\r\n        fontFamily: '\"roboto\", Serif', \r\n    },\r\n\r\n    '@media screen and (max-width: 1300px)': {\r\n        stickyPaper: {\r\n          display: 'none',\r\n        },\r\n    },\r\n\r\n    navListItem: {\r\n        color: theme.palette.primary.main,\r\n        padding: '2px 10px 2px 6px'\r\n    },\r\n\r\n    navListItemText: {\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n\r\n    doiListItem: {\r\n        color: theme.palette.primary.main,\r\n        padding: '0 10px 0 6px',\r\n        width: 'max-content'\r\n    },\r\n\r\n    doiListItemText: {\r\n        fontSize: '16px',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n\r\n    doiListItemtextWrapper: {\r\n        margin: '0'\r\n    },\r\n\r\n    navListItemtextWrapper: {\r\n        margin: '2px 0'\r\n    },\r\n\r\n    subListText: {\r\n        margin: 0,\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n\r\n    anchor: {\r\n        display: 'block',\r\n        position: 'relative',\r\n        top: '-120px',\r\n        visibility: 'hidden'\r\n    },\r\n\r\n    divider: {\r\n        backgroundColor: theme.palette.primary.main,\r\n        marginBottom: '8px'\r\n    },\r\n\r\n    sampleTableRow: {\r\n        border: '1px solid black'\r\n    },\r\n\r\n    navListSubItemText: {\r\n        fontSize: '.785rem'\r\n    },\r\n\r\n    navListSubSubItemText: {\r\n        fontSize: '.7rem'\r\n    }\r\n})\r\n// toggle display from none to block\r\nconst SubmissionGuide = (props) => {\r\n    const { classes } = props;\r\n\r\n    const [ activeSection, setActiveSection ] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        let onThreshold = (entries) => {\r\n            entries.forEach(e => {\r\n                if(e.isIntersecting && e.target.id !== activeSection) setActiveSection(e.target.id);\r\n            })\r\n        }\r\n        let observer = new IntersectionObserver(onThreshold, {threshold: .5});\r\n        [\r\n            document.querySelector('#data-structure-time'),\r\n            document.querySelector('#data-structure-dataset_short_name'),\r\n            document.querySelector('#data-structure-var_short_name')\r\n        ].forEach(e => observer.observe(e));\r\n\r\n        return (() => observer.disconnect());\r\n    });\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Grid container>\r\n                <Grid item xs={2}>\r\n                    <Paper className={classes.stickyPaper} elevation={6}>\r\n                        <List dense={true}>\r\n                            <ListItem component='a' href='#getting-started' className={classes.navListItem}>\r\n                                <ListItemText\r\n                                    primary=\"Getting Started\"\r\n                                    classes={{primary: classes.navListItemText}}\r\n                                    className={classes.navListItemtextWrapper}\r\n                                />\r\n                            </ListItem>\r\n\r\n                            <ListItem component='a' href='#submission-process' className={classes.navListItem}>\r\n                                <ListItemText\r\n                                    primary=\"Submission Process\"\r\n                                    classes={{primary: classes.navListItemText}}\r\n                                    className={classes.navListItemtextWrapper}\r\n                                />\r\n                            </ListItem>\r\n\r\n                            <List dense={true} style={{padding: '0 0 0 12px'}}>\r\n                                <ListItem component='a' href='#validation' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Validation\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <ListItem component='a' href='#feedback' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Feedback\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <ListItem component='a' href='#doi' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"DOI\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <ListItem component='a' href='#ingestion' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Ingestion\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n                            </List>\r\n\r\n                            <ListItem component='a' href='#dashboard' className={classes.navListItem}>\r\n                                <ListItemText\r\n                                    primary=\"User Dashboard\"\r\n                                    classes={{primary: classes.navListItemText}}\r\n                                    className={classes.navListItemtextWrapper}\r\n                                />\r\n                            </ListItem>\r\n\r\n                            <ListItem component='a' href='#data-structure' className={classes.navListItem}>\r\n                                <ListItemText\r\n                                    primary=\"Data Structure\"\r\n                                    classes={{primary: classes.navListItemText}}\r\n                                    className={classes.navListItemtextWrapper}\r\n                                />\r\n                            </ListItem>\r\n\r\n                            <List dense={true} style={{padding: '0 0 0 12px'}}>\r\n                                <ListItem component='a' href='#data-structure-data' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Data\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <List dense={true} style={{padding: '0 0 0 12px', display: activeSection === 'data-structure-time' ? 'block' : 'none'}}>\r\n                                    {\r\n                                        dataSheetProps.map((e, i) => (\r\n                                            <ListItem component='a' href={`#data-structure-${e.anchorEnd}`} className={classes.navListItem} key={i}>\r\n                                                <ListItemText                                                    \r\n                                                    primary={e.label}\r\n                                                    className={classes.subListText}\r\n                                                    classes={{primary: classes.navListSubItemText}}\r\n                                                />\r\n                                            </ListItem>\r\n                                        ))\r\n                                    }\r\n                                </List>\r\n\r\n                                <ListItem component='a' href='#data-structure-dataset_short_name' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Dataset Metadata\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <List dense={true} style={{padding: '0 0 0 12px', display: activeSection === 'data-structure-dataset_short_name' ? 'block' : 'none'}}>\r\n                                    {\r\n                                        datasetMetadataSheetProps.map((e, i) => (\r\n                                            <ListItem component='a' href={`#data-structure-${e.anchorEnd}`} className={classes.navListItem} key={i}>\r\n                                                <ListItemText                                                    \r\n                                                    primary={e.label}\r\n                                                    className={classes.subListText}\r\n                                                    classes={{primary: classes.navListSubItemText}}\r\n                                                />\r\n                                            </ListItem>\r\n                                        ))\r\n                                    }\r\n                                </List>\r\n\r\n                                <ListItem component='a' href='#data-structure-variable' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Variable Metadata\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <List dense={true} style={{padding: '0 0 0 12px', display: activeSection === 'data-structure-var_short_name' ? 'block' : 'none'}}>\r\n                                    {\r\n                                        variableMetadataSheetProps.map((e, i) => (\r\n                                            <ListItem component='a' href={`#data-structure-${e.anchorEnd}`} className={classes.navListItem} key={i}>\r\n                                                <ListItemText                                                    \r\n                                                    primary={e.label}\r\n                                                    className={classes.subListText}\r\n                                                    classes={{primary: classes.navListSubItemText}}\r\n                                                />\r\n                                            </ListItem>\r\n                                        ))\r\n                                    }\r\n                                </List>\r\n\r\n                                <ListItem component='a' href='#data-structure-references' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"References\"\r\n                                        className={classes.subListText}\r\n                                        classes={{primary: classes.navListSubItemText}}\r\n                                    />\r\n                                </ListItem>\r\n                            </List>\r\n\r\n                            <ListItem component='a' href='#faq' className={classes.navListItem}>\r\n                                <ListItemText\r\n                                    primary=\"FAQ &amp; Help\"\r\n                                    classes={{primary: classes.navListItemText}}\r\n                                    className={classes.navListItemtextWrapper}\r\n                                />\r\n                            </ListItem>\r\n\r\n                            <List dense={true} style={{padding: '0 0 0 12px'}}>\r\n                                <ListItem component='a' href='#faq-doi' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"DOIs\"\r\n                                        className={classes.subListText}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <ListItem component='a' href='#faq-curation' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Curation\"\r\n                                        className={classes.subListText}\r\n                                    />\r\n                                </ListItem>\r\n\r\n                                <ListItem component='a' href='#faq-validation-warnings' className={classes.navListItem}>\r\n                                    <ListItemText\r\n                                        primary=\"Validation Warnings\"\r\n                                        className={classes.subListText}\r\n                                    />\r\n                                </ListItem>\r\n                            </List>\r\n\r\n                            <ListItem component='a' href='#contact' className={classes.navListItem}>\r\n                                <ListItemText\r\n                                    primary=\"Contact\"\r\n                                    classes={{primary: classes.navListItemText}}\r\n                                    className={classes.navListItemtextWrapper}\r\n                                />\r\n                            </ListItem>\r\n\r\n                            <ListItem component='a' href='#resources' className={classes.navListItem}>\r\n                                <ListItemText\r\n                                    primary=\"Resources\"\r\n                                    classes={{primary: classes.navListItemText}}\r\n                                    className={classes.navListItemtextWrapper}\r\n                                />\r\n                            </ListItem>\r\n                        </List>\r\n                    </Paper>\r\n                </Grid>\r\n\r\n                <Grid item xs={8}>\r\n                    <Paper className={classes.guideSection} elevation={4}>\r\n                        <Typography variant='h3' className={classes.sectionHeader}>\r\n                            <a className={classes.anchor} id='getting-started'></a>\r\n                            Getting Started\r\n                        </Typography>\r\n\r\n                        <Divider variant='fullWidth' classes={{root: classes.divider}}/>\r\n\r\n                        <Typography>\r\n                            Data submitted to <span style={{fontWeight: 600}}>Simons Collaborative Marine Atlas Project</span> must be precisely formatted to maintain\r\n                            high levels of <em>discoverability</em>, <em>comparability</em>, and <em>database performance</em>. \r\n                        </Typography>\r\n                        \r\n                        <Typography style={{marginTop: '16px'}}>\r\n                            The purpose of the data submission toolset is to provide automatic, immediate feedback to assist you in formatting your \r\n                            submission, facilitate communication with the data curation team, and allow you to track the progress of your submission.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h3' className={classes.sectionHeader} style={{marginTop: '80px'}}>\r\n                            <a className={classes.anchor} id='submission-process'></a>\r\n                            The Submission Process\r\n                        </Typography>\r\n                        <Divider variant='fullWidth' classes={{root: classes.divider}}/>\r\n\r\n                        <Typography>\r\n                            Begin the process by downloading and populating a&nbsp;\r\n                            <Link href='https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx' download='datasetTemplate.xlsx'>\r\n                                blank xlsx template.\r\n                            </Link>\r\n                            &nbsp;Completed sample templates can be found in the&nbsp;\r\n                            <Link href='#resources'>resources section</Link>.\r\n                            Details on the requirements and structure can be found in the&nbsp;\r\n                            <Link href='#data-structure'>Data Structure</Link> section.\r\n                        </Typography>\r\n\r\n                        <Typography style={{marginTop: '16px'}}>\r\n                            Please note that xlsx workbooks over 150MB <em>cannot be processed</em> using the web submission tools. If you would like to submit\r\n                            a dataset that exceeds this limit please contact the data curation team at <a style={{color:colors.primary, textDecoration: 'none'}} href=\"mailto:cmap-data-submission@uw.edu\">cmap-data-submission@uw.edu</a>.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            Validation\r\n                            <a className={classes.anchor} id='validation'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            Load your workbook into the&nbsp;\r\n                            <Link target='_blank' href='/datasubmission/validationtool'>submission tool</Link>\r\n                            &nbsp;to begin validation. The tool will walk you through a step-by-step\r\n                            process to identify and resolve any potential data or format issues.\r\n                            Once the workbook has been validated it will be uploaded to a staging \r\n                            area to be reviewed by our data curation team. From this point you'll be able to track\r\n                            the progress of your submission in the&nbsp;\r\n                            <Link href='#dashboard'>user dashboard</Link>.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            Feedback\r\n                            <a className={classes.anchor} id='feedback'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            The data curation team may have suggestions for additional changes to the workbook.\r\n                            Any feedback will be sent to you via email notification, and visible in the&nbsp;\r\n                            <Link href='#dashboard'>user dashboard</Link>.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            DOI\r\n                            <a className={classes.anchor} id='doi'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            Once your submission has been approved the data curation team will request a DOI\r\n                            for the data. Information on DOIs can be found in the&nbsp;\r\n                            <Link href='#faq-doi'>\r\n                                DOI Help Section\r\n                            </Link>.\r\n                            The DOI can be submitted using the messaging feature of the <Link href='#dashboard'>user dashboard</Link>.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            Ingestion\r\n                            <a className={classes.anchor} id='ingestion'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            Once a DOI has been submitted your data will be ingested into the CMAP database. After ingestion,\r\n                            you'll be able to view your dataset in the <Link href='/catalog' target=\"_blank\">data catalog</Link>, and\r\n                            access it through the CMAP API using any of the CMAP&nbsp;\r\n                            <Link href='https://cmap.readthedocs.io/en/latest/user_guide/API_ref/api_ref.html' target=\"_blank\">software packages</Link>.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h3' className={classes.sectionHeader} style={{marginTop: '80px'}}>\r\n                            <a className={classes.anchor} id='dashboard'></a>\r\n                            User Dashboard\r\n                        </Typography>\r\n                        <Divider variant='fullWidth' classes={{root: classes.divider}}/>\r\n\r\n                        <Typography>\r\n                            In the&nbsp;\r\n                            <Link href='/datasubmission/userdashboard' target=\"_blank\">user dashboard</Link>&nbsp;\r\n                            you can track the ingestion process for any dataset that you've submitted,\r\n                            send messages to the data curation team, and download the most recently submitted version of the workbook.\r\n                            Additionally, in the event that the curation team requests additional changes to your submission you can \r\n                            load the most recent version directly into the validation tool, make any necessary changes, and resubmit.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h3' className={classes.sectionHeader} style={{marginTop: '80px'}}>\r\n                            <a className={classes.anchor} id='data-structure'></a>\r\n                            Data Structure\r\n                        </Typography>\r\n                        <Divider variant='fullWidth' classes={{root: classes.divider}}/>\r\n\r\n                        <Typography>\r\n                            The CMAP data template consists of three sheets: data, dataset metadata, and variable metadata. Data is stored \r\n                            in the first sheet called “data”. Metadata that describes the dataset is entered in the second \r\n                            sheet called “dataset_meta_data”. Metadata associated with the variables in the dataset are entered in the third \r\n                            sheet called “vars_meta_data”. Information must be provided for all columns except those specifically noted as \r\n                            optional. The data and metadata field names (e.g. time, lat, lon, short_name, long_name, ...) used in the template \r\n                            file are based on the CF and COARDS naming conventions [\r\n                                <Link href='#reference-1'>1</Link>,&nbsp;\r\n                                <Link href='#reference-2'>2</Link>,&nbsp;\r\n                                <Link href='#reference-3'>3</Link>\r\n                            ].\r\n                        </Typography>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            Data\r\n                            <a className={classes.anchor} id='data-structure-data'></a>\r\n                        </Typography>\r\n\r\n                        <Table size='small' style={{marginBottom: '12px'}}>\r\n                            <TableHead>\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell>\r\n                                        time\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        lat\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        lon\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        depth[if exists]\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        var<sub>1</sub>\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        ...\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        var<sub>n</sub>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n\r\n                            <TableBody>\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell>\r\n                                        2016-5-01T15:02:00\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        25\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        -158\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        5\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        value\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        ...\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        value\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            </TableBody>\r\n                        </Table>\r\n\r\n                        <Typography>\r\n                            All data points are stored in the “Data” sheet. Each data point must have time and location information. The \r\n                            exact name and order of the time and location columns are shown in the table above. If a dataset does not have \r\n                            depth values (e.g., sea surface measurements), you may remove the depth column. If your dataset represents \r\n                            results of a Laboratory study (see dataset_make) fill these fields with the time of study and the location of \r\n                            your laboratory. The columns var<sub>1</sub>...var<sub>n</sub> represent the dataset variables (measurements). Please \r\n                            rename var<sub>1</sub>...var<sub>n</sub> to names appropriate to your data. The format of “time”, “lat”, “lon”, and \r\n                            “depth” columns are described in the following sections. Please review the example datasets listed under&nbsp;\r\n                            <Link href='#resources'>resources</Link> for more detailed information.\r\n                        </Typography>\r\n\r\n                        {dataSheetProps.map((e, i) => (\r\n                            <React.Fragment key={i}>\r\n                                <Typography variant='h6' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                                    {e.label}\r\n                                    <a className={classes.anchor} id={`data-structure-${e.anchorEnd}`}></a>\r\n                                </Typography>\r\n                                {e.text.map((text, j) => (\r\n                                    <Typography key={i + j * 100}>\r\n                                        {text}                           \r\n                                    </Typography>\r\n                                ))}\r\n                                <ul>\r\n                                    {e.bullets.map((bullet, k) => (\r\n                                        <li key={k + i * 1000}>{bullet}</li>\r\n                                    ))}\r\n                                </ul>\r\n                            </React.Fragment>\r\n                        ))}\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            Dataset Metadata\r\n                            <a className={classes.anchor} id='data-structure-dataset'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            This sheet holds a list of top-level attributes about the dataset such as the dataset name and description. \r\n                            Below are the list of these attributes along with their descriptions. Please review the example datasets listed \r\n                            under <Link href='#resources'>resources</Link> for more detailed information.\r\n                        </Typography>\r\n\r\n                        {datasetMetadataSheetProps.map((e, i) => (\r\n                            <React.Fragment key={i}>\r\n                                <Typography variant='h6' className={classes.sectionHeader} style={{marginTop: '50px'}} key={i}>\r\n                                    {e.label}\r\n                                    <a className={classes.anchor} id={`data-structure-${e.anchorEnd}`}></a>\r\n                                </Typography>\r\n                                {e.text.map((text, j) => (\r\n                                    <Typography key={j + i * 10}>\r\n                                        {text}                           \r\n                                    </Typography>\r\n                                ))}\r\n                                <ul>\r\n                                    {e.bullets.map((bullet, k) => (\r\n                                        <li key={k + i * 100}>{bullet}</li>\r\n                                    ))}\r\n                                </ul>\r\n                                {e.images.map((image, l) => (\r\n                                    <figure key={l + i * 1000} style={{margin: '30px 0 0 0'}}>\r\n                                        <a className={classes.anchor} id={image.id}></a>\r\n                                        <img\r\n                                            src={image.src}\r\n                                            alt={image.alt}\r\n                                            width='100%'\r\n                                            style={{maxwidth: '100%'}}                                            \r\n                                        />\r\n                                        <figcaption>\r\n                                            {image.caption}\r\n                                        </figcaption>\r\n                                    </figure>\r\n                                ))\r\n\r\n                                }\r\n                            </React.Fragment>\r\n                        ))}\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            Variable Metadata\r\n                            <a className={classes.anchor} id='data-structure-variable'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            A dataset can contain multiple different measurements (variables). This sheet (labeled as \"vars_meta_data\") \r\n                            holds a list of top-level attributes about these variables such as the variable name, unit, and description. \r\n                            Each variable along with its attributes (metadata) is stored in separate rows. Below is the list of these \r\n                            attributes along with their descriptions. Please review the example datasets listed in the&nbsp;\r\n                            <Link href='#resources'>resources</Link> section for more information.\r\n                        </Typography>\r\n\r\n                        {variableMetadataSheetProps.map((e, i) => (\r\n                            <React.Fragment key={i}>\r\n                                <Typography variant='h6' className={classes.sectionHeader} style={{marginTop: '50px'}} key={i}>\r\n                                    {e.label}\r\n                                    <a className={classes.anchor} id={`data-structure-${e.anchorEnd}`}></a>\r\n                                </Typography>\r\n                                {e.text.map((text, j) => (\r\n                                    <Typography key={j + i * 10}>\r\n                                        {text}                           \r\n                                    </Typography>\r\n                                ))}\r\n                                <ul>\r\n                                    {e.bullets.map((bullet, k) => (\r\n                                        <li key={k + i * 100}>{bullet}</li>\r\n                                    ))}\r\n                                </ul>\r\n                                {e.images.map((image, l) => (\r\n                                    <figure key={l + i * 1000} style={{margin: '30px 0 0 0'}}>\r\n                                        <a className={classes.anchor} id={image.id}></a>\r\n                                        <img\r\n                                            src={image.src}\r\n                                            alt={image.alt}\r\n                                            width='100%'\r\n                                            style={{maxwidth: '100%'}}                                            \r\n                                        />\r\n                                        <figcaption>\r\n                                            {image.caption}\r\n                                        </figcaption>\r\n                                    </figure>\r\n                                ))\r\n\r\n                                }\r\n                            </React.Fragment>\r\n                        ))}\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            References\r\n                            <a className={classes.anchor} id='data-structure-references'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            <a className={classes.anchor} id='reference-1'></a>\r\n                            <Link href='http://cfconventions.org/cf-conventions/cf-conventions.html' target='_blank'>\r\n                                NetCDF Climate and Forecast (CF) Metadata Conventions\r\n                            </Link>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            <a className={classes.anchor} id='reference-2'></a>\r\n                            <Link href='https://ferret.pmel.noaa.gov/noaa_coop/coop_cdf_profile.html' target='_blank'>\r\n                                Conventions for the standardization of NetCDF files\r\n                            </Link>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            <a className={classes.anchor} id='reference-3'></a>\r\n                            <Link href='https://ferret.pmel.noaa.gov/Ferret/documentation/coards-netcdf-conventions' target='_blank'>\r\n                                COARDS NetCDF Conventions\r\n                            </Link>\r\n                        </Typography>\r\n\r\n                        <Typography variant='h3' className={classes.sectionHeader} style={{marginTop: '80px'}}>\r\n                            <a className={classes.anchor} id='faq'></a>\r\n                            FAQ &amp; Help\r\n                        </Typography>\r\n                        <Divider variant='fullWidth' classes={{root: classes.divider}}/>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            What is a DOI and how can I get one for my dataset?\r\n                            <a className={classes.anchor} id='faq-doi'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            A <em>DOI</em> or <em>Digital Object Identifier</em> is a digital identifier for a dataset. Some DOI providers, such as Zenodo, \r\n                            allow for dataset version controlling. We require a DOI to be registered for your dataset in the submission process. \r\n                            It allows for users to cite the use of a dataset and properly acknowledge the dataset creators.\r\n                        </Typography>\r\n\r\n                        <Typography style={{marginTop:'24px'}}>\r\n                            Below is a list of entities that may issue and link your dataset to a unique DOI:\r\n                        </Typography>\r\n\r\n                        <List>\r\n                            {\r\n                                doiProviderList.map((e, i) => (\r\n                                    <ListItem target='_blank' component='a' href={e.link} className={classes.doiListItem} key={i}>\r\n                                        <ListItemText\r\n                                            primary={e.name}\r\n                                            classes={{primary: classes.doiListItemText}}\r\n                                            className={classes.doiListItemtextWrapper}\r\n                                        />\r\n                                    </ListItem>\r\n                                ))\r\n                            }\r\n                        </List>\r\n\r\n                        <Typography style={{margin:'18px 0'}}>\r\n                            See the tutorial video below to learn how to obtain a DOI for your dataset using Zenodo.\r\n                        </Typography>\r\n\r\n                        <iframe src=\"https://player.vimeo.com/video/407462463\" width=\"780\" height=\"440\" style={{margin:'0 auto'}}></iframe>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            Isn't this automated? Why do I need to wait for feedback from a curator?\r\n                            <a className={classes.anchor} id='faq-curation'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            The online validator is designed to catch formatting issues, missing information, and fields which don't meet  \r\n                            CMAP's ingestion requirements. Evaluating the accuracy and descriptiveness of metadata \r\n                            requires significant domain knowledge and understanding of the CMAP ecosystem, and are best done by a human.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginTop: '50px'}}>\r\n                            What should I do about the validation warnings?\r\n                            <a className={classes.anchor} id='faq-curation'></a>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            Validation warnings if present will appear in yellow when you select your workbook in the validation tool, \r\n                            indicating <em>possible</em> errors in your data or metadata such as outliers, columns with mixed data types, or\r\n                            missing cruise information. They should be reviewed carefully, but if you determine they do not need to be corrected\r\n                            they will not prevent you from moving forward with your submission.\r\n                        </Typography>                \r\n\r\n                        <Typography variant='h3' className={classes.sectionHeader} style={{marginTop: '80px'}}>\r\n                            <a className={classes.anchor} id='contact'></a>\r\n                            Contact\r\n                        </Typography>\r\n                        <Divider variant='fullWidth' classes={{root: classes.divider}}/>\r\n\r\n                        <Typography>\r\n                            You can reach the CMAP data curation team at <a style={{color:colors.primary, textDecoration: 'none'}} href=\"mailto:cmap-data-submission@uw.edu\">cmap-data-submission@uw.edu</a>.\r\n                        </Typography>\r\n\r\n                        <Typography variant='h3' className={classes.sectionHeader} style={{marginTop: '80px'}}>\r\n                            <a className={classes.anchor} id='resources'></a>\r\n                            Resources\r\n                        </Typography>\r\n                        <Divider variant='fullWidth' classes={{root: classes.divider}}/>\r\n\r\n                        <Typography>\r\n                            <Link href='https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx' download='datasetTemplate.xlsx'>\r\n                                Download a Blank xlsx Template\r\n                            </Link>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            <Link href='https://github.com/simonscmap/DBIngest/raw/master/template/KOK1606_Gradients1_Cobalamin_example_2020_07_15.xlsx' download='KOK1606_Gradients1_Cobalamin_Sample.xlsx'>\r\n                                Sample Dataset - KOK1606_Gradients1_Cobalamin\r\n                            </Link>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            <Link href='https://github.com/simonscmap/DBIngest/raw/master/template/amt01_extracted_cholorphyll_2020_07_25.xlsx' download='AMT01_Extracted_Cholorphyll_Sample.xlsx'>\r\n                                Sample Dataset - amt01_extracted_cholorphyll\r\n                            </Link>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            <Link href='https://github.com/simonscmap/DBIngest/raw/master/template/Influx_Stations_Gradients_2016_example_2020_08_13.xlsx' download='Influx_Stations_Gradients_2016_example.xlsx'>\r\n                                Sample Dataset - Influx_Stations_Gradients_2016\r\n                            </Link>\r\n                        </Typography>\r\n\r\n                        <Typography>\r\n                            <Link href='https://github.com/simonscmap/DBIngest/raw/master/template/SCOPE_HOT224-238_omics_cmap_example_2020_08_13.xlsx' download='SCOPE_HOT224-238_omics_cmap_example_2020_08_13.xlsx'>\r\n                                Sample Dataset - SCOPE_HOT224-238_omics\r\n                            </Link>\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(SubmissionGuide);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n    commentArea: {\r\n        backgroundColor: 'rgba(0,0,0,.2)',\r\n        width: '70vw',\r\n        margin: \"0 auto\",\r\n        padding: '12px 16px',\r\n        textAlign: 'left',\r\n        whiteSpace: 'pre-wrap',\r\n        overflow: 'auto'\r\n    },\r\n\r\n    commenterAndDateTime: {\r\n        marginTop: '16px',\r\n        width: 'calc(70vw + 32px)',\r\n        padding: '4px 0',\r\n        margin: '0 auto',\r\n        textAlign: 'left',\r\n        color: theme.palette.primary.main,\r\n        fontSize: 12\r\n    },\r\n});\r\n\r\nconst Comment = (props) => {\r\n    const { classes } = props;\r\n    const { Comment, Commenter, Comment_Date_Time } = props.comment;\r\n    \r\n    let dateTime = new Date(Comment_Date_Time).toLocaleString();\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className={classes.commenterAndDateTime}>\r\n                {Commenter} at {dateTime}\r\n            </div>\r\n\r\n            <div className={classes.commentArea}>              \r\n                {Comment}\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(Comment);","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { ExpansionPanelDetails, TextField, Button, Typography, Link, Step, StepLabel, Stepper } from '@material-ui/core';\r\n\r\nimport { retrieveSubmissionCommentHistory, addSubmissionComment, downloadMostRecentFile } from '../../Redux/actions/dataSubmission';\r\n\r\nimport Comment from './Comment';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nconst styles = (theme) => ({\r\n    panelDetails: {\r\n        display: 'block',\r\n        textAlign: 'left'\r\n    },\r\n\r\n    newCommentDiv: {\r\n        width: '70vw',\r\n        margin: '24px auto 0px auto'\r\n    },\r\n\r\n    newCommentTextField: {\r\n        flexBasis: 'calc(70vw - 200px)',\r\n        marginRight: '16px'\r\n    },\r\n\r\n    postButton: {\r\n        color: 'white',\r\n        marginTop: '16px',\r\n        textTransform: 'none'\r\n    },\r\n\r\n    setPhaseButton: {\r\n        color: 'white',\r\n        marginLeft: '12px'\r\n    },\r\n\r\n    stepper: {\r\n        borderRadius: '4px',\r\n        margin: '16px 2vw 24px 2vw'\r\n    },\r\n\r\n    newUpload: {\r\n        marginLeft: '2vw',\r\n        cursor: 'pointer'\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    submissionCommentHistoryRetrievalState: state.submissionCommentHistoryRetrievalState,\r\n    submissionComments: state.submissionComments\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    retrieveSubmissionCommentHistory,\r\n    addSubmissionComment,\r\n    downloadMostRecentFile\r\n};\r\n\r\nconst steps = [\r\n    {\r\n        label: 'Submission'\r\n    },\r\n\r\n    {\r\n        label: 'Admin Approval'\r\n    },\r\n\r\n    {\r\n        label: 'DOI'\r\n    },\r\n\r\n    {\r\n        label: 'Ingestion'\r\n    }\r\n]\r\n\r\nconst UserDashboardPanelDetails = (props) => {\r\n    const { classes, submission } = props;\r\n\r\n    const [ comment, setComment ] = React.useState();\r\n\r\n    let comments = props.submissionComments[submission.Submission_ID];\r\n    let renderComments = Boolean(comments && comments.length);\r\n\r\n    let activeStep;\r\n\r\n    switch(submission.Phase){\r\n        case 'Awaiting admin action':\r\n            activeStep = 1;\r\n            break;\r\n\r\n        case 'Awaiting user update':\r\n            activeStep = 1;\r\n            break;  \r\n\r\n        case 'Awaiting DOI':\r\n            activeStep = 2;\r\n            break;\r\n\r\n        case 'Awaiting ingestion':\r\n            activeStep = 3;\r\n            break;\r\n\r\n        default:\r\n            activeStep = 1;        \r\n    }\r\n\r\n    useEffect(() => {\r\n        props.retrieveSubmissionCommentHistory(submission.Submission_ID);\r\n    }, []);\r\n\r\n    // control this input from redux so we can reset properly, also create connected \"NewComment\" component\r\n    const handlePostComment = () => {\r\n        props.addSubmissionComment(submission.Submission_ID, comment);\r\n        setComment('');\r\n    }\r\n\r\n    return (\r\n        <ExpansionPanelDetails className={classes.panelDetails}>\r\n            <Stepper \r\n                className={classes.stepper} \r\n                alternativeLabel \r\n                activeStep={activeStep}\r\n            >\r\n                {steps.map((item, i) => {\r\n                        return (\r\n                            <Step key={i}>\r\n                                <StepLabel>\r\n                                    {item.label}\r\n                                </StepLabel>\r\n                            </Step>\r\n                        )\r\n                    })} \r\n            </Stepper>\r\n\r\n            <Typography className={classes.newUpload}>\r\n                <Link component={RouterLink} to={`/datasubmission/validationtool?submissionID=${encodeURIComponent(submission.Submission_ID)}`}>Update</Link> this submission.\r\n            </Typography>\r\n\r\n            <Typography className={classes.newUpload}>\r\n                <Link component='span' onClick={() => props.downloadMostRecentFile(submission.Submission_ID)}>Download</Link> the most recent version.\r\n            </Typography>\r\n\r\n            {\r\n                props.submissionCommentHistoryRetrievalState === states.inProgress ?\r\n                'Loading Comments.....' : \r\n\r\n                <React.Fragment>\r\n                    {\r\n                        renderComments && comments.map((e,i) => (\r\n                            <Comment comment={e} key={i}/>\r\n                        ))\r\n                    }\r\n                </React.Fragment>\r\n            }\r\n            <div className={classes.newCommentDiv}>\r\n                <TextField\r\n                    multiline\r\n                    rows={4}\r\n                    variant='outlined'\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                    value={comment}\r\n                    fullWidth\r\n                />\r\n\r\n                <Button \r\n                    variant='contained' \r\n                    color='primary' \r\n                    className={classes.postButton}\r\n                    onClick={handlePostComment}\r\n                >\r\n                    Post Message\r\n                </Button>\r\n            </div>\r\n        </ExpansionPanelDetails>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UserDashboardPanelDetails));","import React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from \"react-router\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nimport { Link, ExpansionPanel, ExpansionPanelSummary, Typography } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport { retrieveDataSubmissionsByUser } from '../../Redux/actions/dataSubmission';\r\n\r\nimport UserDashboardPanelDetails from './UserDashboardPanelDetails';\r\nimport LoginRequiredPrompt from '../User/LoginRequiredPrompt';\r\n\r\n// import colors from '../../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n    dataSubmissions: state.dataSubmissions\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    retrieveDataSubmissionsByUser\r\n}\r\n\r\nconst styles = theme => ({\r\n    wrapperDiv: {\r\n        width: '90vw',\r\n        margin: '24px auto'\r\n    },\r\n\r\n    panelSummaryText: {\r\n        flexBasis: '40%',\r\n        textAlign: 'left',\r\n        paddingRight: '20px',\r\n        fontSize: '.8rem'\r\n    },\r\n\r\n    needHelp: {\r\n        float: 'left',\r\n        color: 'white',\r\n        margin: '12px 0 0 12px',\r\n        letterSpacing: 'normal'\r\n    },\r\n\r\n})\r\n\r\nclass UserDashboard extends React.Component {\r\n    state = {\r\n        expandedPanel: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.props.retrieveDataSubmissionsByUser();\r\n\r\n        let params = new URLSearchParams(window.location.search)\r\n        let submissionID = params.get('submissionID');\r\n        let datasetName = params.get('datasetName');\r\n\r\n        if(submissionID){\r\n            this.props.dataSubmissions.forEach((e, i) => {\r\n                if(submissionID == e.Submission_ID){\r\n                    this.setState({...this.state, expandedPanel: i});\r\n                }\r\n            })\r\n        }\r\n\r\n        if(datasetName){\r\n            this.props.dataSubmissions.forEach((e, i) => {\r\n                if(datasetName.trim() == e.Dataset.trim()){\r\n                    this.setState({...this.state, expandedPanel: i});\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        if(!prevProps.user && this.props.user){\r\n            this.props.retrieveDataSubmissionsByUser();\r\n        }\r\n    }\r\n\r\n    handleExpansion = (i) => {\r\n        this.props.history.push({ pathname: '/datasubmission/userdashboard', query: {} });\r\n        if(this.state.expandedPanel === i){\r\n            this.setState({...this.state, expandedPanel: false});\r\n        }\r\n\r\n        else {\r\n            this.setState({...this.state, expandedPanel: i});\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n        if(!this.props.user) return <LoginRequiredPrompt/>    \r\n        const { classes, dataSubmissions } = this.props;\r\n        const { expandedPanel } = this.state;\r\n\r\n        return (\r\n            <div className={classes.wrapperDiv}>\r\n            {dataSubmissions && dataSubmissions.length ?\r\n\r\n            <React.Fragment>                    \r\n                {\r\n                    dataSubmissions.map((e, i) => (\r\n                        <ExpansionPanel \r\n                            expanded={expandedPanel === i}\r\n                            onChange={() => this.handleExpansion(i)} \r\n                            key={i}\r\n                            TransitionProps={{ unmountOnExit: true }}\r\n                        >\r\n                            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                                \r\n                                <Typography noWrap className={classes.panelSummaryText}>\r\n                                    {e.Dataset}\r\n                                </Typography>\r\n\r\n                                <Typography noWrap className={classes.panelSummaryText}>\r\n                                    {e.Phase}\r\n                                </Typography>\r\n                            </ExpansionPanelSummary>\r\n\r\n                            <UserDashboardPanelDetails \r\n                                submission={e} \r\n                            />\r\n                        </ExpansionPanel>\r\n                    ))\r\n                }\r\n            </React.Fragment>\r\n                \r\n                :\r\n\r\n                <Typography className={classes.needHelp}>\r\n                    We haven't received any submissions from you yet. Need help? \r\n                    <Link \r\n                        href='https://github.com/simonscmap/DBIngest/raw/master/template/datasetTemplate.xlsx' \r\n                        download='datasetTemplate.xlsx' \r\n                        className={classes.needHelpLink}\r\n                    >\r\n                        &nbsp;Download\r\n                    </Link>\r\n                    &nbsp;a blank template, or view the <Link className={classes.needHelpLink} component={RouterLink} to='/datasubmission/guide'>Data Submission Guide</Link>.\r\n                </Typography>\r\n            }\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(UserDashboard)));","import React, { useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { ExpansionPanelDetails, TextField, Button, Select, MenuItem, Typography, Link } from '@material-ui/core';\r\n\r\nimport { retrieveSubmissionCommentHistory, addSubmissionComment, setSubmissionPhase, downloadMostRecentFile } from '../../Redux/actions/dataSubmission';\r\n\r\nimport Comment from './Comment';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nconst styles = (theme) => ({\r\n    panelDetails: {\r\n        display: 'block'\r\n    },\r\n\r\n    newCommentDiv: {\r\n        width: '70vw',\r\n        margin: '24px auto 0px auto'\r\n    },\r\n\r\n    newCommentTextField: {\r\n        flexBasis: 'calc(70vw - 200px)',\r\n        marginRight: '16px'\r\n    },\r\n\r\n    postButton: {\r\n        color: 'white',\r\n        marginTop: '16px',\r\n        textTransform: 'none'\r\n    },\r\n\r\n    setPhaseButton: {\r\n        color: 'white',\r\n        marginLeft: '12px'\r\n    },\r\n\r\n    phaseControlWrapper: {\r\n        textAlign: 'left',\r\n        margin: '12px 0 32px 0'\r\n    },\r\n\r\n    phaseSelect: {\r\n        width: '190px'\r\n    },\r\n\r\n    newUpload: {\r\n        marginBottom: '2vw',\r\n        cursor: 'pointer',\r\n        textAlign: 'left'\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    submissionCommentHistoryRetrievalState: state.submissionCommentHistoryRetrievalState,\r\n    submissionComments: state.submissionComments\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    retrieveSubmissionCommentHistory,\r\n    addSubmissionComment,\r\n    setSubmissionPhase,\r\n    downloadMostRecentFile\r\n};\r\n\r\nconst AdminDashboardPanelDetails = (props) => {\r\n    const { classes, submission, setSubmissionPhase } = props;\r\n\r\n    const [ comment, setComment ] = React.useState();\r\n    const [ phase, setPhase ] = React.useState(submission.Phase_ID);\r\n\r\n    let comments = props.submissionComments[submission.Submission_ID];\r\n    let renderComments = Boolean(comments && comments.length);\r\n\r\n    useEffect(() => {\r\n        props.retrieveSubmissionCommentHistory(submission.Submission_ID);\r\n    }, []);\r\n\r\n    // control this input from redux so we can reset properly, also create connected \"NewComment\" component\r\n    const handlePostComment = () => {\r\n        props.addSubmissionComment(submission.Submission_ID, comment);\r\n        setComment('');\r\n    }\r\n    \r\n    const handlePhaseChange = (e) => {\r\n        setPhase(e.target.value);\r\n    }\r\n\r\n    const handleCommitPhase = () => {\r\n        props.handleResetExpandedPanel();\r\n        setSubmissionPhase(submission.Submission_ID, phase);\r\n    }\r\n\r\n    return (\r\n        <ExpansionPanelDetails className={classes.panelDetails}>\r\n            <Typography className={classes.newUpload}>\r\n                <Link component='span' onClick={() => props.downloadMostRecentFile(submission.Submission_ID)}>Download</Link> the most recent version.\r\n            </Typography>\r\n\r\n            <div className={classes.phaseControlWrapper}>\r\n                <Select value={phase} onChange={handlePhaseChange} className={classes.phaseSelect}>\r\n                    <MenuItem value={2}>Awaiting admin action</MenuItem>\r\n                    <MenuItem value={3}>Awaiting user update</MenuItem>\r\n                    <MenuItem value={4}>Awaiting DOI</MenuItem>\r\n                    <MenuItem value={5}>Awaiting ingestion</MenuItem>\r\n                    <MenuItem value={6}>Complete</MenuItem>\r\n                </Select>\r\n\r\n                <Button\r\n                    variant='contained' \r\n                    color='primary' \r\n                    onClick={handleCommitPhase}\r\n                    className={classes.setPhaseButton}\r\n                    disabled={Boolean(phase === submission.Phase_ID)}\r\n                >\r\n                    Set Phase\r\n                </Button>\r\n            </div>\r\n\r\n            {\r\n                props.submissionCommentHistoryRetrievalState === states.inProgress ?\r\n                'Loading Comments.....' : \r\n\r\n                <React.Fragment>\r\n                    {\r\n                        renderComments && comments.map((e,i) => (\r\n                            <Comment comment={e} key={i}/>\r\n                        ))\r\n                    }\r\n                </React.Fragment>\r\n            }\r\n            <div className={classes.newCommentDiv}>\r\n                <TextField\r\n                    multiline\r\n                    rows={4}\r\n                    variant='outlined'\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                    value={comment}\r\n                    // className={classes.newCommentTextField}\r\n                    fullWidth\r\n                />\r\n\r\n                <Button \r\n                    variant='contained' \r\n                    color='primary' \r\n                    className={classes.postButton}\r\n                    onClick={handlePostComment}\r\n                >\r\n                    Post Message\r\n                </Button>\r\n            </div>\r\n        </ExpansionPanelDetails>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AdminDashboardPanelDetails));","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Search } from '@material-ui/icons';\r\n\r\nimport * as JsSearch from 'js-search';\r\n\r\nimport { ExpansionPanel, ExpansionPanelSummary, Typography, FormGroup, FormControlLabel, Checkbox, TextField, InputAdornment } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport AdminDashboardPanelDetails from './AdminDashboardPanelDetails';\r\n\r\nimport { retrieveAllSubmissions } from '../../Redux/actions/dataSubmission';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n    dataSubmissions: state.dataSubmissions\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    retrieveAllSubmissions\r\n}\r\n\r\nconst styles = theme => ({\r\n    wrapperDiv: {\r\n        width: '90vw',\r\n        margin: '24px auto'\r\n    },\r\n\r\n    panelSummaryText: {\r\n        flexBasis: '40%',\r\n        textAlign: 'left',\r\n        paddingRight: '20px',\r\n        fontSize: '.8rem'\r\n    },\r\n\r\n    filterFormGroup: {\r\n        backgroundColor: 'rgba(0,0,0,.4)',\r\n        color: 'white',\r\n        padding: '8px 12px',\r\n        borderTopLeftRadius: '4px',\r\n        borderTopRightRadius: '4px',\r\n        flexWrap: 'wrap'\r\n    },\r\n\r\n    filterFormControl: {\r\n        marginRight: '24px'\r\n    },\r\n\r\n    searchFieldWrapper: {\r\n        flexBasis: '100%',\r\n        textAlign: 'left'\r\n    }\r\n})\r\n\r\nconst initialFilterState = {\r\n    'Awaiting admin action': true,\r\n    'Awaiting user update': true,\r\n    'Awaiting DOI': true,\r\n    'Awaiting ingestion': true,\r\n    'Complete': false\r\n}\r\n\r\nclass AdminDashboard extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        let params = new URLSearchParams(window.location.search)\r\n        let datasetName = params.get('datasetName') && params.get('datasetName').trim();\r\n\r\n        var search = new JsSearch.Search('Submission_ID');\r\n        search.indexStrategy = new JsSearch.AllSubstringsIndexStrategy()\r\n        search.searchIndex = new JsSearch.UnorderedSearchIndex();\r\n        search.addIndex('Dataset');\r\n        search.addIndex('Name');\r\n\r\n        if(props.dataSubmissions) search.addDocuments(props.dataSubmissions);\r\n\r\n        this.state = {\r\n            searchString: datasetName || '',\r\n            search,\r\n            expandedPanel: false,\r\n            filters: initialFilterState,\r\n            modifiedDatasetID: null\r\n        }\r\n    }\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if(!(prevProps.dataSubmissions && prevProps.dataSubmissions.length) && (this.props.dataSubmissions && this.props.dataSubmissions.length)){\r\n            this.state.search.addDocuments(this.props.dataSubmissions);\r\n            this.setState({search: this.state.search});\r\n        }\r\n\r\n        if(!prevProps.user && this.props.user) this.props.retrieveAllSubmissions();\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.props.retrieveAllSubmissions();\r\n    }\r\n\r\n    handleExpansion = (i) => {\r\n        if(this.state.expandedPanel === i){\r\n            this.setState({...this.state, expandedPanel: false})\r\n        }\r\n\r\n        else {\r\n            this.setState({...this.state, expandedPanel: i})\r\n        }\r\n    }\r\n\r\n    handleChangeFilter = (e) => {\r\n        let newFilterState = {...this.state.filters};\r\n        newFilterState[e.target.name] = !newFilterState[e.target.name];\r\n        this.setState({...this.state, filters: {...newFilterState}});\r\n    }\r\n\r\n    handleChangeSearchString = (e) => {\r\n        this.setState({...this.state, searchString: e.target.value});\r\n    }\r\n\r\n    handleResetExpandedPanel = () => {\r\n        this.setState({...this.state, expandedPanel: false});\r\n    }\r\n\r\n    render = () => {\r\n        const { classes, dataSubmissions } = this.props;\r\n        const { search, searchString } = this.state;\r\n        \r\n        let submissions = searchString ? \r\n            search.search(searchString).filter(item => this.state.filters[item.Phase]) :\r\n            dataSubmissions.filter(item => this.state.filters[item.Phase]);\r\n\r\n        return (\r\n            <div className={classes.wrapperDiv}>\r\n                <FormGroup row className={classes.filterFormGroup}>\r\n                    <div className={classes.searchFieldWrapper}>\r\n                        <TextField\r\n                            variant='outlined'\r\n                            value={searchString}\r\n                            onChange={this.handleChangeSearchString}\r\n                            placeholder='Search'\r\n                            InputProps={{\r\n                                startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <Search style={{color:colors.primary}}/>\r\n                                </InputAdornment>\r\n                            )\r\n                        }}\r\n                        />\r\n                    </div>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.filters[\"Awaiting admin action\"]}\r\n                                    onChange={this.handleChangeFilter}\r\n                                    name=\"Awaiting admin action\"\r\n                                    color=\"primary\"\r\n                                />\r\n                            }\r\n                            label=\"Awaiting admin action\"\r\n                            className={classes.filterFormControl}\r\n                        />\r\n\r\n                        <FormControlLabel\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={this.state.filters[\"Awaiting user update\"]}\r\n                                        onChange={this.handleChangeFilter}\r\n                                        name=\"Awaiting user update\"\r\n                                        color=\"primary\"\r\n                                    />\r\n                                }\r\n                                label=\"Awaiting user update\"\r\n                                className={classes.filterFormControl}\r\n                            />\r\n\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                checked={this.state.filters[\"Awaiting DOI\"]}\r\n                                onChange={this.handleChangeFilter}\r\n                                name=\"Awaiting DOI\"\r\n                                color=\"primary\"\r\n                                />\r\n                            }\r\n                            label=\"Awaiting DOI\"\r\n                            className={classes.filterFormControl}\r\n                            />\r\n\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                checked={this.state.filters[\"Awaiting ingestion\"]}\r\n                                onChange={this.handleChangeFilter}\r\n                                name=\"Awaiting ingestion\"\r\n                                color=\"primary\"\r\n                                />\r\n                            }\r\n                            label=\"Awaiting ingestion\"\r\n                            className={classes.filterFormControl}\r\n                            />\r\n\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                checked={this.state.filters[\"Complete\"]}\r\n                                onChange={this.handleChangeFilter}\r\n                                name=\"Complete\"\r\n                                color=\"primary\"\r\n                                />\r\n                            }\r\n                            label=\"Complete\"\r\n                            className={classes.filterFormControl}\r\n                            />\r\n                    </FormGroup>\r\n\r\n                {submissions && submissions.length ?\r\n\r\n                <React.Fragment>                    \r\n                    {\r\n                        submissions.map((e, i) => (\r\n                            <ExpansionPanel \r\n                                // expanded={e.expandPanel} \r\n                                expanded={this.state.expandedPanel === i}\r\n                                onChange={() => this.handleExpansion(i)} \r\n                                key={i}\r\n                                TransitionProps={{ unmountOnExit: true }}\r\n                            >\r\n                                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                                    <Typography noWrap className={classes.panelSummaryText}>\r\n                                        {e.Dataset}\r\n                                    </Typography>\r\n    \r\n                                    <Typography noWrap className={classes.panelSummaryText}>\r\n                                        {e.Phase}\r\n                                    </Typography>\r\n                                </ExpansionPanelSummary>\r\n                                <AdminDashboardPanelDetails \r\n                                    submission={e} \r\n                                    handleResetExpandedPanel={this.handleResetExpandedPanel}\r\n                                />\r\n                            </ExpansionPanel>\r\n                        ))\r\n                    }\r\n                </React.Fragment>\r\n                    \r\n                    :\r\n\r\n                    <Typography>\r\n                        No submissions yet...\r\n                    </Typography>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AdminDashboard));","import React, { useEffect } from 'react';\r\n\r\nimport { Route, Switch } from 'react-router-dom'\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { snackbarOpen } from '../../Redux/actions/ui';\r\n\r\nimport ValidationTool from './ValidationTool';\r\nimport SubmissionGuide from './SubmissionGuide';\r\nimport UserDashboard from './UserDashboard';\r\nimport AdminDashboard from './AdminDashboard';\r\n\r\nimport metaTags from '../../Enums/metaTags';\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n        paddingTop: '70px'\r\n    }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user : state.user,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    snackbarOpen\r\n}\r\n\r\nconst DataSubmission = (props) => {\r\n    const { classes, match, user } = props;\r\n\r\n    useEffect(() => {\r\n        document.title = metaTags.dataSubmission.title;\r\n        document.description = metaTags.dataSubmission.description;\r\n\r\n        return () => {\r\n            document.title = metaTags.default.title;\r\n            document.title = metaTags.default.description;\r\n        }\r\n    })\r\n    \r\n    return (\r\n        <div className={classes.root}>\r\n        <Switch>\r\n            <Route exact path={match.url + '/'} component={ SubmissionGuide } />\r\n            <Route exact path={match.url + '/guide'} component={ SubmissionGuide } />\r\n            <Route exact path={match.url + '/validationtool'} component={ ValidationTool } />\r\n            <Route exact path={match.url + '/userdashboard'} component={ UserDashboard } />\r\n            <Route exact path={match.url + '/admindashboard'} component={ AdminDashboard } /> \r\n        </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DataSubmission));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Typography, TextField, Paper, Grid, Button } from '@material-ui/core';\r\n\r\nimport { snackbarOpen } from '../Redux/actions/ui';\r\nimport { contactUsRequestSend } from '../Redux/actions/user';\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n        color: 'white',\r\n        width: '65vw',\r\n        marginTop: theme.spacing(18),\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        marginBottom: theme.spacing(8),\r\n        padding: theme.spacing(2)\r\n    },\r\n\r\n    header: {\r\n        color: theme.palette.primary.main,\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n    \r\n    description: {\r\n        marginBottom: theme.spacing(3)\r\n    },\r\n\r\n    textField: {\r\n        marginLeft: 0,\r\n        marginRight: theme.spacing(2),\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    messageTextField: {\r\n        width: '100%'\r\n    },\r\n\r\n    submitButton: {\r\n        marginTop: theme.spacing(2),\r\n        color: 'white'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    contactUsRequestSend,\r\n    snackbarOpen\r\n};\r\n\r\nclass ContactUs extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            name: props.user ? props.user.firstName + ' ' + props.user.lastName : '',\r\n            email: props.user ? props.user.email : '',\r\n            subject: '',\r\n            message: ''\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({...this.state, [event.target.name]: event.target.value});\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        let payload = {...this.state};\r\n        var invalid = false;\r\n        Object.keys(payload).forEach(key => {\r\n            payload[key] = payload[key].trim();\r\n            if(payload[key].length < 1) invalid = true;\r\n        });\r\n\r\n        if(invalid) {\r\n            this.props.snackbarOpen('Please complete all fields');\r\n            return;\r\n        }\r\n        \r\n        this.props.contactUsRequestSend(payload);\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <Paper className={classes.root} elevation={6}>\r\n                <Typography variant='h4' className={classes.header} align='left'>\r\n                    Contact Us\r\n                </Typography>\r\n    \r\n                <Typography variant='body2' className={classes.description} align='left'>\r\n                    Have a question or feedback? Fill out the form below to contact a member of the Simons CMAP team.\r\n                </Typography>\r\n\r\n                <Grid container>\r\n                    <Grid item container direction='column' justify='flex-start' xs={12} md={3}>\r\n                        <TextField\r\n                            name='name'\r\n                            label='Name'\r\n                            value={this.state.name}\r\n                            onChange={this.handleChange}\r\n                            className={classes.textField}\r\n                            variant='outlined'\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n\r\n                        <TextField\r\n                            name='email'\r\n                            label='Email'\r\n                            value={this.state.email}\r\n                            onChange={this.handleChange}\r\n                            className={classes.textField}\r\n                            variant='outlined'\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n\r\n                        <TextField\r\n                            name='subject'\r\n                            label='Subject'\r\n                            value={this.state.subject}\r\n                            onChange={this.handleChange}\r\n                            className={classes.textField}\r\n                            variant='outlined'\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={9}>\r\n                        <TextField\r\n                            placeholder='Your message...'\r\n                            value={this.state.message}\r\n                            className={classes.messageTextField}\r\n                            name='message'\r\n                            onChange={this.handleChange}\r\n                            multiline\r\n                            rows='10'\r\n                            variant='outlined'\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n                <Button \r\n                    variant='contained' \r\n                    color='primary'\r\n                    className={classes.submitButton}\r\n                    onClick={this.handleSubmit}\r\n                >\r\n                    Submit\r\n                </Button>\r\n    \r\n            </Paper>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ContactUs));","import React from 'react';\r\n\r\nimport { Grid, Typography, Paper, Tooltip, Link, Button } from '@material-ui/core';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n        marginTop: '70px'\r\n    },\r\n\r\n    descriptionPaper: {\r\n        padding: '6vh 6vw',\r\n        margin: '110px 10vw 0px 10vw'\r\n    },\r\n\r\n    iconContainer: {\r\n        marginTop: '4vh'\r\n    },\r\n\r\n    followContainer: {\r\n        marginTop: '4vh'\r\n    },\r\n\r\n    softwareIcon: {\r\n        maxHeight: 'calc(100% - 1vh)',\r\n        maxWidth: 'calc(100% - .5vw)',\r\n        height: '110px',\r\n    },\r\n\r\n    followUs: {\r\n        lineHeight: 3.1,\r\n        fontSize: '16px'\r\n    },\r\n\r\n    followUsGridSection: {\r\n        textAlign: 'right',\r\n        marginBottom: '12px'\r\n    },\r\n\r\n    followUsIcon: {\r\n        marginLeft: '12px'\r\n    },\r\n\r\n    docButtonGrid: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '12px'\r\n    },\r\n\r\n    docButton: {\r\n        color: 'white',\r\n        textTransform: 'none',        \r\n        width: '180px'\r\n    }\r\n})\r\n\r\nconst CommunityTemp = (props) => {\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.descriptionPaper} elevation={8}>\r\n                <Typography variant='body1'>\r\n                    Simons CMAP is a community-based project intending to further cultivate the collaborative efforts at ocean sciences. It supports popular programming languages used for data analysis and seamlessly blends into your existing codebase. Review the <Link target='_blank' href='https://cmap.readthedocs.io/en/latest/'>documentation</Link> to discover how to retrieve, visualize, and analyze the CMAP data sets using your preferred language. There you will also find information on how your own datasets can be submitted to CMAP. Please join us and contribute to growing the CMAP data and software ecosystem.\r\n                </Typography>\r\n                \r\n                <Grid container className={classes.iconContainer}>\r\n                    <Grid item xs={12} md ={6} lg={3}>\r\n                        <a href=\"https://github.com/simonscmap/cmap4r\" target=\"_blank\">\r\n                            <img src=\"images/cmap-sdk-R-COLORED.png\" width=\"152\" alt=\"\" className={classes.softwareIcon}/>                \r\n                        </a>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md ={6} lg={3}>\r\n                        <a href=\"https://github.com/simonscmap/pycmap\" target=\"_blank\">\r\n                            <img src=\"images/cmap-sdk-python-COLORED.png\" width=\"273\" alt=\"\" className={classes.softwareIcon}/>                \r\n                        </a>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={6} lg={3}>\r\n                        <a href='https://github.com/simonscmap/CMAP.jl' target='_blank'>\r\n                            <img src=\"images/cmap-sdk-julia-COLORED.png\" width=\"176\" alt=\"\" className={classes.softwareIcon}/>                \r\n                        </a>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md ={6} lg={3}>\r\n                        <a href=\"https://github.com/simonscmap/matcmap\" target=\"_blank\">\r\n                            <img src=\"images/cmap-sdk-Matlab-COLORED.png\" alt=\"\" className={classes.softwareIcon}/>\r\n                        </a>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <Grid container className={classes.followContainer}>\r\n                    <Grid item xs={12} md={1}>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={5} md={2} className={classes.followUsGridSection}>\r\n                        <Typography variant='caption' className={classes.followUs}>\r\n                            Follow Us:\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={4} md={3}>\r\n                        <a href=\"https://github.com/simonscmap\" target=\"_blank\">\r\n                            <img src=\"images/github-icon.png\" width=\"55\" srcSet=\"images/github-icon-p-500.png 500w, images/github-icon.png 512w\" alt=\"\" className={classes.followUsIcon}/>\r\n                        </a>                        \r\n                        <a href=\"https://join.slack.com/t/simons-cmap/shared_invite/enQtNjQzMTkzMjg0NjQ2LTdlOGRhZjNhMDY3MjRlNjg2OTY5NzE3ZWZhNWE0OWZhYmQzMTJjNDkyNDQ1MjNkZDg0N2MzMzhlZDliNGYxYzQ\" target=\"_blank\" className={classes.followUsIcon}>\r\n                            <img src=\"images/slack-icon.png\" width=\"55\" srcSet=\"images/slack-icon-p-500.png 500w, images/slack-icon.png 600w\" alt=\"\"/>\r\n                        </a>                        \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={5} className={classes.docButtonGrid}>\r\n                        <Button color='primary' variant='contained' href=\"https://cmap.readthedocs.io/en/latest/\" target=\"_blank\" className={classes.docButton}>\r\n                            Documentation\r\n                        </Button>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={3} md={12}>\r\n                    </Grid>\r\n               \r\n                </Grid>\r\n\r\n                \r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(CommunityTemp);","export default ({searchWords = [], hasDepth, timeStart, timeEnd, latStart, latEnd, lonStart, lonEnd, sensor}) => {\r\n    let qString = '';\r\n    console.log(searchWords);\r\n    searchWords.forEach((keyword, i) => qString += `${i > 0 ? '&' : ''}keywords=${encodeURIComponent(keyword)}`);\r\n    \r\n    qString += hasDepth === 'yes' || hasDepth === 'no' ? `&hasDepth=${hasDepth}` : `&hasDepth=any`; \r\n    if(timeStart) qString += `&timeStart=${encodeURIComponent(timeStart)}`;\r\n    if(timeEnd) qString += `&timeEnd=${encodeURIComponent(timeEnd)}`;\r\n    if(latStart || latStart == 0) qString += `&latStart=${encodeURIComponent(latStart)}`;\r\n    if(latEnd || latEnd == 0) qString += `&latEnd=${encodeURIComponent(latEnd)}`;\r\n    if(lonStart || lonStart == 0) qString += `&lonStart=${encodeURIComponent(lonStart)}`;\r\n    if(lonEnd || lonEnd == 0) qString += `&lonEnd=${encodeURIComponent(lonEnd)}`;\r\n    if(sensor !== 'Any' && sensor !== null) qString += `&sensor=${encodeURIComponent(sensor)}`;\r\n    return qString;\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Typography } from '@material-ui/core';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nconst styles = (theme) => ({\r\n\r\n});\r\n\r\nconst SearchHelpContents = (props) => {\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n                <Typography>\r\n                    Begin typing in the search field to see keyword suggestions:\r\n                </Typography>\r\n\r\n                <img \r\n                    src='/images/help_catalog_search_autocomplete.png' \r\n                    style={{\r\n                        margin: '20px auto',\r\n                        display: 'block',\r\n                        width: '480px',\r\n                        maxWidth: '80vw'\r\n                    }}\r\n                    alt='Keyword Autocomplete Example'\r\n                />\r\n\r\n                <Typography>\r\n                    Use the keyboard or mouse to select a keyword from the list, or press enter to use the typed keyword as is.\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    Repeat the process to search for multiple keywords:\r\n                </Typography>\r\n\r\n                <img \r\n                    src='/images/help_catalog_search_mulitple.png' \r\n                    style={{\r\n                        margin: '20px auto',\r\n                        display: 'block',\r\n                        width: '480px',\r\n                        maxWidth: '80vw'\r\n                    }}\r\n                    alt='Multiple Keyword Example'\r\n                />\r\n\r\n                <Typography>\r\n                    Press escape to clear the keyword field, or backspace to remove the most recently added keyword.\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    Commonly searched keywords include:\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    <strong>Nutrients</strong> such as nitrogen, phosphorus, or carbon.\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    <strong>Organisms</strong> such as prochlorococcus, or synechococcus.\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    <strong>Disciplines</strong> such as biogeochemistry or physics.\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    <strong>Sensors</strong> such as satellite, flow cytometer, or sediment trap.\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    <strong>Names</strong> such as Armbrust.\r\n                </Typography>\r\n\r\n                <Typography style={{marginTop: '12px'}}>\r\n                    <strong>Institutions</strong> such as University of Washington.\r\n                </Typography>  \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SearchHelpContents));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { withStyles } from '@material-ui/core';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { Link, IconButton, Typography, FormControl, Select, MenuItem, FormHelperText, Chip, TextField, InputAdornment, Paper, Tooltip, Button, Grid } from '@material-ui/core';\r\nimport { Search, Help } from '@material-ui/icons';\r\n\r\nimport matchSorter from 'match-sorter';\r\nimport queryString from 'query-string';\r\n\r\nimport { keywordsFetch, submissionOptionsRetrieval } from '../../Redux/actions/catalog';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nimport uriEncodeSearchQuery from '../../Utility/Catalog/uriEncodeSearchQuery';\r\nimport SearchHelpContents from './SearchHelpContent';\r\nimport HelpButtonAndDialog from '../UI/HelpButtonAndDialog';\r\nimport RegionSelector from '../UI/RegionSelector';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    keywords: state.keywords,\r\n    searchResults: state.searchResults,\r\n    submissionOptions: state.submissionOptions\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    keywordsFetch,\r\n    submissionOptionsRetrieval\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    \r\n    searchWrapper: {\r\n        position: '-webkit-sticky',\r\n        position: 'sticky',\r\n        top: '152px',\r\n        padding: '14px 20px'\r\n    },\r\n\r\n    chip: {\r\n        maxWidth: '160px',\r\n        color: 'white',\r\n        borderColor: theme.palette.primary.main,\r\n        marginRight: '6px',\r\n        height: '28px'\r\n    },\r\n\r\n    resetButton: {\r\n        textTransform: 'none',\r\n        width: '160px',\r\n        height: '37px',\r\n        color: theme.palette.primary.main,\r\n        borderColor: theme.palette.primary.main,\r\n        marginTop: '12px'\r\n    },\r\n\r\n    searchPanelRow: {\r\n        marginTop: '10px',\r\n    },\r\n\r\n    autocompletePopperPaper: {\r\n        backgroundColor: '#1F4B65'\r\n    },\r\n\r\n    depthFormControlRoot: {\r\n        textAlign: 'left'\r\n    },\r\n\r\n    formControl: {\r\n        width: '90%',\r\n        marginBottom: '6px'\r\n    },\r\n\r\n    autoComplete: {\r\n        width: 'calc(100% - 48px)'\r\n    },\r\n\r\n    searchSectionHeader: {\r\n        color: theme.palette.primary.main,\r\n        textAlign: 'left',\r\n        marginBottom: '8px'\r\n    },\r\n\r\n    showAdvancedWrapper: {\r\n        textAlign: 'left',\r\n        marginTop: '4px',\r\n        width: '100%'\r\n    },\r\n\r\n    regionSelectorInput: {\r\n        fontSize: '13px',\r\n        // padding: '4px 0px'\r\n    },\r\n\r\n    sensorInputLabel: {\r\n        fontSize: '21px'\r\n    },\r\n\r\n    sensorTextField: {\r\n        paddingTop: '8px'\r\n    }\r\n});\r\n\r\nconst filterOptions = (options, { inputValue }) => {\r\n    let values = inputValue.replace('_',' ').split(' ');\r\n    let result = options;\r\n\r\n    values.forEach(value => {\r\n        result = matchSorter(result, value);\r\n    });\r\n\r\n    return result.sort((a,b) => a.length - b.length);\r\n}\r\n\r\nconst defaultState = {\r\n    searchInputValue: '',\r\n    searchWords: [],\r\n    hasDepth: 'any',\r\n    timeStart: '1900-01-01',\r\n    timeEnd: new Date().toISOString().slice(0,10),\r\n    latStart: -90,\r\n    latEnd: 90,\r\n    lonStart: -180,\r\n    lonEnd: 180,\r\n    sensor: 'Any'\r\n}\r\n\r\nclass CatalogSearch extends React.Component {\r\n\r\n    state = {\r\n        showAdvanced: false,\r\n        helpDialogOpen: false,\r\n        ...defaultState\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if(!this.props.keywords || !this.props.keywords.length){\r\n            this.props.keywordsFetch()\r\n        }\r\n    }\r\n\r\n    handleToggleShowAdvanced = () => {\r\n        this.setState({...this.state, showAdvanced: !this.state.showAdvanced});\r\n    }\r\n\r\n    handleChangeSearchValue = (e, altTypeValue) => {\r\n        const target = e.target.name === undefined ? \r\n            typeof altTypeValue === 'string' || altTypeValue === null ? 'sensor' : 'searchWords' : e.target.name;\r\n\r\n        let value = e.target.name === 'searchWords'  || e.target.name === undefined || e.target.name === 'sensor' ? altTypeValue : e.target.value;\r\n        \r\n        if(target === 'sensor' && value === null) value = 'Any';\r\n\r\n        this.setState({...this.state, [target]: value});\r\n        \r\n        this.props.history.push('/catalog?' + uriEncodeSearchQuery({\r\n            searchWords: this.state.searchWords,\r\n            hasDepth: this.state.hasDepth,\r\n            timeStart: this.state.timeStart,\r\n            timeEnd: this.state.timeEnd,\r\n            latStart: this.state.latStart,\r\n            latEnd: this.state.latEnd,\r\n            lonStart: this.state.lonStart,\r\n            lonEnd: this.state.lonEnd,\r\n            sensor: this.state.sensor,\r\n            [target]: value\r\n        }));\r\n    }\r\n\r\n    handleSearchInputValueChange = (e) => {\r\n        this.setState({...this.state, searchInputValue: (e && e.target && e.target.value) || ''});\r\n    }\r\n\r\n    handleResetSearch = () => {\r\n        this.setState({...this.state, ...defaultState});\r\n        this.props.history.push('/catalog');\r\n    }\r\n\r\n    handleSelectRegion = (option) => {\r\n        let coverageArray = option ? \r\n            option.value.split(' ').map(e => parseFloat(e)) :\r\n            [-90, 90, -180, 180];\r\n\r\n        let latStart = coverageArray[0];\r\n        let latEnd = coverageArray[1];\r\n        let lonStart = coverageArray[2];\r\n        let lonEnd = coverageArray[3];\r\n        \r\n        this.props.history.push('/catalog?' + uriEncodeSearchQuery({\r\n            searchWords: this.state.searchWords,\r\n            hasDepth: this.state.hasDepth,\r\n            timeStart: this.state.timeStart,\r\n            timeEnd: this.state.timeEnd,\r\n            latStart,\r\n            latEnd,\r\n            lonStart,\r\n            lonEnd,\r\n            sensor: this.state.sensor\r\n        }));\r\n\r\n        this.setState({...this.state, latStart, latEnd, lonStart, lonEnd});\r\n    }\r\n\r\n    render = () => {\r\n        const { classes, keywords } = this.props;\r\n        const { searchInputValue, searchWords, hasDepth, timeStart, timeEnd, latStart, latEnd, lonStart, lonEnd } = this.state;\r\n\r\n        return (\r\n            <Paper className={classes.searchWrapper} elevation={4}>\r\n                <Grid container justify='center' alignItems='center'>\r\n                    <div style={{display: 'flex', justifyContent:'space-between', width: '100%', alignItems: 'center'}}>        \r\n                        <Autocomplete\r\n                            className={classes.autoComplete}\r\n                            value={searchWords}\r\n                            onChange={this.handleChangeSearchValue}\r\n                            clearOnBlur\r\n                            size='small'\r\n                            classes={{\r\n                                paper: classes.autocompletePopperPaper\r\n                            }}\r\n                            fullWidth={false}\r\n                            filterOptions={filterOptions}\r\n                            handleHomeEndKeys={true}\r\n                            open={searchInputValue.length > 1}\r\n                            multiple\r\n                            id=\"catalog-search-autocomplete\"\r\n                            options={keywords}\r\n                            clearOnEscape\r\n                            freeSolo\r\n                            inputValue={searchInputValue}\r\n                            onInputChange={this.handleSearchInputValueChange}\r\n                            renderTags={(value, getTagProps) => (\r\n                                value.map((option, index) => (\r\n                                    <Tooltip title={option} key={option}>\r\n                                        <Chip variant='outlined' label={option} {...getTagProps({ index })} className={classes.chip}/>\r\n                                    </Tooltip>\r\n                                ))\r\n                            )}\r\n                            renderInput={(params) => (\r\n                                <TextField\r\n                                    {...params}\r\n                                    name='searchWords'\r\n                                    placeholder={searchWords.length > 0 ? 'Add Keywords' : 'Search by Keyword'}\r\n                                    InputProps={{\r\n                                        ...params.InputProps,\r\n                                        startAdornment: (\r\n                                            <React.Fragment>\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <Search style={{color: colors.primary}}/>\r\n                                                </InputAdornment>\r\n                                                {params.InputProps.startAdornment}\r\n                                            </React.Fragment>\r\n                                        )\r\n                                    }}\r\n                                    variant=\"outlined\"                            \r\n                                />\r\n                            )}\r\n                        />\r\n\r\n                        <HelpButtonAndDialog\r\n                            title='Catalog Search'\r\n                            content={<SearchHelpContents/>}\r\n                        />\r\n\r\n                        {/* <IconButton className={classes.showHelpButton} onClick={() => this.setState({...this.state, helpDialogOpen: true})}>\r\n                            <Help/>\r\n                        </IconButton> */}\r\n                    </div>\r\n\r\n                    <div className={classes.showAdvancedWrapper}>\r\n                        <Link\r\n                            component='button'\r\n                            onClick={this.handleToggleShowAdvanced}\r\n                        >\r\n                            {this.state.showAdvanced ? 'Hide Advanced Search' : 'Advanced Search'}\r\n                        </Link>\r\n                    </div>\r\n\r\n\r\n                    {   this.state.showAdvanced ?\r\n                    <>\r\n\r\n                        <Grid item container xs={12} className={classes.searchPanelRow}>\r\n                            <Grid item xs={12}>\r\n                                <Typography className={classes.searchSectionHeader}>\r\n                                    Temporal Coverage\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='timeStart'\r\n                                    className={classes.formControl}\r\n                                    id=\"date\"\r\n                                    label=\"Start Date\"\r\n                                    type=\"date\"\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={timeStart}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='timeEnd'\r\n                                    className={classes.formControl}\r\n                                    id=\"date\"\r\n                                    label=\"End Date\"\r\n                                    type=\"date\"\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={timeEnd}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>                        \r\n\r\n                        <Grid item container xs={12} className={classes.searchPanelRow} style={{marginTop: '14px'}}>\r\n                            <Grid item xs={12}>\r\n                                <Typography className={classes.searchSectionHeader} style={{marginBottom: 0}}>\r\n                                    Spatial Coverage\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} style={{textAlign: 'left', margin: '-3px 0 8px 10px'}}>\r\n                                <RegionSelector\r\n                                    onSelect={this.handleSelectRegion}\r\n                                    paperClass={classes.autocompletePopperPaper}\r\n                                    inputClass={classes.regionSelectorInput}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='latStart'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lat Start&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -90,\r\n                                        max: 90\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={latStart}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='latEnd'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lat End&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -90,\r\n                                        max: 90\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={latEnd}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='lonStart'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lon Start&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -180,\r\n                                        max: 180\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lonStart}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    name='lonEnd'\r\n                                    className={classes.formControl}\r\n                                    label=\"Lon End&deg;\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        min: -180,\r\n                                        max: 180\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lonEnd}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                />\r\n                            </Grid>                            \r\n\r\n                            <Grid item xs={6}>\r\n                                <FormControl className={classes.formControl}>\r\n                                <FormHelperText>Depth Levels</FormHelperText>\r\n                                <Select\r\n                                    value={hasDepth}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                    name='hasDepth'\r\n                                >\r\n                                    <MenuItem value='any'>Any</MenuItem>\r\n                                    <MenuItem value='yes'>Multiple Levels</MenuItem>\r\n                                    <MenuItem value='no'>Surface Only</MenuItem>\r\n                                </Select>                            \r\n                                </FormControl>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}>\r\n                                <Autocomplete\r\n                                    options={this.props.submissionOptions ? this.props.submissionOptions.Sensor : []}\r\n                                    renderInput={(params) => (\r\n                                            <TextField \r\n                                                {...params}\r\n                                                margin='dense'\r\n                                                name='sensor' \r\n                                                label=\"Sensor\" \r\n                                                InputLabelProps={{style:{fontSize: '16px'}}}\r\n                                                fullWidth\r\n                                                classes={{\r\n                                                    root: classes.sensorTextField\r\n                                                }}\r\n                                                InputLabelProps={{\r\n                                                    classes: {\r\n                                                        root: classes.sensorInputLabel\r\n                                                    }\r\n                                                }}\r\n                                        />)}\r\n                                    // getOptionLabel={(option) => option.label}\r\n                                    value={this.state.sensor}\r\n                                    onChange={this.handleChangeSearchValue}\r\n                                    classes={{\r\n                                        paper: classes.autocompletePopperPaper,\r\n                                        // input: props.inputClass\r\n                                    }}\r\n                                />\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.searchPanelRow}>\r\n                            <Button variant='outlined' onClick={this.handleResetSearch} className={classes.resetButton}>\r\n                                Reset Filters\r\n                            </Button>\r\n                        </Grid>\r\n                        </>\r\n                        : ''\r\n                    }\r\n\r\n                </Grid>\r\n            </Paper>            \r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(withRouter(CatalogSearch)));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Grid, Paper } from '@material-ui/core';\r\n\r\nimport { keywordsFetch, searchOptionsFetch, searchResultsStore } from '../../Redux/actions/catalog';\r\n\r\nimport CatalogSearch from './CatalogSearch';\r\nimport SearchResults from './SearchResults';\r\n\r\nimport metaTags from '../../Enums/metaTags';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    searchOptionsFetch,\r\n    searchResultsStore\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    wrapperDiv: {\r\n        marginTop: '68px',\r\n        padding: '20px',\r\n        boxSizing: 'border-box',\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: '20px 8px'\r\n        },\r\n        // overflow: 'hidden'\r\n      },\r\n\r\n      root: {\r\n        width: '50vw',\r\n        maxWidth: '1200px',\r\n        minWidth: '480px',\r\n        padding: '16px 24px',\r\n        margin: '0 auto',\r\n        transition: 'marginTop 2s'\r\n    },\r\n});\r\n\r\nconst CatalogNew = (props) => {\r\n    useEffect(() => {\r\n        props.searchOptionsFetch();        \r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.title = metaTags.catalog.title;\r\n        document.description = metaTags.catalog.description;\r\n\r\n        return () => {\r\n            document.title = metaTags.default.title;\r\n            document.description = metaTags.default.description;\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        document.body.style.overflow = 'hidden';\r\n\r\n        return () => document.body.style.overflow = 'auto'\r\n    })\r\n\r\n    return (\r\n        <div className={props.classes.wrapperDiv}>\r\n            <Grid container justify='center'>\r\n                <Grid item xs={12} md={4}>\r\n                    <CatalogSearch/>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={8}>\r\n                    <SearchResults/>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(CatalogNew));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Typography } from '@material-ui/core';\r\n\r\nconst VariableGridHelpContents = (props) => {\r\n\r\nreturn (\r\n    <React.Fragment>\r\n        <Typography>\r\n            This table contains information about the variables belonging to this dataset including general information,\r\n            temporal and spatial coverage, and summary statistics.\r\n        </Typography>\r\n\r\n        <Typography style={{marginTop: '12px'}}>\r\n            Enter a search term into the variable filter to quickly filter by variable name, sensor, or other keyword.\r\n        </Typography>\r\n\r\n        <img \r\n            src='/images/help_variable_grid_filter.png' \r\n            style={{\r\n                margin: '20px auto',\r\n                display: 'block',\r\n                width: '480px',\r\n                maxWidth: '80vw'\r\n            }}\r\n            alt='Using Quick Filter'\r\n        />\r\n\r\n        <Typography style={{marginTop: '12px'}}>\r\n            Click any column header to sort the table by the values in that column. Click again to reverse the sort order.\r\n        </Typography>\r\n\r\n        <img \r\n            src='/images/help_variable_grid_sort.gif' \r\n            style={{\r\n                margin: '20px auto',\r\n                display: 'block',\r\n                width: '400px',\r\n                maxWidth: '80vw'\r\n            }}\r\n            alt='Multiple Keyword Example'\r\n        />\r\n\r\n        <Typography style={{marginTop: '12px'}}>\r\n            To download the variable table in csv format right click on any cell and click CSV Export.\r\n        </Typography>\r\n\r\n        <img \r\n            src='/images/help_variable_grid_export.png' \r\n            style={{\r\n                margin: '20px auto',\r\n                display: 'block',\r\n                width: '480px',\r\n                maxWidth: '80vw'\r\n            }}\r\n            alt='Multiple Keyword Example'\r\n        />\r\n    </React.Fragment>\r\n)\r\n}\r\n\r\nexport default VariableGridHelpContents;","import React, { useState } from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\n\r\nimport { withStyles, TextField, InputAdornment, Link, Dialog } from '@material-ui/core';\r\nimport { Search, Menu, ArrowUpward, ArrowDownward } from '@material-ui/icons';\r\n\r\nimport { AgGridReact } from 'ag-grid-react';\r\n\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nimport HelpButtonAndDialog from '../UI/HelpButtonAndDialog';\r\nimport VariableGridHelpContents from './VariableGridHelpContents';\r\n\r\nimport colors from '../../Enums/colors';\r\n\r\nconst rendererStyles = (theme) => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.solidPaper,\r\n        color: 'white',\r\n        padding: '12px'\r\n    }\r\n})\r\n\r\nconst CommentCellRenderer = withStyles(rendererStyles)((props) => {\r\n    const { value, classes } = props;\r\n\r\n    const [ open, setOpen ] = React.useState(false);\r\n\r\n    return !props.value || (props.value && props.value.length) < 20 ? \r\n    (\r\n        props.value\r\n    ) \r\n\r\n    :\r\n\r\n    (\r\n        <React.Fragment>\r\n            <Link component='button' style={{color: colors.primary, fontSize: '12px', lineHeight: '38px'}} onClick={() => setOpen(true)}>\r\n                View Comment\r\n            </Link>\r\n\r\n            <Dialog open={open} onClose={() => setOpen(false)} classes={{paper: classes.dialogPaper}}>\r\n                <ReactMarkdown source={value}/>\r\n            </Dialog>\r\n        </React.Fragment>\r\n    )\r\n})\r\n\r\nconst columnDefs = [\r\n    {\r\n        headerName: 'General Information',\r\n        children: [\r\n            {headerName: 'Variable Name', field: 'Long_Name', tooltipField: 'Long_Name'},\r\n            {headerName: 'Short Name', field: 'Variable'},\r\n            {headerName: 'Sensor', field: 'Sensor'},\r\n            {headerName: 'Unit', field: 'Unit'},\r\n            {headerName: 'Comment', field: 'Comment', tooltipField: \"Comment\", cellRenderer: 'commentCellRenderer'}\r\n        ]\r\n    },\r\n\r\n    {\r\n        headerName: 'Coverage',\r\n        children: [\r\n            {headerName: 'Lat Start', field: 'Lat_Min'},\r\n            {headerName: 'Lat_End', field: 'Lat_Max'},\r\n            {headerName: 'Lon Start', field: 'Lon_Min'},\r\n            {headerName: 'Long End', field: 'Lon_Max'},\r\n            {headerName: 'Time Start', field: 'Time_Min'},\r\n            {headerName: 'Time End', field: 'Time_Max'},\r\n            {headerName: 'Depth Start', field: 'Depth_Min'},\r\n            {headername: 'Depth End', field: 'Depth_Max'}\r\n        ]\r\n    },\r\n\r\n    {\r\n        headerName: 'Table Statistics',\r\n        children: [\r\n            {headerName: 'Database Row Count', field: 'Variable_Count'},\r\n            {headerName: 'Mean Value', field: 'Variable_Mean'},\r\n            {headerName: 'Min Value', field: 'Variable_Min'},\r\n            {headerName: 'Max Value', field: 'Variable_Max'},\r\n            {headerName: 'STD', field: 'Variable_STD'},\r\n            {headerName: '25th Quantile', field: 'Variable_25th'},\r\n            {headerName: '50th Quantile', field: 'Variable_50th'},\r\n            {headerName: '75th Quantile', field: 'Variable_75th'},\r\n            {headerName: 'Keywords', field: 'Keywords', hide: true}\r\n\r\n        ]\r\n    }\r\n]\r\n\r\nconst defaultColumnDef = {\r\n    cellStyle: {fontSize: '12px', lineHeight: '38px'},\r\n    menuTabs: [],\r\n    suppressMovable: true,\r\n    sortable: true\r\n}\r\n\r\n// const getMainMenuItems = ({ column }) => column.rowGroupActive ? ['rowUnGroup'] : ['rowGroup'];\r\n\r\nconst styles = (theme) => ({\r\n    gridWrapper: {\r\n        border: '1px solid black'\r\n    },\r\n\r\n    helpButton: {\r\n        margin: '0 0 -40px 6px'\r\n    }\r\n});\r\n\r\nconst DatasetPageAGGrid = React.memo((props) => {\r\n    const { Variables, classes } = props;\r\n    const [ quickSearch, setQuickSearch ] = useState('');\r\n\r\n    return (\r\n        <div>\r\n            <TextField              \r\n                className={classes.gridSearch}\r\n                margin=\"normal\"\r\n                type=\"text\"\r\n                variant='outlined'\r\n                name='quickSearch'\r\n                value={quickSearch}\r\n                label='Variable Filter'\r\n                onChange={(e) => setQuickSearch(e.target.value)}\r\n                InputProps={{\r\n                startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                    <Search style={{color:colors.primary}}/>\r\n                </InputAdornment>\r\n                ),\r\n                }}\r\n            />\r\n\r\n            <HelpButtonAndDialog\r\n                title='Variable Table'\r\n                content={<VariableGridHelpContents/>}\r\n                buttonClass={classes.helpButton}\r\n            />\r\n\r\n            <div className={classes.gridWrapper + \" ag-theme-material\"} style={{height: `${Variables.length * 60 + 200}px`, maxHeight: '600px'}}>\r\n\r\n                <AgGridReact\r\n                    columnDefs={columnDefs}\r\n                    defaultColDef={defaultColumnDef}\r\n                    rowData={Variables}\r\n                    onGridReady={(params) => params.columnApi.autoSizeAllColumns()}\r\n                    enableCellTextSelection={true}\r\n                    rowHeight={38}\r\n                    enableBrowserTooltips={true}\r\n                    cacheQuickFilter={true}\r\n                    quickFilterText={quickSearch}\r\n                    getContextMenuItems={() => ['copy', 'csvExport']}\r\n                    icons={{\r\n                        menu: ReactDOMServer.renderToString(<Menu style={{fontSize: '1.2rem', color: colors.primary}}/>),\r\n                        sortAscending: ReactDOMServer.renderToString(<ArrowUpward style={{fontSize: '1.2rem', color: colors.primary}}/>),\r\n                        sortDescending: ReactDOMServer.renderToString(<ArrowDownward style={{fontSize: '1.2rem', color: colors.primary}}/>),\r\n                    }}\r\n                    frameworkComponents={{commentCellRenderer: CommentCellRenderer}}\r\n                />\r\n            </div>\r\n        </div>\r\n        )\r\n})\r\n\r\nexport default withStyles(styles)(DatasetPageAGGrid);","import React from 'react';\r\n\r\nconst DatasetJSONLD = (props) => {\r\n    const keywords = [...Array.from(new Set(props.Keywords.split(','))).map(e => e.trim()), 'oceanography'];\r\n\r\n    let data = {\r\n        \"@context\":\"https://schema.org/\",\r\n        \"@type\":\"Dataset\",\r\n        \"name\": props.Long_Name,\r\n        \"description\": props.Description,\r\n        \"keywords\": keywords,\r\n        \"alternateName\": props.Short_Name,\r\n        \"citation\" : props.References || '',\r\n        \"measurementTechnique\" : props.sensors,\r\n        \"hasPart\" : props.Variables.map(e => ({\r\n            \"@type\": \"Dataset\",\r\n            \"name\": e.Long_Name,\r\n            \"description\": `${e.Long_Name} measured via ${e.Sensor} in ${e.Unit}. Part of dataset ${props.Long_Name}`,\r\n            \"creator\":{\r\n                \"@type\":\"Organization\",\r\n                \"name\": props.Data_Source\r\n            },\r\n        })),\r\n        \"creator\":{\r\n            \"@type\":\"Organization\",\r\n            \"name\": props.Data_Source\r\n        },\r\n        \"includedInDataCatalog\":{\r\n            \"@type\":\"DataCatalog\",\r\n            \"name\":\"simonscmap.com\"\r\n        },\r\n        \"temporalCoverage\": props.Time_Min && props.Time_Max ? `${props.Time_Min.slice(0,10)}/${props.Time_Max.slice(0,10)}` : '',\r\n        \"spatialCoverage\":{\r\n            \"@type\":\"Place\",\r\n            \"geo\":{\r\n                \"@type\": \"GeoShape\",\r\n                \"box\": `${props.Lat_Min} ${props.Lon_Min} ${props.Lat_Max} ${props.Lon_Max}`\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <script type=\"application/ld+json\" dangerouslySetInnerHTML={{__html: JSON.stringify(data)}}/>\r\n    )\r\n}\r\n\r\nexport default DatasetJSONLD;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles, Typography } from '@material-ui/core';\r\n\r\nconst styles = (theme) => ({\r\n\r\n});\r\n\r\nconst DownloadingDataHelpContents = (props) => {\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Typography>\r\n                This component allows you to download a csv file containing data from this dataset. Depending on the size of the dataset you may be able to \r\n                download it in its entirety, or may need to specify a subset using the sliders or form fields, the minimum and maximum values of which\r\n                represent the dataset's spatial and temporal boundaries.\r\n            </Typography>\r\n\r\n            <Typography>\r\n                If the subset is too large you will see text instructing you to reduce the size of the subset, as below:\r\n            </Typography>\r\n\r\n            <img \r\n                src='/images/help_catalog_downloading_data_too_large.png' \r\n                style={{\r\n                    margin: '20px auto',\r\n                    display: 'block',\r\n                    width: '480px',\r\n                    maxWidth: '80vw'\r\n                }}\r\n                alt='Subset Too Large Example'\r\n            />\r\n\r\n            <Typography>\r\n                Adjust the any of subset parameters until the download size is within the allowed range, and click \"Download Subset\":\r\n            </Typography>\r\n\r\n            <img \r\n                src='/images/help_catalog_downloading_data_valid.png' \r\n                style={{\r\n                    margin: '20px auto',\r\n                    display: 'block',\r\n                    width: '480px',\r\n                    maxWidth: '80vw'\r\n                }}\r\n                alt='Valid Download Example'\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(DownloadingDataHelpContents);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { TextField, Grid, Dialog, DialogTitle, DialogContent, DialogActions, Button, Typography, Slider, IconButton } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\n\r\nimport HelpButtonAndDialog from '../UI/HelpButtonAndDialog';\r\nimport DownloadingDataHelpContents from './DownloadingDataHelpContents';\r\n\r\nimport { csvDownloadRequestSend } from '../../Redux/actions/visualization';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport temporalResolutions from '../../Enums/temporalResolutions';\r\nimport depthUtils from '../../Utility/depthCounter';\r\n\r\nconst styles = (theme) => ({\r\n    dialogPaper: {\r\n        backgroundColor: colors.solidPaper,\r\n        '@media (max-width: 600px)': {\r\n            width: '100vw',\r\n            margin: '12px'\r\n        },\r\n        width: '60vw'\r\n    },\r\n\r\n    sliderValueLabel: {\r\n        top: -22,\r\n        '& *': {\r\n            background: 'transparent',\r\n            color: theme.palette.primary.main,\r\n        },\r\n        left: -14\r\n    },\r\n\r\n    slider: {\r\n        margin: '4px 8px 8px 0px'\r\n    },\r\n\r\n    sliderThumb: {\r\n        borderRadius: '0px',\r\n        height: '16px',\r\n        width: '3px',\r\n        marginLeft: 0,\r\n        marginTop: '-7px'\r\n    },\r\n\r\n    dialogRoot: {\r\n        overflowY: 'visible'\r\n    },\r\n\r\n    markLabel: {\r\n        top: 30,\r\n        fontSize: '.7rem'\r\n    },\r\n\r\n    input: {\r\n        fontSize: '13px',\r\n        padding: '2px 0'\r\n    },\r\n\r\n    formGrid: {\r\n        marginTop: '16px'\r\n    },\r\n\r\n    formLabel: {\r\n        marginTop: '13px',\r\n        fontSize: '.92rem'\r\n    },\r\n\r\n    helpButton: {\r\n        marginTop: '-2px'\r\n    },\r\n\r\n    closeDialogIcon: {\r\n        float: 'right',\r\n        marginTop: '-12px',\r\n        marginRight: '-8px'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    datasets: state.datasets,\r\n    catalog: state.catalog\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    csvDownloadRequestSend\r\n}\r\n\r\nconst dayToDate = (min, days) => {\r\n    let value = new Date(min);\r\n    value.setDate(value.getDate() + days);\r\n\r\n    let month = value.getMonth() + 1;\r\n    month = month > 9 ? month : '0' + month;\r\n\r\n    let day = value.getDate();\r\n    day = day > 9 ? day : '0' + day;\r\n\r\n    return `${value.getFullYear()}-${month}-${day}`;\r\n}\r\n\r\nconst dateToDay = (min, date) => Math.ceil((new Date(date).getTime() - new Date(min).getTime()) / 86400000);\r\n\r\nclass DownloadDialog extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const maxDays = Math.ceil((new Date(this.props.dataset.Time_Max).getTime() - new Date(this.props.dataset.Time_Min).getTime()) / 86400000);\r\n\r\n        this.state = {\r\n            lat: [\r\n                Math.floor(this.props.dataset.Lat_Min * 10) / 10, \r\n                Math.ceil(this.props.dataset.Lat_Max * 10) / 10\r\n            ],\r\n            lon: [\r\n                Math.floor(this.props.dataset.Lon_Min * 10) / 10, \r\n                Math.ceil(this.props.dataset.Lon_Max * 10) / 10\r\n            ],\r\n            time: this.props.dataset.Time_Min ? [\r\n                0,\r\n                maxDays\r\n            ]\r\n                : [1, 12],\r\n            depth: [\r\n                Math.floor(this.props.dataset.Depth_Min), \r\n                Math.ceil(this.props.dataset.Depth_Max)\r\n            ],\r\n            maxDays\r\n        }\r\n    }\r\n\r\n    handleSetStartDate = (e) => {\r\n        if(!e.target.value) return;\r\n        let parts = e.target.value.split('-');\r\n        const targetDate = new Date(parts[0], parseInt(parts[1]) - 1, parts[2]);\r\n        let min = new Date(this.props.dataset.Time_Min);\r\n        let max = new Date(this.props.dataset.Time_Max);\r\n        const target = targetDate < min ? min : targetDate > max ? max : targetDate;\r\n        this.setState({...this.state, time: [dateToDay(this.props.dataset.Time_Min, target), this.state.time[1]]});\r\n    }\r\n\r\n    handleSetEndDate = (e) => {\r\n        if(!e.target.value) return;\r\n        let parts = e.target.value.split('-');\r\n        const targetDate = new Date(parts[0], parseInt(parts[1]) - 1, parts[2]);\r\n        let min = new Date(this.props.dataset.Time_Min);\r\n        let max = new Date(this.props.dataset.Time_Max);\r\n        const target = targetDate < min ? min : targetDate > max ? max : targetDate;\r\n        this.setState({...this.state, time: [this.state.time[0], dateToDay(this.props.dataset.Time_Min, target)]});\r\n    }\r\n\r\n    handleFullDatasetDownload = (tableName) => {\r\n        let query = `select%20*%20from%20${tableName}`;\r\n        const fileName = this.props.dataset.Long_Name;\r\n        this.props.csvDownloadRequestSend(query, fileName, tableName);\r\n    }\r\n\r\n    handleSubsetDownload = (tableName, dt1, dt2, lat1, lat2, lon1, lon2, depth1, depth2) => {\r\n        let isMonthyClimatology = Boolean(this.props.dataset.Temporal_Resolution === temporalResolutions.monthlyClimatology);\r\n\r\n        const timeUnit = isMonthyClimatology ? 'month' : 'time';\r\n        const timeStart = isMonthyClimatology ? new Date(dt1).getMonth() + 1 : dt1;\r\n        const timeEnd = isMonthyClimatology ? new Date(dt2).getMonth() + 1 : dt2;\r\n\r\n        let query = `select * from ${tableName} where ${timeUnit} between '${timeStart}' and '${timeEnd}' and ` +\r\n            `lat between ${lat1} and ${lat2} and ` +\r\n            `lon between ${lon1} and ${lon2}`;\r\n\r\n        if(Boolean(this.props.dataset.Depth_Max)){\r\n            query += ` and depth between ${depth1} and ${depth2}`\r\n        }\r\n\r\n        const fileName = this.props.dataset.Long_Name;\r\n        this.props.csvDownloadRequestSend(query, fileName, tableName);\r\n    }\r\n\r\n    handleSliderChange = (key, value) => {\r\n        this.setState({...this.state, [key]: value});\r\n    }\r\n\r\n    render() {\r\n        const { dataset, dialogOpen, handleClose, classes } = this.props;\r\n        const { \r\n            Lat_Min, \r\n            Lat_Max, \r\n            Lon_Min, \r\n            Lon_Max, \r\n            Time_Min, \r\n            Time_Max, \r\n            Depth_Min, \r\n            Depth_Max,\r\n            Spatial_Resolution,\r\n            Temporal_Resolution,\r\n            Table_Name,\r\n            Row_Count\r\n        } = dataset;\r\n\r\n        const { lat, lon, time, depth } = this.state;\r\n\r\n        const latMin = parseFloat(Lat_Min);\r\n        const latMax = parseFloat(Lat_Max);\r\n        const lonMin = parseFloat(Lon_Min);\r\n        const lonMax = parseFloat(Lon_Max);\r\n        const timeMin = Date.parse(Time_Min);\r\n        const timeMax = Date.parse(Time_Max);\r\n\r\n        const subsetLat1 = lat[0];\r\n        const subsetLat2 = lat[1];\r\n        const subsetLon1 = lon[0];\r\n        const subsetLon2 = lon[1];\r\n        const subsetTime1 = time[0];\r\n        const subsetTime2 = time[1];\r\n\r\n        const datasetIsMonthlyClimatology = Temporal_Resolution === temporalResolutions.monthlyClimatology;\r\n\r\n        if(Depth_Max){\r\n            var depthMin = parseFloat(Depth_Min);\r\n            var depthMax = parseFloat(Depth_Max);\r\n\r\n            var subsetDepth1 = depth[0]\r\n\r\n            var subsetDepth2 = depth[1];\r\n        }    \r\n            \r\n        const variableColumns = dataset.Variables && dataset.Variables.length;\r\n        const depthColumns = dataset.Depth_Max ? 1 : 0;\r\n        const fixedColumns = 3;\r\n\r\n        const totalColumns = variableColumns + depthColumns + fixedColumns;\r\n\r\n        const totalDataPoints = Row_Count * totalColumns;\r\n        const fullDataAvailable = totalDataPoints < 20000000;\r\n\r\n        var dateRatio;\r\n\r\n        if(Temporal_Resolution === temporalResolutions.monthlyClimatology){\r\n            dateRatio = (time[1] - time[0] + 1) / 12;\r\n        } else {\r\n            var totalDays = (timeMax - timeMin) / 86400000 || 1;\r\n            var subsetDays = subsetTime2 - subsetTime1 < 1 ? 1 : subsetTime2 - subsetTime1;\r\n            dateRatio = totalDays > subsetDays ? subsetDays / totalDays : 1;\r\n        }\r\n\r\n        const totalLatSize = (latMax - latMin) || 1;\r\n        const subsetLatSize = subsetLat2 - subsetLat1 || 1 / totalLatSize;\r\n        const latRatio = subsetLatSize / totalLatSize;\r\n\r\n        const totalLonSize = (lonMax - lonMin) || 1;\r\n        const subsetLonSize = subsetLon2 - subsetLon1 || 1 / totalLonSize;\r\n        const lonRatio = subsetLonSize / totalLonSize;\r\n\r\n        var depthRatio = 1;\r\n\r\n        if(Depth_Max) {\r\n            if(depthUtils.piscesTable.has(Table_Name)){\r\n                let depthCount = depthUtils.count({data: dataset}, subsetDepth1, subsetDepth2);\r\n                depthRatio = depthCount / depthUtils.piscesDepths.length || 1;\r\n            } else if (depthUtils.darwinTable.has(Table_Name)){\r\n                let depthCount = depthUtils.count({data: dataset}, subsetDepth1, subsetDepth2);\r\n                depthRatio = depthCount / depthUtils.darwinDepths.length || 1;\r\n            } else {\r\n                var totalDepthSize = depthMax - depthMin || 1;\r\n                var subsetDepthSize = subsetDepth2 - subsetDepth1 || 1;\r\n                depthRatio = subsetDepthSize > totalDepthSize ? 1 : subsetDepthSize / totalDepthSize;\r\n            }\r\n        }\r\n\r\n        const subsetDataPoints = Math.floor(totalDataPoints * dateRatio * latRatio * lonRatio * depthRatio);\r\n\r\n        const subsetAvailable = subsetDataPoints <= 20000000;\r\n\r\n        const timeString1 = datasetIsMonthlyClimatology ? time[0] : dayToDate(Time_Min, subsetTime1);\r\n        const timeString2 = datasetIsMonthlyClimatology ? time[1] : dayToDate(Time_Min, subsetTime2);\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Dialog\r\n                    PaperProps={{\r\n                        className:classes.dialogPaper\r\n                    }}\r\n                    open={dialogOpen} \r\n                    onClose={handleClose} \r\n                    maxWidth={false}\r\n                >\r\n                    {/* <IconButton className={classes.closeDialogIcon} color=\"inherit\" onClick={handleClose} disableFocusRipple disableRipple>\r\n                        <Close/>\r\n                    </IconButton> */}\r\n                    <DialogTitle>Downloading {dataset.Long_Name} \r\n                        <HelpButtonAndDialog\r\n                            title='Downloading Data'\r\n                            content={<DownloadingDataHelpContents/>}\r\n                            buttonClass={classes.helpButton}\r\n                        />\r\n                    </DialogTitle>\r\n                    \r\n                    <DialogContent style={{padding: '0px 40px'}} classes={{root: classes.dialogRoot}}>\r\n                        <Typography>\r\n                            {fullDataAvailable ? \r\n                                `The full dataset is available for download.` :\r\n                                `The full dataset is too large for download.`\r\n                            }\r\n                        </Typography>\r\n                        <Typography>\r\n                            {subsetAvailable ? \r\n                                'The subset described below is available for download.' :\r\n                                `The subset described below contains approximately ${subsetDataPoints} data points. Maximum download size is 20000000. Please reduce the range of one or more parameters.`\r\n                            }\r\n                        </Typography>\r\n\r\n                        {\r\n                            datasetIsMonthlyClimatology ? \r\n                            \r\n                            <>\r\n                            <Grid container className={classes.formGrid}>\r\n                                    <Grid item xs={12} md={4}>\r\n                                        <Typography className={classes.formLabel}>\r\n                                            Month\r\n                                        </Typography>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} md={4}>\r\n                                        <TextField\r\n                                            label=\"Start\"\r\n                                            type=\"number\"\r\n                                            inputProps={{\r\n                                                min: 1,\r\n                                                max: 12,\r\n                                                className: classes.input\r\n                                            }}\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            value={time[0]}\r\n                                            onChange={e => this.handleSliderChange('time', [e.target.value === '' ? '' : Number(e.target.value), time[1]])}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} md={4}>\r\n                                        <TextField\r\n                                            label=\"End\"\r\n                                            type=\"number\"\r\n                                            inputProps={{\r\n                                                min: 1,\r\n                                                max: 12,\r\n                                                className: classes.input\r\n                                            }}\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            value={time[1]}\r\n                                            onChange={e => this.handleSliderChange('time', [time[0], e.target.value === '' ? '' : Number(e.target.value)])}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Slider\r\n                                    min={1}\r\n                                    max={12}\r\n                                    value={[typeof time[0] === 'number' ? time[0] : 1, typeof time[1] === 'number' ? time[1] : 12]}\r\n                                    value={this.state.time}\r\n                                    onChange={(e, value) => this.handleSliderChange('time', value)}\r\n                                    classes={{\r\n                                        valueLabel: classes.sliderValueLabel,\r\n                                        thumb: classes.sliderThumb,\r\n                                        markLabel: classes.markLabel\r\n                                    }}\r\n                                    className={classes.slider}\r\n                                    marks={[\r\n                                        {\r\n                                            value: 1,\r\n                                            label: '1'\r\n                                        },\r\n                                        {\r\n                                            value: 12,\r\n                                            label: '12'\r\n                                        }\r\n                                    ]}\r\n                                />\r\n                            </>\r\n\r\n                            :\r\n\r\n                            <>\r\n                                <Grid container className={classes.formGrid}>\r\n                                    <Grid item xs={12} md={4}>\r\n                                        <Typography className={classes.formLabel}>\r\n                                            Date\r\n                                        </Typography>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} md={4}>\r\n                                        <TextField\r\n                                            label=\"Start\"\r\n                                            type=\"date\"\r\n                                            inputProps={{\r\n                                                className: classes.input\r\n                                            }}\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            value={dayToDate(Time_Min, this.state.time[0])}\r\n                                            onChange={this.handleSetStartDate}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} md={4}>\r\n                                        <TextField\r\n                                            label=\"End\"\r\n                                            type=\"date\"\r\n                                            inputProps={{\r\n                                                className: classes.input\r\n                                            }}\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            value={dayToDate(Time_Min, this.state.time[1])}\r\n                                            onChange={this.handleSetEndDate}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Slider\r\n                                    min={0}\r\n                                    max={this.state.maxDays}\r\n                                    value={this.state.time}\r\n                                    onChange={(e, value) => this.handleSliderChange('time', value)}\r\n                                    classes={{\r\n                                        valueLabel: classes.sliderValueLabel,\r\n                                        thumb: classes.sliderThumb,\r\n                                        markLabel: classes.markLabel\r\n                                    }}\r\n                                    className={classes.slider}\r\n                                    marks={[\r\n                                        {\r\n                                            value: 0,\r\n                                            label: dayToDate(Time_Min, 0)\r\n                                        },\r\n                                        {\r\n                                            value: this.state.maxDays,\r\n                                            label: dayToDate(Time_Min, this.state.maxDays)\r\n                                        }\r\n                                    ]}\r\n                                />\r\n                            </>\r\n                        }\r\n\r\n                        <Grid container className={classes.formGrid}>\r\n                            <Grid item xs={12} md={4}>\r\n                                <Typography className={classes.formLabel}>\r\n                                    Latitude[{'\\xB0'}]\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} md={4}>\r\n                                <TextField\r\n                                    label=\"Start\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        step: .1,\r\n                                        min: Math.floor(Lat_Min * 10) / 10,\r\n                                        max: Math.ceil(Lat_Max * 10) / 10,\r\n                                        className: classes.input\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lat[0]}\r\n                                    onChange={e => this.handleSliderChange('lat', [e.target.value === '' ? '' : Number(e.target.value), lat[1]])}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} md={4}>\r\n                                <TextField\r\n                                    label=\"End\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        step: .1,\r\n                                        min: Math.floor(Lat_Min * 10) / 10,\r\n                                        max: Math.ceil(Lat_Max * 10) / 10,\r\n                                        className: classes.input\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lat[1]}\r\n                                    onChange={e => this.handleSliderChange('lat', [lat[0], e.target.value === '' ? '' : Number(e.target.value)])}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Slider\r\n                            min={Math.floor(Lat_Min * 10) / 10}\r\n                            max={Math.ceil(Lat_Max * 10) / 10}\r\n                            step={.1}\r\n                            value={[typeof lat[0] === 'number' ? lat[0] : -90, typeof lat[1] === 'number' ? lat[1] : 90]}\r\n                            onChange={(e, value) => this.handleSliderChange('lat', value)}\r\n                            classes={{\r\n                                valueLabel: classes.sliderValueLabel,\r\n                                thumb: classes.sliderThumb,\r\n                                markLabel: classes.markLabel\r\n                            }}\r\n                            className={classes.slider}\r\n                            disabled={Lat_Min === Lat_Max}\r\n                            marks={[\r\n                                {\r\n                                    value: Math.floor(Lat_Min * 10) / 10,\r\n                                    label: `${Math.floor(Lat_Min * 10) / 10}`\r\n                                },\r\n                                {\r\n                                    value: Math.ceil(Lat_Max * 10) / 10,\r\n                                    label: `${Math.ceil(Lat_Max * 10) / 10}`\r\n                                }\r\n                            ]}\r\n                        />\r\n\r\n                        <Grid container className={classes.formGrid}>\r\n                            <Grid item xs={12} md={4}>\r\n                                <Typography className={classes.formLabel}>\r\n                                    Longitude[{'\\xB0'}]\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} md={4}>\r\n                                <TextField\r\n                                    label=\"Start\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        step: .1,\r\n                                        min: Math.floor(Lon_Min * 10) / 10,\r\n                                        max: Math.ceil(Lon_Max * 10) / 10,\r\n                                        className: classes.input\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lon[0]}\r\n                                    onChange={e => this.handleSliderChange('lon', [e.target.value === '' ? '' : Number(e.target.value), lon[1]])}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6} md={4}>\r\n                                <TextField\r\n                                    label=\"End\"\r\n                                    type=\"number\"\r\n                                    inputProps={{\r\n                                        step: .1,\r\n                                        min: Math.floor(Lon_Min * 10) / 10,\r\n                                        max: Math.ceil(Lon_Max * 10) / 10,\r\n                                        className: classes.input\r\n                                    }}\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                    value={lon[1]}\r\n                                    onChange={e => this.handleSliderChange('lon', [lon[0], e.target.value === '' ? '' : Number(e.target.value)])}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Slider\r\n                            min={Math.floor(Lon_Min * 10) / 10}\r\n                            max={Math.ceil(Lon_Max * 10) / 10}\r\n                            step={.1}\r\n                            value={[typeof lon[0] === 'number' ? lon[0] : -90, typeof lon[1] === 'number' ? lon[1] : 90]}\r\n                            onChange={(e, value) => this.handleSliderChange('lon', value)}\r\n                            classes={{\r\n                                valueLabel: classes.sliderValueLabel,\r\n                                thumb: classes.sliderThumb,\r\n                                markLabel: classes.markLabel\r\n                            }}\r\n                            className={classes.slider}\r\n                            disabled={Lon_Min === Lon_Max}\r\n                            marks={[\r\n                                {\r\n                                    value: Math.floor(Lon_Min * 10) / 10,\r\n                                    label: `${Math.floor(Lon_Min * 10) / 10}`\r\n                                },\r\n                                {\r\n                                    value: Math.ceil(Lon_Max * 10) / 10,\r\n                                    label: `${Math.ceil(Lon_Max * 10) / 10}`\r\n                                }\r\n                            ]}\r\n                        />\r\n\r\n                        {\r\n                            Depth_Max ?\r\n                            <>\r\n                                <Grid container className={classes.formGrid}>\r\n                                    <Grid item xs={12} md={4}>\r\n                                        <Typography className={classes.formLabel}>\r\n                                            Depth[m]\r\n                                        </Typography>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} md={4}>\r\n                                        <TextField\r\n                                            label=\"Start\"\r\n                                            type=\"number\"\r\n                                            inputProps={{\r\n                                                min: Math.floor(Depth_Min),\r\n                                                max: Math.ceil(Depth_Max),\r\n                                                className: classes.input\r\n                                            }}\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            value={depth[0]}\r\n                                            onChange={e => this.handleSliderChange('depth', [e.target.value === '' ? '' : Number(e.target.value), depth[1]])}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={6} md={4}>\r\n                                        <TextField\r\n                                            label=\"End\"\r\n                                            type=\"number\"\r\n                                            inputProps={{\r\n                                                min: Math.floor(Depth_Min),\r\n                                                max: Math.ceil(Depth_Max),\r\n                                                className: classes.input\r\n                                            }}\r\n                                            InputLabelProps={{\r\n                                                shrink: true,\r\n                                            }}\r\n                                            value={depth[1]}\r\n                                            onChange={e => this.handleSliderChange('depth', [lat[0], e.target.value === '' ? '' : Number(e.target.value)])}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Slider\r\n                                    min={Math.floor(Depth_Min)}\r\n                                    max={Math.ceil(Depth_Max)}\r\n                                    value={[typeof depth[0] === 'number' ? depth[0] : -90, typeof depth[1] === 'number' ? depth[1] : 90]}\r\n                                    onChange={(e, value) => this.handleSliderChange('depth', value)}\r\n                                    classes={{\r\n                                        valueLabel: classes.sliderValueLabel,\r\n                                        thumb: classes.sliderThumb,\r\n                                        markLabel: classes.markLabel\r\n                                    }}\r\n                                    className={classes.slider}\r\n                                    marks={[\r\n                                        {\r\n                                            value: Math.floor(Depth_Min),\r\n                                            label: `${Math.floor(Depth_Min)}`\r\n                                        },\r\n                                        {\r\n                                            value: Math.ceil(Depth_Max),\r\n                                            label: `${Math.ceil(Depth_Max)}`\r\n                                        }\r\n                                    ]}\r\n                                />\r\n                            </>\r\n                            : ''\r\n                        }\r\n                        \r\n                    </DialogContent>\r\n\r\n                    <DialogActions style={{marginTop: '8px'}}>\r\n                        <Button onClick={handleClose}>\r\n                            Cancel\r\n                        </Button>\r\n\r\n                        {subsetAvailable &&\r\n                            <Button onClick={() => this.handleSubsetDownload(Table_Name, timeString1, timeString2, subsetLat1, subsetLat2, subsetLon1, subsetLon2, subsetDepth1, subsetDepth2)}>\r\n                                Download Subset\r\n                            </Button>                            \r\n                        }\r\n\r\n                        {fullDataAvailable && \r\n                            <Button onClick={() => this.handleFullDatasetDownload(Table_Name)}>\r\n                                Download Full Dataset\r\n                            </Button>\r\n                        }\r\n                    </DialogActions>\r\n                </Dialog> \r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DownloadDialog));","import React from 'react';\r\n\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nconst SkeletonWrapper = (props) => {\r\n    return props.loading ?\r\n    (\r\n        <React.Fragment>\r\n            {props.children.map((child, i) => (\r\n                <Skeleton key={i}>\r\n                    {child}\r\n                </Skeleton>\r\n            ))}\r\n        </React.Fragment>\r\n    )\r\n\r\n    :\r\n\r\n    (\r\n        <React.Fragment>\r\n            {props.children.map((child, i) => (\r\n                <React.Fragment key={i}>\r\n                    {child}\r\n                </React.Fragment>\r\n            ))}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default SkeletonWrapper;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport { withStyles, Link, Typography, Grid, Paper, Table, TableRow, TableCell, TableBody } from '@material-ui/core';\r\n\r\nimport ReactMarkdown from 'react-markdown';\r\nimport XLSX from 'xlsx';\r\n\r\nimport DatasetPageAGGrid from './DatasetPageAGGrid';\r\nimport DatasetJSONLD from './DatasetJSONLD';\r\nimport DownloadDialog from './DownloadDialog';\r\n\r\nimport { datasetFullPageDataFetch, datasetFullPageDataStore } from '../../Redux/actions/catalog';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\nimport HelpButtonAndDialog from '../UI/HelpButtonAndDialog';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport metaTags from '../../Enums/metaTags';\r\nimport CartAddOrRemove from './CartAddOrRemove';\r\nimport SkeletonWrapper from '../UI/SkeletonWrapper';\r\nimport LoadProductOnVizPageButton from '../Visualization/LoadProductOnVizPageButton';\r\n\r\n// Text on this page has inline styling for font color because ag-grid's theme classes override mui classes when a dialog is opened\r\n// from inside the grid\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    datasetFullPageDataLoadingState: state.datasetFullPageDataLoadingState,\r\n    datasetFullPageData: state.datasetFullPageData\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    datasetFullPageDataFetch,\r\n    datasetFullPageDataStore\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    stickyPaper: {\r\n        position: '-webkit-sticky',\r\n        maxHeight: 'calc(100vh - 128px)',\r\n        position: 'sticky',\r\n        top: '90px',\r\n        width: '160px',\r\n        marginLeft: '20px',\r\n        paddingLeft: '12px',\r\n        backgroundColor: 'rgba(0,0,0,.4)',\r\n        overflow: 'auto'\r\n    },\r\n\r\n    guideSection: {\r\n        width: '80%',\r\n        margin: '20px auto 0 auto',\r\n        textAlign: 'left',\r\n        padding: '12px 32px',\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: '12px 12px',\r\n            margin: '16px auto 16px auto',\r\n            width: '90%'\r\n        },\r\n        fontFamily: '\"roboto\", Serif',\r\n        // maxWidth: '1000px',\r\n        backgroundColor: 'rgba(0,0,0,.4)',\r\n        marginBottom: '20px'\r\n    },\r\n\r\n    sectionHeader: {\r\n        margin: '16px 0 2px 0',\r\n        fontWeight: 100,\r\n        fontFamily: '\"roboto\", Serif', \r\n    },\r\n\r\n    '@media screen and (max-width: 1300px)': {\r\n        stickyPaper: {\r\n          display: 'none',\r\n        },\r\n    },\r\n\r\n    navListItem: {\r\n        color: theme.palette.primary.main,\r\n        padding: '2px 10px 2px 6px'\r\n    },\r\n\r\n    navListItemText: {\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n\r\n    doiListItem: {\r\n        color: theme.palette.primary.main,\r\n        padding: '0 10px 0 6px',\r\n        width: 'max-content'\r\n    },\r\n\r\n    doiListItemText: {\r\n        fontSize: '16px',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n\r\n    doiListItemtextWrapper: {\r\n        margin: '0'\r\n    },\r\n\r\n    navListItemtextWrapper: {\r\n        margin: '2px 0'\r\n    },\r\n\r\n    subListText: {\r\n        margin: 0,\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n\r\n    anchor: {\r\n        display: 'block',\r\n        position: 'relative',\r\n        top: '-120px',\r\n        visibility: 'hidden'\r\n    },\r\n\r\n    divider: {\r\n        backgroundColor: theme.palette.primary.main,\r\n        marginBottom: '8px'\r\n    },\r\n\r\n    sampleTableRow: {\r\n        '& td':{\r\n            padding: '10px 24px 10px 16px'\r\n        }\r\n    },\r\n\r\n    navListSubItemText: {\r\n        fontSize: '.785rem'\r\n    },\r\n\r\n    navListSubSubItemText: {\r\n        fontSize: '.7rem'\r\n    },\r\n\r\n    outerContainer: {\r\n        marginTop: '70px',\r\n        color: 'white'\r\n    },\r\n\r\n    markdown: {\r\n        '& img': {\r\n            maxWidth: '100%',\r\n            margin: '20px auto 20px auto',\r\n            display: 'block'\r\n        },\r\n\r\n        '& a': {\r\n            color: theme.palette.primary.main,\r\n            textDecoration: 'none'\r\n        },\r\n\r\n        '& p': {\r\n            fontSize: '1rem',\r\n            fontFamily: '\"Lato\",sans-serif',\r\n            fontWeight: 400,\r\n            lineHeight: 1.5,\r\n            \r\n        }\r\n    },\r\n\r\n    smallText: {\r\n        fontSize: '.8rem'\r\n    },\r\n\r\n    tableHead: {\r\n        fontWeight: 600\r\n    },\r\n\r\n    variableLongName: {\r\n        color: theme.palette.primary.main\r\n    },\r\n\r\n    pageHeader: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            fontSize: '1.4rem'\r\n        },\r\n    },\r\n\r\n    helpIcon: {\r\n        fontSize: '1.2rem'\r\n    },\r\n\r\n    helpButton: {\r\n        padding: '12px 12px 12px 8px'\r\n    },\r\n\r\n    cartButtonClass: {\r\n        textTransform: 'none',\r\n        color: theme.palette.primary.main,\r\n        marginTop: '16px'\r\n    },\r\n\r\n    cruiseLink: {\r\n        display: 'block',\r\n        marginBottom: '3px',\r\n        color: colors.primary\r\n    }\r\n});\r\n\r\nconst DatasetFullPage = (props) => {\r\n    const { classes, datasetFullPageDataFetch, datasetFullPageDataStore, datasetFullPageData, datasetFullPageDataLoadingState } = props;\r\n\r\n    const { \r\n        Variables,\r\n        Acknowledgement,\r\n        Data_Source,\r\n        Depth_Max,\r\n        Depth_Min,\r\n        Description,\r\n        Distributor,\r\n        Lat_Max,\r\n        Lat_Min,\r\n        Lon_Max,\r\n        Lon_Min,\r\n        Long_Name,\r\n        Short_Name,\r\n        Table_Name,\r\n        Time_Max,\r\n        Time_Min,\r\n        References,\r\n        Make,\r\n        Process_Level,\r\n        Spatial_Resolution,\r\n        Temporal_Resolution,\r\n        Sensors,\r\n        Cruises\r\n    } = datasetFullPageData;\r\n\r\n    const loading = datasetFullPageDataLoadingState === states.inProgress;\r\n\r\n    const [ downloadDialogOpen, setDownloadDialogOpen ] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        datasetFullPageDataFetch(props.match.params.dataset);\r\n\r\n        return (() => datasetFullPageDataStore({}));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.title = Long_Name || metaTags.defaultTitle;\r\n        document.description = Description || metaTags.default.description;\r\n\r\n        return (() => {\r\n            document.title = metaTags.default.title;\r\n            document.description = metaTags.default.description;\r\n        })\r\n    }, [Long_Name])\r\n\r\n    const downloadMetadata = () => {\r\n        let fullPageData = {...datasetFullPageData};\r\n        delete fullPageData.Variables;\r\n\r\n        let workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet([fullPageData]), 'Dataset Metadata');\r\n        XLSX.utils.book_append_sheet(workbook, XLSX.utils.json_to_sheet(Variables), 'Variable Metadata');\r\n        XLSX.writeFile(workbook, `${Short_Name}_Metadata'.xlsx`);\r\n    }    \r\n\r\n    return (\r\n        <Grid container className={classes.outerContainer}>\r\n            {downloadDialogOpen ? \r\n            \r\n            <DownloadDialog\r\n                dialogOpen={downloadDialogOpen}\r\n                dataset={datasetFullPageData}\r\n                handleClose={() => setDownloadDialogOpen(false)}\r\n            />       \r\n            : ''}\r\n            \r\n            <Grid item xs={12}>\r\n                <Paper className={classes.guideSection} elevation={4}>\r\n                    <SkeletonWrapper loading={loading}>\r\n                        <a className={classes.anchor} id='description'></a>\r\n                        <Typography variant={'h4'} className={classes.pageHeader} style={{color: 'white'}}>\r\n                            {Long_Name}                    \r\n                        </Typography>                        \r\n\r\n                        <ReactMarkdown source={Description} className={classes.markdown}/>\r\n\r\n                        <a className={classes.anchor} id='info-table'></a>\r\n\r\n                        <Table size='small' style={{marginTop: '24px', maxWidth: '800px'}}>\r\n                            <TableBody>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Make\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Make}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Sensor{Sensors && Sensors.length > 1 ? 's' : ''}\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Sensors ? Sensors.join(', ') : ''}\r\n                                    </TableCell>\r\n                                </TableRow>                                \r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Process Level\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Process_Level}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Database Table Name\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Table_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Database Dataset Name\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Short_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Temporal Resolution\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Temporal_Resolution}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Time Start*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Time_Min ? Time_Min.slice(0, 10) : 'NA'}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Time End*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Time_Max ? Time_Max.slice(0, 10) : 'NA'}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Spatial Resolution\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Spatial_Resolution}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lat Start*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lat_Min}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lat End*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lat_Max}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lon Start*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lon_Min}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lon End*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lon_Max}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Depth Start*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Depth_Max ? Depth_Min + 'm' : 'Surface Only'}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Depth End*\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Depth_Max ? Depth_Max + 'm' : 'Surface Only'}\r\n                                    </TableCell>\r\n                                </TableRow>                                \r\n                            </TableBody>\r\n                        </Table>\r\n                        <Typography variant='caption' style={{margin: '4px 0 14px 4px', display: 'inline-block', color: 'white'}}>\r\n                            *Temporal and spatial coverage may differ between member variables\r\n                        </Typography>\r\n\r\n                        {/* <iframe src={Icon_URL ? Icon_URL.slice(0, -4) + '.html' : ''}/> */}\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{marginBottom: '16px', color: 'white'}}>\r\n                            <a className={classes.anchor} id='variables'></a>\r\n                            Variables\r\n                        </Typography>\r\n\r\n                        {\r\n                            Variables ? <DatasetPageAGGrid Variables={Variables}/> : ''\r\n                        }\r\n\r\n                        {(Data_Source) || loading ?\r\n                        \r\n                        <React.Fragment>\r\n                                <Typography variant='h5' className={classes.sectionHeader} style={{color: 'white'}}>\r\n                                    <a className={classes.anchor} id='data-source'></a>\r\n                                    Data Source\r\n                                </Typography>\r\n\r\n                                <Typography className={classes.smallText} style={{color: 'white'}}>\r\n                                    {Data_Source}\r\n                                </Typography>\r\n                        </React.Fragment>\r\n\r\n                        : ''\r\n                        }                                         \r\n\r\n                        {\r\n                            Distributor || loading ?\r\n\r\n                            <React.Fragment>\r\n                                <Typography variant='h5' className={classes.sectionHeader} style={{color: 'white'}}>\r\n                                    <a className={classes.anchor} id='distributor'></a>\r\n                                    Distributor\r\n                                </Typography>\r\n\r\n                                <Typography className={classes.smallText} style={{color: 'white'}}>\r\n                                    {Distributor}\r\n                                </Typography>\r\n                            </React.Fragment>\r\n\r\n\r\n                            : ''\r\n                        }\r\n\r\n                        {Acknowledgement || loading ?\r\n                        \r\n                            <React.Fragment>\r\n                                    <Typography variant='h5' className={classes.sectionHeader} style={{color: 'white'}}>\r\n                                        <a className={classes.anchor} id='acknowledgement'></a>\r\n                                        Acknowledgement\r\n                                    </Typography>\r\n\r\n                                    <Typography className={classes.smallText} style={{color: 'white'}}>\r\n                                        {Acknowledgement}\r\n                                    </Typography>\r\n                                </React.Fragment>\r\n\r\n\r\n                                : ''                        \r\n                        }\r\n\r\n                        {(References && References.length) || loading ?\r\n                        \r\n                            <React.Fragment>\r\n                                    <Typography variant='h5' className={classes.sectionHeader} style={{color: 'white'}}>\r\n                                        <a className={classes.anchor} id='references'></a>\r\n                                        References\r\n                                    </Typography>\r\n\r\n                                    {!loading ?\r\n                                        References.map((reference, i) => (\r\n                                            <Typography className={classes.smallText} key={i} style={{color: 'white'}}>\r\n                                                {reference}\r\n                                            </Typography>\r\n                                        )) : ''}                            \r\n                            </React.Fragment>\r\n\r\n                            : ''\r\n                        }\r\n\r\n                        {\r\n                            (Cruises && Cruises.length ?\r\n                                <>\r\n                                    <Typography variant='h5' className={classes.sectionHeader} style={{color: 'white'}}>\r\n                                        Cruises contributing data to this dataset:\r\n                                    </Typography>\r\n\r\n                                    {\r\n                                        Cruises.map((e) => (\r\n                                            <Link \r\n                                                component={RouterLink} \r\n                                                to={`/catalog/cruises/${e.Name}`}\r\n                                                key={e.Name}\r\n                                                className={classes.cruiseLink}\r\n                                            >\r\n                                                {e.Name}\r\n                                            </Link>\r\n                                        ))\r\n                                    }\r\n                                </>                                   \r\n                            \r\n                            : ''\r\n                            )\r\n                        }\r\n\r\n                        <Typography variant='h5' className={classes.sectionHeader} style={{color: 'white'}}>\r\n                            <a className={classes.anchor} id='data-access'></a>\r\n                            Data Access\r\n                        </Typography>\r\n\r\n                        <Link\r\n                            component='button'\r\n                            onClick={downloadMetadata}\r\n                            style={{color: colors.primary}}\r\n                        >\r\n                            Download Dataset Metadata\r\n                        </Link>\r\n\r\n                        <HelpButtonAndDialog\r\n                            title='Downloading Metadata'\r\n                            content={\r\n                                <Typography>\r\n                                    This link will download an xlsx workbook with a page containing\r\n                                    the dataset's metadata, and a second page containing the metadata\r\n                                    of its member variables.\r\n                                </Typography>\r\n                            }\r\n                            iconClass={classes.helpIcon}\r\n                            buttonClass={classes.helpButton}\r\n                        />\r\n                        \r\n                        <Link\r\n                            component='button'\r\n                            onClick={() => setDownloadDialogOpen(true)}\r\n                            style={{color: colors.primary, display: 'block'}}\r\n                        >\r\n                            Download Data\r\n                        </Link>\r\n\r\n                        <CartAddOrRemove dataset={datasetFullPageData} cartButtonClass={classes.cartButtonClass}/>\r\n\r\n                        {/* <div style={{marginLeft: '-11px'}}>\r\n                            <LoadProductOnVizPageButton product={datasetFullPageData}/>\r\n                        </div> */}\r\n\r\n                    {!loading && datasetFullPageData && Object.keys(datasetFullPageData).length ? <DatasetJSONLD {...datasetFullPageData}/> : ''}\r\n                    </SkeletonWrapper>              \r\n                </Paper>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DatasetFullPage));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Paper, Button, Typography, TextField } from '@material-ui/core';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { recoverPasswordRequestSend } from '../../Redux/actions/user';\r\n\r\nconst styles = (theme) => ({\r\n    paper: {\r\n        width: '60%',\r\n        margin: '10% auto',\r\n        height: '40vh'\r\n    },\r\n\r\n    description: {\r\n        paddingTop: '110px'\r\n    },\r\n\r\n    emailSentDescription: {\r\n        padding: '140px 70px 0 70px'\r\n    },\r\n\r\n    sendButton: {\r\n        marginLeft: '8px',\r\n        marginTop: '9px',\r\n        height: '41px'\r\n    },\r\n\r\n    formWrapper: {\r\n        marginTop: '24px'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    recoverPasswordRequestSend\r\n}\r\n\r\nconst ForgotPass = (props) => {\r\n    const { classes } = props;\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    const [emailWasSent, setEmailWasSent] = React.useState(false);\r\n\r\n    const handleChange = event => {\r\n        setEmail(event.target.value);\r\n    }\r\n\r\n    const handleSubmit = event => {\r\n        setEmailWasSent(true);\r\n        props.recoverPasswordRequestSend(email);\r\n    }\r\n\r\n    const handleKeyPress = event => {\r\n        if (event.key === 'Enter') {\r\n          handleSubmit();\r\n        }\r\n    }\r\n\r\n    const valid = email === '' || /^([a-zA-Z0-9_\\-.]+)@([a-zA-Z0-9_\\-.]+)\\.([a-zA-Z]{2,5})$/.test(email);\r\n\r\n    return (\r\n        <Paper className={classes.paper}>\r\n            {emailWasSent ? \r\n                <Typography className={classes.emailSentDescription}>\r\n                    An email has been sent to {email}. If you don't receive anything from us within the next few minutes please check your spam folder.\r\n                </Typography>\r\n            :\r\n                <React.Fragment>\r\n                    <Typography className={classes.description}>\r\n                        Enter your email address below to recover your username and password.\r\n                    </Typography>\r\n            \r\n                    <div className={classes.formWrapper}>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"normal\"\r\n                            id=\"email\"\r\n                            type=\"text\"\r\n                            variant='outlined'\r\n                            name='email'                        \r\n                            value={email}\r\n                            onChange={handleChange}\r\n                            error={!valid}\r\n                            helperText={valid ? '' : 'Please enter a valid email address'}\r\n                            onKeyPress={handleKeyPress}\r\n                        />\r\n                        <Button \r\n                            color='primary' \r\n                            variant='contained' \r\n                            className={classes.sendButton} \r\n                            onClick={handleSubmit}\r\n                            disabled={Boolean(!valid || !email.length)}\r\n                        >\r\n                            Submit\r\n                        </Button>\r\n                    </div>               \r\n                </React.Fragment>\r\n            }\r\n        </Paper>                \r\n    )    \r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(ForgotPass));","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nimport { Paper, Button, Typography, TextField, Grid, Link } from '@material-ui/core';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { choosePasswordRequestSend, choosePasswordRequestReset } from '../../Redux/actions/user';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nconst styles = (theme) => ({\r\n    paper: {\r\n        width: '60%',\r\n        margin: '120px auto',\r\n        // height: '40vh',\r\n        padding: '24px 12px'\r\n    },\r\n\r\n    textFields: {\r\n        display: 'block',\r\n        width: '380px'\r\n    },\r\n\r\n    description: {\r\n        marginBottom: '12px'\r\n    },\r\n\r\n    formGrid: {\r\n        height: '270px',\r\n        padding: '0 90px'\r\n\r\n    },\r\n\r\n    button: {\r\n        width: '120px'\r\n    }\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    choosePasswordRequestSend,\r\n    choosePasswordRequestReset\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    choosePasswordState: state.choosePasswordState,\r\n  });\r\n\r\n\r\nconst choosePasswordButtonRef = React.createRef();\r\n\r\n// Used with forgot password link from email\r\nclass ChoosePassword extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        let token = props.location.pathname.split('/')[2];\r\n        let decodedToken = jwtDecode(token)\r\n        let expiration = new Date(0);\r\n        expiration.setUTCSeconds(decodedToken.exp);\r\n\r\n        let expired = new Date() > expiration;\r\n\r\n        this.state = {\r\n            password: '',\r\n            confirmPassword: '',\r\n            expired,\r\n            token,\r\n            email: decodedToken.sub\r\n        }\r\n    }\r\n    \r\n    componentDidMount = () => {\r\n        this.props.choosePasswordRequestReset();\r\n    }\r\n\r\n    handleChangePassword = event => {\r\n        this.setState({...this.state, password: event.target.value});\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        this.props.choosePasswordRequestSend({\r\n            password: this.state.password,\r\n            token: this.state.token\r\n        })\r\n    }\r\n    handleChangeConfirmPassword = event => {\r\n        this.setState({...this.state, confirmPassword: event.target.value});\r\n    }\r\n\r\n    handleKeyPress = event => {\r\n        if (event.key === 'Enter') {\r\n            choosePasswordButtonRef.current.click();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes, choosePasswordState } = this.props;\r\n        const { password, confirmPassword, expired } = this.state;\r\n\r\n        const passwordValid = /^(?=.*[0-9])(?=.*[.!@#$%^&*])[a-zA-Z0-9.!@#$%^&*]{8,32}$/.test(password);\r\n        const confirmPasswordValid = password === confirmPassword;    \r\n        const disabled = Boolean(password.length === 0 || !passwordValid || !confirmPasswordValid);\r\n        \r\n        if(expired){\r\n            return (\r\n                <Paper className={classes.paper}>\r\n                    <Typography className={classes.description}>\r\n                        This link has expired. Click here to send a <Link component={RouterLink} to={{pathname: '/forgotpass'}}>new link</Link>.\r\n                    </Typography>\r\n                </Paper>\r\n            )\r\n        }\r\n\r\n        if(choosePasswordState === states.succeeded){\r\n            return (\r\n                <Paper className={classes.paper}>\r\n                    <Typography className={classes.description}>\r\n                        Success! You can now log in using your new password.\r\n                    </Typography>\r\n                </Paper>\r\n            )\r\n        } \r\n        \r\n        else if(choosePasswordState === states.failed){\r\n            return (\r\n                <Paper className={classes.paper}>\r\n                    <Typography className={classes.description}>\r\n                        We were unable to complete this request. Please try again.\r\n                    </Typography>\r\n                </Paper>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <Typography className={classes.description}>\r\n                    Please choose a password\r\n                </Typography>\r\n    \r\n                <Grid direction='column' justify='space-evenly' className={classes.formGrid} container>\r\n                    <Grid item>\r\n                        <TextField     \r\n                            fullWidth           \r\n                            autoFocus\r\n                            label='Password'\r\n                            margin=\"normal\"\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='password'                        \r\n                            value={password}\r\n                            onChange={this.handleChangePassword}\r\n                            error={Boolean(!passwordValid && password.length)}\r\n                            helperText='Must be 8 to 32 characters with 1 number and 1 special character.'\r\n                            onKeyPress={this.handleKeyPress}\r\n                            InputLabelProps={{\r\n                                shrink: true\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n    \r\n                    <Grid item>\r\n                        <TextField\r\n                            fullWidth\r\n                            label='Confirm Password'\r\n                            margin=\"normal\"\r\n                            id=\"confirmPassword\"\r\n                            type=\"password\"\r\n                            variant='outlined'\r\n                            name='confirmPassword'                        \r\n                            value={confirmPassword}\r\n                            onChange={this.handleChangeConfirmPassword}\r\n                            error={!confirmPasswordValid}\r\n                            helperText={confirmPasswordValid ? '' : 'Passwords must match'}\r\n                            onKeyPress={this.handleKeyPress}\r\n                            InputLabelProps={{\r\n                                shrink: true\r\n                            }}\r\n                        />                    \r\n                    </Grid>\r\n    \r\n                    <Grid item>\r\n                        <Button \r\n                            fullWidth \r\n                            variant='outlined' \r\n                            color='primary' \r\n                            disabled={disabled} \r\n                            onClick={this.handleSubmit}\r\n                            ref={choosePasswordButtonRef}\r\n                        >\r\n                            Submit\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>   \r\n            </Paper>                \r\n        )    \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withStyles(styles)(ChoosePassword)));","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nimport { withStyles, Link, Typography, Grid, Paper, Table, TableRow, TableCell, TableBody } from '@material-ui/core';\r\n\r\nimport { cruiseFullPageDataFetch, cruiseFullPageDataStore } from '../../Redux/actions/catalog';\r\n\r\nimport states from '../../Enums/asyncRequestStates';\r\n\r\nimport colors from '../../Enums/colors';\r\nimport metaTags from '../../Enums/metaTags';\r\nimport CartAddOrRemove from './CartAddOrRemove';\r\nimport SkeletonWrapper from '../UI/SkeletonWrapper';\r\nimport LoadProductOnVizPageButton from '../Visualization/LoadProductOnVizPageButton';\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    cruiseFullPageDataLoadingState: state.cruiseFullPageDataLoadingState,\r\n    cruiseFullPageData: state.cruiseFullPageData\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    cruiseFullPageDataFetch,\r\n    cruiseFullPageDataStore\r\n}\r\n\r\nconst styles = (theme) => ({\r\n    guideSection: {\r\n        width: '80%',\r\n        margin: '20px auto 0 auto',\r\n        textAlign: 'left',\r\n        padding: '12px 32px',\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: '12px 12px',\r\n            margin: '16px auto 16px auto',\r\n            width: '90%'\r\n        },\r\n        fontFamily: '\"roboto\", Serif',\r\n        // maxWidth: '1000px',\r\n        backgroundColor: 'rgba(0,0,0,.4)',\r\n        marginBottom: '20px'\r\n    },\r\n\r\n    sectionHeader: {\r\n        margin: '16px 0 2px 0',\r\n        fontWeight: 100,\r\n        fontFamily: '\"roboto\", Serif', \r\n    },\r\n\r\n    sampleTableRow: {\r\n        '& td':{\r\n            padding: '10px 24px 10px 16px'\r\n        }\r\n    },\r\n\r\n    outerContainer: {\r\n        marginTop: '70px',\r\n        color: 'white'\r\n    },\r\n\r\n    tableHead: {\r\n        fontWeight: 600\r\n    },\r\n\r\n    pageHeader: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            fontSize: '1.4rem'\r\n        },\r\n    },\r\n\r\n    datasetLink: {\r\n        display: 'block',\r\n        marginBottom: '3px'\r\n    }\r\n\r\n    // cartButtonClass: {\r\n    //     textTransform: 'none',\r\n    //     color: theme.palette.primary.main,\r\n    //     marginTop: '16px'\r\n    // }\r\n});\r\n\r\nconst CruiseFullPage = (props) => {\r\n    const { classes, cruiseFullPageDataFetch, cruiseFullPageDataStore, cruiseFullPageData, cruiseFullPageDataLoadingState } = props;\r\n\r\n    const { \r\n        Nickname,\r\n        Name,\r\n        Ship_Name,\r\n        Start_Time,\r\n        End_Time,\r\n        Lat_Min,\r\n        Lat_Max,\r\n        Lon_Min,\r\n        Lon_Max,\r\n        Chief_Name,\r\n        datasets\r\n    } = cruiseFullPageData;\r\n\r\n    const loading = cruiseFullPageDataLoadingState === states.inProgress;\r\n\r\n    useEffect(() => {\r\n        cruiseFullPageDataFetch(props.match.params.cruiseName);\r\n\r\n        return (() => cruiseFullPageDataStore({}));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.title = Name || metaTags.defaultTitle;\r\n        document.description = Name || metaTags.default.description;\r\n\r\n        return (() => {\r\n            document.title = metaTags.default.title;\r\n            document.description = metaTags.default.description;\r\n        })\r\n    }, [Name])\r\n\r\nreturn (\r\n        <React.Fragment>\r\n            <Grid container className={classes.outerContainer}>\r\n            <Grid item xs={12}>\r\n                <Paper className={classes.guideSection} elevation={4}>\r\n                    <SkeletonWrapper loading={loading}>\r\n                        <Typography variant={'h4'} className={classes.pageHeader} style={{color: 'white'}}>\r\n                            {Name}                    \r\n                        </Typography>                        \r\n\r\n                        <Table size='small' style={{marginTop: '24px', maxWidth: '800px'}}>\r\n                            <TableBody>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Cruise Nickname\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Nickname}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Chief Scientist\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Chief_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Ship Name\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Ship_Name}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Start Time\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Start_Time ? Start_Time.slice(0, 10) : 'NA'}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        End Time\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {End_Time ? End_Time.slice(0, 10) : 'NA'}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lat Min\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lat_Min}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lat Max\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lat_Max}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lon Min\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lon_Min}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n\r\n                                <TableRow className={classes.sampleTableRow}>\r\n                                    <TableCell className={classes.tableHead}>\r\n                                        Lon Max\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {Lon_Max}&deg;\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            </TableBody>\r\n                        </Table>                        \r\n\r\n                        {   datasets && datasets.length ?\r\n\r\n                            <>\r\n                                <Typography variant='h5' className={classes.sectionHeader} style={{margin: '24px 0 12px 0', color: 'white'}}>\r\n                                    Datasets containing data collected on this cruise:\r\n                                </Typography>\r\n\r\n                                {\r\n                                    datasets.map((e) => (\r\n                                        <Link \r\n                                            component={RouterLink} \r\n                                            to={`/catalog/datasets/${e.Dataset_Name}`}\r\n                                            key={e.Dataset_Long_Name}\r\n                                            className={classes.datasetLink}\r\n                                        >\r\n                                            {e.Dataset_Long_Name}\r\n                                        </Link>\r\n                                    ))\r\n                                }\r\n                            </>\r\n\r\n\r\n                            : ''\r\n                        }\r\n\r\n                        {/* <div style={{margin: '12px 0 0 -11px'}}>\r\n                            <LoadProductOnVizPageButton product={cruiseFullPageData}/>\r\n                        </div> */}\r\n                        \r\n                        {/* <CartAddOrRemove dataset={datasetFullPageData} cartButtonClass={classes.cartButtonClass}/>   */}\r\n\r\n                    {/* {!loading && datasetFullPageData && Object.keys(datasetFullPageData).length ? <DatasetJSONLD {...datasetFullPageData}/> : ''} */}\r\n                    </SkeletonWrapper>              \r\n                </Paper>\r\n            </Grid>\r\n        </Grid>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(CruiseFullPage));   ","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n\r\nimport './Stylesheets/App.scss';\r\n\r\nimport colors from './Enums/colors';\r\n\r\nimport { Route, BrowserRouter, Switch } from 'react-router-dom'\r\n\r\nimport Home from './Components/Home';\r\nimport Catalog from './Components/Catalog/Catalog';\r\nimport SearchResults from './Components/Catalog/SearchResults';\r\nimport Register from './Components/User/Register';\r\nimport Visualization from './Components/Visualization/Visualization';\r\nimport GlobalUIComponentWrapper from './Components/UI/GlobalUIComponentWrapper';\r\nimport LandingPage from './Components/LandingPage';\r\nimport TopNavBar from './Components/UI/TopNavBar';\r\nimport Login from './Components/User/Login';\r\nimport Profile from './Components/User/Profile';\r\nimport DataSubmission from './Components/DataSubmission/DataSubmission';\r\nimport ContactUs from './Components/ContactUs';\r\nimport CommunityTemp from './Components/Community/CommunityTemp';\r\nimport CatalogNew from './Components/Catalog/CatalogNew';\r\nimport DatasetFullPage from './Components/Catalog/DatasetFullPage';\r\nimport ForgotPass from './Components/User/ForgotPass';\r\nimport ChoosePassword from './Components/User/ChoosePassword';\r\nimport CruiseFullPage from './Components/Catalog/CruiseFullPage';\r\n\r\nimport { initializeGoogleAuth } from './Redux/actions/user';\r\nimport { toggleShowHelp } from './Redux/actions/ui';\r\n\r\nconst theme = createMuiTheme({\r\n\r\n  typography: {\r\n    useNextVariants: true,\r\n    fontFamily: [\r\n      '\"Lato\"',\r\n      'sans-serif'\r\n    ].join(',')\r\n  },\r\n\r\n  palette: {\r\n    primary: {\r\n      contrastText: '#000000',\r\n      main: colors.primary\r\n    },\r\n\r\n    error: {\r\n      main: colors.errorYellow\r\n    },\r\n\r\n    secondary: {\r\n      main: colors.secondary,\r\n      // contrastText: '#fff700',\r\n    },\r\n\r\n    background: {\r\n      default: colors.backgroundGray,\r\n      paper: colors.backgroundGray\r\n    },\r\n\r\n    text: {\r\n      primary: '#ffffff',\r\n      secondary: colors.primary\r\n    }\r\n  },\r\n\r\n  overrides: {\r\n    MuiIconButton: {\r\n      root: {\r\n        color: colors.primary,\r\n        borderRadius: '10%'\r\n      }\r\n    },\r\n    \r\n    MuiPaper: {\r\n      root: {\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n      }\r\n    },\r\n\r\n    MuiListItemIcon: {\r\n      root: {\r\n        minWidth: '40px'\r\n      }\r\n    },\r\n\r\n    MuiFormHelperText: {\r\n      filled: {\r\n        paddingLeft: '1px',\r\n        paddingRight: '1px',\r\n        fontSize: '13px'\r\n      }\r\n    },\r\n\r\n    MuiListItem: {\r\n      gutters: {\r\n        paddingLeft: '6px',\r\n        paddingRight: '10px'\r\n      },\r\n\r\n      root: {\r\n        paddingTop: '4px',\r\n        paddingBottom: '4px'\r\n      }\r\n    },\r\n\r\n    MuiToolbar: {\r\n      root: {\r\n        backgroundColor: 'transparent',\r\n        color: colors.primary\r\n      }\r\n    },\r\n\r\n    MuiMenuItem: {\r\n      root: {\r\n        '&:hover': {\r\n          backgroundColor: colors.greenHover,\r\n        },\r\n      }\r\n    },\r\n\r\n    MuiPickersBasePicker: {\r\n      container: {\r\n        backgroundColor: colors.backgroundGray\r\n      }\r\n    },\r\n    \r\n    MuiOutlinedInput: {\r\n      input: {\r\n        padding: '12px 14px'\r\n      },\r\n\r\n      root: {\r\n        \"&$focused\": {\r\n          \"borderColor\": colors.primary\r\n        }\r\n      }\r\n    },\r\n\r\n    MuiSnackbarContent: {\r\n      message: {\r\n        margin: 'auto'\r\n      }\r\n    },\r\n\r\n    MuiButtonGroup: {\r\n      groupedOutlined: {\r\n        '&:not(:first-child)': {\r\n          marginLeft: 0\r\n        }\r\n      }\r\n    },\r\n\r\n    MuiTableCell: {\r\n      root: {\r\n        borderBottomColor: \"rgba(0, 0, 0, 0.9)\"\r\n      }\r\n    },\r\n\r\n    MuiFormControl: {\r\n      marginNormal: {\r\n        marginTop: '8px'\r\n      }\r\n    },\r\n\r\n    MuiDialogContentText: {\r\n      root: {\r\n        color: 'white'\r\n      }\r\n    },\r\n\r\n    MuiExpansionPanel: {\r\n      root: {\r\n        \"&$expanded\": {\r\n          margin: 0\r\n        }\r\n      }\r\n    },\r\n    \r\n    MuiDialogTitle: {\r\n      root: {\r\n        color: colors.primary\r\n      }\r\n    },\r\n\r\n    MuiFilledInput: {\r\n      input: {\r\n        paddingLeft: '6px',\r\n      },\r\n\r\n      adornedEnd: {\r\n        paddingRight: '6px'\r\n      },\r\n\r\n      root: {\r\n        backgroundColor: 'transparent',\r\n        '&:hover': {\r\n          backgroundColor: 'transparent',\r\n        },\r\n        '&:disabled': {\r\n          backgroundColor: 'transparent',\r\n        }\r\n      }\r\n    },\r\n\r\n    MuiPopover: {\r\n      paper: {\r\n        backgroundColor: '#1B4156'\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  loadingMessage: state.loadingMessage\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  initializeGoogleAuth,\r\n  toggleShowHelp\r\n};\r\n\r\nclass App extends Component {\r\n  componentDidMount = () => {\r\n    this.props.initializeGoogleAuth();\r\n  }\r\n  render() {\r\n    return (\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <div className=\"App\">\r\n          <MuiThemeProvider theme={theme}>\r\n          <BrowserRouter>\r\n            <GlobalUIComponentWrapper/>\r\n            <TopNavBar/>\r\n            <Switch>          \r\n              <Route exact path='/apikeymanagement' component={ Home } />\r\n              <Route exact path='/' component={ LandingPage } />\r\n              <Route exact path='/catalog' component={ CatalogNew } />\r\n              <Route exact path='/login' component={ Login } />\r\n              <Route exact path='/register' component={ Register } />\r\n              <Route path='/visualization' component={Visualization} />\r\n              <Route exact path='/profile' component={Profile} />\r\n              <Route exact path='/forgotpass' component={ForgotPass} />\r\n              <Route path='/datasubmission' component={DataSubmission} />\r\n              <Route path='/choosepassword' component={ChoosePassword} />\r\n              <Route exact path='/contact' component={ContactUs}/>\r\n              <Route path='/community' component={CommunityTemp} />\r\n              <Route path='/catalog/searchresults' component={SearchResults}/>\r\n              <Route path='/catalog/datasets/:dataset' component={DatasetFullPage}/>\r\n              <Route path='/catalog/cruises/:cruiseName' component={CruiseFullPage}/>\r\n            </Switch>\r\n          </BrowserRouter>\r\n          </MuiThemeProvider>\r\n        </div>\r\n      </MuiPickersUtilsProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './Stylesheets/index.css';\r\nimport 'ag-grid-enterprise';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './Redux/store';\r\n\r\nimport App from './App'\r\n\r\nimport {LicenseManager} from \"ag-grid-enterprise\";\r\n\r\nLicenseManager.setLicenseKey(\"School_of_Oceanography_Simons_CMAP_1Devs_1Deployment_19_June_2020__MTU5MjUyMTIwMDAwMA==aec33f954c06d90afed06467402921bd\");\r\n\r\nconst rootElement = document.getElementById('root')\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n  rootElement\r\n)\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}